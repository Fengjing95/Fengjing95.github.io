{"meta":{"title":"å‰ç«¯å°æ«","subtitle":"","description":"","author":"å°æ«","url":"https://easyremember.cn"},"pages":[{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2020-07-13T12:13:10.593Z","comments":false,"path":"about/index.html","permalink":"https://easyremember.cn/about/index.html","excerpt":"","text":"[ã•ãã‚‰è˜ã®hojun] ä¸&nbsp; Mashiro&nbsp; ï¼ˆ çœŸï¼ˆã¾ï¼‰ç™½ï¼ˆã—ã‚ï¼‰ ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2020-07-13T12:13:10.593Z","comments":false,"path":"bangumi/index.html","permalink":"https://easyremember.cn/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2020-07-13T12:13:10.594Z","comments":false,"path":"client/index.html","permalink":"https://easyremember.cn/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2020-07-13T12:13:10.594Z","comments":false,"path":"donate/index.html","permalink":"https://easyremember.cn/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2020-07-13T12:13:10.595Z","comments":false,"path":"lab/index.html","permalink":"https://easyremember.cn/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2020-09-04T08:55:27.099Z","comments":true,"path":"links/index.html","permalink":"https://easyremember.cn/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2020-07-13T12:13:10.594Z","comments":true,"path":"comment/index.html","permalink":"https://easyremember.cn/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2020-07-13T12:13:10.596Z","comments":false,"path":"music/index.html","permalink":"https://easyremember.cn/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2020-07-13T12:13:10.596Z","comments":true,"path":"rss/index.html","permalink":"https://easyremember.cn/rss/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2020-07-13T12:13:10.596Z","comments":true,"path":"tags/index.html","permalink":"https://easyremember.cn/tags/index.html","excerpt":"","text":""},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2020-07-13T12:13:10.597Z","comments":false,"path":"theme-sakura/index.html","permalink":"https://easyremember.cn/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2020-07-13T12:13:10.597Z","comments":false,"path":"video/index.html","permalink":"https://easyremember.cn/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"webpackç¬”è®°","slug":"ç¬”è®°/webpack","date":"2020-09-08T11:14:28.126Z","updated":"2020-09-08T11:16:00.057Z","comments":true,"path":"2020/09/08/ç¬”è®°/webpack/","link":"","permalink":"https://easyremember.cn/2020/09/08/ç¬”è®°/webpack/","excerpt":"","text":"1 ç®€ä»‹1.1 webpack äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ1.1.1 Entryå…¥å£ï¼ŒæŒ‡ç¤ºwebpackä»¥å“ªä¸ªæ–‡ä»¶ä¸ºå…¥å£èµ·ç‚¹å¼€å§‹æ‰“åŒ…ï¼Œåˆ†ææ„å»ºå†…éƒ¨ä¾èµ–å›¾ 1.1.2 Outputè¾“å‡ºï¼ŒæŒ‡ç¤ºwebpackæ‰“åŒ…åçš„èµ„æºbundlesè¾“å‡ºåˆ°å“ªé‡Œå»ï¼Œä»¥åŠæ€ä¹ˆå‘½å 1.1.3 LoaderåŠ è½½å™¨ï¼Œå¯ä»¥è®©webpackèƒ½å¤Ÿå»å¤„ç†éjsæ–‡ä»¶ï¼ˆwebpackè‡ªèº«ä¹‹ç†è§£javascriptï¼‰ 1.1.4 Pluginsæ’ä»¶ï¼Œå¯ä»¥ç”¨äºæ‰§è¡Œæ›´å¹¿èŒƒå›´çš„ä»»åŠ¡ï¼Œæ’ä»¶çš„èŒƒå›´åŒ…æ‹¬ä»æ‰“åŒ…ä¼˜åŒ–å’Œå‹ç¼©ä¸€ç›´åˆ°é‡æ–°å®šä¹‰ç¯å¢ƒå˜é‡ç­‰ 1.1.5 Modeæ¨¡å¼ï¼ŒæŒ‡ç¤ºwebpackä½¿ç”¨ç›¸åº”æ¨¡å¼çš„é…ç½® developmentï¼šèƒ½è®©ä»£ç æœ¬åœ°è°ƒè¯•è¿è¡Œçš„ç¯å¢ƒ productionï¼šèƒ½è®©ä»£ç ä¼˜åŒ–ä¸Šçº¿çš„è¿è¡Œç¯å¢ƒ 2 webpack åˆä½“éªŒ2.1 åˆ›å»ºä¸€ä¸ªwebpacké¡¹ç›® åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œåˆå§‹åŒ–åŒ…ç®¡ç† npm init è¿è¡Œå‘½ä»¤npm install webpack webpack-cli -D æ–°å»ºsrcæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾ä»£ç ï¼Œæ–°å»ºbuildæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾æ‰“åŒ…å¥½çš„æ–‡ä»¶ ç¼–è¾‘ä»£ç  è¿è¡Œå‘½ä»¤ï¼ˆå¼€å‘ç¯å¢ƒï¼‰ webpack ./src/index.js -o ./build/build.js --mode=development é»˜è®¤åªèƒ½å¤„ç†js/jsonæ–‡ä»¶ 2.2 æ‰“åŒ…cssæ ·å¼èµ„æº æ–°å»ºcssæ–‡ä»¶style.css åœ¨index.jsä¸­å¼•å…¥ import &#39;style.css&#39; åˆ›å»ºwebpack.config.jsæ–‡ä»¶æ¥é…ç½®webpackï¼ˆä½¿ç”¨commentJSï¼‰ const { resolve } = require(&#39;path&#39;); module.exports = { mode: &#39;development&#39;, // æ¨¡å¼ï¼Œä¸èƒ½åŒæ—¶å­˜åœ¨ // mode: &#39;production&#39; entry: &#39;./src/index.js&#39;, // å…¥å£æ–‡ä»¶ output: { filename: &#39;built.js&#39;, // è¾“å‡ºæ–‡ä»¶å path: resolve(__dirname, &#39;build&#39;) // è¾“å‡ºè·¯å¾„ }, module: { // loaderé…ç½® rules: [{ test: /\\.css$/,// cssç»“å°¾çš„æ–‡ä»¶ use: [// æ‰§è¡Œé¡ºåºï¼šä»å³åˆ°å·¦ï¼Œä»ä¸‹åˆ°ä¸Šï¼Œä¾æ¬¡æ‰§è¡Œ &#39;style-loader&#39;,// åˆ›å»ºçˆ±ä½ styleæ ‡ç­¾ï¼Œå°†jsä¸­çš„æ ·å¼èµ„æºæ’å…¥ï¼Œæ·»åŠ åˆ°head &#39;css-loader&#39;,// å°†cssæ–‡ä»¶å˜æˆcommentjsæ¨¡å—åŠ è½½jsä¸­ï¼Œå†…å®¹æ˜¯å­—ç¬¦ä¸² ] }] }, plugins: [ // æ’ä»¶é…ç½® ], } å®‰è£…æ‰€éœ€è¦çš„loader è¿è¡Œå‘½ä»¤ webpack ä½¿ç”¨lessã€scssç­‰é¢„ç¼–è¯‘è¯­æ³•éœ€è¦ä¸‹è½½å¯¹åº”çš„loaderï¼Œé…ç½®æ–¹å¼åŒä¸Šï¼Œå†æ·»åŠ ä¸€ä¸ªruleå¯¹è±¡ 2.3 æ‰“åŒ…HTMLæ–‡ä»¶ å®‰è£…æ‰“åŒ…htmlçš„æ’ä»¶ npm install html-webpack-plugin-D åœ¨webpack.config.jsä¸­å¼•å…¥å¹¶æ·»åŠ é…ç½® const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); Â·Â·Â· plugins: [ // æ’ä»¶é…ç½® // html-webpack-plugin // åŠŸèƒ½ï¼š åˆ›å»ºä¸€ä¸ªç©ºçš„htmlæ–‡ä»¶å¼•å…¥æ‰“åŒ…ä¹‹åçš„æ‰€æœ‰èµ„æº new HtmlWebpackPlugin({ // èµ‹å€¼ç›®æ ‡æ–‡ä»¶å¹¶å¼•å…¥æ‰“åŒ…çš„èµ„æº template: &#39;./src/index.html&#39; }) ], åœ¨åˆ›å»ºhtmlæ¨¡æ¿çš„æ—¶å€™ä¸è¦å¼•å…¥èµ„æº 2.4 æ‰“åŒ…å›¾ç‰‡æ–‡ä»¶å›¾ç‰‡æ·»åŠ ç•¥è¿‡ï¼Œåªç»™å‡ºé…ç½®æ–¹å¼ module: { // loaderé…ç½® rules: [{ test: /\\.(jpg|png|gif|jpeg)$/, // åªæœ‰ä¸€ä¸ªloaderçš„æ—¶å€™å¯ä»¥ç›´æ¥loader+loaderå loader: &#39;url-loader&#39;,// ä¸‹è½½æ—¶éœ€è¦ä¸‹è½½url-loaderå’Œfile-loader options: { /** * é™åˆ¶å¤§å°ï¼Œå°äºé™åˆ¶å°±ä¼šè¢«base64å¤„ç† * ä¼˜ç‚¹å‡å°‘è¯·æ±‚æ•°é‡ï¼Œå‡è½»æœåŠ¡å™¨å‹åŠ› * ç¼ºç‚¹å›¾ç‰‡ä¼šæ›´å¤§ï¼Œæ–‡ä»¶è¯·æ±‚é€Ÿåº¦ä¼šå˜æ…¢ */ limit: 200 * 1024 } }] }, å¦‚æœhtmlæ¨¡æ¿ä¸­æ·»åŠ äº†å›¾ç‰‡ï¼Œæ·»åŠ ä¸€ä¸ªé¢å¤–çš„loaderæ¥è§£æ { test: /\\.html$/, loader: &#39;html-loader&#39; // å¤„ç†htmlä¸­çš„å›¾ç‰‡ } ä½†æ˜¯ï¼Œå› ä¸ºurl-loaderé»˜è®¤ä½¿ç”¨es6æ¨¡å—åŒ–è§£æï¼Œè€Œhtml-loaderå¼•å…¥å›¾ç‰‡æ˜¯commentjs è§£ææ—¶ä¼šå‡ºç°[object Module] è§£å†³åŠæ³•ï¼šå…³é—­ur-loaderçš„ES6è§£æï¼Œåœ¨url-loaderçš„optionsä¸­æ·»åŠ  esModule: false 2.5 æ‰“åŒ…å…¶ä»–èµ„æº{ exclude: /\\.(css|html|jpg|png|gif|jpeg)$/, loader: &#39;file-loader&#39; } é™¤äº†è¿™åŒ¹é…åˆ°çš„åç¼€æ–‡ä»¶ä¹‹å¤–ï¼Œå…¶ä»–çš„æ–‡ä»¶ç”¨file-loaderæ‰“åŒ… 2.6 ä½¿ç”¨devServerå¼€å‘æœåŠ¡å™¨ï¼šç”¨æ¥è‡ªåŠ¨ç¼–è¯‘ï¼Œçƒ­æ›´æ–°ç­‰ åœ¨å†…å­˜ä¸­ç¼–è¯‘æ‰“åŒ…ï¼Œä¸ä¼šæœ‰ä»»ä½•è¾“å‡º è¿è¡Œï¼šwebpack-dev-server è¿è¡Œnpm install webpack-dev-server -Då®‰è£… webpack.config.jsä¸­æ·»åŠ é…ç½® devServer: { contentBase: resolve(__dirname, &#39;build&#39;),// é¡¹ç›®æ„å»ºåçš„è·¯å¾„ compress: true,// å¯åŠ¨gzipå‹ç¼© port: 3000,// ç«¯å£å· open: true,// æ‰“å¼€é»˜è®¤æµè§ˆå™¨ } è¿è¡Œwebpack-dev-server 3 å¼€å‘ç¯å¢ƒé…ç½®const { resolve } = require(&#39;path&#39;); const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); module.exports = { mode: &#39;development&#39;, // mode: &#39;production&#39; entry: &#39;./src/index.js&#39;, output: { filename: &#39;built.js&#39;, path: resolve(__dirname, &#39;build&#39;) }, module: { rules: [{ test: /\\.css$/, use: [ &#39;style-loader&#39;, &#39;css-loader&#39;, ] },{ test: /\\.(jpg|png|gif|jpeg)$/, loader: &#39;url-loader&#39;, options: { limit: 200 * 1024, esModule: false } },{ test: /\\.html$/, loader: &#39;html-loader&#39; }] }, plugins: [ new HtmlWebpackPlugin({ template: &#39;./src/index.html&#39; }) ], devServer: { contentBase: resolve(__dirname, &#39;build&#39;), compress: true, port: 3000, open: true, } } 4 ç”Ÿäº§ç¯å¢ƒæ­å»º4.1 æå–cssæˆå•ç‹¬æ–‡ä»¶ å®‰è£…æ’ä»¶ npm install mini-css-extract-plugin -D ä¿®æ”¹webpack.config.jsé…ç½®æ–‡ä»¶ const MiniCssExtractPlugin = require(&#39;mini-css-extract-plugin&#39;); Â·Â·Â· module: { rules: [{ test: /\\.css$/, use: [ // &#39;style-loader&#39;, MiniCssExtractPlugin.loader,// æ›¿æ¢style-loaderï¼Œæå–cssæˆå•ç‹¬æ–‡ä»¶ &#39;css-loader&#39;, ] }, Â·Â·Â·] }, plugins: [ Â·Â·Â· new MiniCssExtractPlugin({ filename: &#39;css/style.css&#39; }) ], è¿è¡Œæ‰“åŒ…å‘½ä»¤ 4.2 csså…¼å®¹æ€§å¤„ç†ä½¿ç”¨åˆ°postcss è¿è¡Œ npm install postcss-loader postcss-preset-env -D ä¿®æ”¹webpack.config.jsçš„cssç›¸å…³éƒ¨åˆ†é…ç½® { test: /\\.css$/, use: [ MiniCssExtractPlugin.loader, &#39;css-loader&#39;, { loader: &#39;postcss-loader&#39;, options: { ident: &#39;postcss&#39;, plugins: () =&gt; [ require(&#39;postcss-preset-env&#39;)() ] } } ] } åœ¨package.jsonä¸­æ·»åŠ æµè§ˆå™¨ç‰ˆæœ¬æ§åˆ¶ &quot;browerslist&quot;: { &quot;development&quot;: [ &quot;last 1 chrome version&quot;, &quot;last 1 firefox version&quot;, &quot;last 1 safair version&quot; ], &quot;production&quot;: [ &quot;&gt;0.2%&quot;, &quot;not dead&quot;, &quot;not op_mini all&quot; ] } è¿è¡Œæ‰“åŒ… 4.3 å‹ç¼©cssä½¿ç”¨æ’ä»¶ optimize-css-assets-webpack-plugin è¿è¡Œnpm install optimize-css-assets-webpack-plugin -D webpack.config.jsä¸­å¼•å…¥ const OptimizeCssAssetsWebpackPlugin = require(&#39;optimize-css-assets-webpack-plugin&#39;); Â·Â·Â· plugins: [ Â·Â·Â· new OptimizeCssAssetsWebpackPlugin() ] 4.4 jsè¯­æ³•æ£€æŸ¥ä½¿ç”¨eslintï¼Œä½¿ç”¨airbnbè§„åˆ™æ£€æŸ¥jsè¯­æ³• è¿è¡Œ npm install eslint-loader eslint eslint-config-airbnb-base eslint-plugin-import -Då®‰è£…æ‰€éœ€çš„ä¾èµ–å’Œæ’ä»¶ åœ¨package.jsonä¸­è®¾ç½®eslintConfigï¼Œç»§æ‰¿airbnb &quot;eslintConfig&quot;: { &quot;extends&quot;: &quot;airbnb-base&quot; } webpack.config.jsä¸­æ·»åŠ rules { test: /\\.js$/, exclude: /node_modules/,// åªæ£€æŸ¥è‡ªå·±çš„ä»£ç ï¼Œä¸æ£€æŸ¥ç¬¬ä¸‰æ–¹åº“ä¸­çš„ä»£ç  loader: &#39;eslint-loader&#39;, options: { fix: true// è‡ªåŠ¨ä¿®å¤eslinté”™è¯¯ } } ä½¿ç”¨ // eslint-disable-next-lineæ§åˆ¶ä¸‹ä¸€è¡Œä¸è¿›è¡Œæ£€æŸ¥ 4.5 jså…¼å®¹æ€§å¤„ç†ä½¿ç”¨babel-loaderè¿›è¡Œå…¼å®¹æ€§å¤„ç† è¿è¡Œ npm install babel-loader @babel/core @babel/preset-env @babel/polyfill -D æ·»åŠ webpack.config.jsçš„rules { test: /\\.js$/, exclude: /node_modules/, loader: &#39;babel-loader&#39;, options: { presets: [&#39;@babel/preset-env&#39;] } }, @babel/polyfillå±äºé«˜çº§è¯­æ³•æ”¯æŒï¼Œåœ¨éœ€è¦å…¼å®¹çš„jsæ–‡ä»¶ä¸­å¼•å…¥å³å¯ import â€˜@babel/polyfillâ€™ @babel/polyfillå±äºæš´åŠ›æ”¯æŒï¼Œå›äº‹æ‰“åŒ…æ–‡ä»¶å˜çš„éå¸¸å¤§ï¼Œæ‰€ä»¥ä¸€èˆ¬é‡‡ç”¨æŒ‰éœ€åŠ è½½çš„æ–¹å¼ï¼šcore.js è¿è¡Œ npm install corejs -D ä¿®æ”¹ä¹‹å‰çš„å…¼å®¹æ€§é…ç½®è§„åˆ™ { test: /\\.js$/, exclude: /node_modules/, loader: &#39;babel-loader&#39;, options: { presets: [ [ &#39;@babel/preset-env&#39;, { useBuiltIns: &#39;usage&#39;,// æŒ‰éœ€åŠ è½½ corejs: { version: 3 }, targets: {// åˆ¶å®šå…¼å®¹æµè§ˆå™¨ç‰ˆæœ¬ chrome: &#39;60&#39;, firefox: &#39;50&#39;, ie: &#39;9&#39;, safari: &#39;10&#39; } } ] ] } }, 4.6 HTMLå’Œjså‹ç¼©4.6.1 jså‹ç¼©å°†æ¨¡å¼è°ƒæ•´ä¸ºproductionå³å¯å®ç°jsä»£ç å‹ç¼© 4.6.2 HTMLå‹ç¼©åœ¨htmlçš„æ’ä»¶ä¸­æ·»åŠ è®¾ç½® new HtmlWebpackPlugin({ // å¤åˆ¶ç›®æ ‡æ–‡ä»¶å¹¶å¼•å…¥æ‰“åŒ…çš„èµ„æº template: &#39;./src/index.html&#39;, minify: { // ç§»é™¤ç©ºæ ¼ collapseWhitespace: true, // ç§»é™¤æ³¨é‡Š removeComments: true } }), 5 ç”Ÿäº§ç¯å¢ƒé…ç½®const { resolve } = require(&#39;path&#39;); const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); const MiniCssExtractPlugin = require(&#39;mini-css-extract-plugin&#39;); const OptimizeCssAssetsWebpackPlugin = require(&#39;optimize-css-assets-webpack-plugin&#39;); module.exports = { entry: &#39;./src/index.js&#39;, output: { filename: &#39;js/built.js&#39;, path: resolve(__dirname, &#39;build&#39;) }, module: { // loaderé…ç½® rules: [{ test: /\\.css$/, use: [ MiniCssExtractPlugin.loader, &#39;css-loader&#39;, { loader: &#39;postcss-loader&#39;, options: { ident: &#39;postcss&#39;, plugins: () =&gt; [ require(&#39;postcss-preset-env&#39;)() ] } } ] }, { test: /\\.(jpg|png|gif|jpeg)$/, loader: &#39;url-loader&#39;, options: { limit: 200 * 1024, esModule: false } }, { test: /\\.html$/, loader: &#39;html-loader&#39; }, { test: /\\.js$/, exclude: /node_modules/, enforce: &#39;pre&#39;,// ä¼˜å…ˆæ‰§è¡Œ loader: &#39;eslint-loader&#39;, options: { fix: true } }, { test: /\\.js$/, exclude: /node_modules/, loader: &#39;babel-loader&#39;, options: { presets: [ [ &#39;@babel/preset-env&#39;, { useBuiltIns: &#39;usage&#39;, corejs: { version: 3 }, targets: { chrome: &#39;60&#39;, firefox: &#39;50&#39;, ie: &#39;9&#39;, safari: &#39;10&#39; } } ] ] } }, ] }, plugins: [ new HtmlWebpackPlugin({ template: &#39;./src/index.html&#39;, minify: { collapseWhitespace: true, removeComments: true } }), new MiniCssExtractPlugin({ filename: &#39;css/style.css&#39; }), new OptimizeCssAssetsWebpackPlugin() ], devServer: { contentBase: resolve(__dirname, &#39;build&#39;), compress: true, port: 3000, open: true, }, // mode: &#39;development&#39;, mode: &#39;production&#39;, } babelå’Œeslintå¯èƒ½ä¼šäº§ç”Ÿå†²çªä½¿ç”¨enforce: â€˜preâ€™è®©eslintå…ˆæ‰§è¡Œ 6 æ€§èƒ½ä¼˜åŒ–ç¯‡6.1 å¼€å‘ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–6.1.1 ä¼˜åŒ–æ‰“åŒ…æ„å»ºé€Ÿåº¦6.1.1.1HMRâ€”â€”hot module replacementï¼ˆæ¨¡å—çƒ­æ›¿æ¢ï¼‰åªä¼šé‡æ–°æ‰“åŒ…è¿™ä¸€ä¸ªæ¨¡å—ï¼Œä¸ä¼šé‡æ–°æ‰“åŒ… é…ç½®devServer devServer: { contentBase: resolve(__dirname, &#39;build&#39;), compress: true, // å¯åŠ¨gzipå‹ç¼© port: 3000, // ç«¯å£å· open: true, // æ‰“å¼€é»˜è®¤æµè§ˆå™¨ hot: true,// å¼€å¯çƒ­æ›´æ–° }, æ ·å¼æ–‡ä»¶çƒ­æ›´æ–°åŸºäºâ€™style-loaderâ€™ï¼› jsæ–‡ä»¶é»˜è®¤ä¸èƒ½ä½¿ç”¨HMRåŠŸèƒ½ï¼› HTMLæ–‡ä»¶é»˜è®¤ä¸èƒ½ä½¿ç”¨HMRåŠŸèƒ½ï¼ŒåŒæ—¶ä¼šå¯¼è‡´é—®é¢˜ï¼ŒHTMLæ–‡ä»¶ä¸èƒ½çƒ­æ›´æ–°ï¼Œè§£å†³åŠæ³•ï¼šä¿®æ”¹entryå…¥å£ï¼Œå°†htmlæ–‡ä»¶å¼•å…¥ï¼ˆä¸éœ€è¦åšHMRï¼‰ 6.1.1.2 oneOfå‡å°‘loaderæ£€ç´¢æ¯ä¸ªæ–‡ä»¶åœ¨æ£€ç´¢çš„çš„æ—¶å€™ä¼šæ¯ä¸ªruleséƒ½éªŒè¯ä¸€éï¼Œå°†æ‰€æœ‰çš„ruleséƒ½æ”¾åˆ°oneOfä¸­å°±å¯ä»¥éªŒè¯åˆ°æ‰€åœ¨çš„è§„åˆ™ä¸å†ç»§ç»­éªŒè¯ è¿™æ ·å‡ºç°äº†é—®é¢˜ï¼Œjså¯èƒ½ä¼šæœ‰å¤šä¸ªloaderï¼Œè§£å†³åŠæ³•ï¼šoneOfä¸­ä¿ç•™ä¸€æ¡ruleï¼Œå…¶ä»–çš„å–å‡ºæ¥ä¸oneOfå¹³çº§ 6.1.2 ä¼˜åŒ–ä»£ç è°ƒè¯•source-mapï¼šæä¾›è¯­è¨€ä»£ç æ„å»ºåä»£ç æ˜ å°„æŠ€æœ¯ï¼ˆæ„å»ºä»£ç å‡ºé”™ï¼Œè¿½è¸ªæºä»£ç é”™è¯¯ï¼‰ æ·»åŠ devtool devtool: &#39;source-map&#39;, [inline- |hidden- | eval-][nosources-][cheap-[module-]]source-mapåˆ†åˆ«å¯¹åº”ï¼š inline-å†…è”ï¼šï¼ˆæ±‡é›†åœ¨ä¸€èµ·ï¼‰é”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç é”™è¯¯ä½ç½® hidden-å¤–éƒ¨ï¼šä»£ç é”™è¯¯åŸå› ï¼Œæ²¡æœ‰é”™è¯¯ä½ç½®ï¼Œä¸èƒ½è¿½è¸ªä»£ç é”™è¯¯ eval-å†…è”ï¼šï¼ˆåˆ†åˆ«è·Ÿæ¯ä¸ªæ–‡ä»¶å¯¹åº”ï¼‰é”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç é”™è¯¯ä½ç½®ï¼ˆä½ç½®ä¿¡æ¯æ˜¯å“ˆå¸Œå€¼ï¼‰ nosources-å¤–éƒ¨ï¼šé”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯ï¼Œæ²¡æœ‰æºä»£ç é”™è¯¯ä¿¡æ¯ cheap-å¤–éƒ¨ï¼šé”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç é”™è¯¯ä½ç½®ï¼ˆåªç²¾ç¡®åˆ°è¡Œï¼Œæç¤ºæ•´è¡Œé”™è¯¯ï¼‰ cheap-module-å¤–éƒ¨ï¼šé”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç é”™è¯¯ä½ç½® source-map`å¤–éƒ¨ï¼šé”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç é”™è¯¯ä½ç½®ï¼š æ¨¡å¼ä½¿ç”¨ å¼€å‘ç¯å¢ƒï¼šé€Ÿåº¦å¿«ï¼Œå¼€å‘æ›´å‹å¥½ é€Ÿåº¦å¿«eval&gt;inline&gt;cheap&gt;Â·Â·Â· eval-cheap-source-map eval-source-map è°ƒè¯•æ›´å‹å¥½ source-map cheap-module-source-map cheap-source-map â€“&gt;eval-source-map / eval-cheap-module-source-map ç”Ÿäº§ç¯å¢ƒï¼šæºä»£ç è¦ä¸è¦éšè— å†…è”ä¼šè®©ä»£ç ä½“ç§¯å˜å¤§ï¼Œä½¿ç”¨å¤–éƒ¨æ–¹å¼ source-map Â·Â·Â· éšè—ä»£ç  nosource-source-map// å…¨éƒ¨éšè— hidden-source-map// éšè—æºä»£ç  â€“&gt;source-map / cheap-module-source-map 6.2ç”Ÿäº§ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–ç¼“å­˜æœºåˆ¶babelç¼“å­˜ä¿®æ”¹jsæ‰“åŒ…é…ç½®ï¼Œå¼€å¯ç¼“å­˜ { test: /\\.js$/, exclude: /node_modules/, loader: &#39;babel-loader&#39;, options: { presets: [ [ &#39;@babel/preset-env&#39;, { useBuiltIns: &#39;usage&#39;, // æŒ‰éœ€åŠ è½½ corejs: { version: 3 }, targets: { // åˆ¶å®šå…¼å®¹æµè§ˆå™¨ç‰ˆæœ¬ chrome: &#39;60&#39;, firefox: &#39;50&#39;, ie: &#39;9&#39;, safari: &#39;10&#39; } } ] ], cacheDirectory: true// å¼€å¯ç¼“å­˜ } }, å¼ºç¼“å­˜æ¨¡å¼ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½è¦ç¼“å­˜ï¼Œä»æ–°æ‰“åŒ…ä¹‹åä¸ä¼šè¯•ç”¨æ–°çš„æ–‡ä»¶ æ–‡ä»¶èµ„æºç¼“å­˜hashè¿™é‡Œä¿®æ”¹è¾“å‡ºæ–‡ä»¶åï¼Œæ¯æ¬¡åˆ°æ‰“åŒ…ä¹‹åçš„æ–‡ä»¶éƒ½ä¸ä¸€æ ·ï¼Œè¿™å°±ä¸åŠ ç»äº†å¼ºåˆ¶ç¼“å­˜å¸¦æ¥çš„ä¸åˆ·æ–°äº†ï¼ˆå–10ä½hashå€¼ï¼‰ output: { filename: &#39;js/built[hash:10].js&#39;, // è¾“å‡ºæ–‡ä»¶å path: resolve(__dirname, &#39;build&#39;) // è¾“å‡ºè·¯å¾„ }, æ‰€æœ‰çš„jså’Œcssæ–‡ä»¶å…±ç”¨ä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œé‡æ–°æ‰“åŒ…ä¼šå¯¼è‡´æ‰€æœ‰çš„ç¼“å­˜å¤±æ•ˆ chunkhashæ ¹æ®chunkç”Ÿæˆçš„hashå€¼ï¼Œå¦‚æœæ‰“åŒ…æºæ¥è‡ªåŒä¸€ä¸ªchunkï¼Œé‚£ä¹ˆhashå€¼ç›¸åŒ æ­¤æ—¶ï¼Œjså’Œcssçš„hashå€¼è¿˜æ˜¯ç›¸åŒï¼Œå› ä¸ºcssæ˜¯åœ¨jsä¸­å¼•å…¥çš„ï¼ŒåŒå±äºä¸€ä¸ªchunk contenthashæ ¹æ®æ–‡ä»¶å†…å®¹ç”Ÿæˆhashï¼Œä¸åŒæ–‡ä»¶hashå€¼ä¸€å®šä¸ä¸€æ · filename: &#39;js/built[contenthash:10].js&#39; å¦‚æœå•ç‹¬æå–äº†cssï¼Œcsså‘½åä¿®æ”¹ä¸º new MiniCssExtractPlugin({ filename: &#39;css/style-[contenthash:10].css&#39; }) tree shakingå»é™¤æ— ç”¨ä»£ç  å¿…é¡»ä½¿ç”¨ES6æ¨¡å—åŒ– å¼€å¯productionç¯å¢ƒ æ‰“åŒ…æ˜¯ä¼šè‡ªåŠ¨æ‘‡å»æ²¡æœ‰ç”¨çš„å¶å­ åœ¨package.jsonä¸­é…ç½®&quot;sideEffects&quot;: falseæ‰€æœ‰ä»£ç éƒ½æ²¡æœ‰å‰¯ä½œç”¨ â€‹ é—®é¢˜ï¼šå¯èƒ½ä¼šæŠŠcssæ–‡ä»¶å¹²æ‰ï¼Œè§£å†³&quot;sideEffects&quot;: [&quot;*.css&quot;] code splitæ–‡ä»¶åˆ†å‰² å¤šå…¥å£æ–‡ä»¶åˆ†å‰² æ·»åŠ webpack.config.jsé…ç½®é¡¹ï¼Œå°†nodeä¸­çš„ä»£ç å•ç‹¬æ‰“åŒ…ä¸€ä¸ªchunksï¼Œè‡ªåŠ¨åˆ†æå¤šå…¥å£æ–‡ä»¶ä¸­æœ‰æ²¡æœ‰å…¬å…±æ–‡ä»¶ï¼Œå¦‚æœæœ‰ä¼šå•ç‹¬æ‰“åŒ…æˆä¸€ä¸ªchunk optimization: { splitChunks: { chunks: &#39;all&#39; } }, é€šè¿‡jsä»£ç ï¼Œè®©æŸä¸ªæ–‡ä»¶å•ç‹¬æ‰“åŒ…æˆä¸€ä¸ªchunk æ‡’åŠ è½½ã€é¢„åŠ è½½æ‡’åŠ è½½document.getElementById(&#39;btn&#39;).onclick = function() { import(/* webpackChunkName: &#39;test&#39;*/&#39;./js/test.js&#39;) .then(({mul}) =&gt; { console.log(mul(4, 5)); }) } å°†å¼•å…¥æ”¾åœ¨äº‹ä»¶çš„å›è°ƒå‡½æ•°ä¸­ï¼Œäº‹ä»¶è§¦å‘æ—¶æ‰åŠ è½½jsæ–‡ä»¶ é…åˆeslintè¯­æ³•æ£€æŸ¥æ˜¯æœ‰é—®é¢˜çš„ï¼Œåœ¨.eslintrcæ–‡ä»¶æ±‡æ€»è®¾ç½® &quot;allowImportExportEverywher&quot;: trueï¼Œå…è®¸åœ¨ä»»ä½•åœ°æ–¹import é¢„åŠ è½½å°†å¼•å…¥æ”¹ä¸º import(/* webpackChunkName: &#39;test&#39;, webpackPrefetch: true */&#39;./js/test.js&#39;) é¢„åŠ è½½ä¼šæå‰å°†jsæ–‡ä»¶åŠ è½½ åŒºåˆ« æ‡’åŠ è½½ï¼šæ–‡ä»¶éœ€è¦æ‰åŠ è½½ é¢„åŠ è½½ï¼šä½¿ç”¨ä¹‹å‰åŠ è½½ï¼Œæµè§ˆå™¨ç©ºé—²å†åŠ è½½ï¼ˆå…¼å®¹æ€§è¾ƒå·®ï¼‰ æ­£å¸¸åŠ è½½ï¼šå¹¶è¡ŒåŠ è½½ PWAæ¸è¿›å¼ç½‘ç»œå¼€å‘åº”ç”¨ç¨‹åºï¼ˆç¦»çº¿å¯è®¿é—®ï¼‰ â€‹ workboxâ€“&gt;workbox-webpack-plugin è¿è¡Œ npm install workbox-webpack-plugin -D ä¿®æ”¹webpack.config.jsé…ç½® const WorkboxWebpackPlugin = require(&#39;workbox-webpack-plugin&#39;); Â·Â·Â· plugin: [ Â·Â·Â· new WorkboxWebpackPlugin.GenerateSW({ clientsClaim: true, skipWaiting: true }) ] å¸®åŠ©serviceworkerå¿«é€Ÿå¯åŠ¨ï¼›åˆ é™¤æ—§çš„serviceworker åœ¨å…¥å£æ–‡ä»¶ä¸­æ³¨å†Œserviceworkerï¼Œå¤„ç†å…¼å®¹ if(&#39;serviceWorker&#39; in navigator) { window.addEventListener(&#39;load&#39;, () =&gt; { navigator.serviceWorker.register(&#39;./service-worker.js&#39;) .then(() =&gt; { console.log(&#39;swæ³¨å†ŒæˆåŠŸ&#39;) }).catch(() =&gt; { console.log(&#39;swæ³¨å†Œå¤±è´¥&#39;) }) }) } eslintä¸è¯†åˆ«windowï¼Œnavigatorç­‰å…¨å±€å˜é‡ï¼Œä¿®æ”¹package.jsoné…ç½® &quot;eslintConfig&quot;: { &quot;extends&quot;: &quot;airbnb-base&quot;, &quot;env&quot;: { &quot;browser&quot;: true// æ”¯æŒæµè§ˆå™¨å…¨å±€å˜é‡ } } æ„å»ºä»£ç  å¤šè¿›ç¨‹æ‰“åŒ…æ¶ˆè€—æ—¶é—´é•¿çš„æ‰éœ€è¦å¤šè¿›ç¨‹æ‰“åŒ…ï¼Œå¤šè¿›ç¨‹å¼€å§‹éœ€è¦æ—¶é—´ï¼Œè¿›ç¨‹é€šä¿¡ä¹Ÿéœ€è¦æ—¶é—´ è¿è¡Œnpm install thread-loader -D ä¿®æ”¹webpack.config.jsä¸­babelæ‰€åœ¨çš„rule { test: /\\.js$/, exclude: /node_modules/, use: [ { loader: &#39;thread-loader&#39;,// å¤šè¿›ç¨‹æ‰“åŒ… options: { workers: 2,// ä½¿ç”¨ä¸¤ä¸ªè¿›ç¨‹ } }, { loader: &#39;babel-loader&#39;, Â·Â·Â· } ] }, externalså¿½ç•¥æŸäº›åŒ…ï¼Œæ¯”å¦‚CDNå¼•å…¥çš„ åœ¨webpack.config.jsç¬¬ä¸€çº§ç›®å½•ä¸‹æ·»åŠ  externals: { // åŒ…åï¼š npmåº“å jquery: &#39;jQuery&#39; } dll æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ webpack.dll.js const {resolve} = require(&#39;path&#39;); const webpack = require(&#39;webpack&#39;); module.exports = { entry: { // [name]: è¦æ‰“åŒ…çš„åº“å jquery: [&#39;jquery&#39;] }, output: { filename: &#39;[name].js&#39;, path: resolve(__dirname, &#39;dll&#39;), library: &#39;[name]_[hash]&#39;// æ‰“åŒ…åº“é‡Œæš´éœ²çš„å†…å®¹å«ä»€ä¹ˆå }, plugins: [ // æ‰“åŒ…ç”Ÿæˆä¸€ä¸ªæ˜ å°„å…³ç³» new webpack.DllPlugin({ name: &#39;[name]_[hash]&#39;,// æ˜ å°„åº“æš´éœ²çš„å†…å®¹åç§° path: resolve(__dirname, &#39;dll/manifast.json&#39;)// è¾“å‡ºæ–‡ä»¶è·¯å¾„ }) ], mode: &#39;production&#39; } è¿è¡Œå‘½ä»¤ webpack --config webpack.dll.js è¿è¡Œ npm install add-asset-html-webpack-plugin -D ä¿®æ”¹webpack.config.jsé…ç½® const webpack = require(&#39;webpack&#39;); const AddAssetHtmlWebpackPlugin = require(&#39;add-asset-html-webpack-plugin&#39;); Â·Â·Â· plugins: [ Â·Â·Â· // å‘Šè¯‰webpacké‚£äº›æ–‡ä»¶ä¸éœ€è¦æ‰“åŒ…ï¼Œä»¥åŠæ˜ å°„å…³ç³» new webpack.DllReferencePlugin({ manifest: resolve(__dirname, &#39;dll/manifest&#39;) }), // å°†æ–‡ä»¶æ‰“åŒ…è¾“å‡ºï¼Œå¹¶åœ¨htmlè‡ªåŠ¨å¼•å…¥è¯¥æ–‡ä»¶ new AddAssetHtmlWebpackPlugin({ filepath: resolve(__dirname, &#39;dll/&#39;) }) ]","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"node","slug":"node","permalink":"https://easyremember.cn/tags/node/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"pugæ¨¡æ¿æ¸²æŸ“","slug":"ç¬”è®°/pugæ¨¡æ¿æ¸²æŸ“","date":"2020-09-08T01:04:47.328Z","updated":"2020-09-08T01:07:07.883Z","comments":true,"path":"2020/09/08/ç¬”è®°/pugæ¨¡æ¿æ¸²æŸ“/","link":"","permalink":"https://easyremember.cn/2020/09/08/ç¬”è®°/pugæ¨¡æ¿æ¸²æŸ“/","excerpt":"","text":"å¼€å§‹ pugç”±jadeæ”¹åè€Œæ¥ï¼Œé€šè¿‡ç¼©è¿›ï¼ˆè¡¨ç¤ºæ ‡ç­¾é—´çš„åµŒå¥—å…³ç³»ï¼‰çš„æ–¹å¼æ¥ç¼–å†™ä»£ç çš„è¿‡ç¨‹ï¼Œåœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œä¸éœ€è¦è€ƒè™‘æ ‡ç­¾æ˜¯å¦é—­åˆçš„é—®é¢˜ã€‚å¯ä»¥åŠ å¿«å†™ä»£ç é€Ÿåº¦ï¼Œä¹Ÿä¸ºä»£ç å¤ç”¨æä¾›äº†ä¾¿æ·ã€‚ ç¼–è¯‘pugæ¨¡æ¿éœ€è¦å®‰è£…npmåŒ… $ npm install pug æ–°å»ºpugæ¨¡æ¿ div p #{name}ä»Šå¹´#{age}å²äº† é€šè¿‡jsè§£æpugæ¨¡æ¿ï¼Œéœ€è¦å¼•å…¥pugæ¨¡å— const pug = require(&#39;pug&#39;); const compiledFunction = pug.compileFile(&#39;template.pug&#39;); console.log(compiledFunction({ name: &#39;å¼ ä¸‰&#39;, age: 14, })); console.log(compiledFunction({ name: &#39;æå››&#39;, age: 25, })); ä½¿ç”¨nodeè¿è¡Œjsæ–‡ä»¶ï¼Œç»“æœå¦‚å›¾ ä¹Ÿå¯ä»¥å°†è§£æå’Œæ¸²æŸ“æ”¾åœ¨ä¸€èµ·ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¯¹æ€§èƒ½é€ æˆå½±å“ï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ç¼“å­˜è§£å†³ console.log(pug.renderFile(&#39;template.pug&#39;, { name: &#39;ç‹äº”&#39;, age: 30, })); è¯­æ³•æ³¨é‡Šä½¿ç”¨//å¯ä»¥è½¬ä¹‰ç”Ÿæˆhtmlæ³¨é‡Šï¼›ä½¿ç”¨//-è¡¨ç¤ºpugå†…éƒ¨çš„æ³¨é‡Šï¼Œä¸è½¬ä¹‰ï¼›æ¡ä»¶æ³¨é‡Šç›´æ¥å†™ï¼Œ&lt;å¼€å¤´çš„ä¼šè¢«å½“ä½œæ–‡æœ¬ å±æ€§ç”¨é€—å·ä½œä¸ºå±æ€§åˆ†éš”ç¬¦ï¼Œä¸åŠ ä¹Ÿå¯ï¼ˆå¯ä»¥ä½¿ç”¨JavaScriptè¡¨è¾¾å¼ï¼‰ï¼›å½“å±æ€§æœ‰å¾ˆå¤šæ—¶å¯ä»¥åˆ†å¤šè¡Œ div(class=&#39;pug-style&#39; id=&#39;div-1&#39;) - var isTrue = true p(class=isTrue ? &#39;success&#39; : &#39;faild&#39;) #{name}ä»Šå¹´#{age}å²äº† å½“å±å§“åä¸­å«æœ‰ä¸€äº›å¯èƒ½ä¼šäº§ç”Ÿè¯­æ³•å†²çªçš„å­—ç¬¦æ—¶ï¼Œä½¿ç”¨&quot;&quot;ã€&#39;&#39;å°†è¿™äº›å±æ€§ååŒ…è£¹èµ·æ¥ï¼Œæˆ–è€…ä½¿ç”¨é€—å·å°†å‰åå±æ€§åˆ†éš”å¼€ å±æ€§å¯ä»¥ä½¿ç”¨JavaScriptè¯­æ³•åµŒå…¥ï¼Œä¾‹å¦‚ï¼š - var url = &#39;www.baidu.com&#39; a(href=&#39;http://&#39; + url) å¦‚æœè¿è¡Œç¯å¢ƒæ”¯æŒES6ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²${} ä½¿ç”¨!=å¯ä»¥ä¸è½¬ä¹‰ï¼ˆä¸æ¨èï¼Œå¾ˆå±é™©ï¼Œä¼šé­åˆ°è„šæœ¬æ”»å‡»ï¼‰ trueå’Œfalseçš„ä½¿ç”¨ //- é»˜è®¤ä¸ºtrue input(type=&#39;checkbox&#39; checked) input(type=&#39;checkbox&#39; checked=true) //- fasleä¸å˜å¼‚ input(type=&#39;checkbox&#39; checked=false) //- toStringä¿ç•™trueçš„å€¼ input(type=&#39;checkbox&#39; checked=true.toString()) //- ç¼–è¯‘ç»“æœå¦‚ä¸‹ &lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot;/&gt; &lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot;/&gt; &lt;input type=&quot;checkbox&quot;/&gt; &lt;input type=&quot;checkbox&quot; checked=&quot;true&quot;/&gt; å¦‚æœå£°æ˜doctype htmlç¼©å†™æ ·å¼checkedå°±ä¸ä¼šæ˜ å°„å±æ€§ è¡Œå†…æ ·å¼ä½¿ç”¨{}ï¼Œç±»å±æ€§ä½¿ç”¨[]å¯ä»¥åµŒå…¥ a(style={color: &#39;red&#39;, &#39;background-color&#39;: &#39;#409eff&#39;}) - var classes = [&#39;test&#39;, &#39;test2&#39;] a(class=[&#39;blue-div&#39;, &#39;big-div&#39;], class=classes) å±æ€§åæœ‰çŸ­æ¨ªçº¿è¿æ¥çš„ï¼Œå±æ€§åéœ€è¦åŠ å¼•å·ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºé”™ å­—é¢å€¼ a.button = &lt;a id=&quot;main-link&quot;&gt;&lt;/a&gt; .content = &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;ï¼ˆdivè¿‡äºå¸¸è§ï¼Œå¯ä»¥çœç•¥ï¼‰ a#main-link = &lt;a id=&quot;main-link&quot;&gt;&lt;/a&gt; #content = &lt;div id=&quot;content&quot;&gt;&lt;/div&gt; ä½¿ç”¨&amp;attributeså¯ä»¥å°†ä¸€ä¸ªå¯¹è±¡è¿½åŠ åˆ°å±æ€§åˆ—è¡¨ä¸­ï¼ˆæœ‰ä¸€å®šçš„å±é™©æ€§ï¼Œå‡å°‘ä½¿ç”¨ï¼‰ åˆ†æ”¯æ¡ä»¶ç±»Cè¯­è¨€ä¸­éƒ½ä¼šæœ‰switchè¿™ä¸ªè¯­æ³•ï¼Œpugä¸­ä½¿ç”¨caseè¡¨ç¤º pugä¸­åœ¨æ²¡æœ‰é‡åˆ°éç©ºè¯­å¥ä¹‹å‰ä¼šä¸€ç›´æ‰§è¡Œä¸‹å»ï¼Œå½“ä¸æƒ³ä¼ é€’åˆ†æ”¯æ—¶ä½¿ç”¨- breakæ¥ä¸­æ–­åˆ†æ”¯ä¼ é€’ å¾ªç¯ä½¿ç”¨foræ§åˆ¶å¾ªç¯ -for (var i = 0; i &lt; 5; i++) li item //- è¾“å‡º &lt;li&gt;item&lt;/li&gt; &lt;li&gt;item&lt;/li&gt; &lt;li&gt;item&lt;/li&gt; &lt;li&gt;item&lt;/li&gt; &lt;li&gt;item&lt;/li&gt; é€šè¿‡eachæ§åˆ¶å¾ªç¯ - var arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;] each item in arr li= item //- è¾“å‡º &lt;li&gt;a&lt;/li&gt; &lt;li&gt;b&lt;/li&gt; &lt;li&gt;c&lt;/li&gt; &lt;li&gt;d&lt;/li&gt; å¦å¤–ï¼Œå¯ä»¥ç”¨whileæ§åˆ¶å¾ªç¯ ä½¿ç”¨=å¯ä»¥è½¬ä¹‰ä»£ç ï¼Œç­‰å·æ¢è¡Œæˆ–è€…è¡Œå†…ç´§è´´çˆ¶æ ‡ç­¾ï¼›ä½¿ç”¨!=å¯ä»¥ä¸è½¬ä¹‰è¾“å‡ºï¼Œæ¯”å¦‚æºå¸¦æ ‡ç‚¹ç¬¦å·ç­‰ æ¡ä»¶ä½¿ç”¨ifå¯ä»¥è¿›è¡Œæ¡ä»¶åˆ¤æ–­ - var user = {name: &#39;å¼ ä¸‰&#39;} - var isTrue = false div if isTrue h2.blue æè¿° else if user h2.green æè¿° p.des= user.name else h2.red æè¿° //- è¾“å‡º &lt;div&gt; &lt;h2 class=&quot;green&quot;&gt;æè¿°&lt;/h2&gt; &lt;p class=&quot;des&quot;&gt;å¼ ä¸‰&lt;/p&gt; &lt;/div&gt; unlessç­‰ä»·äº!= åŒ…å«ä½¿ç”¨includeå…³é”®å­—å¼•å…¥å¤–éƒ¨æ–‡æœ¬ï¼Œå¯ä»¥æ˜¯pugæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯jsæ–‡ä»¶ç­‰ è¢«åŒ…å«çš„æ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼ˆå¦‚ include /root.pugï¼‰ï¼Œé‚£ä¹ˆå‰é¢ä¼šåŠ ä¸Š options.basedir é€‰é¡¹å±æ€§æ¥è¿›è¡Œè§£æã€‚å¦åˆ™ï¼Œè·¯å¾„åº”è¯¥ç›¸å¯¹äºæ­£åœ¨è¢«ç¼–è¯‘çš„å½“å‰æ–‡ä»¶ åµŒå…¥ #{}è½¬ä¹‰ï¼Œå¯ä»¥æ·»åŠ æ­£ç¡®çš„ä»»æ„JavaScriptè¡¨è¾¾å¼ã€‚ å¦‚æœéœ€è¦#{}æ–‡æœ¬ï¼Œå¯ä»¥ä½¿ç”¨\\æˆ–è€…#{}æ¥è½¬ä¹‰ ä½¿ç”¨!{}ä¸è½¬ä¹‰ï¼Œå…·æœ‰ä¸€å®šçš„å±é™©æ€§ ä½¿ç”¨#[]è½¬ä¹‰pugè¯­å¥ *æ··å…¥è¿™æ˜¯pugå¾ˆå¼ºå¤§çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œç±»ä¼¼äºå‡½æ•°ç¼–ç¨‹ï¼Œå¯ä»¥ä¼ å‚ mixin eat(food) li ä¸­åˆåƒ#{food} ul +eat(&#39;ç‚¸é¸¡&#39;) +eat(&#39;çƒ¤é¸­&#39;) //- è¾“å‡º &lt;ul&gt; &lt;li&gt;ä¸­åˆåƒç‚¸é¸¡&lt;/li&gt; &lt;li&gt;ä¸­åˆåƒçƒ¤é¸­&lt;/li&gt; &lt;/ul&gt; ä¹Ÿå¯ä»¥æŠŠä»£ç å—ä¼ å…¥ï¼Œç±»ä¼¼äºVueçš„æ’æ§½ï¼Œé€šè¿‡blockæ¥æ”¶ä¼ è¿›æ¥çš„ä»£ç å— mixin user(name) .user h2 #{name} if block block else p æ²¡æœ‰è¯¦ç»†èµ„æ–™ +user(&#39;å¼ ä¸‰&#39;) +user(&#39;å¼ ä¸‰&#39;) p age: 14 p address: china //- è¾“å‡º &lt;div class=&quot;user&quot;&gt; &lt;h2&gt;å¼ ä¸‰&lt;/h2&gt; &lt;p&gt;æ²¡æœ‰è¯¦ç»†èµ„æ–™&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;user&quot;&gt; &lt;h2&gt;å¼ ä¸‰&lt;/h2&gt; &lt;p&gt;age: 14&lt;/p&gt; &lt;p&gt;address: china&lt;/p&gt; &lt;/div&gt; å¯ä»¥ä¼ å…¥å±æ€§ï¼Œåœ¨å¼•ç”¨æ··å…¥çš„æ—¶å€™ä¼ å…¥å±æ€§ mixin link(href, name) a(class!=attributes.class, href=href) name //- ä½¿ç”¨!=é˜²æ­¢äºŒæ¬¡è½¬ä¹‰ +link(&#39;www.baidu.com&#39;, &#39;ç™¾åº¦&#39;)(class=&quot;button&quot;) //- è¾“å‡º &lt;a class=&quot;button&quot; href=&quot;www.baidu.com&quot;&gt;name&lt;/a&gt; æ”¯æŒES6çš„å±•å¼€è¿ç®—ç¬¦ mixin ulArr(className, ...items) ul(class=className) each item in items li= item else li æ²¡æœ‰å†…å®¹ +ulArr(&#39;ulArr&#39;, 1,2,3,4) ç»“æŸï¼Œåˆä¸€é—¨æ–°æŠ€èƒ½æœ€åæ¨èä¸€ä¸ªåœ¨çº¿è½¬æ¢HTMLå’Œpugçš„ç½‘ç«™","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"node","slug":"node","permalink":"https://easyremember.cn/tags/node/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"Androidç¬”è®°","slug":"ç¬”è®°/Androidç¬”è®°","date":"2020-09-07T12:09:01.520Z","updated":"2020-09-07T12:11:32.797Z","comments":true,"path":"2020/09/07/ç¬”è®°/Androidç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/09/07/ç¬”è®°/Androidç¬”è®°/","excerpt":"","text":"Androidç¬”è®° xmlä¸­çš„å„ç§å­—ç¬¦ä¸²æ•°æ®å»ºè®®æ”¾åœ¨valuesç›®å½•ä¸‹çš„string.xmlä¸­ &lt;resources&gt; &lt;string name=&quot;app_name&quot;&gt;HelloWorld&lt;/string&gt; &lt;/resources&gt; 1. æ´»åŠ¨1.1 åˆ›å»ºæ´»åŠ¨åœ¨åŒ…ä¸‹å³é”®åˆ›å»ºæ–°çš„æ´»åŠ¨ 1.2 åˆ›å»ºå¹¶åŠ è½½å¸ƒå±€åœ¨èµ„æºç›®å½•ä¸‹çš„layoutæ–‡ä»¶å¤¹ä¸‹å³é”®åˆ›å»ºæ–°çš„å¸ƒå±€èµ„æºï¼ˆAndroid Studioé»˜è®¤åˆ›å»ºï¼‰ é…ç½®å¥½å¸ƒå±€ä¹‹ååœ¨æ´»åŠ¨ç±»ä¸‹æ·»åŠ å¸ƒå±€ public class List extends AppCompatActivity { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_list); } 1.3åœ¨æ´»åŠ¨ä¸­ä½¿ç”¨ToastToastæ˜¯å®‰å“åº”ç”¨ä¸­ä¸€ç§æ¯”è¾ƒå¸¸ç”¨çš„æç¤ºæ–¹å¼ æ·»åŠ æ–¹æ³•ä¹Ÿæ¯”è¾ƒç®€å• Toast.makeText(this, &quot;click add&quot;, Toast.LENGTH_SHORT).show(); makeTextæ–¹æ³•å‚æ•°ï¼š thisï¼šä¸Šä¸‹æ–‡ï¼Œå¦‚æœåµŒå¥—å¤ªæ·±thisæŒ‡å‘ä¼šé”™è¯¯ï¼Œå¯æ”¹ä¸ºå½“å‰æ´»åŠ¨.thisã€getContext()ï¼Œä¹Ÿå¯ä»¥åœ¨å¤–å±‚å®šä¹‰ä¸€ä¸ªContext that = this;ç”¨æ¥ä¼ é€’this â€œclick addâ€ï¼šå­—ç¬¦ä¸²ï¼ŒToastè¦æ˜¾ç¤ºçš„ä¿¡æ¯ï¼Œå¯ä»¥æ˜¯å˜é‡ Toast.LENGTH.SHORTï¼šæ˜¾ç¤ºæ—¶é—´2ç§’ï¼ŒLONGæ˜¯3.5ç§’ show()æ–¹æ³•ä¸è¦å¿˜è®°æ·»åŠ  1.4åœ¨æ´»åŠ¨ä¸­ä½¿ç”¨menuåœ¨resä¸‹åˆ›å»ºmenuç›®å½•ï¼Œæ–°å»ºxmlæ–‡ä»¶ï¼Œå†…å®¹æ ¼å¼å¦‚ä¸‹ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt; &lt;item android:id=&quot;@+id/add_item&quot; android:title=&quot;Add&quot;/&gt; &lt;item android:id=&quot;@+id/sub_item&quot; android:title=&quot;Sub&quot;/&gt; &lt;/menu&gt; åœ¨è¦æ·»åŠ menuçš„æ´»åŠ¨ä¸­æ·»åŠ èœå•ï¼Œæ ¼å¼å¦‚ä¸‹ @Override public boolean onCreateOptionsMenu(Menu menu) { getMenuInflater().inflate(R.menu.main, menu); return super.onCreateOptionsMenu(menu); } @Override public boolean onOptionsItemSelected(@NonNull MenuItem item) { Context that = this; switch (item.getItemId()) { case R.id.add_item: Toast.makeText(that, &quot;click add&quot;, Toast.LENGTH_SHORT).show(); break; case R.id.sub_item: Toast.makeText(this, &quot;click sub&quot;, Toast.LENGTH_SHORT).show(); break; default: break; } return super.onOptionsItemSelected(item); } 1.5åœ¨æ´»åŠ¨ä¹‹é—´ç©¿æ¢­ä¸€ä¸ªå®‰å“åº”ç”¨é€šå¸¸ä¸æ­¢ä¸€ä¸ªæ´»åŠ¨ï¼Œéœ€è¦åœ¨ä¸åŒçš„æ´»åŠ¨ä¹‹é—´æ¥å›ç©¿æ¢­æ¥å®Œæˆå„ç§æ“ä½œ 1.5.1æ˜¾å¼ç©¿æ¢­é¡¾åæ€ä¹‰ï¼Œæ˜¾ç¤ºç©¿æ¢­å¾ˆæ˜æ˜¾èƒ½çœ‹å‡ºè¦è·³è½¬åˆ°é‚£ä¸ªæ´»åŠ¨ åœ¨é¡µé¢ä¸­æœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»æŒ‰é’®è§¦å‘åˆ‡æ¢æ´»åŠ¨çš„äº‹ä»¶ Button btn_third = (Button) findViewById(R.id.btn_third); btn_third.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent3 = new Intent(MainActivity.this, List.class); startActivity(intent3); } }); å…ˆç»™buttonæ·»åŠ äº‹ä»¶ç›‘å¬ï¼Œå½“è§¦å‘æ—¶é—´æ—¶ï¼Œä½¿ç”¨Intentç©¿æ¢­äº‹ä»¶ Intentæ„é€ å‡½æ•°ï¼š MainActivity.thisï¼šä¸Šä¸‹æ–‡ List.classï¼šè¦è·³è½¬çš„æ´»åŠ¨ï¼ˆåå°„ï¼‰ æ´»åŠ¨éœ€è¦åœ¨Mainfestä¸­æ³¨å†Œï¼Œè¿™äº›åœ¨åˆ›å»ºæ´»åŠ¨æ—¶Android Studioé»˜è®¤æ·»åŠ äº†ï¼Œå¦‚æœæ²¡æœ‰ä¼šæŠ¥é”™ 1.5.2éšå¼ç©¿æ¢­éšå¼ç©¿æ¢­ä¸ä¼šå¾ˆå®¹æ˜“çœ‹å‡ºè¦è·³è½¬çš„ç›®çš„ã€ é¦–å…ˆï¼Œéšå¼ç©¿æ¢­éœ€è¦é…ç½®Mainfest &lt;activity android:name=&quot;.List&quot;&gt; &lt;intent-filter&gt; &lt;action android:name=&quot;com.example.hello.MAIN&quot; /&gt; &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt; &lt;category android:name=&quot;com.example.hello.MY_CATEGORY&quot; /&gt; &lt;/intent-filter&gt; &lt;/activity&gt; ç„¶ååœ¨è·³è½¬æ—¶ä½¿ç”¨å¦ä¸€ç§æ–¹å¼ Button btn_third = (Button) findViewById(R.id.btn_third); btn_third.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent3 = new Intent(&quot;com.example.hello.MAIN&quot;); // åªä½¿ç”¨äº†android.intent.category.DEFAULTï¼Œè¿™é‡Œå¯ä»¥ä¸æ·»åŠ category,å¦‚æœè‡ªå®šä¹‰äº†categoryå°±å¿…é¡»è¦æ·»åŠ  intent3.addCategory(&quot;com.example.hello.MY_CATEGORY&quot;); startActivity(intent3); } }); é…ç½®æ—¶æ³¨æ„actionå’Œcategoryçš„åŒ…è·¯å¾„ï¼Œåªæœ‰actionå’Œcategoryä¸€è‡´æ‰ä¼šè¿›è¡Œè·³è½¬ æ›´å¤šéšå¼ç©¿æ¢­ç”¨æ³• è·³è½¬ç½‘é¡µ ç‚¹å‡»äº‹ä»¶å¦‚ä¸‹ Intent intent = new Intent(Intent.ACTION_VIEW); intent.setData(Uri.parse(&quot;http://www.baidu.com&quot;)); startActivity(intent); åœ¨Mainfestå¯¹åº”äº‹ä»¶ä¸­æ·»åŠ dataæ ‡ç­¾ &lt;activity android:name=&quot;.SecondActivity&quot;&gt; &lt;intent-filter tools:ignore=&quot;AppLinkUrlError&quot;&gt; &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt; &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt; &lt;data android:scheme=&quot;http&quot; /&gt; &lt;/intent-filter&gt; &lt;/activity&gt; æ‹¨æ‰“ç”µè¯ 1.5.3 æ´»åŠ¨ä¹‹é—´ä¼ é€’æ•°æ®åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ´»åŠ¨ä¹‹é—´åˆ‡æ¢éœ€è¦æºå¸¦æ•°æ®ï¼ŒIntentæä¾›äº†putExtraæ–¹æ³•æ¥ä¼ é€’æ•°æ®ï¼Œåœ¨MainActivityä¸­é€šè¿‡æŒ‰é’®è§¦å‘äº‹ä»¶ï¼Œæºå¸¦å‚æ•°è·³è½¬åˆ°SecondActivity Button btn = (Button) findViewById(R.id.button1); btn.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent = new Intent(MainActivity.this, SecondActivity.class); intent.putExtra(&quot;extra_value1&quot;, 10); intent.putExtra(&quot;extra_value2&quot;, &quot;by first&quot;); startActivityForResult(intent, 1); } }); startActivityForResult(intent, 1);ä¸åŒçš„è¯·æ±‚é€šè¿‡è¯·æ±‚ç è¿›è¡ŒåŒºåˆ† åœ¨SecondActivityä¸­æ¥æ”¶å‚æ•°å¹¶æ˜¾ç¤ºåˆ°é¡µé¢ä¸Š final Intent intent = getIntent(); String str = intent.getStringExtra(&quot;extra_value2&quot;); int i = intent.getIntExtra(&quot;extra_value1&quot;, -1); // intç±»å‹çš„æ•°æ®æ¥æ”¶æ—¶å¯ä»¥è®¾ç½®é»˜è®¤å€¼ String string = str + i; TextView textView = (TextView) findViewById(R.id.textView); textView.setText(string); 1.5.4å‘ä¸Šä¸€ä¸ªæ´»åŠ¨è¿”å›æ•°æ®å½“ç„¶ï¼ŒSecondActivityä¹Ÿå¯ä»¥å‘MainActivityä¼ é€’æ•°æ® @Override public void onBackPressed() { // super.onBackPressed(); Intent intent1 = new Intent(); intent1.putExtra(&quot;data_return&quot;, &quot;I am second&quot;); setResult(RESULT_OK, intent1); finish(); } å½“æŒ‰ä¸‹è¿”å›é”®æ—¶ï¼ˆå¯ä»¥é€šè¿‡å…¶ä»–äº‹ä»¶è§¦å‘ï¼‰ï¼Œå‘ä¸»é¡µé¢ä¼ é€’æ•°æ®ï¼Œè¿™é‡Œè¦è®¾ç½®resultè¿”å›çš„çŠ¶æ€ åœ¨ä¸»æ´»åŠ¨ä¸­æ¥æ”¶SecondActivityä¼ å›æ¥çš„æ•°æ® @Override protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) { super.onActivityResult(requestCode, resultCode, data); switch (requestCode) { case 1: if (resultCode == RESULT_OK) { assert data != null; String returnStr = data.getStringExtra(&quot;data_return&quot;); Toast.makeText(this, returnStr, Toast.LENGTH_SHORT).show(); } break; default: break; } } onActivityResult(requestCode, resultCode, data) requestCodeï¼šè¯·æ±‚ç ï¼Œåœ¨å‘é€è¯·æ±‚æ—¶æºå¸¦çš„code resultCodeï¼šå“åº”ç ï¼Œæ´»åŠ¨è¿”å›æ•°æ®æ—¶è®¾ç½®çš„code dataï¼šæ¥æ”¶çš„æ•°æ® 1.6 æ´»åŠ¨çš„ç”Ÿå‘½å‘¨æœŸ 1.7 æ´»åŠ¨çš„å¯åŠ¨æ¨¡å¼å‚è€ƒæ´»åŠ¨çš„å¯åŠ¨æ¨¡å¼ 2. UIç»„ä»¶ç›¸å…³çœç•¥ 2.1 å¸ƒå±€2.1.1 çº¿æ€§å¸ƒå±€LinearLayout android:layout_width=&quot;match_parent&quot;æ§åˆ¶å®½åº¦ï¼Œçˆ¶ç»„ä»¶çš„å®½åº¦ï¼Œæ”¹ä¸º wrap_contentå°±æ˜¯è‡ªèº«å…ƒç´ çš„å®½åº¦ android:layout_height=&quot;match_parent&quot;æ§åˆ¶é«˜åº¦ android:orientation=&quot;vertical&quot;æ§åˆ¶çºµå‘æ’åˆ—ï¼Œå¦‚æœæ”¹ä¸º verticalå°±ä¼šå˜ä¸ºæ°´å¹³æ’åˆ— android:layout_gravity=&quot;right&quot;æ§åˆ¶å…ƒç´ çš„å¯¹é½æ–¹å¼ android:layout_weight=&quot;1&quot;ç±»ä¼¼äºcssä¸­çš„flexï¼š1 2.1.2 ç›¸å¯¹å¸ƒå±€RelativeLayoutç›¸å¯¹äºparentè¿›è¡Œå®šä½ android:layout_alignParentLeft=â€trueâ€ android:layout_alignParentright=â€trueâ€ android:layout_alignParentTop=â€trueâ€ android:layout_alignParentBottom=â€trueâ€ android:layout_centerInParent=â€trueâ€ ç›¸å¯¹äºæ§ä»¶è¿›è¡Œå®šä½ android:layout_above=â€@id/button3â€ä¸Š android:layout_below=â€@id/button3â€ä¸‹ android:layout_toLeftOf=â€@id/button3â€ android:layout_toRightOf=â€@id/button3â€ android:layout_alignBottom=â€@id/button3â€ä¸¤ä¸ªæ§ä»¶åº•è¾¹å¯¹é½ alignBottomã€alignTopã€alignLeftã€alignRight 2.1.3å¸§å¸ƒå±€FrameLayout2.1.4 ç™¾åˆ†æ¯”å¸ƒå±€ç”±Android Xæ”¯æŒåº“æä¾› å¯¼å…¥æ”¯æŒåº“ æœç´¢percentLayoutï¼Œæ·»åŠ ä¾èµ– ç„¶åå¸ƒå±€æ–‡ä»¶ä¸­ä½¿ç”¨ç™¾åˆ†æ¯”å¸ƒå±€ &lt;androidx.percentlayout.widget.PercentFrameLayout android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;&gt; &lt;ImageView android:id=&quot;@+id/imageView&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;right&quot; app:layout_widthPercent=&quot;50%&quot; android:src=&quot;@drawable/wj&quot; tools:ignore=&quot;RtlHardcoded&quot; /&gt; &lt;Button android:id=&quot;@+id/btn_close&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;left&quot; app:layout_widthPercent=&quot;50%&quot; android:text=&quot;å…³é—­&quot; /&gt; &lt;/LinearLayout&gt; &lt;/androidx.percentlayout.widget.PercentFrameLayout&gt; 2.2 æ§ä»¶2.2.1 åˆ›å»ºè‡ªå®šä¹‰æ§ä»¶é¦–å…ˆæ–°å»ºæ§ä»¶çš„title.xmlå¸ƒå±€ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;&gt; &lt;Button android:id=&quot;@+id/back_btn_title&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:background=&quot;#409eff&quot; android:text=&quot;è¿”å›&quot; /&gt; &lt;TextView android:id=&quot;@+id/title&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;match_parent&quot; android:background=&quot;#409eff&quot; android:layout_weight=&quot;1&quot; android:text=&quot;TextView&quot; /&gt; &lt;Button android:id=&quot;@+id/edit_btn_title&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:background=&quot;#409eff&quot; android:text=&quot;èœå•&quot; /&gt; &lt;/LinearLayout&gt; ç„¶ååœ¨æƒ³è¦å¼•å…¥titleçš„å¸ƒå±€ä¸­å¼•å…¥&lt;include layout=&quot;@layout/title&quot; /&gt;å³å¯ ä½†æ˜¯è¿™æ ·ç»™titleæ§ä»¶æ·»åŠ äº‹ä»¶çš„æ—¶å€™éœ€è¦ç»™æ¯ä¸€ä¸ªæ´»åŠ¨éƒ½æ·»åŠ ï¼Œå¤ªè¿‡äºç¹ç äºæ˜¯æœ‰äº†ç®€ä¾¿çš„æ–¹æ³• public class TitleLayout extends LinearLayout { public TitleLayout(Context context, @Nullable AttributeSet attrs) { super(context, attrs); LayoutInflater.from(context).inflate(R.layout.title, this); Button back_btn = (Button)findViewById(R.id.back_btn_title); Button edit_btn = (Button)findViewById(R.id.edit_btn_title); back_btn.setOnClickListener(new OnClickListener() { @Override public void onClick(View v) { ((Activity)getContext()).finish(); } }); edit_btn.setOnClickListener(new OnClickListener() { @Override public void onClick(View v) { Toast.makeText(getContext(), &quot;click edit&quot;, Toast.LENGTH_SHORT).show(); } }); } } ç„¶ååœ¨æƒ³è¦å¼•å…¥æ§ä»¶çš„æ´»åŠ¨xmlä¸­ä½¿ç”¨åŒ…åå¼•å…¥ &lt;LinearLayout android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;&gt; &lt;com.example.helloworld.TitleLayout android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_weight=&quot;1&quot; /&gt; &lt;/LinearLayout&gt; 2.2.2 ListViewåˆ—è¡¨æ§ä»¶é¦–å…ˆåˆ›å»ºListViewå¸ƒå±€ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; &gt; &lt;ListView android:id=&quot;@+id/list&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; /&gt; &lt;/LinearLayout&gt; ç„¶ååœ¨æ´»åŠ¨ä¸­æ·»åŠ  public class List extends AppCompatActivity { private String[] data = {&quot;apple&quot;, &quot;banana&quot;, &quot;peach&quot;, &quot;fire&quot;, &quot;apple&quot;, &quot;banana&quot;, &quot;peach&quot;, &quot;fire&quot;, &quot;apple&quot;, &quot;banana&quot;, &quot;peach&quot;, &quot;fire&quot;, &quot;apple&quot;, &quot;banana&quot;, &quot;peach&quot;, &quot;fire&quot;}; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_list); ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(List.this, android.R.layout.simple_list_item_1, data); ListView listView = (ListView) findViewById(R.id.list); listView.setAdapter(adapter); } } å®šåˆ¶ListView å›¾æ ‡ æ–°å»ºä¸€ä¸ªèœå•ç±»ï¼Œå±æ€§æ˜¯åç§°å’Œå›¾æ ‡ public class Fruit { private String name; private int imageId; public Fruit(String name, int imageId) { this.name = name; this.imageId = imageId; } public String getName() { return name; } public int getImageId() { return imageId; } } æ–°å»ºlisté€‰é¡¹å¸ƒå±€ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;&gt; &lt;ImageView android:id=&quot;@+id/fruit_image&quot; android:layout_width=&quot;50dp&quot; android:layout_height=&quot;50dp&quot; /&gt; &lt;TextView android:id=&quot;@+id/fruit_name&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;center_vertical&quot; android:layout_marginLeft=&quot;10dp&quot; /&gt; &lt;/LinearLayout&gt; æ–°å»ºé€‚é…å™¨ç»§æ‰¿è‡ªArrayAdapter public class FruitAdapter extends ArrayAdapter { private int resourceId; public FruitAdapter(@NonNull Context context, int resource, @NonNull List&lt;Fruit&gt; objects) { super(context, resource, objects); resourceId = resource; } @NonNull @Override public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) { Fruit fruit = (Fruit) getItem(position); @SuppressLint(&quot;ViewHolder&quot;) View view = LayoutInflater.from(getContext()).inflate(resourceId, parent, false); ImageView fruitImage = (ImageView) view.findViewById(R.id.fruit_image); TextView fruitName = (TextView) view.findViewById(R.id.fruit_name); fruitImage.setImageResource(fruit.getImageId()); fruitName.setText(fruit.getName()); return view; } } æœ€åå†ä¿®æ”¹Listæ´»åŠ¨ public class FruitList extends AppCompatActivity { private List&lt;Fruit&gt; fruitList = new ArrayList&lt;&gt;(); @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_list); addData(); FruitAdapter fruitAdapter = new FruitAdapter(FruitList.this, R.layout.fruit_item, fruitList); ListView listView = (ListView)findViewById(R.id.list); listView.setAdapter(fruitAdapter); } // åˆå§‹åŒ–list private void addData() { for(int i = 0; i &lt; 10; i++) { Fruit apple = new Fruit(&quot;apple&quot;, R.drawable.icon); fruitList.add(apple); } } } ç„¶åè¿è¡Œå‡ºæ¥çš„Listå°±å¸¦ä¸Šäº†å›¾æ ‡ ç‚¹å‡»äº‹ä»¶ åœ¨Listæ´»åŠ¨ä¸­æ·»åŠ äº‹ä»¶ç›‘å¬ listView.setOnItemClickListener(new AdapterView.OnItemClickListener() { @Override public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) { Fruit fruit = fruitList.get(position); Toast.makeText(FruitList.this, fruit.getName(), Toast.LENGTH_SHORT).show(); } }); ä¼˜åŒ– public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) { Fruit fruit = (Fruit) getItem(position); // @SuppressLint(&quot;ViewHolder&quot;) View view = LayoutInflater.from(getContext()).inflate(resourceId, parent, false); View view; if(convertView == null) { view = LayoutInflater.from(getContext()).inflate(resourceId, parent, false); } else { view = convertView; } ImageView fruitImage = (ImageView) view.findViewById(R.id.fruit_image); TextView fruitName = (TextView) view.findViewById(R.id.fruit_name); fruitImage.setImageResource(fruit.getImageId()); fruitName.setText(fruit.getName()); return view; } å¯¹convertViewè¿›è¡Œåˆ¤æ–­ï¼Œå½“ä¸ºç©ºæ—¶ä½¿ç”¨LayoutInflateråŠ è½½å¸ƒå±€ï¼Œä¸ä¸ºç©ºæ—¶ç›´æ¥ä½¿ç”¨convertViewï¼Œæé«˜äº†è¿è¡Œæ•ˆç‡ public class FruitAdapter extends ArrayAdapter { private int resourceId; public FruitAdapter(@NonNull Context context, int resource, @NonNull List&lt;Fruit&gt; objects) { super(context, resource, objects); resourceId = resource; } @NonNull @Override public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) { Fruit fruit = (Fruit) getItem(position); // @SuppressLint(&quot;ViewHolder&quot;) View view = LayoutInflater.from(getContext()).inflate(resourceId, parent, false); View view; ViewHolder viewHolder; if(convertView == null) { view = LayoutInflater.from(getContext()).inflate(resourceId, parent, false); viewHolder = new ViewHolder(); viewHolder.fruitImage = (ImageView)view.findViewById(R.id.fruit_image); viewHolder.fruitName = (TextView)view.findViewById(R.id.fruit_name); view.setTag(viewHolder); } else { view = convertView; viewHolder = (ViewHolder) view.getTag(); } viewHolder.fruitImage.setImageResource(fruit.getImageId()); viewHolder.fruitName.setText(fruit.getName()); return view; } class ViewHolder { ImageView fruitImage; TextView fruitName; } } ä¿®æ”¹FruitAdapterï¼Œæ–°å»ºå†…éƒ¨ç±»ï¼Œå¯¹æ§ä»¶å®ä¾‹è¿›è¡Œç¼“å­˜ï¼Œæ–°å»ºå®ä¾‹æ—¶é€šè¿‡setTagæ–¹æ³•å°†å®ä¾‹å­˜å‚¨ï¼ŒconvertViewä¸ä¸ºç©ºæ—¶ä½¿ç”¨getTagè·å–ç¼“å­˜çš„å®ä¾‹ 2.2.3 RecycleView3. ç¢ç‰‡ç¢ç‰‡å¯ä»¥æœ‰æ•ˆè§£å†³æ‰‹æœºå¹³æ¿åˆ†è¾¨ç‡ä¸åŒäº§ç”Ÿçš„å¸ƒå±€éš¾çœ‹çš„é—®é¢˜ï¼Œå½“å±å¹•åˆ†è¾¨ç‡å¤§çš„æ—¶å€™å¼•å…¥ä¸¤ä¸ªç¢ç‰‡ 3.1 ç¢ç‰‡ä½¿ç”¨åˆ›å»ºç¢ç‰‡ è®¾ç½®å¥½ç¢ç‰‡å¸ƒå±€ä¹‹ååœ¨æ´»åŠ¨çš„xmlå¸ƒå±€ä¸­å¼•å…¥fragmentï¼Œé€‰æ‹©è¦å¼•å…¥çš„ç¢ç‰‡ï¼Œè°ƒæ•´å¸ƒå±€ æ•ˆæœå¦‚å›¾ 3.2 åŠ¨æ€ä½¿ç”¨ç¢ç‰‡å†åˆ›å»ºä¸€ä¸ªæ–°çš„å³ä¾§ç¢ç‰‡ ä¿®æ”¹å½“å‰æ´»åŠ¨ public class MainActivity2 extends AppCompatActivity implements View.OnClickListener { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main2); Button button = (Button)findViewById(R.id.left_btn); button.setOnClickListener(this); replaceFragment(new FragmentRight()); } @Override public void onClick(View v) { switch (v.getId()) { case R.id.left_btn: replaceFragment(new FragmentAnotherRight()); break; default: break; } } public void replaceFragment(Fragment fragment) { FragmentManager fragmentManager = getSupportFragmentManager(); FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction(); fragmentTransaction.replace(R.id.right_layout, fragment); fragmentTransaction.commit(); } } æ´»åŠ¨åˆ›å»ºæ—¶åˆå§‹åŒ–ä¸€ä¸ªå³ä¾§ç¢ç‰‡ï¼Œå½“å·¦ä¾§æŒ‰é’®è§¦å‘æ—¶æ›´æ¢ä¸€ä¸ªå³ä¾§ç¢ç‰‡ 3.3 è¿”å›æ ˆå®ç°äº†åŠ¨æ€æ·»åŠ ç¢ç‰‡ä¹‹åè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå½“ç‚¹å‡»è¿”å›æŒ‰é’®æ—¶ä¼šç›´æ¥é€€å‡ºæ´»åŠ¨ï¼Œè¦è¿”å›ä¸Šä¸€ä¸ªç¢ç‰‡å°±éœ€è¦æ·»åŠ ä¸€ä¸ªè¿”å›æ ˆ åªéœ€è¦ä¿®æ”¹replaceFragmentæ–¹æ³•ï¼Œè°ƒç”¨addToBackStackæ–¹æ³•ï¼Œä¸€èˆ¬ä¼ å…¥nullå³å¯ public void replaceFragment(Fragment fragment) { FragmentManager fragmentManager = getSupportFragmentManager(); FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction(); fragmentTransaction.replace(R.id.right_layout, fragment); fragmentTransaction.addToBackStack(null); fragmentTransaction.commit(); } 3.4 ç¢ç‰‡é€šä¿¡ 3.5 ç¢ç‰‡ç”Ÿå‘½å‘¨æœŸ 3.6 ä½¿ç”¨é™å®šç¬¦å“åº”å¼å¸ƒå±€åœ¨resç›®å½•ä¸‹æ–°å»ºlayout-largeæˆ–è€…layout-sw600dpæ–‡ä»¶å¤¹ï¼Œæ–°å»ºä¸€ä¸ªåŒåçš„æ´»åŠ¨å¸ƒå±€ï¼Œå½“æ»¡è¶³æ¡ä»¶æ—¶ï¼Œå®‰å“ä¼šè‡ªåŠ¨åŠ è½½ç›¸åº”çš„å¸ƒå±€ æ™®é€šçš„å¸ƒå±€åªæœ‰ä¸€ä¸ªfragmentå¤§å±è®¾å¤‡çš„å¼•å…¥ä¸¤ä¸ªfragment æ‰‹æœºæ¨¡æ‹Ÿå™¨ å¹³æ¿æ¨¡æ‹Ÿå™¨ 4. å¹¿æ’­æœºåˆ¶4.1 ç®€ä»‹ æ ‡å‡†å¹¿æ’­ï¼šå¼‚æ­¥æ‰§è¡Œï¼Œæ‰€æœ‰çš„å¹¿æ’­æ¥æ”¶å™¨ä¼šåœ¨åŒä¸€æ—¶é—´æ¥æ”¶åˆ°å¹¿æ’­æ¶ˆæ¯ï¼Œä¸èƒ½è¢«æˆªæ–­ æœ‰åºå¹¿æ’­ï¼šåŒæ­¥æ‰§è¡Œï¼Œåªæœ‰ä¸€ä¸ªæ¥æ”¶å™¨èƒ½æ¥å—å¹¿æ’­æ¶ˆæ¯ï¼Œæ¥æ”¶å®Œæ‰èƒ½ä¾æ¬¡æ‰§è¡Œï¼Œå¯ä»¥è¢«æˆªæ–­ 4.2 æ¥æ”¶å¹¿æ’­4.2.1 åŠ¨æ€æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨å¯ä»¥åŠ¨æ€çš„å¯¹è‡ªå·±æ„Ÿå…´è¶£çš„å¹¿æ’­è¿›è¡Œæ³¨å†Œï¼Œå¯ä»¥åœ¨ä»£ç ä¸­æ³¨å†Œä¹Ÿå¯ä»¥åœ¨AndroidMainfestä¸­æ³¨å†Œï¼Œå‰è€…ç§°ä¸ºåŠ¨æ€æ³¨å†Œï¼Œåè€…ç§°ä¸ºé™æ€æ³¨å†Œ 4.2.1.1 åŠ¨æ€æ³¨å†Œç›‘å¬ç½‘ç»œå˜åŒ–åœ¨ä»£ç ä¸­è¿›è¡Œæ³¨å†Œ public class MainActivity extends AppCompatActivity { private IntentFilter intentFilter; private NetworkChangeReceiver changeReceiver; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); ActivityController.addActivity(this); // å¹¿æ’­ intentFilter = new IntentFilter(); intentFilter.addAction(&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;); changeReceiver = new NetworkChangeReceiver(); registerReceiver(changeReceiver, intentFilter); } @Override public void onDestroy() { super.onDestroy(); unregisterReceiver(changeReceiver); } } public class NetworkChangeReceiver extends BroadcastReceiver { @Override public void onReceive(Context context, Intent intent) { ConnectivityManager connectivityManager = (ConnectivityManager)context.getSystemService(Context.CONNECTIVITY_SERVICE); NetworkInfo networkInfo = connectivityManager.getActiveNetworkInfo(); if(networkInfo != null &amp;&amp; networkInfo.isConnected()) { Toast.makeText(context, &quot;ç½‘ç»œå·²è¿æ¥&quot;, Toast.LENGTH_SHORT).show(); }else { Toast.makeText(context, &quot;ç½‘ç»œæœªè¿æ¥&quot;, Toast.LENGTH_SHORT).show(); } } } connectivityManager.getActiveNetworkInfo();éœ€è¦æ·»åŠ æƒé™ï¼ŒAndroid Studioå¯ä»¥è‡ªåŠ¨æ·»åŠ  å½“ç½‘ç»œè¿æ¥å‘ç”Ÿå˜åŒ–æ—¶ä¼šå¼¹å‡ºToastè¿›è¡Œæ¶ˆæ¯æç¤º 4.2.2 é™æ€æ³¨å†Œå¼€æœºè‡ªå¯ new -&gt; other -&gt; Broadcast Recriver åœ¨AndroidMainfest.xmlä¸­æ·»åŠ ä»£ç  &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt; Â·Â·Â· &lt;application&gt; Â·Â·Â· &lt;receiver android:name=&quot;.BootCompleteReceiver&quot; android:enabled=&quot;true&quot; android:exported=&quot;true&quot;&gt; &lt;intent-filter&gt; &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt; &lt;/intent-filter&gt; &lt;/receiver&gt; &lt;/application&gt; 4.3 å‘é€è‡ªå®šä¹‰å¹¿æ’­4.3.1 æ ‡å‡†å¹¿æ’­æ–°å»ºä¸€ä¸ªå¹¿æ’­æ¥æ”¶å™¨ï¼Œå¹¶é™æ€æ³¨å†Œï¼Œè¿™é‡Œçš„actionæ˜¯è‡ªå®šä¹‰çš„ä¸å†æ˜¯ç³»ç»ŸæœåŠ¡ åœ¨æ´»åŠ¨ä¸­é€šè¿‡æŒ‰é’®å‘é€å¹¿æ’­å¹¶æºå¸¦æ•°æ® Button btn_receiver = (Button)findViewById(R.id.btn_receiver); btn_receiver.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent = new Intent(&quot;com.example.helloworld.MY_RECEIVER&quot;); intent.putExtra(&quot;my_blog&quot;, &quot;test&quot;); sendBroadcast(intent); } }); åœ¨æ¥æ”¶å™¨ä¸­æ¥æ”¶æ•°æ®å¹¶æ˜¾ç¤º public class MyReceiver extends BroadcastReceiver { @Override public void onReceive(Context context, Intent intent) { String msg = intent.getStringExtra(&quot;my_blog&quot;); Toast.makeText(context, msg, Toast.LENGTH_SHORT).show(); } } 4.3.2 æœ‰åºå¹¿æ’­4.4 æœ¬åœ°å¹¿æ’­å…¨å±€ç³»ç»Ÿçš„å¹¿æ’­å­˜åœ¨å®‰å…¨éšæ‚£å®¹æ˜“è¢«å…¶ä»–ç¨‹åºæˆªè·ï¼Œæœ¬åœ°å¹¿æ’­åªèƒ½åœ¨ç¨‹åºå†…éƒ¨è¿›è¡Œä¼ é€’ï¼Œæé«˜å®‰å…¨æ€§ å¯¼å…¥ç¬¬ä¸‰æ–¹ä¾èµ–LocalBroadcastManager æ–°å»ºæœ¬åœ°å¹¿æ’­æ¥æ”¶å™¨ åœ¨æ´»åŠ¨ä¸­åŠ¨æ€æ³¨å†Œæ¥æ”¶å™¨ï¼Œå¹¶æ·»åŠ äº‹ä»¶å‘é€å¹¿æ’­ `javapublic class MainActivity extends AppCompatActivity { private IntentFilter intentFilter; private LocalBroadcastManager localBroadcastManager; private LocalReceiver localReceiver; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); ActivityController.addActivity(this); intentFilter = new IntentFilter(); localBroadcastManager = LocalBroadcastManager.getInstance(this); intentFilter.addAction(&quot;com.example.helloworld.LOCAL_BROADCAST&quot;); localReceiver = new LocalReceiver(); localBroadcastManager.registerReceiver(localReceiver, intentFilter); Button btn_local = (Button)findViewById(R.id.btn_local); btn_local.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent = new Intent(&quot;com.example.helloworld.LOCAL_BROADCAST&quot;); intent.putExtra(&quot;my_blog&quot;, &quot;test local&quot;); localBroadcastManager.sendBroadcast(intent); } }); } @Override public void onDestroy() { super.onDestroy(); localBroadcastManager.unregisterReceiver(localReceiver); } } &gt; æœ¬åœ°å¹¿æ’­åªèƒ½åŠ¨æ€æ³¨å†Œ ### 4.5 æœ€ä½³å®è·µâ€”â€”å¼ºåˆ¶ä¸‹çº¿ + åˆ›å»ºå¹¿æ’­æ¥æ”¶å™¨æ¥æ”¶å¼ºåˆ¶ä¸‹çº¿å¹¿æ’­ + æ¥æ”¶å™¨æ·»åŠ æç¤ºæ¡†æç¤ºå¼ºåˆ¶ä¸‹çº¿ + å…³é—­æ‰€æœ‰æ´»åŠ¨ï¼Œé€šè¿‡ActivityController + é‡å¯ç™»é™†æ´»åŠ¨ ## 5. æ•°æ®æŒä¹…åŒ– ### 5.1 æ–‡ä»¶å­˜å‚¨ æ–°å»ºä¸€ä¸ªæ–‡ä»¶æ“ä½œæ´»åŠ¨ï¼Œåœ¨å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ª`EditText` ```xml &lt;EditText android:id=&quot;@+id/file_edit&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;match_parent&quot; android:hint=&quot;edit in here&quot; /&gt; 5.1.1 å°†æ•°æ®å­˜å‚¨åˆ°æ–‡ä»¶åœ¨æ´»åŠ¨ä¸­æ·»åŠ ä»£ç ï¼Œç¼–å†™ä¿å­˜æ–‡ä»¶çš„æ–¹æ³•å¹¶ä¸”åœ¨æ´»åŠ¨é”€æ¯æ—¶è§¦å‘ä¿å­˜äº‹ä»¶ public class FileActivity extends AppCompatActivity { private EditText editText; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_file); editText = (EditText)findViewById(R.id.file_edit); } @Override protected void onDestroy() { super.onDestroy(); String input = editText.getText().toString(); save(input); } public void save(String inputText) { FileOutputStream fileOutputStream = null; BufferedWriter bufferedWriter = null; try { fileOutputStream = openFileOutput(&quot;data&quot;, Context.MODE_PRIVATE); bufferedWriter = new BufferedWriter(new OutputStreamWriter(fileOutputStream)); bufferedWriter.write(inputText); } catch (IOException e) { e.printStackTrace(); } finally { if(bufferedWriter != null) { try { bufferedWriter.close(); Toast.makeText(FileActivity.this, &quot;saved success&quot;, Toast.LENGTH_SHORT).show(); } catch (IOException e) { e.printStackTrace(); } } } } } 5.1.2 ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®åœ¨æ´»åŠ¨ä¸­å¢åŠ åŠ è½½æ–¹æ³•ï¼Œæ´»åŠ¨åˆ›å»ºæ—¶å…ˆè¯»å–æ–‡ä»¶ï¼Œæœ‰æ–‡ä»¶ç›´æ¥åŠ è½½ public class FileActivity extends AppCompatActivity { private EditText editText; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_file); editText = (EditText)findViewById(R.id.file_edit); String text = load(); if(!TextUtils.isEmpty(text)) { editText.setText(text); editText.setSelection(text.length()); Toast.makeText(FileActivity.this, &quot;loading success&quot;, Toast.LENGTH_SHORT).show(); } } Â·Â·Â· public String load() { FileInputStream in = null; BufferedReader reader = null; StringBuilder content = new StringBuilder(); try { in = openFileInput(&quot;data&quot;); reader = new BufferedReader(new InputStreamReader(in)); String line = &quot;&quot;; while((line = reader.readLine()) != null) { content.append(line); } } catch (IOException e) { e.printStackTrace(); } finally { if(reader != null) { try { reader.close(); } catch (IOException e) { e.printStackTrace(); } } } return content.toString(); } } 5.2 SharedPreferenceså­˜å‚¨å­˜å‚¨æ–‡ä»¶æ˜¯xmlæ ¼å¼ é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ´»åŠ¨ï¼Œå¸ƒå±€ä¸­æ·»åŠ ä¸¤ä¸ªæŒ‰é’®ï¼Œä¸€ä¸ªsaveä¸€ä¸ªload 5.2.1å°†æ•°æ®å­˜å‚¨åˆ°SharedPreferencesä¸­é¦–å…ˆéœ€è¦è·å–SharedPreferenceså¯¹è±¡ï¼ŒAndroidä¸­æä¾›äº†ä¸‰ç§æ–¹å¼è·å–SharedPreferenceså¯¹è±¡ Contextç±»ä¸­çš„getSharedPreferences()æ–¹æ³•ï¼Œä¸¤ä¸ªå‚æ•°ï¼šæŒ‡å®šSharedPreferencesæ–‡ä»¶åï¼›æŒ‡å®šæ“ä½œæ¨¡å¼ï¼Œç›®å‰åªæœ‰MODE_PRIVATEå¯é€‰ Activityç±»ä¸­getPreferences()æ–¹æ³•ï¼šåªæœ‰ä¸€ä¸ªå‚æ•°ï¼šæ“ä½œæ¨¡å¼ã€‚ï¼ˆé»˜è®¤å½“å‰æ´»åŠ¨åä¸ºSharedPreferencesæ–‡ä»¶åï¼‰ PreferenceManagerç±»ä¸­getDefaultSharedPreferences()æ–¹æ³•ï¼šé™æ€æ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ªContextå‚æ•°ï¼Œä½¿ç”¨å½“å‰åŒ…åä¸ºå‰ç¼€æ¥å‘½åSharedPreferencesæ–‡ä»¶ SharedPreferences.Editor editor = getSharedPreferences(&quot;data_preference&quot;, MODE_PRIVATE).edit(); editor.putString(&quot;name&quot;, &quot;Tom&quot;); editor.putInt(&quot;age&quot;, 20); editor.putBoolean(&quot;married&quot;, false); editor.apply(); 5.2.2ä»SharedPreferencesä¸­è¯»å–æ•°æ®ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºSharedPreferenceså­˜å‚¨æ–‡ä»¶éå¸¸ç®€å•ï¼Œè¯»å–æ–‡ä»¶æ›´ä¸ºç®€ä¾¿ï¼Œä»SharedPreferenceså¯¹è±¡ä¸­ä¸€ç³»åˆ—getæ–¹æ³•å³å¯è·å¾—æ•°æ® SharedPreferences editor_load = getSharedPreferences(&quot;data_preference&quot;, MODE_PRIVATE); String name = editor_load.getString(&quot;name&quot;, &quot;&quot;); int age = editor_load.getInt(&quot;age&quot;, 0); Boolean married = editor_load.getBoolean(&quot;married&quot;, false); 5.2.3 ä»£ç åŠæ•ˆæœå±•ç¤ºpublic class PreferencesActivity extends AppCompatActivity implements View.OnClickListener { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_preferences); Button btn_save = (Button)findViewById(R.id.btn_preference_save); btn_save.setOnClickListener(this); Button btn_load = (Button)findViewById(R.id.btn_preference_load); btn_load.setOnClickListener(this); } @Override public void onClick(View v) { switch (v.getId()) { case R.id.btn_preference_save: SharedPreferences.Editor editor = getSharedPreferences(&quot;data_preference&quot;, MODE_PRIVATE).edit(); editor.putString(&quot;name&quot;, &quot;Tom&quot;); editor.putInt(&quot;age&quot;, 20); editor.putBoolean(&quot;married&quot;, false); editor.apply(); Toast.makeText(PreferencesActivity.this, &quot;file save succeed&quot;, Toast.LENGTH_SHORT).show(); break; case R.id.btn_preference_load: SharedPreferences editor_load = getSharedPreferences(&quot;data_preference&quot;, MODE_PRIVATE); String name = editor_load.getString(&quot;name&quot;, &quot;&quot;); int age = editor_load.getInt(&quot;age&quot;, 0); Boolean married = editor_load.getBoolean(&quot;married&quot;, false); String marry = married?&quot;ç»“å©šäº†&quot;:&quot;æ²¡ç»“å©š&quot;; Toast.makeText(PreferencesActivity.this, name+&quot;ä»Šå¹´&quot;+age+&quot;å²&quot;+marry, Toast.LENGTH_SHORT).show(); break; default: break; } } } 5.3 æ•°æ®åº“SQLiteSQLiteæ˜¯ä¸€æ¬¾è½»é‡çº§å…³ç³»æ•°æ®åº“ï¼Œæ”¯æŒSQLè¯­æ³•ï¼Œéµå¾ªACID 5.3.1 åˆ›å»ºæ•°æ®åº“ç•¥ 5.3.2 LitePalæ“ä½œæ•°æ®åº“é€šè¿‡JavaBeanæ“ä½œæ•°æ®åº“ å¼•å…¥ä¾èµ–LitePal é…ç½®xmlæ˜ å°„app.src.mainç›®å½•ä¸‹æ–°å»ºassetsç›®å½•ï¼Œæ–°å»ºlitepal.xmlé…ç½®æ–‡ä»¶ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt; &lt;litepal&gt; &lt;dbname value=&quot;BookStore&quot; /&gt; &lt;version value=&quot;1&quot; /&gt; &lt;list&gt;&lt;/list&gt; &lt;/litepal&gt; ä¿®æ”¹Mainfestï¼Œapplicationæ–°åŠ å±æ€§android:name=&quot;org.litepal.LitePalApplication&quot; åˆ›å»ºæ•°æ®åº“åˆ›å»ºJavaBean æ·»åŠ æ´»åŠ¨ä»£ç ï¼Œå½“æ•°æ®åº“è®¿é—®ä¸€æ¬¡ä¹‹åå°±åˆ›å»ºäº† å¯¹æ•°æ®è¿›è¡Œæ“ä½œéœ€è¦è®©JavaBeanç»§æ‰¿DataSupport æ·»åŠ æ•°æ® æ›´æ–°æ•°æ®ä¸€ç§æ–¹æ³•æ˜¯å°†è¦ä¿®æ”¹çš„æ•°æ®å€¼å…¨éƒ¨setç„¶åsaveåœ¨setè¦ä¿®æ”¹çš„å€¼å†æ¬¡save å¦ä¸€ç§æ–¹æ³•ç”¨updateAll book.setPrice(14.5); book.updateAll(&quot;name = ? and author = ?&quot;, &quot;Tom&quot;,&quot;ç¬¬ä¸€è¡Œä»£ç &quot;); è®¾ç½®è¦ä¿®æ”¹çš„ä»·æ ¼ï¼Œç„¶åä½¿ç”¨updateAllæ–¹æ³•ï¼Œæ–¹æ³•ä¸­çš„å‚æ•°æ˜¯çº¦æŸæ¡ä»¶ï¼Œå½“å½“ä¸whereæŸ¥è¯¢ï¼Œåªä¿®æ”¹åŒ¹é…åˆ°çš„ä¿¡æ¯ åˆ é™¤æ•°æ®ä½¿ç”¨DataSupportä¸­çš„deleteAllæ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯çœ¼åˆ é™¤çš„è¡¨åï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æŸ¥è¯¢æ¡ä»¶ DataSupport.deleteAll(Book.class, &quot;price &lt; ?&quot;, &quot;14&quot;); æŸ¥è¯¢æ•°æ®ä½¿ç”¨ List&lt;Book&gt; list = DataSupport.findAll(Book.class);å¯ä»¥å°†æ‰€æœ‰çš„æ•°æ®è¿”å›åˆ°ä¸€ä¸ªListä¸­ æ­¤å¤–ï¼Œè¿˜æ”¯æŒåŸç”ŸæŸ¥è¯¢ Cursor cursor = DataSupport.findBySQL(&quot;select * from book where name = ?&quot;, &quot;ç¬¬ä¸€è¡Œä»£ç &quot;); è¿”å›çš„æ˜¯ä¸€ä¸ªCuesorå¯¹è±¡ï¼Œéœ€è¦å°†æ•°æ®ä¸€ä¸€å–å‡º 6. è·¨ç¨‹åºå…±äº«æ•°æ®â€”â€”å†…å®¹æä¾›å™¨6.1 è¿è¡Œæ—¶æƒé™å®‰å“6.0ä»¥ä¸ŠåŠ å…¥äº†è¿è¡Œæ—¶æƒé™ï¼Œå±é™©æƒé™éœ€è¦ç”¨æˆ·æˆæƒ å‚è€ƒä»£ç  public class PermissionActivity extends AppCompatActivity { List&lt;String&gt; contacts = new ArrayList&lt;&gt;(); ArrayAdapter&lt;String&gt; adapter; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_permission); ListView list = (ListView) findViewById(R.id.list_contact); adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, contacts); list.setAdapter(adapter); if (ContextCompat.checkSelfPermission(PermissionActivity.this, Manifest.permission.READ_CONTACTS) != PackageManager.PERMISSION_GRANTED) { ActivityCompat.requestPermissions(PermissionActivity.this, new String[]{Manifest.permission.READ_CONTACTS}, 1); } else { readContacts(); } } private void readContacts() { Cursor cursor = null; try { cursor = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, null, null, null); if(cursor != null) { while (cursor.moveToNext()) { String name = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME)); String number = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)); contacts.add(name+ &quot;\\n&quot; +number); } adapter.notifyDataSetChanged(); } } catch (Exception e) { e.printStackTrace(); } finally { if(cursor != null) { cursor.close(); } } } @Override public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) { super.onRequestPermissionsResult(requestCode, permissions, grantResults); switch (requestCode) { case 1: if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) { readContacts(); } else { Toast.makeText(PermissionActivity.this, &quot;no permission&quot;, Toast.LENGTH_SHORT).show(); } break; default: break; } } } 6.2 åˆ›å»ºå†…å®¹æä¾›å™¨7. è¿ç”¨æ‰‹æœºå¤šåª’ä½“7.1 ä½¿ç”¨é€šçŸ¥é¦–å…ˆè·å–é€šçŸ¥ç®¡ç†å™¨å¯¹è±¡ï¼Œç„¶ååˆ›å»ºé€šçŸ¥å¯¹è±¡ï¼Œé€šè¿‡é€šçŸ¥ç®¡ç†å™¨ä¸‹å‘é€šçŸ¥ï¼Œæ¯ä¸ªé€šçŸ¥çš„idéƒ½æ˜¯ä¸åŒçš„ ä»£ç ç¤ºä¾‹é€šè¿‡æŒ‰é’®è§¦å‘é€šçŸ¥ Button btn_notification = (Button)findViewById(R.id.btn_notification); btn_notification.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { NotificationManager manager = (NotificationManager)getSystemService(NOTIFICATION_SERVICE); Notification notification = new Notification.Builder(PermissionActivity.this) .setContentTitle(&quot;1æ¡æ–°æ¶ˆæ¯&quot;) .setContentText(&quot;XXXè¯·æ±‚æ·»åŠ å¥½å‹&quot;) .setWhen(System.currentTimeMillis()) .setSmallIcon(R.mipmap.ic_launcher) .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher)) .build(); manager.notify(1, notification); } }); è¿™é‡Œå¯ä»¥çœ‹åˆ°æŒ‰é’®ç‚¹å‡»ä¹‹åé€šçŸ¥æ æ˜¾ç¤ºäº†ä¸€æ¡é€šçŸ¥ ä½†æ˜¯ï¼Œè¿™é‡Œçš„é€šçŸ¥ä¸èƒ½ç‚¹å‡»ï¼Œè¦å†è®©å®ƒå¯ä»¥ç‚¹å‡» è¿™æ—¶éœ€è¦ç”¨åˆ°PendingIntentï¼Œå¯ä»¥ç†è§£ä¸ºå»¶æ—¶çš„Intent å°†ä»£ç ç¨ä½œæ”¹è£…ï¼Œå°±å¾—åˆ°äº†å¯ä»¥ç‚¹å‡»çš„é€šçŸ¥ Button btn_notification = (Button)findViewById(R.id.btn_notification); btn_notification.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent = new Intent(PermissionActivity.this, MainActivity.class); PendingIntent pendingIntent = PendingIntent.getActivity(PermissionActivity.this, 0, intent, 0); NotificationManager manager = (NotificationManager)getSystemService(NOTIFICATION_SERVICE); Notification notification = new Notification.Builder(PermissionActivity.this) .setContentTitle(&quot;1æ¡æ–°æ¶ˆæ¯&quot;) .setContentText(&quot;XXXè¯·æ±‚æ·»åŠ å¥½å‹&quot;) .setWhen(System.currentTimeMillis()) .setSmallIcon(R.mipmap.ic_launcher) .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher)) .setContentIntent(pendingIntent) .build(); manager.notify(1, notification); } }); è·ç¦»å®Œæˆè¿˜å·®ä¸€æ­¥ï¼Œç‚¹å‡»é€šçŸ¥ä¹‹åé€šçŸ¥åº”è¯¥æ˜¯æ¶ˆå¤±çš„ æœ‰ä¸¤ç§æ–¹æ³•ï¼š é€šçŸ¥è¿½åŠ setAutoCancelæ–¹æ³• Â·Â·Â· .setAutoCancel(true) é€šè¿‡é€šçŸ¥ç®¡ç†å™¨çš„canaelæ–¹æ³•æ ¹æ®é€šçŸ¥idæ¶ˆé™¤é€šçŸ¥ Â·Â·Â· NotificationManager manager = (NotificationManager)getSystemService(NOTIFICATION_SERVICE); manager.cancel(1) é•¿æ–‡æœ¬é€šçŸ¥ .setStyle(new Notification.BigTextStyle().bigText(&quot;* å½“URLæ²¡æœ‰æŒ‡å®šæ–‡ä»¶åæ—¶(æ¯”å¦‚ï¼šhttps://www.w3schools.com/css/)ï¼Œ&quot; + &quot;æœåŠ¡å™¨å°†è¿”å›é»˜è®¤çš„æ–‡ä»¶åï¼Œ&quot; + &quot;é€šç”¨çš„é»˜è®¤æ–‡ä»¶åæ˜¯ï¼šindex.htmlã€index.htmã€default.htmlã€å’Œdefault.html\\n&quot; + &quot;* ä½†å¦‚æœä½ çš„æœåŠ¡å™¨ä»…é…ç½®äº†â€œindex.htmlâ€ä½œä¸ºé»˜è®¤æ–‡ä»¶åï¼Œé‚£ä¹ˆä½ çš„æ–‡ä»¶å°±å¿…é¡»å‘½åindex.htmlï¼Œä¸èƒ½ç”¨index.htm\\n&quot; + &quot;* ä¸è¿‡æœåŠ¡å™¨å¯ä»¥é…ç½®å¤šä¸ªé»˜è®¤çš„æ–‡ä»¶åï¼Œæ‰€ä»¥ä½ å¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®å¤šä¸ªé»˜è®¤æ–‡ä»¶å\\n&quot; + &quot;* æ€»è€Œè¨€ä¹‹ï¼ŒHTMLæ–‡ä»¶çš„å®Œæ•´æ‰©å±•åæ˜¯.htmlï¼Œæˆ‘ä»¬æ²¡æœ‰ç†ç”±ä¸ç”¨å®ƒå•Š~~~&quot;)) å›¾ç‰‡é€šçŸ¥ï¼š .setStyle(new Notification.BigPictureStyle().bigPicture(BitmapFactory.decodeResource(getResources(), R.drawable.wj))) 7.2 è°ƒç”¨æ‘„åƒå¤´å’Œç›¸å†Œ8. ç½‘ç»œ8.1 webViewåº”ç”¨ç¨‹åºå†…å¼•å…¥ç½‘é¡µï¼Œä¸éœ€è¦æ‰“å¼€ç³»ç»Ÿæµè§ˆå™¨ åˆ›å»ºæ´»åŠ¨ï¼Œå¸ƒå±€æ·»åŠ webviewç»„ä»¶ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.WebActivity&quot;&gt; &lt;WebView android:id=&quot;@+id/web_view&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; /&gt; &lt;/LinearLayout&gt; ç¼–è¾‘æ´»åŠ¨ä»£ç  public class WebActivity extends AppCompatActivity { @SuppressLint(&quot;SetJavaScriptEnabled&quot;) @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_web); WebView webView = (WebView)findViewById(R.id.web_view); // è®¾ç½®å…è®¸jsï¼Œå¦åˆ™ç½‘é¡µé€»è¾‘å¯èƒ½æ— æ³•è¿è¡Œ webView.getSettings().setJavaScriptEnabled(true); webView.setWebViewClient(new WebViewClient()); webView.loadUrl(&quot;http://www.baidu.com&quot;); } } è¯¥æ´»åŠ¨éœ€è¦ç½‘ç»œæƒé™ &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt; 8.2 HTTPåè®®è®¿é—®ç½‘ç»œ8.2.1 HttpURLConnectionå®‰å“ä¸Šå‘é€HTTPè¯·æ±‚æœ‰ä¸¤ç§æ–¹å¼HttpURLConnectionå’ŒHttpClientï¼Œç”±äºHttpClientdçš„APIæ•°é‡å¤šï¼Œæ‰©å±•å›°éš¾å·²ç»åœ¨6.0è¢«ç§»é™¤ åˆ›å»ºå¸ƒå±€ &lt;Button android:id=&quot;@+id/btn_http&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:text=&quot;HTTPè¯·æ±‚&quot; /&gt; &lt;TextView android:id=&quot;@+id/text_http&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; /&gt; ç¼–è¾‘æ´»åŠ¨ä»£ç  public class WebActivity extends AppCompatActivity { TextView responseText; @SuppressLint(&quot;SetJavaScriptEnabled&quot;) @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_web); Button sentRequest = (Button)findViewById(R.id.btn_http); responseText = (TextView)findViewById(R.id.text_http); sentRequest.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { sendRequestWithHttpURLConnection(); } }); } private void sendRequestWithHttpURLConnection() { new Thread(new Runnable() { @Override public void run() { // åˆ›å»ºHttpURLConnectionå¯¹è±¡ HttpURLConnection connection = null; BufferedReader reader = null; try { // URL URL url = new URL(&quot;http://www.baidu.com&quot;); connection = (HttpURLConnection)url.openConnection();// å»ºç«‹è¿æ¥ connection.setRequestMethod(&quot;GET&quot;);// è¯·æ±‚æ–¹å¼ connection.setConnectTimeout(8000);// è¶…æ—¶æ—¶é—´ connection.setReadTimeout(8000); InputStream in = connection.getInputStream(); // è·å–è¾“å…¥æµ reader = new BufferedReader(new InputStreamReader(in)); StringBuilder response = new StringBuilder(); String line; while ((line = reader.readLine()) != null) { response.append(line); } showResponse(response.toString()); } catch (Exception e) { e.printStackTrace(); } finally { // å®Œæˆåéœ€è¦å…³é—­è¿æ¥ if(reader != null) { try { reader.close(); } catch (IOException e) { e.printStackTrace(); } } if(connection != null) { connection.disconnect(); } } } }).start(); } private void showResponse(final String response) { runOnUiThread(new Runnable() { @Override public void run() { responseText.setText(response); } }); } } è€—æ—¶çš„æ“ä½œä¸èƒ½å†ä¸»çº¿ç¨‹ä¸­è¿›è¡Œï¼Œå¼€ä¸€ä¸ªçº¿ç¨‹å¤„ç†ï¼› new Thread().start; ä¸è¦å¿½ç•¥start æ›´æ–°UIä¸èƒ½åœ¨å­çº¿ç¨‹ä¸­ï¼Œä¼šé—ªé€€ï¼Œé€šè¿‡runOnUiThreadåˆ‡æ¢å›ä¸»çº¿ç¨‹ POSTè¯·æ±‚ connection.setRequestMethod(&quot;POST&quot;);// è¯·æ±‚æ–¹å¼ DataOutputStream out = new DataOutputStream(connection.getOutputStream()); out.writeBytes(&quot;name=Tom&amp;password=123456&quot;); åœ¨è·å–è¾“å…¥æµä¹‹å‰æŠŠè¦æäº¤çš„æ•°æ®å†™å…¥ 8.2.2 ä½¿ç”¨OKHttpåœ¨AndroidXä¸­æ·»åŠ ä¾èµ–okhttpï¼ˆsquareupå…¬å¸çš„ï¼‰ æ·»åŠ æ–°çš„æ–¹æ³•ä½¿ç”¨OkHttpï¼ŒæŠŠbuttonçš„ç»‘å®šäº‹ä»¶æ”¹ä¸ºsendRequestWithOkHttp private void sendRequestWithOkHttp() { new Thread(new Runnable() { @Override public void run() { try { OkHttpClient client = new OkHttpClient(); Request request = new Request.Builder() .url(&quot;http://www.baidu.com&quot;).build(); Response response = client.newCall(request).execute(); String responseData = Objects.requireNonNull(response.body()).string(); showResponse(responseData); } catch (Exception e) { e.printStackTrace(); } } }).start(); } å°±å¯ä»¥çœ‹åˆ°è·ŸåŸæ¥ä¸€æ ·çš„æ•ˆæœ 8.3 è§£æXMLæ•°æ®è¿›è¡Œç½‘ç»œä¼ è¾“é€šå¸¸æœ‰ä¸¤ç§æ ¼å¼XMLå’ŒJSON è¯¾æœ¬P334 8.4 è§£æJSONæ•°æ® ä½¿ç”¨GSON æ·»åŠ ä¾èµ–gson å¯ä»¥æŠŠJSONçš„æ ¼å¼æ˜ å°„æˆä¸€ä¸ªå¯¹è±¡ 8.5 ç½‘ç»œæ–¹æ³•å°è£…å°†ç½‘ç»œæ–¹æ³•å°è£…åˆ°HttpUtilç±»ä¸­ï¼Œæ–¹æ³•ä½œä¸ºé™æ€æ–¹æ³•ç›´æ¥è°ƒç”¨ å¦‚ public class HttpUtil { public static void sendGetRequestWithOkHttp(String address, okhttp3.Callback callback) { OkHttpClient client = new OkHttpClient(); Request request = new Request.Builder() .url(address) .build(); client.newCall(request).enqueue(callback); } } è°ƒç”¨ private void sendRequestWithOkHttp() { new Thread(new Runnable() { @Override public void run() { HttpUtil.sendGetRequestWithOkHttp(&quot;http://www.baidu.com&quot;, new okhttp3.Callback() { @Override public void onResponse(@NotNull Call call, @NotNull Response response) throws IOException { String responseData = Objects.requireNonNull(response.body()).string(); showResponse(responseData); } @Override public void onFailure(@NotNull Call call, @NotNull IOException e) { e.printStackTrace(); } }); } }).start(); }","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/tags/ç¬”è®°/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"Vueä¸­çš„è·¨åŸŸé—®é¢˜","slug":"æŠ€æœ¯/Vueä¸­çš„è·¨åŸŸé—®é¢˜","date":"2020-09-07T10:08:59.597Z","updated":"2020-09-07T11:12:50.343Z","comments":true,"path":"2020/09/07/æŠ€æœ¯/Vueä¸­çš„è·¨åŸŸé—®é¢˜/","link":"","permalink":"https://easyremember.cn/2020/09/07/æŠ€æœ¯/Vueä¸­çš„è·¨åŸŸé—®é¢˜/","excerpt":"","text":"Vueä¸­çš„è·¨åŸŸé—®é¢˜ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿè·¨åŸŸé—®é¢˜å…¶å®å°±æ˜¯æµè§ˆå™¨çš„åŒæºç­–ç•¥æ‰€å¯¼è‡´çš„ã€‚ ã€ŒåŒæºç­–ç•¥ã€æ˜¯ä¸€ä¸ªé‡è¦çš„å®‰å…¨ç­–ç•¥ï¼Œå®ƒç”¨äºé™åˆ¶ä¸€ä¸ªoriginçš„æ–‡æ¡£æˆ–è€…å®ƒåŠ è½½çš„è„šæœ¬å¦‚ä½•èƒ½ä¸å¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚å®ƒèƒ½å¸®åŠ©é˜»éš”æ¶æ„æ–‡æ¡£ï¼Œå‡å°‘å¯èƒ½è¢«æ”»å‡»çš„åª’ä»‹ã€‚ MDN ä»€ä¹ˆæ˜¯åŒæºå‘¢ï¼Ÿ åè®®+åŸŸå+ç«¯å£ï¼Œä¸‰è€…ä¸€è‡´è®¤ä¸ºæ˜¯åŒæº ä¾‹å¦‚ï¼š http://www.baidu.com:8080å’Œhttp://www.baidu.com:8081äºŒè€…ç«¯å£ä¸ä¸€æ ·ï¼Œè·¨åŸŸ http://www.jingdong.comå’Œhttp://www.baidu.comäºŒè€…åŸŸåä¸ä¸€æ ·ï¼Œè·¨åŸŸ https://www.baidu.comå’Œhttp://www.baidu.comäºŒè€…åè®®ç«¯å£éƒ½ä¸ä¸€æ ·ï¼Œè·¨åŸŸï¼ˆhttps://é»˜è®¤ç«¯å£443ï¼Œhttp://é»˜è®¤ç«¯å£80ï¼‰ http://www.baidu.com/a.jså’Œhttp://www.baidu.com/b.jsï¼Œè¿™ä¸¤è€…æ˜¯åŒæºçš„ æ€ä¹ˆè§£å†³è·¨åŸŸ é€šè¿‡jsonpè·¨åŸŸ document.domain + iframeè·¨åŸŸ location.hash + iframe window.name + iframeè·¨åŸŸ postMessageè·¨åŸŸ è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰ nginxä»£ç†è·¨åŸŸ nodejsä¸­é—´ä»¶ä»£ç†è·¨åŸŸ WebSocketåè®®è·¨åŸŸ åŠ ç²—ä¸ºå¸¸ç”¨ï¼ŒjsonpåŸºæœ¬è¿‡æ—¶ï¼Œäº†è§£ä¸€ä¸‹åŸç† JSONPåœ¨å‘é€Ajaxè¯·æ±‚æ—¶ï¼Œä¸è®ºè¯·æ±‚çš„èµ„æºæ˜¯ä½•ç§ç±»å‹éƒ½é€šä¸è¿‡åŒæºç­–ç•¥ï¼Œä½†æ˜¯ï¼ï¼ï¼ä½ ä¼šå‘ç°&lt;script&gt;ã€&lt;img&gt;ã€&lt;iframe&gt;ç­‰æ²¡æœ‰è¿™ç§é™åˆ¶ã€‚ç„¶åï¼Œjsæ˜¯æ”¯æŒjsonçš„ï¼Œé‚£ä¹ˆæŠŠjsonæ•°æ®æ”¾åˆ°jsä¸­å°±å¯ä»¥æ¥æ”¶äº†ã€‚åºŸè¯å°‘è¯´ä¸Šä»£ç  &lt;!--æœ¬åœ°è¯·æ±‚--&gt; &lt;script&gt; var local = function(data) { console.log(&#39;è¯·æ±‚åˆ°çš„æ•°æ®æ˜¯ï¼š&#39;, data); } &lt;/script&gt; &lt;script src=&quot;/js/jsonp.js&quot;&gt;&lt;/script&gt;&lt;!--å¯ä»¥æ˜¯è¯·æ±‚æ¥å£--&gt; &lt;!--æœåŠ¡å™¨ï¼ˆjsï¼‰--&gt; local(&#39;data from jsonp!&#39;) ç„¶åè¿è¡Œé¡µé¢ å®Œäº‹ï¼Œè¿™å°±æ˜¯jsonpï¼Œjqueryçš„ajaxä¸­ä¹Ÿæä¾›äº†jsonpçš„è¯·æ±‚æ–¹å¼ï¼Œç¼ºé™·åªèƒ½å‘é€GETè¯·æ±‚ CORSæ™®é€šè·¨åŸŸè¯·æ±‚ï¼šåªæœåŠ¡ç«¯è®¾ç½®Access-Control-Allow-Originå³å¯ï¼Œå‰ç«¯æ— é¡»è®¾ç½®ï¼Œè‹¥è¦å¸¦cookieè¯·æ±‚ï¼šå‰åç«¯éƒ½éœ€è¦è®¾ç½®ã€‚ Vueè·¨åŸŸè§£å†³åœ¨vue.config.jsä¸­é…ç½®è·¨åŸŸï¼Œæ³¨é‡Šå·²ç»å¾ˆæ¸…æ¥šäº†å§ï¼Œä¸æ‡‚å¯ä»¥QQï¼Œå¾®ä¿¡ï¼Œç”µé‚®é—®æˆ‘ module.exports = { devServer: { host: &quot;localhost&quot;, port: 8000, // ç«¯å£å· https: false, // æ˜¯å¦https open: true, //é…ç½®è‡ªåŠ¨å¯åŠ¨æµè§ˆå™¨ // proxy: &#39;http://127.0.0.1:8080&#39; // é…ç½®è·¨åŸŸå¤„ç†,åªæœ‰ä¸€ä¸ªä»£ç† // é…ç½®å¤šä¸ªä»£ç† proxy: { &#39;/socket.io&#39;: { target: &#39;http://127.0.0.1:7001/&#39;, // è¦è®¿é—®çš„æ¥å£ ws: true, // æ˜¯å¦å¯ç”¨websockets changeOrigin: true, //å¼€å¯ä»£ç†ï¼šåœ¨æœ¬åœ°ä¼šåˆ›å»ºä¸€ä¸ªè™šæ‹ŸæœåŠ¡ç«¯ï¼Œç„¶åå‘é€è¯·æ±‚çš„æ•°æ®ï¼Œå¹¶åŒæ—¶æ¥æ”¶è¯·æ±‚çš„æ•°æ®ï¼Œè¿™æ ·æœåŠ¡ç«¯å’ŒæœåŠ¡ç«¯è¿›è¡Œæ•°æ®çš„äº¤äº’å°±ä¸ä¼šæœ‰è·¨åŸŸé—®é¢˜ pathRewrite: { &#39;^/api&#39;: &#39;&#39; //åœ¨è¯·æ±‚ä¸­ç”¨&#39;/api&#39;ä»£æ›¿targeté‡Œé¢çš„åœ°å€,æ¯”å¦‚æˆ‘è¦è°ƒç”¨&#39;http://40.00.100.100:3002/user/add&#39;ï¼Œç›´æ¥å†™&#39;/api/user/add&#39;å³å¯ } }, } } };","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Socket.IOå‰ç«¯åç«¯ä¸€èµ·æ‹¿æ","slug":"æŠ€æœ¯/Socket.IOå‰ç«¯åç«¯ä¸€èµ·æ‹¿æ","date":"2020-09-07T09:17:53.747Z","updated":"2020-09-08T11:08:21.502Z","comments":true,"path":"2020/09/07/æŠ€æœ¯/Socket.IOå‰ç«¯åç«¯ä¸€èµ·æ‹¿æ/","link":"","permalink":"https://easyremember.cn/2020/09/07/æŠ€æœ¯/Socket.IOå‰ç«¯åç«¯ä¸€èµ·æ‹¿æ/","excerpt":"","text":"Socket.IOå‰ç«¯åç«¯ä¸€èµ·æ‹¿æåç«¯â€”â€”Egg ç¯å¢ƒæ­å»ºåç«¯socketä½¿ç”¨Eggçš„å‘¨è¾¹â€”â€”egg-socket.io å®‰è£…è¿è¡Œå‘½ä»¤å®‰è£… $ npm i egg-socket.io --save é…ç½®åœ¨pluginä¸­å¼€å¯æ’ä»¶ io: { enable: true, package: &#39;egg-socket.io&#39;, }, åœ¨configä¸­é…ç½®æ’ä»¶ç›¸å…³ä¿¡æ¯ // socket config.io = { // init: { wsEngine: &#39;uws&#39; }, init: {}, // é»˜è®¤ws namespace: { // å‘½åç©ºé—´ &#39;/&#39;: { connectionMiddleware: [ &#39;connection&#39; ], // è¿æ¥ä¸­é—´ä»¶ packetMiddleware: [ &#39;filter&#39; ], // æ•°æ®åŒ…ä¸­é—´ä»¶ }, }, }; ç›®å½•ç»“æ„ ç¼–ç é¦–å…ˆæŠŠåˆšæ‰é…ç½®æ–‡ä»¶ä¸­çš„ä¸¤ä¸ªä¸­é—´ä»¶ç¼–å†™å®Œæˆ connection.ts import { Context } from &#39;egg&#39;; // è¿™ä¸ªä¸­é—´ä»¶çš„ä½œç”¨æ˜¯æç¤ºç”¨æˆ·è¿æ¥ä¸æ–­å¼€çš„ï¼Œè¿æ¥æˆåŠŸçš„æ¶ˆæ¯å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œæ–­å¼€è¿æ¥çš„æ¶ˆæ¯åœ¨æœåŠ¡ç«¯æ‰“å° export default function connection(): any { return async (ctx: Context, next: () =&gt; Promise &lt; any &gt;) =&gt; { ctx.socket.emit(&#39;res&#39;, &#39;connected!&#39;); await next(); // execute when disconnect. console.log(&#39;disconnection!&#39;); }; } filter.ts import { Context } from &#39;egg&#39;; // è¿™ä¸ªä¸­é—´ä»¶çš„ä½œç”¨æ˜¯å°†æ¥æ”¶åˆ°çš„æ•°æ®å†å‘é€ç»™å®¢æˆ·ç«¯ export default function filter(): any { return async (ctx: Context, next: () =&gt; Promise&lt;any&gt;) =&gt; { ctx.socket.emit(&#39;res&#39;, &#39;packet received!&#39;); console.log(&#39;packet:&#39;, ctx.packet); await next(); }; } ç„¶åé…ç½®è·¯ç”±ï¼Œé€šè¿‡è·¯ç”±åˆ†å‘ç»™controllerå¤„ç† import { Application } from &#39;egg&#39;; export default (app: Application) =&gt; { const { controller, router, middleware, io } = app; io.route(&#39;chat&#39;, io.controller.chat.index); // è¿™é‡Œéœ€è¦æ³¨æ„routeçš„ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¦ä¸ç¬¬äºŒä¸ªå‚æ•°controllerçš„æ–‡ä»¶åä¸€è‡´ // å¦‚æœé…ç½®ä¸­æœ‰å…¶ä»–çš„å‘½åç©ºé—´â€˜/othernameâ€™ï¼Œè·¯ç”±é…ç½®æ–¹æ³•å¦‚ä¸‹ // io.of(&#39;/othername&#39;).route(&#39;default&#39;, io.controller.default.index); }; æ³¨æ„ï¼Œå› ä¸ºegg-socket.ioä¸­æ²¡æœ‰.d.tsï¼Œæ‰€ä»¥ioä¼šæŒ‚è½½ä¸åˆ°appä¸Šï¼Œåœ¨ä¸‹é¢çš„ç›®å½•ä¸‹æ·»åŠ ä»£ç å³å¯ æ·»åŠ ä»£ç å¦‚ä¸‹ import { Socket, Server } from &#39;socket.io&#39;; declare module &#39;egg&#39; { export interface Application { io: Serverr &amp; EggSocketIO &amp; Namespace; } export interface Context { socket: Socket } interface EggSocketIO { middleware: xxx; controller: xxx; } interface Namespace { route(event: string, handler: Function): any } } ç„¶åå°±æ˜¯controllerçš„ä»£ç äº† import { Controller } from &#39;egg&#39;; export default class ChatController extends Controller { public async index() { const { ctx } = this; const message = ctx.args[0]; ctx.socket.emit(&#39;res&#39;, `Hi! I&#39;ve got your message: ${message}`); // è¿™é‡Œå¯ä»¥è°ƒç”¨serviceï¼Œåªæ˜¯ç¤ºä¾‹å°±ä¸æè¾£ä¹ˆå¤æ‚äº† } } /* // åœ¨controller ä¸­ // å‘é€ç»™è‡ªå·± this.socket.emit(&#39;eventName&#39;, &#39;value&#39;); // å‘é€ç»™é™¤äº†è‡ªå·±å¤–çš„æ‰€æœ‰äºº this.socket.broadcast.emit(&#39;eventName&#39;, &#39;value&#39;); // å‘é€ç»™æ‰€æœ‰äººï¼ŒåŒ…æ‹¬è‡ªå·± this.server.sockets.emit(&#39;eventName&#39;, &#39;value&#39;); */ æµ‹è¯•ä»£ç å†™å®Œç„¶åä½¿ç”¨socket.io-clientæµ‹è¯•ä¸€ä¸‹è¿æ¥ï¼ˆéœ€è¦ä½¿ç”¨npmå®‰è£…ï¼Œ npm install socket.io-client â€“saveï¼‰ // eslint-disable-next-line @typescript-eslint/no-var-requires const socket = require(&#39;socket.io-client&#39;)(&#39;http://127.0.0.1:7001/&#39;); socket.on(&#39;connect&#39;, () =&gt; { console.log(&#39;connect!&#39;); socket.emit(&#39;chat&#39;, &#39;hello world!&#39;); }); socket.on(&#39;res&#39;, msg =&gt; { console.log(&#39;res from server: %s!&#39;, msg); }); ç„¶ånode ./client.js å®¢æˆ·ç«¯è¿è¡Œç»“æœå¦‚ä¸‹ æœåŠ¡ç«¯ç»“æœå¦‚ä¸‹ï¼ˆå…³é—­æœåŠ¡ç«¯æ—¶è§¦å‘ä¸­é—´ä»¶ï¼Œæ‰“å°äº†disconnectionï¼‰ è¯•äº†å¾ˆå¤šåŠæ³•ï¼Œä¸€ç›´æ²¡æ³•ç”¨wsè®¿é—®è¿æ¥ï¼Œåªèƒ½é€šè¿‡socket.io-clientè·‘é€š ä»£ç ä»£ç å·²ç»ä¸Šä¼ ç äº‘#socket å‰ç«¯â€”â€”Vue å‰ç«¯ä½¿ç”¨vue-socket.ioï¼Œè¿™å…¶å®æ˜¯å¯¹socket.io-clientçš„å°è£…ï¼Œç„¶åæŒ‚è½½åˆ°Vueå®ä¾‹ ä½¿ç”¨ä¹Ÿæ˜¯å¾ˆç®€å•ï¼Œå®‰è£…npmåŒ… $ npm install vue-socket.io --save ç„¶åé…ç½®main.jsï¼Œå°†ç»„ä»¶æŒ‚è½½åˆ°Vueå®ä¾‹ import Vue from &#39;vue&#39; import App from &#39;./App.vue&#39; import router from &#39;./router&#39; import store from &#39;./store&#39; import VueSocketIO from &#39;vue-socket.io&#39; Vue.config.productionTip = false Vue.use(new VueSocketIO({ debug: false, // ç”Ÿäº§ç¯å¢ƒå…³é—­ connection: &#39;http://127.0.0.1:7001&#39;, vuex: { // store, // actionPrefix: &#39;SOCKET_&#39;, // mutationPrefix: &#39;SOCKET_&#39; }, // options: { path: &quot;/my-app/&quot; } })) new Vue({ router, store, render: h =&gt; h(App) }).$mount(&#39;#app&#39;) ç„¶åæ–°å»ºä¸€ä¸ªpageï¼Œè¿™é‡ŒåªåŠ äº†ä¸€ä¸ªç®€å•çš„æŒ‰é’®æ¥è§¦å‘äº‹ä»¶ &lt;template&gt; &lt;div&gt; &lt;button @click=&quot;sendMessageToServer&quot;&gt;send&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { msg: &#39;&#39; } }, sockets: { connect: function () { console.log(&#39;è¿æ¥æˆåŠŸ&#39;); }, res: function (val) { console.log(&#39;æ¥æ”¶åˆ°æœåŠ¡ç«¯æ¶ˆæ¯:&#39;, val); }, }, methods: { sendMessageToServer: function() { this.$socket.emit(&#39;chat&#39;, &#39;test111&#39;); // ç¬¬ä¸€ä¸ªå‚æ•°å†³å®šäº†è°ƒç”¨åç«¯çš„å“ªä¸ªsocketè·¯ç”± } } } &lt;/script&gt; &lt;style lang=&quot;less&quot; scoped&gt; &lt;/style&gt; ç„¶åè¿è¡Œé¡¹ç›®ï¼ŒæŸ¥çœ‹æ•ˆæœ å®æˆ˜å…ˆæ¥çœ‹æ•ˆæœ ä¸œè¥¿å°±è¿™ä¹ˆä¸ªä¸œè¥¿ï¼Œæ„Ÿè§‰æ²¡å•¥å¥½è¯´çš„ï¼Œç›´æ¥ä¸Šä»£ç å§ï¼Œä¼ é€é—¨ ä¸»è¦è®°ä¸€ä¸‹è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ ç»™è¾“å…¥æ¡†æ·»åŠ å›è½¦äº‹ä»¶æ—¶ï¼Œç¬¬ä¸‰æ–¹æ¡†æ¶ä¸­ä¸å¯ä»¥ç›´æ¥ç”¨`@keyup.enterï¼Œè€Œæ˜¯è¦ç”¨@keyup.enter.native` åç«¯åœ¨å¾€å‰ç«¯å‘é€æ¶ˆæ¯æ—¶ä½¿ç”¨çš„ä¸»é¢˜æ˜¯ä»€ä¹ˆï¼Œå‰ç«¯å°±ç”¨ä»€ä¹ˆä¸»é¢˜æ¥æ”¶ï¼Œæ¯”å¦‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"node","slug":"node","permalink":"https://easyremember.cn/tags/node/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Vueæ’æ§½ç»„ä»¶","slug":"æŠ€æœ¯/Vueç»„ä»¶ä¹‹slotæ’æ§½","date":"2020-08-30T08:09:24.323Z","updated":"2020-09-05T09:34:39.830Z","comments":true,"path":"2020/08/30/æŠ€æœ¯/Vueç»„ä»¶ä¹‹slotæ’æ§½/","link":"","permalink":"https://easyremember.cn/2020/08/30/æŠ€æœ¯/Vueç»„ä»¶ä¹‹slotæ’æ§½/","excerpt":"","text":"Vueç»„ä»¶ä¹‹slotæ’æ§½ vueé‡Œæä¾›äº†ä¸€ç§å°†çˆ¶ç»„ä»¶çš„å†…å®¹å’Œå­ç»„ä»¶çš„æ¨¡æ¿æ•´åˆçš„æ–¹æ³•ï¼šå†…å®¹åˆ†å‘ï¼Œé€šè¿‡slotæ’æ§½æ¥å®ç°ã€‚ åŒ¿åæ’æ§½çˆ¶ç»„ä»¶ä½¿ç”¨å­ç»„ä»¶æ—¶ï¼Œåœ¨å­ç»„ä»¶æ ‡ç­¾å†…éƒ¨ç¼–å†™å†…å®¹ï¼Œå­ç»„ä»¶å†…éƒ¨å¯ä»¥ä½¿ç”¨æ¥æ¥æ”¶ä¼ å…¥çš„å†…å®¹ï¼Œæ’æ§½å¯ä»¥è®¾ç½®é»˜è®¤å†…å®¹ï¼Œå½“æ— å†…å®¹ä¼ å…¥æ—¶ä½¿ç”¨é»˜è®¤å†…å®¹ &lt;!-- SlotTest.vue --&gt; &lt;template&gt; &lt;div&gt; ä¸‹é¢æ˜¯soltæ¥æ”¶åˆ°çš„å€¼ï¼š &lt;slot&gt;default data&lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; åœ¨çˆ¶ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨å­ç»„ä»¶ï¼Œæ²¡æœ‰ä¼ å…¥æ•°æ® &lt;template&gt; &lt;div&gt; &lt;slot-test&gt; &lt;!-- data from father --&gt; &lt;/slot-test&gt; &lt;/div&gt; &lt;/template&gt; å¯ä»¥çœ‹åˆ°æ¸²æŸ“å­ç»„ä»¶çš„æ—¶å€™ä½¿ç”¨äº†é»˜è®¤å€¼ ç„¶åå°†å­ç»„ä»¶ä¸­åŠ å…¥æ•°æ®ï¼Œå­ç»„ä»¶ä¸­æ¸²æŸ“äº†çˆ¶ç»„ä»¶ä¸­ä¼ å…¥çš„æ•°æ® çˆ¶çº§æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ï¼›å­æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨å­ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ã€‚ æ„æ€æ˜¯ï¼šé€šè¿‡è¿™ç§æ–¹å¼ä¼ é€’çš„å‚æ•°ï¼ˆdata=â€slot dataâ€ï¼‰ï¼Œåªèƒ½åœ¨å­ç»„ä»¶ä¸­è®¿é—®åˆ°ï¼ˆé€šè¿‡propsæ¥æ”¶ï¼‰ï¼Œçˆ¶ç»„ä»¶ä¸­æ˜¯è®¿é—®ä¸åˆ°çš„ å…·åæ’æ§½å½“ç»„ä»¶ä¸­éœ€è¦å¤šä¸ªæ’æ§½æ—¶ï¼Œä½¿ç”¨åŒ¿åæ’æ§½ä¼šéå¸¸ä¸æ–¹ä¾¿ æ ‡ç­¾æœ‰ä¸€ä¸ªnameå±æ€§ï¼Œç”¨æ¥å®šä¹‰é¢å¤–æ’æ§½ï¼Œå…·åæ’æ§½ä¸­çš„å†…å®¹ä½¿ç”¨æ ‡ç­¾åŒ…è£¹ï¼Œå£°æ˜v-slot:nameï¼Œé…å¯¹çš„å†…å®¹æ”¾ç½®åˆ°ç›¸åº”çš„æ’æ§½å†…éƒ¨ï¼Œå…¶ä½™å†…å®¹æ”¾ç½®åˆ°é»˜è®¤æ’æ§½ä¸­ &lt;!-- father --&gt; &lt;template&gt; &lt;div&gt; &lt;slot-test&gt; è¿™é‡Œ &lt;template v-slot:first&gt; ç¬¬ä¸€ä¸ªæ’æ§½ &lt;/template&gt; &lt;template v-slot:second&gt; ç¬¬äºŒä¸ªæ’æ§½ &lt;/template&gt; å…¶ä½™å†…å®¹å…¨éƒ¨æ”¾åˆ°é»˜è®¤æ’æ§½ &lt;/slot-test&gt; &lt;/div&gt; &lt;/template&gt; &lt;!-- son --&gt; &lt;template&gt; &lt;div&gt; ä¸‹é¢æ˜¯soltæ¥æ”¶åˆ°çš„å€¼ï¼š 1. &lt;slot name=&quot;first&quot;&gt;default data&lt;/slot&gt; 2. &lt;slot name=&quot;second&quot;&gt;default data&lt;/slot&gt; 3. &lt;slot&gt;default data&lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; æ¥çœ‹ä¸€ä¸‹çœ¼æ•ˆæœï¼Œå¾ˆæ¸…æ™°æ˜äº†ã€‚ä»»ä½•æ²¡æœ‰è¢«åŒ…è£¹åœ¨å¸¦æœ‰ v-slot çš„ &lt;template&gt; ä¸­çš„å†…å®¹éƒ½ä¼šè¢«è§†ä¸ºé»˜è®¤æ’æ§½çš„å†…å®¹ï¼Œç›¸å½“äº ä½œç”¨åŸŸæ’æ§½å½“æˆ‘ä»¬æƒ³åœ¨çˆ¶ç»„ä»¶ä¸­è®¿é—®å­ç»„ä»¶å†…éƒ¨çš„ä¸€äº›æ•°æ®æ—¶ï¼Œå°±éœ€è¦åœ¨å­ç»„ä»¶å†…éƒ¨çš„å…ƒç´ ä¸ŠåŠ¨æ€ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰å±æ€§ï¼Œå°†æ•°æ®ä¼ é€’åˆ°è‡ªå®šä¹‰å±æ€§ä¸Šï¼Œé€šè¿‡slotä¼ é€’ç»™çˆ¶ç»„ä»¶ä½¿ç”¨ ä»£ç ç¤ºä¾‹ &lt;!-- å­ç»„ä»¶ --&gt; &lt;template&gt; &lt;div&gt; &lt;slot name=&quot;user&quot; v-bind:user=&quot;user&quot;&gt; &lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { user: { name: &#39;å¼ ä¸‰&#39;, age: 15 } } }, } &lt;/script&gt; &lt;!-- çˆ¶ç»„ä»¶ --&gt; &lt;template&gt; &lt;div&gt; &lt;slot-test&gt; &lt;template v-slot:user=&quot;slotProps&quot;&gt; {{slotProps.user.name}}ä»Šå¹´{{slotProps.user.age}}å²ã€‚ &lt;/template&gt; &lt;/slot-test&gt; &lt;/div&gt; &lt;/template&gt; å½“ç‹¬å é»˜è®¤æ’æ§½æ—¶å¯ä»¥ç®€å†™ä¸ºï¼ˆä¸å¯ä»¥å’Œå…·åæ’æ§½æ··ç”¨ï¼‰ &lt;slot-test v-slot=&quot;slotProps&quot;&gt; {{slotProps.user.name}}ä»Šå¹´{{slotProps.user.age}}å²ã€‚ &lt;/slot-test&gt; æ›´å¤šç”¨æ³•","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"å°çˆ±è¯¾ç¨‹è¡¨ä½¿ç”¨æ‰‹å†Œ","slug":"ç”Ÿæ´»/å°çˆ±è¯¾ç¨‹è¡¨ä½¿ç”¨æ–‡æ¡£â€”â€”å±±ä¸œå·¥å•†å­¦é™¢-SDTBU","date":"2020-08-28T11:08:09.118Z","updated":"2020-09-05T09:34:18.364Z","comments":true,"path":"2020/08/28/ç”Ÿæ´»/å°çˆ±è¯¾ç¨‹è¡¨ä½¿ç”¨æ–‡æ¡£â€”â€”å±±ä¸œå·¥å•†å­¦é™¢-SDTBU/","link":"","permalink":"https://easyremember.cn/2020/08/28/ç”Ÿæ´»/å°çˆ±è¯¾ç¨‹è¡¨ä½¿ç”¨æ–‡æ¡£â€”â€”å±±ä¸œå·¥å•†å­¦é™¢-SDTBU/","excerpt":"","text":"å°çˆ±è¯¾ç¨‹è¡¨ä½¿ç”¨æ‰‹å†Œâ€”â€”å±±ä¸œå·¥å•†å­¦é™¢-SDTBU æ³¨æ„ï¼šéœ€è¦å°ç±³æ‰‹æœºæˆ–è€…éå°ç±³æ‰‹æœºå®‰è£…å°çˆ±åŒå­¦éå°ç±³æ‰‹æœºå¯èƒ½ä¼šæœ‰éƒ¨åˆ†åŠŸèƒ½æ— æ³•ä½¿ç”¨ æ•ˆæœå±•ç¤º æ­£å¼æ­¥éª¤1. æ‰“å¼€å°çˆ±è¯¾è¡¨ æ§åˆ¶ä¸­å¿ƒä¸‹æ‹‰æ‰“å¼€å°çˆ±æ·å¾„ï¼ˆæ²¡æœ‰å¯ä»¥åœ¨ç¼–è¾‘ä¸­åŠ å…¥ï¼‰ï¼Œå°çˆ±æ·å¾„æ‰¾åˆ°è¯¾ç¨‹è¡¨æ·å¾„ å”¤é†’å°çˆ±åŒå­¦è¯­éŸ³åŠ©æ‰‹ï¼Œå‘Šè¯‰å¥¹â€œè¯¾ç¨‹è¡¨â€ 2. è®¾ç½®æ‰“å¼€å°çˆ±è¯¾ç¨‹è¡¨è®¾ç½®ï¼Œå°†ä¸€å¤©ä¸Šè¯¾èŠ‚æ•°è°ƒæ•´ä¸º10ï¼ˆ4-4-2ï¼‰ 3. é€‰æ‹©å­¦æ ¡éœ€è¦æå‰è¿æ¥æ ¡å›­ç½‘ æ‰“å¼€å°çˆ±è¯¾ç¨‹è¡¨å³ä¸Šè§’è®¾ç½®ï¼Œä¸‹æ‹‰æ‰¾åˆ°é€‰æ‹©å­¦æ ¡ è¾“å…¥å±±ä¸œå·¥å•†å­¦é™¢ï¼Œé€‰é¡¹ä¸­æ‰¾åˆ°å¹¶ç‚¹å‡»ã€å±±ä¸œå·¥å•†å­¦é™¢-SDTBUã€‘ ç‚¹å‡»æ•™åŠ¡ç½‘ç«™å¯¼å…¥ 4. å¯¼å…¥è¯¾è¡¨ ç‚¹å‡»æ•™åŠ¡ç®¡ç†ç³»ç»Ÿå­¦ç”Ÿç«¯ï¼Œç™»å½•æ™ºæ…§å±±å•† ç™»å½•ä¹‹åç‚¹å‡»å­¦æœŸè¯¾è¡¨ æ‰“å¼€è¦æ·»åŠ çš„å­¦æœŸè¯¾è¡¨ä¹‹åç‚¹å‡»å±å¹•ä¸‹æ–¹ä¸€é”®å¯¼å…¥ PSï¼šå¦‚æœæ²¡ç»‘å®šæ‰‹æœºå·å¯èƒ½ä¼šè®©ä½ ç»‘å®šæ‰‹æœºï¼Œç‚¹å‡»å–æ¶ˆä¹‹åè¿›å…¥çš„æ˜¯é‚£ä¸ªç»¿è‰²çš„æ™ºæ…§å±±å•†ï¼Œè¿™æ—¶å€™è¦é€€å‡ºåˆ°å°çˆ±è¯¾è¡¨çš„è®¾ç½®ç•Œé¢ï¼Œå†ç‚¹å¯¼å…¥é”®é‡æ–°è¿›å…¥ï¼Œä¸€å®šè¦æ˜¯å›¾ä¸Šçš„é¡µé¢æ‰å¯ä»¥å¯¼å…¥ PPSï¼šå½“å‰å‘¨æ•°ä¸å¯¹å¯ä»¥åœ¨è®¾ç½®ä¸­è°ƒæ•´ 5. åé¦ˆå¦‚æœä¿¡æ¯å¯¼å…¥æˆåŠŸç‚¹å‡»ä¸€ä¸ªå®Œç¾æ”¯æŒä¸€ä¸‹ï¼Œå¦‚æœå­˜åœ¨å¯¼å…¥å¤±è´¥æˆ–å­˜åœ¨ä½¿ç”¨é—®é¢˜åŠ Qåé¦ˆï¼Œç‚¹å‡»è¿™é‡ŒåŠ Q","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/categories/å·¥å…·/"}],"tags":[{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"https://easyremember.cn/tags/æ‚¦è¯»/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/categories/å·¥å…·/"}]},{"title":"å¯¹æ¯”callå’Œapply","slug":"æŠ€æœ¯/callå’Œapply","date":"2020-08-27T14:47:40.917Z","updated":"2020-09-09T02:55:14.055Z","comments":true,"path":"2020/08/27/æŠ€æœ¯/callå’Œapply/","link":"","permalink":"https://easyremember.cn/2020/08/27/æŠ€æœ¯/callå’Œapply/","excerpt":"","text":"call&amp;apply&amp;bindcallcallæ–¹æ³•ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„ this å€¼å’Œå•ç‹¬ç»™å‡ºçš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°æ¥è°ƒç”¨ä¸€ä¸ªå‡½æ•° è¯­æ³•function.call(thisArg, arg1, arg2, ...) å‚æ•° thisArgï¼šåœ¨ function å‡½æ•°è¿è¡Œæ—¶ä½¿ç”¨çš„ this å€¼ arg1, arg2, â€¦ï¼šå‚æ•°åˆ—è¡¨ ç¤ºä¾‹function fullName() { return this.firstName + this.lastName } function Person(first, last) { this.firstName = first this.lastName = last } var p = new Person(&#39;zhang&#39;, &#39;san&#39;) var p2 = new Person(&#39;li&#39;, &#39;si&#39;) console.log(fullName.call(p)); console.log(fullName.call(p2)); é¦–å…ˆå®ä¾‹åŒ–ä¸¤ä¸ªPersonå¯¹è±¡ï¼Œç„¶åå°†ä¸¤ä¸ªå¯¹è±¡å®ä¾‹ä¼ ç»™fullName.call() å¯ä»¥çœ‹åˆ°æ§åˆ¶å°å·²ç»æ‰“å°å‡ºäº†ä¸¤ä¸ªå®ä¾‹çš„ä¿¡æ¯ å†æ¥çœ‹ä¸€ä¸‹å¸¦å‚æ•°çš„ï¼Œè¿™æ˜¯ä¸applyæ–¹æ³•çš„åŒºåˆ«ä¹‹å¤„ var obj = { name: &#39;å¼ ä¸‰&#39;, age: 19, func: function (from, to) { console.log(this.name + &#39;ä»Šå¹´&#39; + this.age + &#39;,ä»&#39; + from + &#39;æ¥ï¼Œè¦åˆ°&#39; + to + &#39;å»&#39;); } } obj.func(&#39;åŒ—äº¬&#39;, &#39;ä¸Šæµ·&#39;) var p = { name: &#39;æå››&#39;, age: 25 } obj.func.call(p, &#39;å¤©æ´¥&#39;, &#39;å—äº¬&#39;) applyè°ƒç”¨ä¸€ä¸ªå…·æœ‰ç»™å®šthiså€¼çš„å‡½æ•°ï¼Œä»¥åŠä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»ä¼¼æ•°ç»„å¯¹è±¡ï¼‰æä¾›çš„å‚æ•° è¯­æ³•func.apply(thisArg, [argsArray]) å‚æ•° thisArgï¼šåœ¨ function å‡½æ•°è¿è¡Œæ—¶ä½¿ç”¨çš„ this å€¼ [argsArray]ï¼šæ•°ç»„æˆ–è€…ç±»æ•°ç»„å¯¹è±¡ï¼Œæ•°ç»„å…ƒç´ å°†ä½œä¸ºå•ç‹¬çš„å‚æ•°ä¼ ç»™ func å‡½æ•° applyæ–¹æ³•ä¸callæ–¹æ³•çš„åŒºåˆ«å°±åœ¨æ­¤å¤„ï¼Œcallæ¥æ”¶å‚æ•°åˆ—è¡¨ï¼Œapplyæ¥æ”¶æ•°ç»„ ç¤ºä¾‹ä»ç„¶ä½¿ç”¨callä¸­çš„ä¸»è¦ä»£ç ï¼Œæ›´å®¹æ˜“çœ‹å‡ºåŒºåˆ« var obj = { name: &#39;å¼ ä¸‰&#39;, age: 19, func: function (from, to) { console.log(this.name + &#39;ä»Šå¹´&#39; + this.age + &#39;,ä»&#39; + from + &#39;æ¥ï¼Œè¦åˆ°&#39; + to + &#39;å»&#39;); } } obj.func(&#39;åŒ—äº¬&#39;, &#39;ä¸Šæµ·&#39;) var p = { name: &#39;æå››&#39;, age: 25 } obj.func.apply(p, [&#39;å–€ä»€&#39;, &#39;è¿äº‘æ¸¯&#39;]) bindåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œåœ¨ bind() è¢«è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªæ–°å‡½æ•°çš„ this è¢«æŒ‡å®šä¸º bind() çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œå…¶ä½™å‚æ•°å°†ä½œä¸ºæ–°å‡½æ•°çš„å‚æ•° è¯­æ³•function.bind(thisArg[, arg1[, arg2[, ...]]]) å‚æ•° thisArg å½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¯¥å‚æ•°ä¼šä½œä¸ºåŸå‡½æ•°è¿è¡Œæ—¶çš„ this æŒ‡å‘ã€‚å½“ä½¿ç”¨ new æ“ä½œç¬¦è°ƒç”¨ç»‘å®šå‡½æ•°æ—¶ï¼Œè¯¥å‚æ•°æ— æ•ˆã€‚ arg1, arg2, â€¦ ï¼ˆå¯é€‰ï¼‰å½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¿™äº›å‚æ•°åŠ ä¸Šç»‘å®šå‡½æ•°æœ¬èº«çš„å‚æ•°ä¼šæŒ‰ç…§é¡ºåºä½œä¸ºåŸå‡½æ•°è¿è¡Œæ—¶çš„å‚æ•°ã€‚ ç¤ºä¾‹function func(a, b, c) { return a + b + c; } var newFunc = func.bind(null, 10) console.log(newFunc(20, 30)); å°† 10 ä½œä¸ºé»˜è®¤çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåªéœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°å³å¯ï¼Œä¼ å¤šä¸ªå‚æ•°åªä¼šå–å‰ä¸¤ä¸ª function Person(name, age) { this.name = name; this.age = age; } var _Person = Person.bind({}); var p = new _Person(&#39;zhangsan&#39;, 30); // Person {name: &quot;zhangsan&quot;, age: 30} è¿˜å¯ä»¥ç”¨æ¥å¤åˆ¶å¯¹è±¡","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Axios","slug":"ç¬”è®°/Axios","date":"2020-08-27T04:14:58.150Z","updated":"2020-09-05T09:35:51.229Z","comments":true,"path":"2020/08/27/ç¬”è®°/Axios/","link":"","permalink":"https://easyremember.cn/2020/08/27/ç¬”è®°/Axios/","excerpt":"","text":"Axiosç®€ä»‹åŠå®‰è£…ç®€ä»‹axiosæ˜¯åŸºäºpromiseç”¨äºæµè§ˆå™¨å’Œnode.jsçš„httpå®¢æˆ·ç«¯ ç‰¹ç‚¹ï¼š èƒ½å¤Ÿæ‹¦æˆªè¯·æ±‚ æ”¯æŒæµè§ˆå™¨å’ŒnodeæœåŠ¡å™¨ æ”¯æŒPromise å®‰è£…è¿è¡Œå‘½ä»¤ $ npm install axios ä¹Ÿå¯ä»¥é€šè¿‡cdnå¼•å…¥ &lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt; ä½¿ç”¨ç¤ºä¾‹GETaxios.get(&#39;http://127.0.0.1:7001/news&#39;).then(response =&gt; { console.log(response); }).catch(error =&gt; { console.log(error); }) å¦‚æœéœ€è¦å‘é€å‚æ•°ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§å°±æ˜¯ä¸Šé¢çš„ç¤ºä¾‹urlåæ·»åŠ å‚æ•°ï¼Œç¬¬äºŒç§æ˜¯å°†è¦å‘é€çš„æ•°æ®ä½œä¸ºå¯¹è±¡æ”¾åˆ°getæ–¹æ³•çš„å‚æ•°ä¸­ axios.get(&#39;http://127.0.0.1:7001/news&#39;, { params: { id: 123 } }).then(response =&gt; { console.log(response); }).catch(error =&gt; { console.log(error); }) POSTaxios.post(&#39;http://127.0.0.1:7001/add&#39;, { name: &#39;zhangsan&#39;, password: &#39;123456&#39; }).then(response =&gt; { console.log(response); }).catch(error =&gt; { console.log(error); }) axiosçš„APIaxios(config)axios({ method: &#39;POST&#39;, url: &#39;http://127.0.0.1:7001/add&#39;, data: { name: &#39;zhangsan&#39;, password: &#39;123456&#39; } }); // è·å–è¿œç¨‹å›¾ç‰‡ axios({ method:&#39;get&#39;, url:&#39;http://127.0.0.1:7001/img&#39;, responseType:&#39;stream&#39; }) .then(function(response) { response.data.pipe(fs.createWriteStream(&#39;bg.jpg&#39;)) }); axios(url[, config])ä¸æ·»åŠ configï¼Œé»˜è®¤GETè¯·æ±‚ åˆ«å axios.request(url); axios.get(url[,config]); axios.delete(url[,config]); axios.head(url[,config]); axios.options(url[,config]); axios.post(url[,data[,config]]); axios.put(url[,data[,config]]); axios.patch(url[,data[,config]]); è¯·æ±‚å’Œå“åº”è¯·æ±‚é…ç½®{ // `url` æ˜¯ç”¨äºè¯·æ±‚çš„æœåŠ¡å™¨ URL url: &#39;/user&#39;, // `method` æ˜¯åˆ›å»ºè¯·æ±‚æ—¶ä½¿ç”¨çš„æ–¹æ³• method: &#39;get&#39;, // default // `baseURL` å°†è‡ªåŠ¨åŠ åœ¨ `url` å‰é¢ï¼Œé™¤é `url` æ˜¯ä¸€ä¸ªç»å¯¹ URLã€‚ // å®ƒå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª `baseURL` ä¾¿äºä¸º axios å®ä¾‹çš„æ–¹æ³•ä¼ é€’ç›¸å¯¹ URL baseURL: &#39;https://some-domain.com/api/&#39;, // `transformRequest` å…è®¸åœ¨å‘æœåŠ¡å™¨å‘é€å‰ï¼Œä¿®æ”¹è¯·æ±‚æ•°æ® // åªèƒ½ç”¨åœ¨ &#39;PUT&#39;, &#39;POST&#39; å’Œ &#39;PATCH&#39; è¿™å‡ ä¸ªè¯·æ±‚æ–¹æ³• // åé¢æ•°ç»„ä¸­çš„å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ– ArrayBufferï¼Œæˆ– Stream transformRequest: [function (data, headers) { // å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç† return data; }], // `transformResponse` åœ¨ä¼ é€’ç»™ then/catch å‰ï¼Œå…è®¸ä¿®æ”¹å“åº”æ•°æ® transformResponse: [function (data) { // å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç† return data; }], // `headers` æ˜¯å³å°†è¢«å‘é€çš„è‡ªå®šä¹‰è¯·æ±‚å¤´ headers: {&#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;}, // `params` æ˜¯å³å°†ä¸è¯·æ±‚ä¸€èµ·å‘é€çš„ URL å‚æ•° // å¿…é¡»æ˜¯ä¸€ä¸ªæ— æ ¼å¼å¯¹è±¡(plain object)æˆ– URLSearchParams å¯¹è±¡ params: { ID: 12345 }, // `paramsSerializer` æ˜¯ä¸€ä¸ªè´Ÿè´£ `params` åºåˆ—åŒ–çš„å‡½æ•° // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/) paramsSerializer: function(params) { return Qs.stringify(params, {arrayFormat: &#39;brackets&#39;}) }, // `data` æ˜¯ä½œä¸ºè¯·æ±‚ä¸»ä½“è¢«å‘é€çš„æ•°æ® // åªé€‚ç”¨äºè¿™äº›è¯·æ±‚æ–¹æ³• &#39;PUT&#39;, &#39;POST&#39;, å’Œ &#39;PATCH&#39; // åœ¨æ²¡æœ‰è®¾ç½® `transformRequest` æ—¶ï¼Œå¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams // - æµè§ˆå™¨ä¸“å±ï¼šFormData, File, Blob // - Node ä¸“å±ï¼š Stream data: { firstName: &#39;Fred&#39; }, // `timeout` æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°(0 è¡¨ç¤ºæ— è¶…æ—¶æ—¶é—´) // å¦‚æœè¯·æ±‚è¯è´¹äº†è¶…è¿‡ `timeout` çš„æ—¶é—´ï¼Œè¯·æ±‚å°†è¢«ä¸­æ–­ timeout: 1000, // `withCredentials` è¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦ä½¿ç”¨å‡­è¯ withCredentials: false, // default // `adapter` å…è®¸è‡ªå®šä¹‰å¤„ç†è¯·æ±‚ï¼Œä»¥ä½¿æµ‹è¯•æ›´è½»æ¾ // è¿”å›ä¸€ä¸ª promise å¹¶åº”ç”¨ä¸€ä¸ªæœ‰æ•ˆçš„å“åº” adapter: function (config) { /* ... */ }, // `auth` è¡¨ç¤ºåº”è¯¥ä½¿ç”¨ HTTP åŸºç¡€éªŒè¯ï¼Œå¹¶æä¾›å‡­æ® // è¿™å°†è®¾ç½®ä¸€ä¸ª `Authorization` å¤´ï¼Œè¦†å†™æ‰ç°æœ‰çš„ä»»æ„ä½¿ç”¨ `headers` è®¾ç½®çš„è‡ªå®šä¹‰ `Authorization`å¤´ auth: { username: &#39;janedoe&#39;, password: &#39;s00pers3cret&#39; }, // `responseType` è¡¨ç¤ºæœåŠ¡å™¨å“åº”çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯ &#39;arraybuffer&#39;, &#39;blob&#39;, &#39;document&#39;, &#39;json&#39;, &#39;text&#39;, &#39;stream&#39; responseType: &#39;json&#39;, // default // `responseEncoding` å“åº”ç¼–ç  responseEncoding: &#39;utf8&#39;, // default // `xsrfCookieName` æ˜¯ç”¨ä½œ xsrf token çš„å€¼çš„cookieçš„åç§° xsrfCookieName: &#39;XSRF-TOKEN&#39;, // default // `xsrfHeaderName` is the name of the http header that carries the xsrf token value xsrfHeaderName: &#39;X-XSRF-TOKEN&#39;, // default // `onUploadProgress` å…è®¸ä¸ºä¸Šä¼ å¤„ç†è¿›åº¦äº‹ä»¶ onUploadProgress: function (progressEvent) { // Do whatever you want with the native progress event }, // `onDownloadProgress` å…è®¸ä¸ºä¸‹è½½å¤„ç†è¿›åº¦äº‹ä»¶ onDownloadProgress: function (progressEvent) { // å¯¹åŸç”Ÿè¿›åº¦äº‹ä»¶çš„å¤„ç† }, // `maxContentLength` å®šä¹‰å…è®¸çš„å“åº”å†…å®¹çš„æœ€å¤§å°ºå¯¸ maxContentLength: 2000, // `validateStatus` å®šä¹‰å¯¹äºç»™å®šçš„HTTP å“åº”çŠ¶æ€ç æ˜¯ resolve æˆ– reject promise ã€‚å¦‚æœ `validateStatus` è¿”å› `true` (æˆ–è€…è®¾ç½®ä¸º `null` æˆ– `undefined`)ï¼Œpromise å°†è¢« resolve; å¦åˆ™ï¼Œpromise å°†è¢« rejecte validateStatus: function (status) { return status &gt;= 200 &amp;&amp; status &lt; 300; // default }, // `maxRedirects` å®šä¹‰åœ¨ node.js ä¸­ follow çš„æœ€å¤§é‡å®šå‘æ•°ç›® // å¦‚æœè®¾ç½®ä¸º0ï¼Œå°†ä¸ä¼š follow ä»»ä½•é‡å®šå‘ maxRedirects: 5, // default // `socketPath` defines a UNIX Socket to be used in node.js. socketPath: null, // default // `httpAgent` å’Œ `httpsAgent` åˆ†åˆ«åœ¨ node.js ä¸­ç”¨äºå®šä¹‰åœ¨æ‰§è¡Œ http å’Œ https æ—¶ä½¿ç”¨çš„è‡ªå®šä¹‰ä»£ç†ã€‚å…è®¸åƒè¿™æ ·é…ç½®é€‰é¡¹ï¼š // `keepAlive` é»˜è®¤æ²¡æœ‰å¯ç”¨ httpAgent: new http.Agent({ keepAlive: true }), httpsAgent: new https.Agent({ keepAlive: true }), // &#39;proxy&#39; å®šä¹‰ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºåç§°å’Œç«¯å£ // `auth` è¡¨ç¤º HTTP åŸºç¡€éªŒè¯åº”å½“ç”¨äºè¿æ¥ä»£ç†ï¼Œå¹¶æä¾›å‡­æ® // è¿™å°†ä¼šè®¾ç½®ä¸€ä¸ª `Proxy-Authorization` å¤´ï¼Œè¦†å†™æ‰å·²æœ‰çš„é€šè¿‡ä½¿ç”¨ `header` è®¾ç½®çš„è‡ªå®šä¹‰ `Proxy-Authorization` å¤´ã€‚ proxy: { host: &#39;127.0.0.1&#39;, port: 9000, auth: { username: &#39;mikeymike&#39;, password: &#39;rapunz3l&#39; } }, // `cancelToken` æŒ‡å®šç”¨äºå–æ¶ˆè¯·æ±‚çš„ cancel token cancelToken: new CancelToken(function (cancel) { }) } å“åº”ç»“æ„{ // `data` ç”±æœåŠ¡å™¨æä¾›çš„å“åº” data: {}, // `status` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ç  status: 200, // `statusText` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ä¿¡æ¯ statusText: &#39;OK&#39;, // `headers` æœåŠ¡å™¨å“åº”çš„å¤´ headers: {}, // `config` æ˜¯ä¸ºè¯·æ±‚æä¾›çš„é…ç½®ä¿¡æ¯ config: {}, // &#39;request&#39; è¯·æ±‚ä¿¡æ¯ request: {} } æ‹¦æˆªå™¨// æ·»åŠ ä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨ axios.interceptors.request.use( config =&gt; { const token = token; token &amp;&amp; (config.headers.Authorization = token); return config; }, error =&gt; { return Promise.error(error); }) // æ·»åŠ ä¸€ä¸ªå“åº”æ‹¦æˆªå™¨ axios.interceptors.response.use( response =&gt; { if (response.status === 200) { return Promise.resolve(response); } else { return Promise.reject(response); } }, error =&gt; { return Promise.reject(error.response); }) Vue -axiosmain.jså¼•å…¥Axios import axios from &#39;axios&#39; axios.defaults.withCredentials = true //è·¨åŸŸ axios.defaults.headers.post[&#39;Content-Type&#39;] = &#39;application/json&#39; Vue.use(axios) Vue.prototype.$http = axios // å°†axiosæŒ‚è½½åˆ°VueåŸå‹ï¼Œå¯ä»¥ç›´æ¥åœ¨Vueå¯¹è±¡ä¸­this.$httpæ¥å‘é€è¯·æ±‚","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://easyremember.cn/tags/Node/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"Promiseå­¦ä¹ ç¬”è®°","slug":"ç¬”è®°/Promise","date":"2020-08-20T09:41:38.591Z","updated":"2020-09-05T09:38:03.804Z","comments":true,"path":"2020/08/20/ç¬”è®°/Promise/","link":"","permalink":"https://easyremember.cn/2020/08/20/ç¬”è®°/Promise/","excerpt":"","text":"Promiseå­¦ä¹ ç¬”è®°å‚è€ƒè§†é¢‘æ•™ç¨‹ çŸ¥è¯†é“ºå«å‡½æ•°å¯¹è±¡å’Œå®ä¾‹å¯¹è±¡ å‡½æ•°å¯¹è±¡ï¼šå°†å‡½æ•°ä½œä¸ºå¯¹è±¡ä½¿ç”¨ å®ä¾‹å¯¹è±¡ï¼šnew å‡½æ•°äº§ç”Ÿçš„å¯¹è±¡(æ‰§è¡Œæ„é€ å‡½æ•°) åªæœ‰åœ¨newå‡ºå®ä¾‹å¯¹è±¡ä¹‹åï¼Œå‡½æ•°æ‰èƒ½å«åšæ„é€ å‡½æ•° function Person() { } var p = new Person(); console.log(Person.prototype) åœ¨è¿™æ®µä»£ç ä¸­pæ˜¯å®ä¾‹å¯¹è±¡ï¼ŒPersonæ˜¯æ„é€ å‡½æ•°ï¼Œæ‰“å°PersonåŸå‹æ—¶ï¼ŒPersonæ˜¯å‡½æ•°å¯¹è±¡ å›è°ƒå‡½æ•° åŒæ­¥å›è°ƒï¼šç«‹å³æ‰§è¡Œï¼Œå®Œå…¨æ‰§è¡Œå®Œäº†æ‰ç»“æŸï¼Œä¸ä¼šæ”¾å…¥å›è°ƒé˜Ÿåˆ— å¼‚æ­¥å›è°ƒï¼šä¸ä¼šç«‹å³æ‰§è¡Œï¼Œæ”¾å…¥å›è°ƒé˜Ÿåˆ—ä¸­å°†æ¥æ‰§è¡Œ const arr = [1, 2, 3]; arr.forEach(item =&gt; { console.log(item); }); console.log(&#39;foreachä¹‹å&#39;); setTimeout(() =&gt; { console.log(&#39;callback&#39;); }, 0); console.log(&#39;setTimeä¹‹å&#39;); ä¸Šé¢ä¸€æ®µæ˜¯åŒæ­¥å›è°ƒï¼ŒæŒ‰ç…§é¡ºåºæ‰§è¡Œï¼›ä¸‹é¢ä¸€æ®µæ˜¯å¼‚æ­¥å‡½æ•°ï¼Œæ”¾åˆ°é˜Ÿåˆ—ä¸­æ‰§è¡Œï¼Œä¸»çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åæ‰æ‰§è¡Œ é”™è¯¯å¤„ç† é”™è¯¯çš„ç±»å‹ Error: æ‰€æœ‰é”™è¯¯çš„çˆ¶ç±»å‹ ReferenceError: å¼•ç”¨çš„å˜é‡ä¸å­˜åœ¨ TypeError: æ•°æ®ç±»å‹ä¸æ­£ç¡®çš„é”™è¯¯ RangeError: æ•°æ®å€¼ä¸åœ¨å…¶æ‰€å…è®¸çš„èŒƒå›´å†… SyntaxError: è¯­æ³•é”™è¯¯ é”™è¯¯å¤„ç† æ•è·é”™è¯¯: try â€¦ catch æŠ›å‡ºé”™è¯¯: throw error é”™è¯¯å¯¹è±¡ messageå±æ€§: é”™è¯¯ç›¸å…³ä¿¡æ¯ stackå±æ€§: å‡½æ•°è°ƒç”¨æ ˆè®°å½•ä¿¡æ¯ Promiseç†è§£å’Œä½¿ç”¨ä»€ä¹ˆæ˜¯Promise æŠ½è±¡è¡¨è¾¾: Promiseæ˜¯JSä¸­è¿›è¡Œå¼‚æ­¥ç¼–ç¨‹çš„æ–°çš„è§£å†³æ–¹æ¡ˆ(æ—§çš„æ˜¯è°ï¼Ÿçº¯å›è°ƒcallback) å…·ä½“è¡¨è¾¾: ä»è¯­æ³•ä¸Šæ¥è¯´: Promiseæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•° ä»åŠŸèƒ½ä¸Šæ¥è¯´: promiseå¯¹è±¡ç”¨æ¥å°è£…ä¸€ä¸ªå¼‚æ­¥æ“ä½œå¹¶å¯ä»¥è·å–å…¶ç»“æœ promiseçš„çŠ¶æ€æ”¹å˜(åªæœ‰2ç§ç»“æœ,ï¼Œåªèƒ½æ”¹å˜ä¸€æ¬¡) pendingå˜ä¸ºresolved pendingå˜ä¸ºrejected æ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥éƒ½ä¼šæœ‰ä¸€ä¸ª ç»“æœï¼ŒæˆåŠŸçš„ç§°ä¸ºvalueï¼Œå¤±è´¥çš„ç§°ä¸ºreason promiseçš„åŸºæœ¬æµç¨‹(pendingï¼Œå›¾é‡Œé¢å†™é”™äº†) ä¸ºä»€ä¹ˆä½¿ç”¨Promise æŒ‡å®šå›è°ƒå‡½æ•°çš„æ–¹å¼æ›´åŠ çµæ´»ï¼šå¯ä»¥åœ¨è¯·æ±‚å‘å‡ºç”šè‡³ç»“æŸåæŒ‡å®šå›è°ƒå‡½æ•° æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œå¯ä»¥è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ æ€ä¹ˆä½¿ç”¨Promiseç®€å•çš„ç¤ºä¾‹ const p = new Promise((resolve, reject) =&gt; { const d = Date.now(); if (d % 2 === 1) { resolve(&#39;success&#39;) } else { reject(&#39;faild&#39;) } }) p.then(value =&gt; console.log(value), reason =&gt; console.log(reason)) .then()æ¥æ”¶ä¸¤ä¸ªå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æˆåŠŸçš„å›è°ƒï¼ˆonResolvedï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯å¤±è´¥çš„å›è°ƒï¼ˆonRejectedï¼‰ ä¸»è¦API Promiseæ„é€ å‡½æ•°: Promise (excutor) {} Promise.prototype.thenæ–¹æ³•: (onResolved, onRejected) =&gt; {} Promise.prototype.catchæ–¹æ³•: (onRejected) =&gt; {}ï¼Œæ‹¦æˆªå¤±è´¥æ“ä½œï¼Œè¿”å›promiseå¯¹è±¡ï¼Œå¦‚æœcatchä¹‹å‰æœ‰rejectï¼Œç›´æ¥è·³åˆ°rejectï¼Œä¸­é—´æ‰€æœ‰çš„.thenéƒ½ä¸æ‰§è¡Œ Promise.resolveæ–¹æ³•: (value) =&gt; {}ï¼Œä¿®æ”¹çŠ¶æ€ä¸ºæˆåŠŸ Promise.rejectæ–¹æ³•: (reason) =&gt; {}ï¼Œä¿®æ”¹çŠ¶æ€ä¸ºå¤±è´¥ Promise.allæ–¹æ³•: (promises) =&gt; {}ï¼Œå‚æ•°ä¸ºä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œç­‰æ‰€æœ‰çš„promiseå¯¹è±¡éƒ½å®Œæˆä¹‹åçŠ¶æ€å˜ä¸ºresolvedï¼Œè¿”å›ç»“æœå¯è¿­ä»£å¯¹è±¡ï¼›å¦‚æœè¿‡æœ‰å¤±è´¥ç»“æœï¼ŒçŠ¶æ€å˜ä¸ºrejectedï¼Œå¤±è´¥åŸå› æ˜¯ç¬¬ä¸€ä¸ªå¤±è´¥çš„promiseå¯¹è±¡çš„ç»“æœ Promise.raceæ–¹æ³•: (promises) =&gt; {}ï¼Œå‚æ•°ä¸ºä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªpromiseè§£å†³æˆ–è€…æ‹’ç»ï¼Œè¿”å›çš„promiseå°±ä¼šè§£å†³æˆ–è€…æ‹’ç» å­˜åœ¨çš„é—®é¢˜ æ”¹å˜çŠ¶æ€ä¸ä¸€å®šæ˜¯resolveå’Œrejectï¼Œä¹Ÿå¯ä»¥å‘ç”Ÿé”™è¯¯æˆ–è€…æŠ›å‡ºå¼‚å¸¸ åŒä¸€ä¸ªpromiseå¯¹è±¡æ·»åŠ å¯¹ä¸ª.thenéƒ½ä¼šæ‰§è¡Œ æ”¹å˜promiseçŠ¶æ€å’ŒæŒ‡å®šå›è°ƒå‡½æ•°è°å…ˆè°å æ­£å¸¸æƒ…å†µä¸‹æ˜¯å…ˆæŒ‡å®šå›è°ƒå‡½æ•°å†æ”¹å˜çŠ¶æ€ å…ˆæ”¹å˜çŠ¶æ€å†æŒ‡å®šå›è°ƒï¼šâ‘ åœ¨æ‰§è¡Œå™¨ä¸­ç›´æ¥è°ƒç”¨resolve()/reject()â‘¡å»¶è¿Ÿæ›´é•¿æ—¶é—´æ‰è°ƒç”¨then() ä»€ä¹ˆæ—¶å€™å¾—åˆ°æ•°æ® å¦‚æœå…ˆæŒ‡å®šçš„å›è°ƒï¼Œé‚£å½“çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå›è°ƒå‡½æ•°å°±ä¼šè°ƒç”¨ï¼Œå¾—åˆ°æ•°æ® å¦‚æœå…ˆæ”¹å˜çš„çŠ¶æ€ï¼Œé‚£å½“æŒ‡å®šå›è°ƒæ—¶ï¼Œå›è°ƒå‡½æ•°å°±ä¼šè°ƒç”¨ï¼Œå¾—åˆ°æ•°æ® ä¸è®ºæˆåŠŸå¤±è´¥ï¼Œå›è°ƒå‡½æ•°æ°¸è¿œæ˜¯å¼‚æ­¥æ‰§è¡Œ .thenè¿”å›promiseçš„çŠ¶æ€â€”â€”ç”±æŒ‡å®šçš„å›è°ƒå‡½æ•°æ‰§è¡Œçš„ç»“æœå†³å®š æŠ›å‡ºå¼‚å¸¸ï¼Œæ–°çš„promiseå˜ä¸ºrejectedï¼Œreasonä¸ºè·‘å‡ºçš„å¼‚å¸¸ è¿”å›çš„æ˜¯épromiseä»»æ„å€¼ï¼ŒçŠ¶æ€æ”¹ä¸ºresolvedï¼Œvalueæ˜¯è¿”å›å€¼ è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°çš„promiseï¼Œè¿™ä¸ªpromiseçš„ç»“æœå°±ä¼šæˆä¸ºæ–°çš„promiseçš„ç»“æœ è‡ªå®šä¹‰Promiseæ•´ä½“ç»“æ„ç”±äºES6å’ŒCommenJSéƒ½éœ€è¦ç¼–è¯‘æ‰èƒ½ä½¿ç”¨ï¼Œæ‰€ä»¥è‡ªå®šä¹‰Promiseéœ€è¦ä½¿ç”¨ES5æ¨¡å—è¯­æ³•ï¼ˆè‡ªè°ƒç”¨å‡½æ•°ï¼‰ (function (window) { /* Promiseï¼šæ„é€ å‡½æ•° excutor: æ‰§è¡Œå™¨ */ function Promise(excutor) { } /* Promise åŸå‹å¯¹è±¡.then æŒ‡å®šæˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•° è¿”å›ä¸€ä¸ªæ–°çš„Promise */ Promise.prototype.then = function (onResolved, onRejected) { } /* Promise åŸå‹å¯¹è±¡.catch æŒ‡å®šå¤±è´¥çš„å›è°ƒå‡½æ•° è¿”å›ä¸€ä¸ªæ–°çš„Promise */ Promise.prototype.catch = function (onRejected) { } /* Promise åŸå‹å¯¹è±¡.resolve è¿”å›ä¸€ä¸ªæŒ‡å®švalueçš„Promise */ Promise.resolve = function (value) { } /* Promise åŸå‹å¯¹è±¡.reject è¿”å›ä¸€ä¸ªæŒ‡å®šreasonçš„Promise */ Promise.reject = function (reason) { } /* Promise åŸå‹å¯¹è±¡.all è¿”å›ä¸€ä¸ªPromiseï¼Œæ‰€æœ‰promiseéƒ½æˆåŠŸæ‰æˆåŠŸï¼Œä¸€ä¸ªå¤±è´¥å°±å¤±è´¥ */ Promise.all = function (promises) { } /* Promise åŸå‹å¯¹è±¡.race è¿”å›ä¸€ä¸ªPromiseï¼Œç”±ç¬¬ä¸€ä¸ªå®Œæˆçš„promiseå†³å®š */ Promise.race = function (promises) { } // æš´éœ²Promise window.Promise = Promise; })(window) æ„é€ å‡½æ•°/* Promiseï¼šæ„é€ å‡½æ•° excutor: æ‰§è¡Œå™¨ */ function Promise(excutor) { this.status = &#39;pending&#39;; // çŠ¶æ€ this.data = undefined; // æ•°æ® this.callbacks = []; // ä¿å­˜å›è°ƒå‡½æ•°ï¼Œç»“æ„ï¼š{onResolved() {}, onReject() {}} function resolve(value) { // å½“å‰çŠ¶æ€ä¸æ˜¯pendingç»“æŸ if (this.status !== &#39;pending&#39;) { return } // ä¿®æ”¹çŠ¶æ€ this.status = &#39;resolved&#39;; // ä¿å­˜æ•°æ® this.data = value; // ç«‹å³æ‰§è¡Œcallback if (this.callbacks.length &gt; 0) { this.callbacks.forEach(callbacksObj =&gt; { setTimeout(() =&gt; { // å¼‚æ­¥æ‰§è¡Œå›è°ƒ callbacksObj.onResolved(value) }, 0) }); } } function reject(reason) { // å½“å‰çŠ¶æ€ä¸æ˜¯pendingç»“æŸ if (this.status !== &#39;pending&#39;) { return } // ä¿®æ”¹çŠ¶æ€ this.status = &#39;rejected&#39;; // ä¿å­˜æ•°æ® this.data = value; // ç«‹å³æ‰§è¡Œcallback if (this.callbacks.length &gt; 0) { this.callbacks.forEach(callbacksObj =&gt; { setTimeout(() =&gt; { // å¼‚æ­¥æ‰§è¡Œå›è°ƒ callbacksObj.onRejected(reason) }, 0) }); } } // ç«‹å³æ‰§è¡Œexcutor try { excutor(resolve, reject); } catch (error) { // æŠ›å‡ºå¼‚å¸¸å˜ä¸ºrejected reject(error); } } Promise.then()/.catch()å…ˆæ¥çœ‹ä¸€ä¸‹è¿™ä¸ªä¾‹å­ï¼Œå°†fnèµ‹å€¼ç»™fï¼Œä¸¤ç§æ–¹æ³•ï¼Œç¬¬äºŒç§æ¯”ç¬¬ä¸€ç§ç®€ä»‹ï¼Œåœ¨.thenå†…éƒ¨è¿”å›æ•°æ®æ—¶ä¼šç”¨åˆ° function fn() { } var f = function fn() { } var f = fn; æ­£ç‰‡å¼€å§‹ /* Promise åŸå‹å¯¹è±¡.then æŒ‡å®šæˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•° è¿”å›ä¸€ä¸ªæ–°çš„Promise */ Promise.prototype.then = function (onResolved, onRejected) { onResolved = typeof onResolved === &#39;function&#39; ? onResolved : value =&gt; value onRejected = typeof onRejected === &#39;function&#39; ? onRejected : reason =&gt; {throw reason} const _this = this; // è¿”å›ä¸€ä¸ªæ–°çš„promise return new Promise((resolve, reject) =&gt; { // æŒ‡å®šè°ƒç”¨å›è°ƒå‡½æ•° function handle(callback) { try { const result = callback(_this.data); if (result instanceof Promise) { // ç±»å‹ä¸ºpromiseï¼Œç»“æœæ˜¯è¿™ä¸ªpromiseçš„ç»“æœ // result.then( // value =&gt; resolve(value), // reason =&gt; reject(reason) // ) result.then(resolve, reject); } else { resolve(result); // épromiseè¿”å›ç»“æœ } } catch (error) { // æŠ›å‡ºå¼‚å¸¸ï¼Œå¤±è´¥ reject(error); } } if (_this.status === PENDING) { _this.callbacks.push({ onResolved(value) { handle(onResolved) }, onRejected(reason) { handle(onRejected) } }) } else if (_this.status === RESOLVED) { setTimeout(() =&gt; { handle(onResolved) }) } else { setTimeout(() =&gt; { handle(onRejected) }) } }) } /* Promise åŸå‹å¯¹è±¡.catch æŒ‡å®šå¤±è´¥çš„å›è°ƒå‡½æ•° è¿”å›ä¸€ä¸ªæ–°çš„Promise */ Promise.prototype.catch = function (onRejected) { return this.then(undefined, onRejected) } Promise.resolve()/reject() /* Promise åŸå‹å¯¹è±¡.resolve è¿”å›ä¸€ä¸ªæŒ‡å®švalueçš„Promise */ Promise.resolve = function (value) { // è¿”å›ä¸€ä¸ªæˆåŠŸ/å¤±è´¥çš„promise return new Promise((resolve, reject) =&gt; { if (value instanceof Promise) { value.then(resolve, reject) } else { resolve(value) } }) } /* Promise åŸå‹å¯¹è±¡.reject è¿”å›ä¸€ä¸ªæŒ‡å®šreasonçš„Promise */ Promise.reject = function (reason) { // è¿”å›ä¸€ä¸ªå¤±è´¥çš„promise return new Promise((resolve, reject) =&gt; { reject(reason); }) } Promise.all()/race() /* Promise åŸå‹å¯¹è±¡.all è¿”å›ä¸€ä¸ªPromiseï¼Œæ‰€æœ‰promiseéƒ½æˆåŠŸæ‰æˆåŠŸï¼Œä¸€ä¸ªå¤±è´¥å°±å¤±è´¥ */ Promise.all = function (promises) { const values = new Array(promises.length); // ä¿å­˜æ‰€æœ‰æˆåŠŸçš„value let resolveCount = 0; // è®¡æ•°å™¨ï¼Œè®¡ç®—æˆåŠŸçš„æ•°é‡ return new Promise((resolve, reject) =&gt; { // è·å–æ¯ä¸ªpromiseçš„ç»“æœ promises.forEach((p, index) =&gt; { p.then( value =&gt; { resolveCount++; values[index] = value; if (resolveCount === promises.length) { // æ‰€æœ‰éƒ½å®Œæˆæ‰ä¼šresolve resolve(values) } }, reason =&gt; { reject(reason) } ) }) }) } /* Promise åŸå‹å¯¹è±¡.race è¿”å›ä¸€ä¸ªPromiseï¼Œç”±ç¬¬ä¸€ä¸ªå®Œæˆçš„promiseå†³å®š */ Promise.race = function (promises) { return new Promise((resolve, reject) =&gt; { promises.forEach((p) =&gt; { p.then( value =&gt; { resolve(value) }, reason =&gt; { reject(reason) } ) }) }) } ä»£ç ä»£ç å·²ç»ä¸Šä¼ ç äº‘","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"åŸå‹å’ŒåŸå‹é“¾","slug":"æŠ€æœ¯/åŸå‹å’ŒåŸå‹é“¾","date":"2020-08-19T00:53:18.162Z","updated":"2020-09-05T09:35:16.583Z","comments":true,"path":"2020/08/19/æŠ€æœ¯/åŸå‹å’ŒåŸå‹é“¾/","link":"","permalink":"https://easyremember.cn/2020/08/19/æŠ€æœ¯/åŸå‹å’ŒåŸå‹é“¾/","excerpt":"","text":"åŸå‹å’ŒåŸå‹é“¾ javascriptæ˜¯åŠ¨æ€çš„ï¼Œå¹¶ä¸”æœ¬èº«ä¸æä¾›ä¸€ä¸ª class å®ç°ã€‚ï¼ˆåœ¨ ES6 ä¸­å¼•å…¥äº† class å…³é”®å­—ï¼Œä½†é‚£åªæ˜¯è¯­æ³•ç³–ï¼ŒJavaScript ä»ç„¶æ˜¯åŸºäºåŸå‹çš„ï¼‰ã€‚ æ¯ä¸ªå®ä¾‹å¯¹è±¡ï¼ˆ object ï¼‰éƒ½æœ‰ä¸€ä¸ªç§æœ‰å±æ€§ï¼ˆç§°ä¹‹ä¸º proto ï¼‰æŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼ˆprototype ï¼‰ã€‚è¯¥åŸå‹å¯¹è±¡ä¹Ÿæœ‰ä¸€ä¸ªè‡ªå·±çš„åŸå‹å¯¹è±¡( proto ) ï¼Œå±‚å±‚å‘ä¸Šç›´åˆ°ä¸€ä¸ªå¯¹è±¡çš„åŸå‹å¯¹è±¡ä¸º nullã€‚æ ¹æ®å®šä¹‰ï¼Œnull æ²¡æœ‰åŸå‹ï¼Œå¹¶ä½œä¸ºè¿™ä¸ªåŸå‹é“¾ä¸­çš„æœ€åä¸€ä¸ªç¯èŠ‚ã€‚ æ¯ä¸€ä¸ªjavascriptå¯¹è±¡(é™¤nullå¤–)åˆ›å»ºçš„æ—¶å€™ï¼Œå°±ä¼šä¸ä¹‹å…³è”å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŸå‹ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹ä¸­â€œç»§æ‰¿â€å±æ€§ __proto__å°±æ˜¯æŒ‡å‘å¯¹è±¡åŸå‹çš„å±æ€§ ä¾‹å¦‚æœ‰ä¸€ä¸ªPersonå¯¹è±¡ï¼Œå®ä¾‹åŒ–ä¸€ä¸ªå®ä¾‹å¯¹è±¡ä¹‹åå®ƒçš„__proto__æŒ‡å‘Object æ¯ä¸ªå‡½æ•°éƒ½ä¼šè‡ªå¸¦ä¸€ä¸ªprototypeå±æ€§ï¼ŒæŒ‡å‘å¯¹è±¡åŸå‹ function Person(name) { this.name = name; } Person.prototype.age = 12; var zhangsan = new Person(&#39;zhangsan&#39;); console.log(zhangsan); å¯ä»¥çœ‹åˆ°å®ä¾‹çš„åŸå‹ä¸­å·²ç»æœ‰äº†ageå±æ€§ å®ä¾‹å¯¹è±¡.__proto__ === æ„é€ å‡½æ•°.prototype ä¸Šé¢çš„ä¾‹å­ä¸­ zhangsan.__proto__ === Person.prototype Person.prototype.__proto__ === Object.prototype zhangsanâ€”â€”Personâ€”â€”Objectè¿™ç§åŸå‹ä¸åŸå‹å±‚å±‚ç›¸é“¾æ¥çš„è¿‡ç¨‹å³ä¸ºåŸå‹é“¾ å½“è¯»å–å®ä¾‹å±æ€§æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±ä¼šä»åŸå‹é“¾ä¸€å±‚ä¸€å±‚åœ°å¾€ä¸Šæ‰¾ï¼Œä¸€ç›´åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ æ‰€æœ‰å¯¹è±¡çš„åŸå‹æœ€ç»ˆéƒ½æŒ‡å‘Objectï¼Œè€ŒObject.prototype.__proto__ === null","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"vuexå…¥é—¨","slug":"æŠ€æœ¯/vuexå…¥é—¨","date":"2020-08-18T11:03:09.232Z","updated":"2020-09-05T09:34:40.320Z","comments":true,"path":"2020/08/18/æŠ€æœ¯/vuexå…¥é—¨/","link":"","permalink":"https://easyremember.cn/2020/08/18/æŠ€æœ¯/vuexå…¥é—¨/","excerpt":"","text":"vuexå…¥é—¨ä¼˜åŠ¿ é›†ä¸­ç®¡ç†æ•°æ®ï¼Œæ˜“äºåæœŸå¼€å‘å’Œç»´æŠ¤ é«˜æ•ˆçš„å®ç°ç»„ä»¶ä¹‹é—´çš„æ•°æ®å…±äº«ï¼Œæé«˜å¼€å‘æ•ˆç‡ vuexä¸­æ•°æ®éƒ½æ˜¯å“åº”å¼çš„ï¼Œå®æ—¶ä¿æŒé¡µé¢åŒæ­¥ å“ªäº›æ•°æ®é€‚åˆå­˜å‚¨åˆ°Vuexä¸­åªæœ‰ç»„ä»¶ä¹‹é—´éœ€è¦å…±äº«çš„æ•°æ®ï¼Œæ‰æœ‰å¿…è¦å­˜å‚¨åˆ°Vuexä¸­ Vuexæ ¸å¿ƒæ¦‚å¿µStateæä¾›å”¯ä¸€çš„å…¬å…±æ•°æ®æº const store = new Vuex.store({ state: { count: 0 } }) ç»„ä»¶ä¸­è®¿é—®Stateæ•°æ® ç¬¬ä¸€ç§æ–¹å¼ï¼šthis.$store.state.å…¨å±€æ•°æ®å ç¬¬äºŒç§æ–¹å¼ï¼šæŒ‰éœ€å¯¼å…¥import {mapState} from &#39;vuex&#39;ï¼Œé€šè¿‡mapStateå‡½æ•°ï¼Œå°†å½“å‰ç»„ä»¶éœ€è¦çš„å…¨å±€æ•°æ®æ˜ å°„ä¸ºå½“å‰ç»„ä»¶çš„computedè®¡ç®—å±æ€§ computed: { ...mapState([&#39;count&#39;]) } Mutationç”¨äºå˜æ›´storeä¸­çš„æ•°æ® åªèƒ½é€šè¿‡mutationå˜æ›´Storeæ•°æ®ï¼Œä¸å¯ä»¥ç›´æ¥æ“ä½œStoreä¸­çš„æ•°æ® å¯ä»¥é›†ä¸­ç›‘æ§æ‰€æœ‰æ•°æ®å˜åŒ– åœ¨vuexä¸­å®šä¹‰æ–¹æ³• const store = new Vuex.store({ mutations: { add(state) { state.count++ } } }) æ–¹æ³•ä¸€ï¼šé€šè¿‡this.$store.commitæ–¹æ³•è§¦å‘vuexä¸­çš„æ–¹æ³• methods: { btnHandle1() { this.$store.commit(&#39;add&#39;) } } å¯ä»¥åœ¨è§¦å‘mutationçš„æ—¶å€™ä¼ é€’å‚æ•° const store = new Vuex.store({ mutations: { addN(state, step) { state.count += step } } }) Â·Â·Â·Â·Â·Â· btnHandle2() { this.$store.commit(&#39;add&#39;, 3) } æ–¹æ³•äºŒï¼šä»Vuexä¸­æŒ‰éœ€å¯¼å…¥mapMutationså‡½æ•°ï¼Œå°†éœ€è¦çš„mapMutationså‡½æ•°æ˜ å°„ä¸ºå½“å‰ç»„å»ºçš„methodsæ–¹æ³• import {mapMutations} from &#39;vuex&#39; Â·Â·Â· methods: { ...mapMutations([&#39;sub&#39;]), Handle() { this.sub() } } å¸¦å‚æ•° methods: { ...mapMutations([&#39;subN&#39;]), Handle2() { this.subN(3) } } mutationå‡½æ•°ä¸­ä¸å¯ä»¥æ‰§è¡Œå¼‚æ­¥æ“ä½œ Actionç”¨äºå¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼ŒAction æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ const store = new Vuex.Store({ state: { count: 0 }, mutations: { add (state) { state.count++ } }, actions: { addAsync(context, step) { setTimeout(() =&gt; { context.commit(&#39;add&#39;, step) },1000) } } }) æ–¹æ³•ä¸€ï¼šé€šè¿‡ $store.dispatch()è§¦å‘Action btnHandle3() { this.$store.dispatch(&#39;addAsync&#39;) } æºå¸¦å‚æ•° addAsyncN(context, step) { setTimeout(() =&gt; { context.commit(&#39;addN&#39;, step) },1000) } Â·Â·Â·Â·Â·Â· btnHandle4() { this.$store.dispatch(&#39;addAsyncN&#39;, 3) } æ–¹æ³•äºŒï¼šä»vuexä¸­æŒ‰éœ€å¯¼å…¥mapActionså‡½æ•°ï¼Œå°†éœ€è¦çš„actionså‡½æ•°æ˜ å°„ä¸ºç»„å»ºçš„methods import {mapActions} from &#39;vuex&#39; Â·Â·Â·Â·Â·Â· methods: { ...mapActions([&#39;subAsync&#39;]), Handle3() { this.subAsync() } } æºå¸¦å‚æ•° methods: { ...mapActions([&#39;subAsyncN&#39;]), Handle4() { this.subAsyncN(3) } } Getterç”¨äºå¯¹Storeä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†å½¢æˆæ–°çš„æ•°æ®ï¼Œä¸ä¼šä¿®æ”¹åŸæœ‰æ•°æ® å¯¹Storeä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†å½¢æˆæ–°çš„æ•°æ®ï¼Œç±»ä¼¼äºVueä¸­çš„è®¡ç®—å±æ€§ Storeä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼ŒGetterçš„æ•°æ®ä¹Ÿä¼šè·Ÿç€æ”¹å˜ å®šä¹‰getter getters: { showNum(state) { return &#39;å½“å‰æœ€æ–°æ•°é‡æ˜¯ã€&#39; + state.count + &#39;ã€‘&#39; } } è·å–getter æ–¹æ³•ä¸€ï¼šé€šè¿‡this.$store.getters.getterçš„æ–¹æ³•å this.$store.getters.showNum æ–¹æ³•äºŒï¼šæŒ‰éœ€å¯¼å…¥mapGetterså‡½æ•°ï¼Œé€šè¿‡mapGetterså‡½æ•°ï¼Œå°†å½“å‰ç»„ä»¶éœ€è¦çš„å…¨å±€æ•°æ®æ˜ å°„ä¸ºå½“å‰ç»„ä»¶çš„computedè®¡ç®—å±æ€§ import {mapGetters} from &#39;vuex&#39; Â·Â·Â·Â·Â·Â· computed: { ...mapGetters([&#39;showNum&#39;]) }, Vuexæ¨¡å—åŒ–ç®¡ç†éšç€åŠŸèƒ½å’Œæ•°æ®ä¸æ–­å¢åŠ ï¼Œstoreä¼šè¶Šæ¥è¶Šè‡ƒè‚¿ï¼ŒæŠŠä¸åŒçš„åŠŸèƒ½å•ç‹¬æ‹†åˆ†å¤„ç†ï¼Œå¯ä»¥æ–¹ä¾¿ç®¡ç† â””â”€â”€ store â””â”€â”€ index.js # æ€»çš„store â””â”€â”€ modules â””â”€â”€ modulesA.js # æ¨¡å—A â””â”€â”€ modulesB.js # æ¨¡å—B Â· # å…¶ä»–æ¨¡å— è§„æ¨¡è¾ƒå°çš„å¯ä»¥å°†ä¸åŒçš„æ ¸å¿ƒæ”¾åœ¨ä¸€ä¸ªæ¨¡å—jsä¸­ï¼Œåˆ†å¤šäº†åè€Œä¸æ–¹ä¾¿ user.js const state = {} const actions = {} _______________ export defult { namespaced: true, state, actions, } index.js import moduleA from &#39;./modules/modulesA&#39; ___________ modules: { moduleA } Vuexæ¨¡å—åŒ–ç®¡ç†è°ƒç”¨ä¸åŒåŠŸèƒ½åˆ’åˆ†æ¨¡å—ä¹‹åå¼•å…¥æ•°æ®çš„æ–¹å¼ç•¥æœ‰æ”¹å˜ stateæ–¹æ³•ä¸€ï¼š this.$store.state.moduleA.key2ï¼Œåœ¨åŸæ¥ç›´æ¥å¼•å…¥æ•°æ®çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ äº†æ¨¡å—å æ–¹æ³•äºŒï¼š computed: { ...mapState({ key: state =&gt; state.moduleA.key1 }) ------------------- ...mapState(&#39;moduleA&#39;, { key: &quot;key1&quot; }), }, å°†æ¨¡å—ä¸­çš„key1èµ‹å€¼ç»™è®¡ç®—å±æ€§key,ä¸¤ç§æ–¹æ³•ç»“æœæ˜¯ä¸€æ ·çš„ mutationsæ–¹æ³•ä¸€ï¼š this.$store.commit(&#39;moduleA/changeValue&#39;)ï¼Œåœ¨åŸæ¥ç›´æ¥è°ƒç”¨æ–¹æ³•åçš„åŸºç¡€ä¹‹ä¸Šæ·»åŠ æ¨¡å—å æ–¹æ³•äºŒï¼š methods: { ...mapMutations(&#39;moduleA&#39;,[&#39;changeValue&#39;]), handle() { this.changeValue() } } åœ¨å¼•å…¥æ–¹æ³•ä¹‹å‰æ·»åŠ æ¨¡å—å actionsåŒmutataions æ–¹æ³•ä¸€ï¼š this.$store.dispatch(&#39;moduleA/changeAsync&#39;) æ–¹æ³•äºŒï¼š methods: { ...mapActions(&#39;moduleA&#39;, [&#39;changeAsync&#39;]), handle() { this.changeAsync() } } gettersæ–¹æ³•ä¸€ computed: { ...mapGetters(&#39;moduleA&#39;,{ dKey: &quot;detailValue&quot; }) }, æ–¹æ³•äºŒ this.$store.getters[&#39;moduleA/getMethods&#39;] VuexçŠ¶æ€ç®¡ç† ç»„ä»¶é€šè¿‡è°ƒç”¨actionsè§¦å‘mutationsæ¥ä¿®æ”¹stateï¼Œstateç»è¿‡gettersåŒ…è£…ä¹‹åæ˜¾ç¤ºåˆ°ç»„ä»¶ï¼› ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹stateï¼Œåªè®©mutationä¿®æ”¹state","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"åŸç”ŸJSå®ç°AJAX","slug":"æŠ€æœ¯/åŸç”ŸJSå®ç°AJAX","date":"2020-08-18T08:14:27.923Z","updated":"2020-09-05T09:35:10.625Z","comments":true,"path":"2020/08/18/æŠ€æœ¯/åŸç”ŸJSå®ç°AJAX/","link":"","permalink":"https://easyremember.cn/2020/08/18/æŠ€æœ¯/åŸç”ŸJSå®ç°AJAX/","excerpt":"","text":"åŸç”ŸJSå®ç°AJAXä»€ä¹ˆæ˜¯AjaxAJAX = Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ï¼Œä¸æ˜¯æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ä½¿ç”¨ç°æœ‰æ ‡å‡†çš„æ–°æ–¹æ³•ï¼Œä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹æ›´æ–°éƒ¨åˆ†é¡µé¢ Ajaxå·¥ä½œåŸç† XHR(XMLHttpRequiest)åˆ›å»ºXHRå¯¹è±¡æ–°ç‰ˆæœ¬çš„æµè§ˆå™¨éƒ½æ”¯æŒXHRå¯¹è±¡ï¼Œç›´æ¥å®ä¾‹åŒ–å³å¯var xhr = new XMLHttpRequest(); XHRè¯·æ±‚å¦‚æœè¦å°†æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ï¼Œä½¿ç”¨XMLHttpRequest å¯¹è±¡çš„ open() å’Œ send() æ–¹æ³• open(method, url, async) methodï¼šè¯·æ±‚çš„ç±»å‹ï¼›GET æˆ– POST urlï¼šæ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„ä½ç½® asyncï¼štrueï¼ˆå¼‚æ­¥ï¼‰æˆ– falseï¼ˆåŒæ­¥ï¼‰ send(string) stringï¼šä»…ç”¨äº POST è¯·æ±‚å‘é€æ•°æ® GETè¯·æ±‚function load() { var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function () { if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) { document.getElementById(&quot;box&quot;).innerHTML = xhr.responseText; } } xhr.open(&#39;GET&#39;, &#39;/promise.js&#39;, true); xhr.send(); } å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°ä¸­å®ä¾‹åŒ–ä¸€ä¸ªXHRå®ä¾‹å¯¹è±¡ï¼Œå½“xhrçš„çŠ¶æ€æ”¹å˜æˆç›¸åº”çš„çŠ¶æ€æ—¶ï¼Œå°†è¯·æ±‚åˆ°çš„æ–‡æœ¬æ’å…¥HTMLæ–‡æ¡£ä¸­ POSTè¯·æ±‚è¿‡ç¨‹ç›¸åŒï¼Œåªæ˜¯åœ¨sendä¸­åŠ å…¥è¦å‘é€çš„æ•°æ® å°è£…æ¯æ¬¡è¯·æ±‚éƒ½è¦å†™è¿™ä¸€å †ä¸œè¥¿å¤ªè¿‡ç¹çï¼Œå°†ä»£ç æŠ½ç¦»å‡ºæ¥ä½œä¸ºå•ç‹¬çš„æ¨¡å— var Ajax = { get: function (url,callback) { var xhr = new XMLHttpRequest(); xhr.open(&#39;GET&#39;, url, true); xhr.send(); xhr.onreadystatechange = function () { if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) { callback(xhr.responseText); } } }, post: function (url, data, callback) { var xhr = new XMLHttpRequest(); xhr.open(&#39;POSt&#39;, url, true); xhr.setRequestHeader(&#39;Content-Type&#39;, &#39;application/x-www-form-urlencoded&#39;); xhr.onreadystatechange = function () { if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) { callback(xhr.responseText); } } xhr.send(data); } } function load() { Ajax.get(&#39;/promise.js&#39;, (res) =&gt; { document.getElementById(&quot;box&quot;).innerHTML = res; }); } getè¯·æ±‚ä¼ å…¥urlå’Œcallbackï¼Œststuså˜ä¸º200æ—¶è§¦å‘callback readystate status åé¦ˆå†…å®¹ åŸºäºPromiseå°è£…var Ajax = { get: function (url) { return new Promise((resolve, reject) =&gt; { var xhr = new XMLHttpRequest(); xhr.open(&#39;GET&#39;, url, true); xhr.send(); xhr.onreadystatechange = function () { if (xhr.readyState == 4 &amp;&amp; (xhr.status == 200 || xhr.status === 0)) { resolve(xhr.responseText); } } }) }, post: function (url, data) { return new Promise((resolve, reject) =&gt; { var xhr = new XMLHttpRequest(); xhr.open(&#39;POSt&#39;, url, true); xhr.setRequestHeader(&#39;Content-Type&#39;, &#39;application/x-www-form-urlencoded&#39;); xhr.onreadystatechange = function () { if (xhr.readyState == 4 &amp;&amp; xhr.status == 0) { resolve(xhr.responseText); } } xhr.send(data); }) } } function load() { const p = Ajax.get(&#39;/promise.js&#39;).then(value =&gt; { console.log(value); }).catch(reason =&gt; { console.log(reason); }) } æŠŠå¼‚æ­¥æ“ä½œå°è£…åˆ°Promiseï¼Œè°ƒç”¨èµ·æ¥ç›¸å½“æ–¹ä¾¿ï¼Œè¿™æ ·å¯ä»¥è¯·æ±‚åˆ°æ•°æ®ï¼Œä½†åˆ¤æ–­çŠ¶æ€å¦‚æœåŠ ä¸Šelseå°±ä¼šèµ°elseåˆ†æ”¯ï¼Œç›®å‰æ²¡æœ‰æ‰¾åˆ°åŸå› ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"ES6å’ŒCommonJSçš„æ¨¡å—åŒ–","slug":"æŠ€æœ¯/ES6å’ŒCommonJS","date":"2020-08-18T01:10:06.072Z","updated":"2020-09-09T02:55:20.645Z","comments":true,"path":"2020/08/18/æŠ€æœ¯/ES6å’ŒCommonJS/","link":"","permalink":"https://easyremember.cn/2020/08/18/æŠ€æœ¯/ES6å’ŒCommonJS/","excerpt":"","text":"ES6å’ŒCommonJSçš„æ¨¡å—åŒ– CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ã€‚ å¯¼å‡ºå¯¼å…¥å¯¹æ¯”ES6ES6é‡‡ç”¨import/exportæ¥è¿›è¡Œå¯¼å‡ºå¯¼å…¥æ“ä½œï¼Œè¿˜æœ‰ä¸€ç§å¯¼å‡ºæ–¹å¼export defaultï¼Œä¸€èˆ¬ä½¿ç”¨äº†export defaultçš„ä¸å…è®¸åŒæ—¶ä½¿ç”¨export CommonJScjsé‡‡ç”¨require/module.exportsæ¥è¿›è¡Œå¯¼å…¥å¯¼å‡ºæ“ä½œ ES6æ˜¯å¼•ç”¨ï¼ŒCommonJSæ˜¯æ‹·è´ES6å¯¼å…¥çš„æ˜¯æ¨¡å—çš„å¼•ç”¨ï¼Œå½“æ¨¡å—å†…éƒ¨çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå¼•ç”¨çš„å€¼ä¹Ÿä¼šæ”¹å˜ print.jsä»£ç å¦‚ä¸‹ export let num = 9; export function logNum() { num++; } å¼•ç”¨å¦‚ä¸‹ å¯ä»¥çœ‹åˆ°æ¯åœ¨æµè§ˆå™¨ç‚¹å‡»ä¸€æ¬¡buttonéƒ½ä¼šæ‰“å°å‡ºnumçš„å€¼+1 CommonJSæ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„æ‹·è´ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–ä¸ä¼šå½±å“åˆ°è¾“å‡ºå€¼ print.jsä»£ç ä¿®æ”¹ä¸ºå¦‚ä¸‹ let num = 9; function logNum() { num++; } module.exports = { num, logNum } ç„¶åå†ç‚¹å‡»buttonä¼šçœ‹åˆ°æ§åˆ¶å°æ‰“å°å‡ºçš„æ•°å€¼ä¸€ç›´ä¸å˜ æ­¤å¤–ï¼Œexport defaultå¯¼å‡ºçš„æ•ˆæœä¹Ÿè·ŸCommenJSç›¸åŒ let num = 9; function logNum() { num++; } export default { num, logNum } å¼•å…¥æ—¶æ¥æ”¶ä¸ºä¸€ä¸ªå¯¹è±¡ æ‰“å°ç»“æœåŒæ ·ä¸å˜ CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ è¿è¡Œæ—¶åŠ è½½: CommonJS æ¨¡å—å°±æ˜¯å¯¹è±¡ï¼ˆå³module.exportså±æ€§ï¼‰ï¼›å³åœ¨è¾“å…¥æ—¶æ˜¯å…ˆåŠ è½½æ•´ä¸ªæ¨¡å—ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå†ä»è¿™ä¸ªå¯¹è±¡ä¸Šé¢è¯»å–æ–¹æ³•ï¼Œè¿™ç§åŠ è½½ç§°ä¸ºâ€œè¿è¡Œæ—¶åŠ è½½â€ã€‚ ç¼–è¯‘æ—¶åŠ è½½: ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡ export å‘½ä»¤æ˜¾å¼æŒ‡å®šè¾“å‡ºçš„ä»£ç ï¼Œimportæ—¶é‡‡ç”¨é™æ€å‘½ä»¤çš„å½¢å¼ã€‚å³åœ¨importæ—¶å¯ä»¥æŒ‡å®šåŠ è½½æŸä¸ªè¾“å‡ºå€¼ï¼Œè€Œä¸æ˜¯åŠ è½½æ•´ä¸ªæ¨¡å—ï¼Œè¿™ç§åŠ è½½ç§°ä¸ºâ€œç¼–è¯‘æ—¶åŠ è½½â€ æ­¤å¤– CommonJsæ˜¯åŠ¨æ€è¯­æ³•å¯ä»¥å†™åœ¨åˆ¤æ–­é‡Œï¼ŒES6 Moduleé™æ€è¯­æ³•åªèƒ½å†™åœ¨é¡¶å±‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Eggå®ç”¨ä¸­é—´ä»¶","slug":"æŠ€æœ¯/Eggå¸¸ç”¨çš„åŒ…","date":"2020-08-17T08:17:39.921Z","updated":"2020-09-05T09:37:20.810Z","comments":true,"path":"2020/08/17/æŠ€æœ¯/Eggå¸¸ç”¨çš„åŒ…/","link":"","permalink":"https://easyremember.cn/2020/08/17/æŠ€æœ¯/Eggå¸¸ç”¨çš„åŒ…/","excerpt":"","text":"Eggå¸¸ç”¨çš„æ’ä»¶egg-mysqlå®‰è£…ä¸é…ç½®é¦–å…ˆå®‰è£…egg-mysqlçš„åŒ… $ npm i --save egg-mysql ç„¶ååœ¨plugin.tså¼€å¯æ’ä»¶ mysql: { enable: true, package: &#39;egg-mysql&#39;, }, å†ç„¶ååœ¨configä¸­é…ç½®æ•°æ®åº“ä¿¡æ¯ å•æ•°æ®åº“// mysqlæ•°æ®åº“ config.mysql = { client: { // å•æ•°æ®åº“ä¿¡æ¯é…ç½® host: &#39;localhost&#39;, // host port: &#39;3306&#39;, // ç«¯å£å· user: &#39;liuhao&#39;, // ç”¨æˆ·å password: &#39;123456&#39;, // å¯†ç  database: &#39;ssmbuild&#39;, // æ•°æ®åº“å }, app: true, // æ˜¯å¦åŠ è½½åˆ° app ä¸Šï¼Œé»˜è®¤å¼€å¯ agent: false, // æ˜¯å¦åŠ è½½åˆ° agent ä¸Šï¼Œé»˜è®¤å…³é—­ }; ä½¿ç”¨æ–¹æ³• await app.mysql.query(sql, values); å¤šæ•°æ®åº“// mysqlæ•°æ®åº“ config.mysql = { clients: { // å¤šæ®åº“ä¿¡æ¯é…ç½® db1: { host: &#39;localhost&#39;, // host port: &#39;3306&#39;, // ç«¯å£å· user: &#39;liuhao&#39;, // ç”¨æˆ·å password: &#39;123456&#39;, // å¯†ç  database: &#39;ssmbuild&#39;, // æ•°æ®åº“å }, db2: { host: &#39;mysql.com&#39;, // host port: &#39;3306&#39;, // ç«¯å£å· user: &#39;root&#39;, // ç”¨æˆ·å password: &#39;123456&#39;, // å¯†ç  database: &#39;test&#39;, // æ•°æ®åº“å } }, app: true, // æ˜¯å¦åŠ è½½åˆ° app ä¸Šï¼Œé»˜è®¤å¼€å¯ agent: false, // æ˜¯å¦åŠ è½½åˆ° agent ä¸Šï¼Œé»˜è®¤å…³é—­ }; ä½¿ç”¨æ–¹æ³• const client1 = app.mysql.get(&#39;db1&#39;);await client1.query(sql, values); const client2 = app.mysql.get(&#39;db2&#39;);await client2.query(sql, values); æ³¨æ„egg-mysqlæ²¡æœ‰index.d.tsï¼Œæ‰€ä»¥ç¼–è¯‘ä¸è¿‡ï¼Œåœ¨typings/index.d.tsä¸­æ·»åŠ é…ç½® import &#39;egg&#39;; declare module &#39;egg&#39; { interface mysql { get(tableName: String, find: {}): Promise&lt;Any&gt; insert(tableName: String, find: {}): Promise&lt;Any&gt; update(tableName: String, find: {}): Promise&lt;Any&gt; delete(tableName: String, find: {}): Promise&lt;Any&gt; query(sql: String, values: Any[]): Promise&lt;Any&gt; } interface Application { mysql: mysql; } } è¯¦è§å¯’é£å‚²å¤©åšæ–‡ CRUDCreateä½¿ç”¨insertæ–¹æ³•æ’å…¥ä¸€æ¡è®°å½•ï¼Œæ’å…¥æˆåŠŸåˆ¤å®š result.affectedRows === 1 // controller public async insert() { const { ctx } = this; const book = { bookName: &#39;js&#39;, bookCounts: 2, detail: &#39;test&#39;, }; const result = await ctx.service.book.create(book); if (result.affectedRows === 1) { ctx.body = &#39;æ’å…¥æˆåŠŸ&#39;; } else { ctx.body = &#39;æ’å…¥å¤±è´¥&#39;; } } // service public async create(book) { const { app } = this; const result = await app.mysql.insert(&#39;books&#39;, book); return result; } ç»“æœå¦‚å›¾ Readä½¿ç”¨ get æ–¹æ³•æˆ– select æ–¹æ³•è·å–ä¸€æ¡æˆ–å¤šæ¡è®°å½•ã€‚select æ–¹æ³•æ”¯æŒæ¡ä»¶æŸ¥è¯¢ä¸ç»“æœçš„å®šåˆ¶ã€‚ // controller public async index() { const { ctx } = this; const result = await ctx.service.book.select(); await ctx.render(&#39;book.ejs&#39;, { result, }); } // service public async select(options?: object) { const { app } = this; const result = await app.mysql.select(&#39;books&#39;, options); return result; } æ¥çœ‹ä¸‹æ•ˆæœ å®šåˆ¶æŸ¥è¯¢ Update&amp;Deleteä½¿ç”¨ update æ–¹æ³•æ›´æ–°æ•°æ®åº“è®°å½• const result = await app.mysql.update(&#39;posts&#39;, row, options); // å‚æ•°: è¡¨åï¼Œæ›´æ–°çš„æ•°æ®ï¼ŒæŸ¥è¯¢å‚æ•° const updateSuccess = result.affectedRows === 1; // æ’å…¥æˆåŠŸåˆ¤å®š ä½¿ç”¨ delete æ–¹æ³•åˆ é™¤æ•°æ®åº“è®°å½• const result = await app.mysql.delete(&#39;posts&#39;, options); ç›´æ¥æ‰§è¡ŒsqlæŸ¥è¯¢ä½¿ç”¨ query æ‰§è¡Œsql è¯­å¥ const id = 1; cosnt count = 4; const results = await app.mysql.query(&#39;select * from books where id = ? and bookCounts &gt; ?&#39;, [id, count]); äº‹åŠ¡ ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘#2éƒ¨åˆ† egg-sequelizeå®‰è£…ä¸é…ç½®å®‰è£…egg-sequelizeå’Œmysql2 $ npm install --save egg-sequelize mysql2 åœ¨pluginä¸­å¼€å¯æ’ä»¶ sequelize: { enable: true, package: &#39;egg-sequelize&#39;, }, åœ¨configä¸­é…ç½®sequelize // é…ç½®sequellize config.sequelize = { dialect: &#39;mysql&#39;, // æ•°æ®åº“ç±»å‹ database: &#39;ssmbuild&#39;, // æ•°æ®åº“åç§° host: &#39;127.0.0.1&#39;, // æ•°æ®åº“ipåœ°å€ port: 3306, // æ•°æ®åº“ç«¯å£ username: &#39;liuhao&#39;, // æ•°æ®åº“ç”¨æˆ·å password: &#39;123456&#39;, // æ•°æ®åº“å¯†ç  }; ç»æµ‹è¯•è¿™ç§æ–¹å¼å¯ä»¥è¿›è¡Œæ“ä½œï¼Œä½†æ˜¯ï¼Œä¸èƒ½è‡ªåŠ¨ç”Ÿæˆè¡¨ï¼Œéœ€è¦æ‰‹åŠ¨å»ºè¡¨ é…ç½®sequelize-cliå®‰è£… $ npm install --save-dev sequelize-cli åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª .sequelizerc é…ç½®æ–‡ä»¶ &#39;use strict&#39;; const path = require(&#39;path&#39;); module.exports = { config: path.join(__dirname, &#39;database/config.json&#39;), &#39;migrations-path&#39;: path.join(__dirname, &#39;database/migrations&#39;), &#39;seeders-path&#39;: path.join(__dirname, &#39;database/seeders&#39;), &#39;models-path&#39;: path.join(__dirname, &#39;app/model&#39;), }; ç„¶åè¿è¡Œå‘½ä»¤åˆå§‹åŒ–é…ç½®æ–‡ä»¶å’Œç›®å½• $ npx sequelize init:config $ npx sequelize init:migrations æ ¹ç›®å½•ä¸‹ä¼šç”Ÿæˆæ•°æ®åº“ç›¸å…³æ–‡ä»¶å¤¹ å°†config.jsä¸­çš„æ•°æ®åº“é…ç½®æ”¹ä¸ºè‡ªå·±çš„é…ç½® ç„¶åè¿è¡Œå‘½ä»¤ç”Ÿæˆè¡¨ï¼Œä»¥userä¸ºä¾‹ $ npx sequelize migration:generate --name=users å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªusers.jsæ–‡ä»¶ï¼Œå¼€å§‹é…ç½®useræ¨¡å‹ module.exports = { // åœ¨æ‰§è¡Œæ•°æ®åº“å‡çº§æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œåˆ›å»º users è¡¨ up: async (queryInterface, Sequelize) =&gt; { /** * Add altering commands here. * * Example: * await queryInterface.createTable(&#39;users&#39;, { id: Sequelize.INTEGER }); */ const { INTEGER, STRING } = Sequelize; await queryInterface.createTable(&#39;users&#39;, { id: { type: INTEGER, // INTEGERå°±æ˜¯mysqlä¸­çš„int primaryKey: true, autoIncrement: true, // è‡ªåŠ¨å¢é•¿ }, name: STRING(20), url: STRING(100), country: STRING(10), }, { // timestamps: false, // å»é™¤createAt updateAt createdAt: false, // è¡¨ç¤ºä¸å¯ç”¨created_at updatedAt: false, // è¡¨ç¤ºä¸å¯ç”¨updated_at freezeTableName: true, // ä½¿ç”¨è‡ªå®šä¹‰è¡¨å // ä½¿ç”¨è‡ªå®šä¹‰è¡¨åä¹‹åä¸Šé¢å†™çš„userså°±ç›´æ¥å°±æ˜¯ä½ çš„è¡¨åï¼Œå¦‚æœä¸åŠ çš„è¯ï¼Œä½ å°±å¯ä»¥å†™userï¼Œä½†æ˜¯è‡ªå·±çš„è¡¨åä¸ºusersï¼Œç¨‹åºä¼šè‡ªåŠ¨å°†såŠ ä¸Š tableName: &#39;users&#39;, // è‡ªå®šä¹‰çš„è¡¨åï¼Œä¹Ÿå¯ä»¥ä¸å†™ï¼Œç›´æ¥ç”¨defineåé¢çš„ä¹Ÿå¯ä»¥ // åªè¦ä½ ä½¿ç”¨äº†freezeTableNameï¼Œç¨‹åºå°±ä¸ä¼šè‡ªåŠ¨ç»™ä½ åŠ ä¸Šsäº† }); }, // åœ¨æ‰§è¡Œæ•°æ®åº“é™çº§æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œåˆ é™¤ users è¡¨ down: async queryInterface =&gt; { /** * Add reverting commands here. * * Example: * await queryInterface.dropTable(&#39;users&#39;); */ await queryInterface.dropTable(&#39;users&#39;); }, }; ç„¶åå˜æ›´æ•°æ®åº“ # å‡çº§æ•°æ®åº“ $ npx sequelize db:migrate # å¦‚æœæœ‰é—®é¢˜éœ€è¦å›æ»šï¼Œå¯ä»¥é€šè¿‡ `db:migrate:undo` å›é€€ä¸€ä¸ªå˜æ›´ # npx sequelize db:migrate:undo # å¯ä»¥é€šè¿‡ `db:migrate:undo:all` å›é€€åˆ°åˆå§‹çŠ¶æ€ # npx sequelize db:migrate:undo:all å¯ä»¥çœ‹åˆ°æ•°æ®åº“ä¸­å·²ç»æœ‰äº†usersè¡¨ ç¼–ç OKï¼Œé…ç½®å·²ç»å®Œæˆï¼Œç°åœ¨å¼€å§‹è¿›è¡Œæ„‰å¿«çš„ç¼–ç  é¦–å…ˆåœ¨appç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªmodelæ–‡ä»¶å¤¹ï¼Œå°†useræ¨¡å‹æ·»åŠ åˆ°modelä¸‹é¢ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡app.model.User æˆ–è€… ctx.model.User è®¿é—®äº†ï¼Œä»¥insertä¸ºä¾‹ // controller public async add() { const { ctx } = this; const result = await ctx.service.user.createUser({ name: &#39;zhangsan&#39;, url: &#39;http://zhangsan.com&#39;, country: &#39;CN&#39;, }); ctx.body = result; } // service public async createUser(user: object) { const res = await this.ctx.model.User.create(user); return res; } ç„¶åå°±å¯ä»¥çœ‹åˆ°å·²ç»æ’å…¥æ•°æ®æˆåŠŸ æ›´å¤šsequelizeä½¿ç”¨æ–¹æ³•ä¸å¤šèµ˜è¿°ï¼Œè§ä¹‹å‰çš„åšæ–‡ï¼Œä¼ é€é—¨ ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘#3éƒ¨åˆ† egg-passportè¿™é‡Œç”¨å¾®åšçš„ç¬¬ä¸‰ç™»å½•åšä¸ºç¤ºèŒƒ å®‰è£…åŠé…ç½®é¦–å…ˆè¿è¡Œå‘½ä»¤å®‰è£…passportæ”¯æŒ $ npm i --save egg-passport $ npm i --save egg-passport-weibo ç„¶åå¼€å¯æ’ä»¶ passport: { enable: true, package: &#39;egg-passport&#39;, }, passportWeibo: { enable: true, package: &#39;egg-passport-weibo&#39;, }, ç„¶ååœ¨config.defaultä¸­é…ç½®ç”³è¯·åˆ°çš„èº«ä»½ç  // weiboç™»å½• config.passportWeibo = { key: &#39;your key&#39;, secret: &#39;your secret&#39;, }; ç¼–ç é¦–å…ˆåœ¨routerä¸­æŒ‚è½½è·¯ç”±ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯æ’ä»¶æä¾›çš„è¯­æ³•ç³–ï¼ˆè¿™é‡ŒæŒ‚è½½çš„æ—¶å€™å¯èƒ½ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰index.d.tsæ–‡ä»¶ï¼Œè¿™ä¸ªé—®é¢˜è§£å†³åŠæ³•ä¸Šé¢è¯´è¿‡ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼‰ export default (app: Application) =&gt; { const { controller, router } = app; router.get(&#39;/&#39;, controller.home.index); app.passport.mount(&#39;weibo&#39;); // ç›¸å½“äº // const github = app.passport.authenticate(&#39;github&#39;, {}); // router.get(&#39;/passport/github&#39;, github); // router.get(&#39;/passport/github/callback&#39;, github); }; ç„¶ååœ¨controllerä¸­ç¼–å†™ç™»å½•æ“ä½œ public async index() { // const { ctx } = this; // // ctx.body = await ctx.service.test.sayHi(&#39;egg&#39;); // await ctx.render(&#39;login.ejs&#39;); const { ctx } = this; if (ctx.isAuthenticated()) { ctx.body = `&lt;div&gt; &lt;h2&gt;${ctx.path}&lt;/h2&gt; &lt;hr&gt; Logined user: &lt;img src=&quot;${ctx.user.photo}&quot;&gt; ${ctx.user.displayName} / ${ctx.user.id} | &lt;a href=&quot;/logout&quot;&gt;Logout&lt;/a&gt; &lt;pre&gt;&lt;code&gt;${JSON.stringify(ctx.user, null, 2)}&lt;/code&gt;&lt;/pre&gt; &lt;hr&gt; &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt; | &lt;a href=&quot;/user&quot;&gt;User&lt;/a&gt; &lt;/div&gt;`; } else { ctx.session.returnTo = ctx.path; ctx.body = ` &lt;div&gt; &lt;h2&gt;${ctx.path}&lt;/h2&gt; &lt;hr&gt; Login with &lt;a href=&quot;/passport/weibo&quot;&gt;Weibo&lt;/a&gt; &lt;hr&gt; &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt; | &lt;a href=&quot;/user&quot;&gt;User&lt;/a&gt; &lt;/div&gt; `; } } ç”±äºæˆ‘çš„æœåŠ¡å™¨å·²ç»è¿‡æœŸï¼Œæ²¡æœ‰å¯ç”¨çš„ç½‘ç«™æ¥å®¡æ ¸ï¼Œæ‰€ä»¥ç”³è¯·åˆ°çš„oauthç ä¸èƒ½ä½¿ç”¨ï¼Œå¦‚æœé€šè¿‡å®¡æ ¸ï¼Œè¿™å°±å¯ä»¥ä½¿ç”¨äº† æ­¤å¤– API ctx.user - è·å–å½“å‰å·²ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯ ctx.isAuthenticated() - æ£€æŸ¥è¯¥è¯·æ±‚æ˜¯å¦å·²æˆæƒ ctx.login(user, [options]) - ä¸ºç”¨æˆ·å¯åŠ¨ä¸€ä¸ªç™»å½•çš„ session ctx.logout() - é€€å‡ºï¼Œå°†ç”¨æˆ·ä¿¡æ¯ä» session ä¸­æ¸…é™¤ ctx.session.returnTo= - åœ¨è·³è½¬éªŒè¯å‰è®¾ç½®ï¼Œå¯ä»¥æŒ‡å®šæˆåŠŸåçš„ redirect åœ°å€ è¿˜æä¾›äº† APIï¼š app.passport.verify(async (ctx, user) =&gt; {}) - æ ¡éªŒç”¨æˆ· app.passport.serializeUser(async (ctx, user) =&gt; {}) - åºåˆ—åŒ–ç”¨æˆ·ä¿¡æ¯åå­˜å‚¨è¿› session app.passport.deserializeUser(async (ctx, user) =&gt; {}) - ååºåˆ—åŒ–åå–å‡ºç”¨æˆ·ä¿¡æ¯ app.passport.authenticate(strategy, options) - ç”ŸæˆæŒ‡å®šçš„é‰´æƒä¸­é—´ä»¶ options.successRedirect - æŒ‡å®šé‰´æƒæˆåŠŸåçš„ redirect åœ°å€ options.loginURL - è·³è½¬ç™»å½•åœ°å€ï¼Œé»˜è®¤ä¸º /passport/${strategy} options.callbackURL - æˆæƒåå›è°ƒåœ°å€ï¼Œé»˜è®¤ä¸º /passport/${strategy}/callback app.passport.mount(strategy, options) - è¯­æ³•ç³–ï¼Œæ–¹ä¾¿å¼€å‘è€…é…ç½®è·¯ç”± ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘#4éƒ¨åˆ† egg-jwtjwtï¼ˆjsonwebtokenï¼‰æ˜¯æˆ‘è®¤ä¸ºæ½œåŠ›æœ€å¤§çš„ä¸€ç§ç”¨æˆ·çŠ¶æ€éªŒè¯æ–¹å¼ JWTåŸç†ä¸‰éƒ¨åˆ†ç»„æˆï¼Œç”¨.åˆ†å‰² header: ä¸€ä¸ªjsonå¯¹è±¡ï¼Œæè¿°JWTçš„å…ƒæ•°æ® payload: ä¸€ä¸ª JSON å¯¹è±¡ï¼Œç”¨æ¥å­˜æ”¾å®é™…éœ€è¦ä¼ é€’çš„æ•°æ® signature: å¯¹headerå’Œpayloadä¸¤éƒ¨åˆ†çš„ç­¾åï¼Œé˜²æ­¢æ•°æ®è¢«ç¯¡æ”¹ å®‰è£…ä¸é…ç½®è¿è¡Œå‘½ä»¤å®‰è£… $ npm i egg-jwt --save å¼€å¯æ’ä»¶ jwt: { enable: true, package: &#39;egg-jwt&#39;, } åœ¨config.defaultä¸­é…ç½®ç§˜é’¥ // JWTç§˜é’¥ config.jwt = { secret: &#39;xiaofeng&#39;, }; ç¼–ç ç”Ÿæˆç™»å½•é¡µä½¿ç”¨postæ–¹æ³•æäº¤è¡¨å•ä¸å†åˆ—å‡ºï¼Œä¸»è¦ç»™å‡ºç”Ÿæˆtokençš„æ“ä½œï¼ˆåŒæ ·jwtæ²¡æœ‰index.d.tsï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œè§å‰æ–‡ï¼‰ public async add() { const { ctx, app } = this; ctx.cookies.set(&#39;username&#39;, ctx.request.body.username); const token = app.jwt.sign({ username: ctx.request.body.username, }, app.config.jwt.secret); ctx.set({ authorization: token }); //è®¾ç½®headers ctx.body = token; } æ•ˆæœå¦‚å›¾ éªŒè¯import { Context } from &#39;egg&#39;; // è‡ªå®šä¹‰çš„ä¸­é—´ä»¶ï¼šéªŒè¯token export default function jwtAuth(options: any): any { return async (ctx: Context, next: () =&gt; Promise&lt;any&gt;) =&gt; { const token = ctx.request.header.authorization; let decode = &#39;&#39;; if (token) { try { // è§£ç token decode = await ctx.app.jwt.verify(token, options.secret); console.log(&#39;decode======&gt;&#39;, decode); await next(); } catch (error) { ctx.status = 401; ctx.body = { message: error.message, }; return; } } else { ctx.status = 401; ctx.body = { message: &#39;æ²¡æœ‰token&#39;, }; return; } }; } è‡ªå®šä¹‰éªŒè¯tokenä¸­é—´ä»¶ï¼Œåœ¨è·¯ç”±æ–‡ä»¶ä¸­æ·»åŠ éœ€è¦tokenæ‰èƒ½è®¿é—®çš„è·¯ç”± import { Application } from &#39;egg&#39;; export default (app: Application) =&gt; { const { controller, router, middleware } = app; const token = middleware.jwtAuth(app.config.jwt); router.get(&#39;/news&#39;, token, controller.news.index); }; æ²¡æœ‰è·å¾—tokenè®¿é—®éœ€è¦ç™»å½•çš„è·¯ç”±æ—¶ä¼šæç¤ºæ²¡æœ‰tokenä½¿ç”¨æ¥å£æµ‹è¯•å·¥å…·ç»‘å®šä¸€ä¸ªå·²ç»ç”Ÿæˆçš„tokenå¯ä»¥çœ‹åˆ°æˆåŠŸè§£æäº†token ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘#5éƒ¨åˆ†,éªŒè¯éƒ¨åˆ†åœ¨#8 egg-validateegg-validateç”¨äºå¯¹å‚æ•°è¿›è¡Œæ£€éªŒï¼Œæ¯”å¦‚æ£€éªŒä¸€ä¸ªç”¨æˆ·åæ˜¯ä¸æ˜¯å­—ç¬¦ä¸²ctx.validate({ userName: &#39;string&#39; }); å®‰è£…åŠé…ç½®è¿è¡Œå‘½ä»¤ $ npm i egg-validate --save pluginä¸­å¼€å¯æ’ä»¶ validate: { enable: true, package: &#39;egg-validate&#39;, }, configä¸­é…ç½® // validate, å‚æ•°æ ¡éªŒå™¨ config.validate = { convert: true, // å¯¹å‚æ•°å¯ä»¥ä½¿ç”¨convertTypeè§„åˆ™è¿›è¡Œç±»å‹è½¬æ¢ // validateRoot: false, // é™åˆ¶è¢«éªŒè¯å€¼å¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ }; ç¼–ç ç¼–å†™ä¸€ä¸ªpostè¯·æ±‚ï¼Œæ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•° ï¼ˆvalidatoréœ€è¦æ‰‹åŠ¨æŒ‚è½½ï¼Œä½¿ç”¨ä»€ä¹ˆæ–¹æ³•æ·»åŠ ä»€ä¹ˆè§„åˆ™ï¼‰ import { Controller } from &#39;egg&#39;; // è§„åˆ™ const createRule = { name: &#39;string&#39;, age: { type: &#39;number&#39;, min: 0, max: 100, }, sex: [ &#39;man&#39;, &#39;woman&#39; ], }; export default class PostsController extends Controller { public async index() { const { ctx } = this; ctx.body = &#39;posts index&#39;; } public async create() { const { ctx, app } = this; // ctx.validate(createRule, ctx.request.body); // è‡ªåŠ¨å¤„ç†é”™è¯¯ï¼Œ422 const error = app.validator.validate(createRule, ctx.request.body); // è¿”å›é”™è¯¯ä¿¡æ¯ï¼Œå¼€å‘è€…å¤„ç† console.log(error); ctx.status = 201; } } æ•ˆæœå¦‚å›¾ï¼Œå½“å‡ºç°é”™è¯¯æ—¶è¿”å›é”™è¯¯ï¼Œæ²¡æœ‰é”™è¯¯errorä¸ºç©ºï¼Œcreatedæ˜¯è‡ªåŠ¨åŠ çš„ æ›´å¤šè§„åˆ™ è‡ªå®šä¹‰è§„åˆ™ä½¿ç”¨app.validator.addRuleæ·»åŠ æ›´å¤šè‡ªå®šä¹‰è§„åˆ™ï¼ˆéœ€è¦æ‰‹åŠ¨æŒ‚è½½ï¼‰ ä¾‹å¦‚ï¼š app.validator.addRule(&#39;newRule&#39;, (rule, value)=&gt;{ if (value.length &lt; 3 || value.length &gt; 10) { console.log(&quot;ç”¨æˆ·åçš„é•¿åº¦åº”è¯¥åœ¨3-10ä¹‹é—´&quot;); } }); è‡ªå®šä¹‰è§„åˆ™éœ€è¦å•ç‹¬åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­æ·»åŠ  ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘#6éƒ¨åˆ† egg-cors è¯·æ±‚è·¨åŸŸæ˜¯æˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä¸­ç»å¸¸ç¢°åˆ°çš„é—®é¢˜ eggè§£å†³è·¨åŸŸä¹Ÿæ˜¯éå¸¸çš„ç®€å•ï¼Œåªè¦å¼€å¯egg-corså°±è¡Œäº† å®‰è£…åŠé…ç½®è¿è¡Œå‘½ä»¤ $ npm i egg-cors --save pluginä¸­å¼€å¯æ’ä»¶ cors: { enable: true, package: &#39;egg-cors&#39;, }, configä¸­é…ç½® // å…³é—­csrf config.security = { csrf: { enable: false, // å…³é—­csrf }, domainWhiteList: [ &#39;*&#39; ], // ç™½åå• }; // CORS config.cors = { origin: &#39;*&#39;, allowMethods: &#39;GET,HEAD,PUT,POST,DELETE,PATCH&#39;, }; ç„¶åå°±å¯ä»¥äº† ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘#7éƒ¨åˆ†","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://easyremember.cn/tags/Node/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"EggJSå­¦ä¹ ç¬”è®°","slug":"ç¬”è®°/EggJSå­¦ä¹ ç¬”è®°","date":"2020-08-15T15:14:19.584Z","updated":"2020-09-05T09:36:10.076Z","comments":true,"path":"2020/08/15/ç¬”è®°/EggJSå­¦ä¹ ç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/08/15/ç¬”è®°/EggJSå­¦ä¹ ç¬”è®°/","excerpt":"","text":"EggJSå­¦ä¹ ç¬”è®°å¼€å§‹ä»‹ç»Egg.js ä¸ºä¼ä¸šçº§æ¡†æ¶å’Œåº”ç”¨è€Œç”Ÿï¼ŒExpressæ¡†æ¶æœ¬èº«ç¼ºå°‘çº¦å®šï¼Œæ ‡å‡†çš„ MVC æ¨¡å‹ä¼šæœ‰å„ç§åƒå¥‡ç™¾æ€ªçš„å†™æ³•ã€‚Egg æŒ‰ç…§çº¦å®šè¿›è¡Œå¼€å‘ï¼Œå¥‰è¡Œã€çº¦å®šä¼˜äºé…ç½®ã€ï¼Œå›¢é˜Ÿåä½œæˆæœ¬ä½ã€‚ Eggç‰¹æ€§ æä¾›åŸºäºEggå®šåˆ¶ä¸Šå±‚æ¡†æ¶çš„èƒ½åŠ› é«˜åº¦å¯æ‹“å±•çš„æ’ä»¶æœºåˆ¶ å†…ç½®å¤šè¿›ç¨‹ç®¡ç† åŸºäºKoaå¼€å‘ï¼Œæ€§èƒ½ä¼˜å¼‚ æ¡†æ¶ç¨³å®šï¼Œæµ‹è¯•è¦†ç›–ç‡é«˜ æ¸è¿›å¼å¼€å‘ å®‰è£…$ npm init egg --type=ts $ npm i æœ¬ç¯‡ä¸»è¦ä½¿ç”¨tsï¼Œç±»å‹å¯ä»¥ä¸å¡«ï¼Œä¼šè®©ä½ æ‰‹åŠ¨é€‰æ‹©ï¼Œ å¯åŠ¨$ npm run dev $ open http://localhost:7001 ç›®å½•ç»“æ„egg-project â”œâ”€â”€ package.json -- æ¡†æ¶é…ç½®ï¼Œä¾èµ– â”œâ”€â”€ app --æºç ç›®å½• | â”œâ”€â”€ router.ts -- ç”¨äºé…ç½® URL è·¯ç”±è§„åˆ™ | â”œâ”€â”€ model -- ç”¨äºæ”¾ç½®é¢†åŸŸæ¨¡å‹ â”‚ | â””â”€â”€ user.ts â”‚ â”œâ”€â”€ controller -- ç”¨äºè§£æç”¨æˆ·çš„è¾“å…¥ï¼Œå¤„ç†åè¿”å›ç›¸åº”çš„ç»“æœ â”‚ | â””â”€â”€ home.ts â”‚ â”œâ”€â”€ service (å¯é€‰) -- ç”¨äºç¼–å†™ä¸šåŠ¡é€»è¾‘å±‚ â”‚ | â””â”€â”€ user.ts â”‚ â”œâ”€â”€ middleware (å¯é€‰) -- ç”¨äºç¼–å†™ä¸­é—´ä»¶ â”‚ â”œâ”€â”€ schedule (å¯é€‰) -- ç”¨äºå®šæ—¶ä»»åŠ¡ â”‚ â”œâ”€â”€ public (å¯é€‰) -- ç”¨äºæ”¾ç½®é™æ€èµ„æº â”‚ â”œâ”€â”€ view (å¯é€‰) -- ç”¨äºæ”¾ç½®æ¨¡æ¿æ–‡ä»¶ â”‚ â””â”€â”€ extend (å¯é€‰) -- ç”¨äºæ¡†æ¶çš„æ‰©å±• â”œâ”€â”€ config -- é…ç½®æ–‡ä»¶ | â”œâ”€â”€ plugin.ts -- ç”¨äºé…ç½®éœ€è¦åŠ è½½çš„æ’ä»¶ | â”œâ”€â”€ config.default.ts -- ç”¨äºç¼–å†™é…ç½®æ–‡ä»¶(ä¸‹åŒ) â”‚ â”œâ”€â”€ config.prod.ts | â”œâ”€â”€ config.test.ts (å¯é€‰) | â”œâ”€â”€ config.local.ts (å¯é€‰) | â””â”€â”€ config.unittest.js (å¯é€‰) â”œâ”€â”€ logs -- æ—¥å¿—æ–‡ä»¶ â””â”€â”€ test/app -- ç”¨äºå•å…ƒæµ‹è¯• â””â”€â”€ controller -- ç”¨äºcontrollerå±‚çš„å•å…ƒæµ‹è¯• â””â”€â”€ home.test.js è·¯ç”±è·¯ç”±æ–‡ä»¶ä»£ç å¦‚ä¸‹ import { Application } from &#39;egg&#39;; export default (app: Application) =&gt; { const { controller, router } = app; router.get(&#39;/&#39;, controller.home.index); router.get(&#39;/login&#39;, controller.admin.login); }; ä»£ç ç®€å•æ˜äº†ï¼Œä¸€çœ¼å°±èƒ½çœ‹æ‡‚æ˜¯å¦‚ä½•é…ç½®çš„ï¼Œä¸ºäº†é˜²æ­¢çœ‹ä¸æ‡‚ï¼Œæˆ‘ä»¬æ¥è¯´ä¸€ä¸‹ é…ç½®æ–¹æ³•æ˜ç™½äº†å†æ¥è¯´ä¸€ä¸‹è·¯ç”±æ–‡ä»¶æ•´ä½“çš„ç»“æ„ é¦–å…ˆä»eggä¸­è§£æ„å‡ºApplicationï¼Œè¿™æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå¯¹ä¼ å…¥çš„å‚æ•°åšå‡ºçº¦æŸï¼ˆå¯åŠ¨æ–‡ä»¶åœ¨eggåŒ…ä¸­ï¼Œä½¿ç”¨è¿‡ç¨‹åŸºæœ¬ä¸ç”¨åŠ¨ï¼‰ï¼›ä»ä¼ å…¥çš„appä¸­å†è§£æ„å‡ºcontrollerå’Œrouterï¼Œrouterå°±æ˜¯è·¯ç”±å¯¹è±¡ å¯ä»¥çœ‹åˆ°æºç ä¸­routerå¯¹è±¡ä¸­æœ‰å¾ˆå¤šHTTPæ–¹æ³• è¿™ä¸ªæ˜¯æœ€å¸¸ç”¨çš„getæ–¹æ³•å‚æ•°ï¼Œè·¯å¾„å’Œä¸­é—´ä»¶ï¼Œä¸­é—´ä»¶è¿™é‡Œå°±æ˜¯è¦æ‰§è¡Œçš„æ“ä½œï¼Œç¤ºä¾‹ä¸­ç”¨åˆ°controllerä¸­çš„æ–¹æ³• POSTè¯·æ±‚ç›´æ¥ç”¨ç›¸åŒçš„æ–¹æ³•é…ç½®POSTè¯·æ±‚ä¼šæŠ›å‡ºé”™è¯¯ å› ä¸ºè¿™æ ·ä¸ç¬¦åˆEggçš„å®‰å…¨æœºåˆ¶ï¼Œå¸¸è§çš„å®‰å…¨é—®é¢˜ XSS æ”»å‡»ï¼šå¯¹ Web é¡µé¢æ³¨å…¥è„šæœ¬ï¼Œä½¿ç”¨ JavaScript çªƒå–ç”¨æˆ·ä¿¡æ¯ï¼Œè¯±å¯¼ç”¨æˆ·æ“ä½œã€‚ CSRF æ”»å‡»ï¼šä¼ªé€ ç”¨æˆ·è¯·æ±‚å‘ç½‘ç«™å‘èµ·æ¶æ„è¯·æ±‚ã€‚ é’“é±¼æ”»å‡»ï¼šåˆ©ç”¨ç½‘ç«™çš„è·³è½¬é“¾æ¥æˆ–è€…å›¾ç‰‡åˆ¶é€ é’“é±¼é™·é˜±ã€‚ HTTPå‚æ•°æ±¡æŸ“ï¼šåˆ©ç”¨å¯¹å‚æ•°æ ¼å¼éªŒè¯çš„ä¸å®Œå–„ï¼Œå¯¹æœåŠ¡å™¨è¿›è¡Œå‚æ•°æ³¨å…¥æ”»å‡»ã€‚ è¿œç¨‹ä»£ç æ‰§è¡Œï¼šç”¨æˆ·é€šè¿‡æµè§ˆå™¨æäº¤æ‰§è¡Œå‘½ä»¤ï¼Œç”±äºæœåŠ¡å™¨ç«¯æ²¡æœ‰é’ˆå¯¹æ‰§è¡Œå‡½æ•°åšè¿‡æ»¤ï¼Œå¯¼è‡´åœ¨æ²¡æœ‰æŒ‡å®šç»å¯¹è·¯å¾„çš„æƒ…å†µä¸‹å°±æ‰§è¡Œå‘½ä»¤ã€‚ è§£å†³åŠæ³•1åœ¨è®¿é—®é¡µé¢æ—¶å‘é¡µé¢å‘é€ç­¾åæ•°æ®csrf public async index() { const { ctx } = this; // ctx.body = await ctx.service.test.sayHi(&#39;egg&#39;); await ctx.render(&#39;login.ejs&#39;, { csrf: ctx.csrf, }); } ç„¶ååœ¨é¡µé¢å‘é€è¯·æ±‚çš„æ—¶å€™å¸¦ä¸Šè¿™ä¸ªcsrf &lt;form action=&quot;/login?_csrf=&lt;%= csrf %&gt; &quot; method=&quot;post&quot;&gt; ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;&lt;br/&gt; å¯†ç ï¼š&lt;input type=&quot;password&quot; name=&quot;password&quot; /&gt;&lt;br/&gt; &lt;button type=&quot;submit&quot;&gt;ç™»å½•&lt;/button&gt; &lt;/form&gt; è§£å†³åŠæ³•2ä½¿ç”¨ä¸­é—´ä»¶å‘é€csrf import { Context } from &#39;egg&#39;; // è‡ªå®šä¹‰çš„ä¸­é—´ä»¶ export default function printDate(): any { return async (ctx: Context, next: () =&gt; Promise&lt;any&gt;) =&gt; { // è®¾ç½®å…¨å±€å˜é‡ ctx.state.csrf = ctx.csrf; await next(); }; } è¿™æ ·å°±ä¸ç”¨æ¯æ¬¡åœ¨æ–¹æ³•é‡Œé¢å‘é€csrfäº† å¦‚æœè§‰å¾—urlå¸¦ç€ä¸€é•¿ä¸²csrfä¸å¥½çœ‹ï¼Œå¯ä»¥åœ¨è¡¨å•åŸŸè®¾ç½®csrf &lt;form action=&quot;/login&quot; method=&quot;post&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;_csrf&quot; value=&quot;&lt;%= csrf %&gt;&quot;&gt; ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;&lt;br/&gt; å¯†ç ï¼š&lt;input type=&quot;password&quot; name=&quot;password&quot; /&gt;&lt;br/&gt; &lt;button type=&quot;submit&quot;&gt;ç™»å½•&lt;/button&gt; &lt;/form&gt; controllerå·²ç»è·å–åˆ°äº†è¡¨å•æ•°æ® resourcesè‡ªåŠ¨é…ç½®RESTfulé£æ ¼APIï¼Œåªéœ€è¦ä¸€è¡Œä»£ç router.resources(&#39;posts&#39;, &#39;/api/posts&#39;, controller.posts);ï¼Œå°±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆä¸‹é¢ä¸€å¥—API Method Path Route Name Controller.Action GET /api/posts posts app.controllers.posts.index GET /api/posts/new new_post app.controllers.posts.new GET /api/posts/:id post app.controllers.posts.show GET /api/posts/:id/edit edit_post app.controllers.posts.edit POST /api/posts posts app.controllers.posts.create PUT /api/posts/:id post app.controllers.posts.update DELETE /api/posts/:id post app.controllers.posts.destroy åªéœ€è¦åœ¨Controllerä¸­å®ç°Actionå³å¯ æ§åˆ¶å™¨Controllerçœ‹å®Œè·¯ç”±å†æ¥çœ‹ä¸€ä¸‹controllerï¼Œä»£ç å¦‚ä¸‹ import { Controller } from &#39;egg&#39;; export default class AdminController extends Controller { public async login() { const { ctx } = this; ctx.body = await ctx.service.login.welcome(&#39;egg&#39;); } } æ–°å»ºä¸€ä¸ªç±»ç»§æ‰¿eggä¸­çš„Controllerï¼Œç¼–å†™æ–¹æ³•login è¿™é‡Œæ³¨æ„ï¼ŒeggåŸºäºKoaï¼ŒKoaæ˜¯ctx.xxxï¼Œåœ¨eggä¸­ctxè¢«å°è£…åœ¨thisé‡Œé¢ï¼Œä½¿ç”¨è§£æ„èµ‹å€¼è§£æå‡ºæ¥ï¼Œå¦‚æœä¸ä½¿ç”¨è§£æ„å°±è¦ä½¿ç”¨this.ctx.xxx è·å–ä¼ å€¼getç±»å‹é€šè¿‡ctx.queryè·å–å‚æ•°ï¼Œæ¯”å¦‚ export default class AdminController extends Controller { public async index() { const { ctx } = this; const userName: string = ctx.query.name; ctx.body = await ctx.service.login.welcome(userName); } } å¯ä»¥çœ‹åˆ°å·²ç»ä»urlä¸­è·å–äº†nameå‚æ•° åŠ¨æ€è·¯ç”±ä»urlä¸­è·å–æ•°æ®ï¼Œä½†ä¸æ˜¯ä½¿ç”¨queryçš„å½¢å¼ï¼Œè€Œæ˜¯ä½¿ç”¨http://127.0.0.1:7001/user/123è¿™ç§å½¢å¼ åœ¨é…ç½®è·¯ç”±æ—¶æ·»åŠ å‚æ•°ï¼Œä¾‹å¦‚ router.get(&#39;/user/:id&#39;, controller.admin.user); ç„¶ååœ¨Controllerä¸­ä½¿ç”¨ctx.paramsè·å–å‚æ•°ï¼Œå¦‚ public async user() { const { ctx } = this; const id: string = ctx.params.id; ctx.body = await ctx.service.login.userCenter(id); } æœåŠ¡ServiceService å°±æ˜¯åœ¨å¤æ‚ä¸šåŠ¡åœºæ™¯ä¸‹ç”¨äºåšä¸šåŠ¡é€»è¾‘å°è£…çš„ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œå¥½å¤„ï¼š ä¿æŒ Controller ä¸­çš„é€»è¾‘æ›´åŠ ç®€æ´ã€‚ ä¿æŒä¸šåŠ¡é€»è¾‘çš„ç‹¬ç«‹æ€§ï¼ŒæŠ½è±¡å‡ºæ¥çš„ Service å¯ä»¥è¢«å¤šä¸ª Controller é‡å¤è°ƒç”¨ã€‚ å°†é€»è¾‘å’Œå±•ç°åˆ†ç¦»ï¼Œæ›´å®¹æ˜“ç¼–å†™æµ‹è¯•ç”¨ä¾‹ ä½¿ç”¨åœºæ™¯ï¼š å¤æ‚æ•°æ®çš„å¤„ç†ï¼Œæ¯”å¦‚è¦å±•ç°çš„ä¿¡æ¯éœ€è¦ä»æ•°æ®åº“è·å–ï¼Œè¿˜è¦ç»è¿‡ä¸€å®šçš„è§„åˆ™è®¡ç®—ï¼Œæ‰èƒ½è¿”å›ç”¨æˆ·æ˜¾ç¤ºã€‚æˆ–è€…è®¡ç®—å®Œæˆåï¼Œæ›´æ–°åˆ°æ•°æ®åº“ã€‚ ç¬¬ä¸‰æ–¹æœåŠ¡çš„è°ƒç”¨ å®šä¹‰æœåŠ¡ä»£ç ç¤ºä¾‹ import { Service } from &#39;egg&#39;; /** * Login Service */ export default class Login extends Service { /** * userCenter for you * @param id - your id */ public async userCenter(id: string) { return `IDï¼š${id}`; } } å±æ€§ é…ç½®é¡¹configåœ¨config.default.tsä¸­æ·»åŠ é…ç½®é¡¹ï¼Œå¯ä»¥ç›´æ¥åœ¨controlleræˆ–è€…serviceä¸­è°ƒç”¨é…ç½®é¡¹ã€‚æ¯”å¦‚åœ¨configä¸­å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶ååœ¨serviceä¸­è°ƒç”¨ï¼Œä»£ç å¦‚ä¸‹ //config.default.ts // è‡ªå®šä¹‰é…ç½®é¡¹ config.str = &#39;this is a config string&#39;; // Login.ts public async userCenter(id: string) { console.log(this.config.str); return `IDï¼š${id}`; } æ—¥å¿—loggerloggeræœ‰å››ç§çº§åˆ«ï¼Œä¸‹é¢ç»™å‡ºç¤ºä¾‹ this.logger.debug(&#39;this is degug&#39;); this.logger.info(&#39;this is info&#39;); this.logger.warn(&#39;this is warn&#39;); this.logger.error(&#39;this is error&#39;); ä¸Šä¸‹æ–‡ctx this.ctx.curl å‘èµ·ç½‘ç»œè°ƒç”¨ã€‚ this.ctx.service.otherService è°ƒç”¨å…¶ä»– Serviceã€‚ this.ctx.db å‘èµ·æ•°æ®åº“è°ƒç”¨ç­‰ï¼Œ db å¯èƒ½æ˜¯å…¶ä»–æ’ä»¶æå‰æŒ‚è½½åˆ° app ä¸Šçš„æ¨¡å—ã€‚ æ³¨æ„ æ¨¡æ¿å¼•æ“å®‰è£…æ¨¡æ¿å¼•æ“ä½¿ç”¨ejsåšæ¡ˆä¾‹ï¼Œé¦–å…ˆå®‰è£…ejsåŒ…ï¼Œnpmæ–‡æ¡£ $ npm i egg-view-ejs --save ç„¶åå°†ä¸‹é¢è¿™æ®µä»£ç æ”¾åˆ°å¯¹åº”çš„é…ç½®æ–‡ä»¶é‡Œé¢ // {app_root}/config/plugin.js exports.ejs = { enable: true, package: &#39;egg-view-ejs&#39;, }; // {app_root}/config/config.default.js exports.view = { mapping: { &#39;.ejs&#39;: &#39;ejs&#39;, }, }; // ejs config exports.ejs = {}; æ³¨æ„tsçš„é…ç½®æ–¹å¼ä¸åŒï¼Œå¦‚ä¸‹å›¾ ç¼–å†™æ¨¡æ¿ä»£ç &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h2 style=&quot;color: #409eff;&quot;&gt;&lt;%= data %&gt;&lt;/h2&gt; &lt;ul&gt; &lt;% for(let i = 0; i &lt; list.length; i++) { %&gt; &lt;li&gt;&lt;%= list[i] %&gt;&lt;/li&gt; &lt;% } %&gt; &lt;/ul&gt; &lt;img src=&quot;/public/images/egg.jpg&quot; alt=&quot;&quot; width=&quot;100px&quot; height=&quot;60px&quot;&gt; &lt;/body&gt; &lt;/html&gt; æ¨¡æ¿æ–‡ä»¶ä¸€å®šè¦æ”¾åœ¨appä¸‹çš„viewç›®å½•ä¸‹ejsè¯­æ³•ï¼š &lt;% â€˜è„šæœ¬â€™ æ ‡ç­¾ï¼Œç”¨äºæµç¨‹æ§åˆ¶ï¼Œæ— è¾“å‡ºã€‚ &lt;%_ åˆ é™¤å…¶å‰é¢çš„ç©ºæ ¼ç¬¦ &lt;%= è¾“å‡ºæ•°æ®åˆ°æ¨¡æ¿ï¼ˆè¾“å‡ºæ˜¯è½¬ä¹‰ HTML æ ‡ç­¾ï¼‰ &lt;%- è¾“å‡ºéè½¬ä¹‰çš„æ•°æ®åˆ°æ¨¡æ¿ &lt;%# æ³¨é‡Šæ ‡ç­¾ï¼Œä¸æ‰§è¡Œã€ä¸è¾“å‡ºå†…å®¹ &lt;%% è¾“å‡ºå­—ç¬¦ä¸² â€˜&lt;%â€™ %&gt; ä¸€èˆ¬ç»“æŸæ ‡ç­¾ -%&gt; åˆ é™¤ç´§éšå…¶åçš„æ¢è¡Œç¬¦ _%&gt; å°†ç»“æŸæ ‡ç­¾åé¢çš„ç©ºæ ¼ç¬¦åˆ é™¤ controllerè¿”å›æ¨¡æ¿å¹¶ä¼ å€¼public async user() { const { ctx } = this; const id: string = ctx.params.id; const udata: string = await ctx.service.login.userCenter(id); const arr: number[] = [ 111, 222, 333 ]; await ctx.render(&#39;user.ejs&#39;, { data: udata, list: arr, }); } è¿™é‡Œæ³¨æ„ä¸¤ä¸ªç‚¹ ctx.renderæ˜¯å¼‚æ­¥æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨awaitä¿®é¥° renderçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ¨¡æ¿åç§°ï¼Œè¿™é‡Œéœ€è¦åŠ ä¸Šåç¼€åï¼Œå¦åˆ™ä¼šæŠ¥é”™ æ•ˆæœå¦‚å›¾ å®æˆ˜ï¼šå°çˆ¬è™«åœ°å€ï¼šhttp://www.phonegap100.com/appapi.php?a=getPortalList&amp;catid=20&amp;page=1 Serviceimport { Service } from &#39;egg&#39;; /** * News Service */ export default class Login extends Service { /** * getNewsList */ public async getNewsList() { const url = this.config.api + &#39;appapi.php?a=getPortalList&amp;catid=20&amp;page=1&#39;; const res = await this.ctx.curl(url); const response = JSON.parse(res.data); return response.result; } /** * getContent * @param aid æ–‡ç« aid */ public async getContent(aid: string) { const url = this.config.api + &#39;appapi.php?a=getPortalArticle&amp;aid=&#39; + aid; const res = await this.ctx.curl(url); const response = JSON.parse(res.data); console.log(response.result); return response.result; } } Controllerimport { Controller } from &#39;egg&#39;; export default class AdminController extends Controller { public async index() { const { ctx } = this; const data = await ctx.service.news.getNewsList(); await ctx.render(&#39;news.ejs&#39;, { data, }); } public async newsContent() { const { ctx } = this; const aid = ctx.query.aid; const data = await ctx.service.news.getContent(aid); await ctx.render(&#39;newscontent.ejs&#39;, { data: data[0], }); } } ejsnews.ejs &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;News&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h2&gt;æ–°é—»åˆ—è¡¨&lt;/h2&gt; &lt;ul&gt; &lt;% for( let i = 0; i &lt; data.length; i++ ) { %&gt; &lt;li&gt;&lt;a href=&quot;/newscontent?aid=&lt;%= data[i].aid %&gt;&quot; &gt;&lt;%= data[i].title %&gt;&lt;/a&gt; &lt;/li&gt; &lt;% } %&gt; &lt;/ul&gt; &lt;/body&gt; &lt;/html&gt; newscontent.ejs &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;è¯¦æƒ…&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;%- data.content %&gt; &lt;script&gt; document.title = &#39;&lt;%= data.title %&gt;&#39; &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; æœ€ç»ˆæ•ˆæœ æ¡†æ¶æ‹“å±•extendæœ‰å¤šç§æ‹“å±•è‡ªèº«çš„åŠŸèƒ½ Application Context Request Response Helper Applicationapp å¯¹è±¡æŒ‡çš„æ˜¯ Koa çš„å…¨å±€åº”ç”¨å¯¹è±¡ï¼Œå…¨å±€åªæœ‰ä¸€ä¸ªï¼Œåœ¨åº”ç”¨å¯åŠ¨æ—¶è¢«åˆ›å»º æ‹“å±•æ–¹å¼æ¡†æ¶ä¼šæŠŠ app/extend/application.ts ä¸­å®šä¹‰çš„å¯¹è±¡ä¸ Koa Application çš„ prototype å¯¹è±¡è¿›è¡Œåˆå¹¶ï¼Œç›´æ¥åˆ›å»ºæ–‡ä»¶è¿›è¡Œç¼–ç å³å¯ï¼Œä¾‹å¦‚ import { Application } from &#39;egg&#39;; export default { func(this: Application) { return &#39;app extend&#39;; }, }; åœ¨appå¯¹è±¡ä¸­ç›´æ¥è°ƒç”¨æ–¹æ³•å³å¯ å…¶ä»–å¯¹è±¡æ‹“å±•æ–¹å¼è·ŸApplicationåŒæ ·æ³¨æ„ï¼šrequestå’Œresponseæ˜¯åœ¨ctxé‡Œé¢ä½¿ç”¨çš„ ä¸­é—´ä»¶middlewareé…ç½®ä¸­é—´ä»¶ Egg çš„ä¸­é—´ä»¶å½¢å¼å’Œ Koa çš„ä¸­é—´ä»¶å½¢å¼æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯åŸºäºæ´‹è‘±åœˆæ¨¡å‹ã€‚ ä¸€ä¸ªä¸­é—´ä»¶æ˜¯ä¸€ä¸ªæ”¾ç½®åœ¨ app/middleware ç›®å½•ä¸‹çš„å•ç‹¬æ–‡ä»¶ï¼Œå®ƒéœ€è¦ exports ä¸€ä¸ªæ™®é€šçš„ functionï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š options: ä¸­é—´ä»¶çš„é…ç½®é¡¹ï¼Œæ¡†æ¶ä¼šå°† app.config[${middlewareName}] ä¼ é€’è¿›æ¥ã€‚ app: å½“å‰åº”ç”¨ Application çš„å®ä¾‹ã€‚ æ¥çœ‹ä¸€ä¸‹ä»£ç ç¤ºä¾‹ï¼Œè¿™ä¸ªä¸­é—´ä»¶çš„ä½œç”¨æ˜¯åœ¨æ¯æ¬¡è¯·æ±‚çš„æ—¶å€™æ‰“å°å‡ºæ—¶é—´ import { Context } from &#39;egg&#39;; // è‡ªå®šä¹‰çš„ä¸­é—´ä»¶ export default function printDate(): any { return async (ctx: Context, next: () =&gt; Promise&lt;any&gt;) =&gt; { ctx.logger.info(new Date()); await next(); }; } ä¸­é—´ä»¶å†™å®Œä¹‹åè¦åœ¨configä¸­è¿›è¡Œé…ç½®ï¼Œåœ¨middlewwareæ•°ç»„ä¸­æ·»åŠ æ–‡ä»¶å ç„¶åæ¯æ¬¡è¯·æ±‚æ—¶å°±ä¼šçœ‹åˆ°æ‰“å°å‡ºäº†æ—¥å¿— ä¸­é—´ä»¶ä¼ å€¼ä¸­é—´ä»¶ä¼ å€¼åœ¨é…ç½®æ–‡ä»¶ä¸­bizConfigä¸­å¢åŠ ä¸­é—´ä»¶åŒåå¯¹è±¡ï¼Œå°±å¯ä»¥åœ¨ä¸­é—´ä»¶ä¸­é€šè¿‡optionsæ¥è®¿é—®å˜é‡ const bizConfig = { // ä¸­é—´ä»¶ä¼ å€¼ printdate: { configStr: &#39;this is value from config&#39;, }, }; è¿™æ—¶ä¸­é—´ä»¶éœ€è¦é…ç½®å‚æ•° import { Context, Application, EggAppConfig } from &#39;egg&#39;; // è‡ªå®šä¹‰çš„ä¸­é—´ä»¶ export default function printDate(options: EggAppConfig[&#39;printdate&#39;], app: Application): any { app.logger.warn(options.configStr); return async (ctx: Context, next: () =&gt; Promise&lt;any&gt;) =&gt; { ctx.logger.info(new Date()); await next(); }; } æœåŠ¡å¯åŠ¨æ—¶å°±ä¼šåœ¨æ§åˆ¶å°çœ‹åˆ°æ‰“å°å‡ºæ¥çš„æ—¥å¿— å®ç”¨ä¸­é—´ä»¶csrfä¸­é—´ä»¶import { Context } from &#39;egg&#39;; // è‡ªå®šä¹‰çš„ä¸­é—´ä»¶ export default function auth(): any { return async (ctx: Context, next: () =&gt; Promise&lt;any&gt;) =&gt; { // è®¾ç½®å…¨å±€å˜é‡ ctx.state.csrf = ctx.csrf; await next(); }; } ç„¶ååœ¨configä¸­æ·»åŠ ä¸­é—´ä»¶config.middleware = [ &#39;auth&#39; ];ï¼Œå°±å¯ä»¥åœ¨ä»»æ„é¡µé¢ä¸Šè·å–csrfäº† CookieCookieæ˜¯å­˜å‚¨åœ¨è®¿é—®è€…è®¡ç®—æœºä¸­çš„å˜é‡ï¼Œå¯ä»¥è®©åŒä¸€ä¸ªæµè§ˆå™¨è®¿é—®åŒä¸€ä¸ªåŸŸåçš„æ—¶å€™å…±äº«æ•°æ® Eggä¸­Cookieçš„è®¾ç½®å’Œè·å–è®¾ç½®ctx.cookies.set(key, value, options) public async add() { const { ctx } = this; ctx.cookies.set(&#39;username&#39;, ctx.request.body.username); ctx.body = ctx.request.body; } åœ¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ä¸­æŸ¥çœ‹Cookie è·å–ctx.cookies.get(key, options) è®¾ç½® {Number} maxAge: è®¾ç½®è¿™ä¸ªé”®å€¼å¯¹åœ¨æµè§ˆå™¨çš„æœ€é•¿ä¿å­˜æ—¶é—´ã€‚æ˜¯ä¸€ä¸ªä»æœåŠ¡å™¨å½“å‰æ—¶åˆ»å¼€å§‹çš„æ¯«ç§’æ•°ã€‚ {Date} expires: è®¾ç½®è¿™ä¸ªé”®å€¼å¯¹çš„å¤±æ•ˆæ—¶é—´ï¼Œå¦‚æœè®¾ç½®äº† maxAgeï¼Œexpires å°†ä¼šè¢«è¦†ç›–ã€‚å¦‚æœ maxAge å’Œ expires éƒ½æ²¡è®¾ç½®ï¼ŒCookie å°†ä¼šåœ¨æµè§ˆå™¨çš„ä¼šè¯å¤±æ•ˆï¼ˆä¸€èˆ¬æ˜¯å…³é—­æµè§ˆå™¨æ—¶ï¼‰çš„æ—¶å€™å¤±æ•ˆã€‚ {String} path: è®¾ç½®é”®å€¼å¯¹ç”Ÿæ•ˆçš„ URL è·¯å¾„ï¼Œé»˜è®¤è®¾ç½®åœ¨æ ¹è·¯å¾„ä¸Šï¼ˆ/ï¼‰ï¼Œä¹Ÿå°±æ˜¯å½“å‰åŸŸåä¸‹çš„æ‰€æœ‰ URL éƒ½å¯ä»¥è®¿é—®è¿™ä¸ª Cookieã€‚ {String} domain: è®¾ç½®é”®å€¼å¯¹ç”Ÿæ•ˆçš„åŸŸåï¼Œé»˜è®¤æ²¡æœ‰é…ç½®ï¼Œå¯ä»¥é…ç½®æˆåªåœ¨æŒ‡å®šåŸŸåæ‰èƒ½è®¿é—®ã€‚ {Boolean} httpOnly: è®¾ç½®é”®å€¼å¯¹æ˜¯å¦å¯ä»¥è¢« js è®¿é—®ï¼Œé»˜è®¤ä¸º trueï¼Œä¸å…è®¸è¢« js è®¿é—®ã€‚ {Boolean} secure: è®¾ç½®é”®å€¼å¯¹åªåœ¨ HTTPS è¿æ¥ä¸Šä¼ è¾“ï¼Œæ¡†æ¶ä¼šå¸®æˆ‘ä»¬åˆ¤æ–­å½“å‰æ˜¯å¦åœ¨ HTTPS è¿æ¥ä¸Šè‡ªåŠ¨è®¾ç½® secure çš„å€¼ã€‚ é™¤äº†è¿™äº›å±æ€§ä¹‹å¤–ï¼Œæ¡†æ¶å¦å¤–æ‰©å±•äº† 3 ä¸ªå‚æ•°çš„æ”¯æŒï¼š {Boolean} overwriteï¼šè®¾ç½® key ç›¸åŒçš„é”®å€¼å¯¹å¦‚ä½•å¤„ç†ï¼Œå¦‚æœè®¾ç½®ä¸º trueï¼Œåˆ™åè®¾ç½®çš„å€¼ä¼šè¦†ç›–å‰é¢è®¾ç½®çš„ï¼Œå¦åˆ™å°†ä¼šå‘é€ä¸¤ä¸ª set-cookie å“åº”å¤´ã€‚ {Boolean} signedï¼šè®¾ç½®æ˜¯å¦å¯¹ Cookie è¿›è¡Œç­¾åï¼Œå¦‚æœè®¾ç½®ä¸º trueï¼Œåˆ™è®¾ç½®é”®å€¼å¯¹çš„æ—¶å€™ä¼šåŒæ—¶å¯¹è¿™ä¸ªé”®å€¼å¯¹çš„å€¼è¿›è¡Œç­¾åï¼Œåé¢å–çš„æ—¶å€™åšæ ¡éªŒï¼Œå¯ä»¥é˜²æ­¢å‰ç«¯å¯¹è¿™ä¸ªå€¼è¿›è¡Œç¯¡æ”¹ã€‚é»˜è®¤ä¸º trueã€‚ {Boolean} encryptï¼šè®¾ç½®æ˜¯å¦å¯¹ Cookie è¿›è¡ŒåŠ å¯†ï¼Œå¦‚æœè®¾ç½®ä¸º trueï¼Œåˆ™åœ¨å‘é€ Cookie å‰ä¼šå¯¹è¿™ä¸ªé”®å€¼å¯¹çš„å€¼è¿›è¡ŒåŠ å¯†ï¼Œå®¢æˆ·ç«¯æ— æ³•è¯»å–åˆ° Cookie çš„æ˜æ–‡å€¼ã€‚é»˜è®¤ä¸º falseã€‚ Session Cookie åœ¨ Web åº”ç”¨ä¸­ç»å¸¸æ‰¿æ‹…æ ‡è¯†è¯·æ±‚æ–¹èº«ä»½çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ Web åº”ç”¨åœ¨ Cookie çš„åŸºç¡€ä¸Šå°è£…äº† Session çš„æ¦‚å¿µï¼Œä¸“é—¨ç”¨åšç”¨æˆ·èº«ä»½è¯†åˆ« Sessionä¿å­˜åœ¨æœåŠ¡å™¨ä¸Š Eggä¸­ä½¿ç”¨Session å¯ä»¥åœ¨configä¸­é…ç½®sessionä¿¡æ¯ exports.session = { key: &#39;EGG_SESS&#39;, maxAge: 24 * 3600 * 1000, // 1 å¤© httpOnly: true, encrypt: true, }; ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘ï¼Œä¼ é€é—¨","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://easyremember.cn/tags/Node/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"VS Code å®ç”¨æ’ä»¶","slug":"èµ„æº/VSCodeä½¿ç”¨æ’ä»¶é›†åˆ","date":"2020-08-13T06:25:25.881Z","updated":"2020-09-05T09:40:22.694Z","comments":true,"path":"2020/08/13/èµ„æº/VSCodeä½¿ç”¨æ’ä»¶é›†åˆ/","link":"","permalink":"https://easyremember.cn/2020/08/13/èµ„æº/VSCodeä½¿ç”¨æ’ä»¶é›†åˆ/","excerpt":"","text":"VSCodeä½¿ç”¨æ’ä»¶é›†åˆany-ruleä¸€æ¬¾æ­£åˆ™è¡¨è¾¾å¼ç”Ÿæˆæ’ä»¶ï¼Œå®‰è£…ä¹‹åä½¿ç”¨Ctrl+Shift+Pè°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œè¾“å…¥zzå°±å¯ä»¥çœ‹åˆ°å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå›è½¦å³å¯æ’å…¥ä»£ç ä¸­ Auto Rename Tagå¯ä»¥è‡ªåŠ¨ä¿®æ”¹é—­åˆçš„æ ‡ç­¾ï¼Œä¿®æ”¹å‰åŠéƒ¨åˆ†æ ‡ç­¾ï¼ŒååŠéƒ¨åˆ†è‡ªåŠ¨è·Ÿéšä¿®æ”¹ï¼Œå†ä¹Ÿä¸ä¼šä¹±äº† Bracket Pair Colorizerå½©è‰²æ‹¬å·æ’ä»¶ï¼Œå½“ä»£ç ä¸­æ‹¬å·è¿‡å¤šçš„æ—¶å€™å¾ˆå®¹æ˜“æ··ä¹±ï¼Œæœ‰äº†è¿™æ¬¾æ’ä»¶ä¹‹åï¼Œé…å¯¹çš„æ ‡ç­¾ä¼šæ¸²æŸ“ä¸ºåŒä¸€ç§é¢œè‰²ï¼Œæ‹¬å·é…å¯¹å…³ç³»ç›¸å½“æ¸…æ¥š Easy LESSå¯ä»¥è‡ªåŠ¨å°†lessæ–‡ä»¶ç¼–è¯‘ä¸ºcssæ–‡ä»¶ essjså¯ä»¥è‡ªåŠ¨æ·»åŠ å¾ˆå¤šEggæ¡†æ¶çš„ä»£ç ç‰‡æ®µï¼Œæ¯”å¦‚controllerã€serviceä¹‹ç±»ï¼Œå¤§å¤§æé«˜ç¼–ç æ•ˆç‡ Git Historyæ’ä»¶æä¾›å¯è§†åŒ–æŸ¥çœ‹gitä¿¡æ¯ï¼Œæäº¤è®°å½•ç­‰ htmltagwrapè¿™æ¬¾æ’ä»¶å¯ä»¥å¯¹é€‰ä¸­çš„ä»£ç è¿›è¡Œæ ‡ç­¾åµŒå¥—ï¼Œé€‰ä¸­ä»£ç ä¹‹åä½¿ç”¨ç»„åˆå¿«æ·é”®Alt+Wè§¦å‘ï¼ŒåµŒå¥—æ ‡ç­¾æ—¶ä¸ç”¨å†å‰ªæ¥å‰ªå»äº† Indenticatorå¯ä»¥åœ¨é«˜äº®æ˜¾ç¤ºé¼ æ ‡é€‰ä¸­çš„ä»£ç å—æ‰€åœ¨çš„å±‚çº§ JavaScript (ES6) code snippetså¯ä»¥é€šè¿‡ç®€å†™å¿«é€Ÿæ’å…¥ES6è¯­æ³•çš„jsä»£ç ç‰‡æ®µï¼Œè¯¦ç»†è§ç®€å†™ä½¿ç”¨æ–‡æ¡£ Live Serverè¿™ä¹Ÿæ˜¯ä¸€æ¬¾å¾ˆå¼ºå¤§çš„æ’ä»¶ï¼Œé€šè¿‡æœåŠ¡å™¨å±•ç¤ºhtmlï¼Œåœ¨htmlæ–‡ä»¶ä¸­å³é”®é€‰æ‹©open with live serverå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ç½‘é¡µæ•ˆæœ Path Autocompleteè‡ªåŠ¨è¡¥å…¨è·¯å¾„çš„æ’ä»¶ï¼Œå¿«é€Ÿçš„å¡«å†™è·¯å¾„ï¼Œå¯ä»¥é€šè¿‡./ã€C:(ç£ç›˜è·¯å¾„)ç­‰è§¦å‘ RegExp Preview and Editorä¸€æ¬¾æ­£åˆ™è¡¨è¾¾å¼éªŒè¯æ’ä»¶ï¼Œå¯ä»¥å±•ç¤ºæ­£åˆ™å¼åŒ¹é…çš„å…¨è¿‡ç¨‹ï¼Œå®‰è£…æ’ä»¶ä¹‹åå¯ä»¥é€‰ä¸­æ­£åˆ™å¼å³é”®æ¥æŸ¥çœ‹åŒ¹é…è¿‡ç¨‹ è¿˜æœ‰ä¸€ä¸ªæ­£åˆ™ç¼–è¾‘å™¨ï¼Œé€šè¿‡Ctrl+Shift+Pè°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œæœç´¢regexp editorå‘½ä»¤æ¥è§¦å‘ï¼Œå¯ä»¥ä¸€è¾¹å†™ä¸€è¾¹å±•ç¤ºåŒ¹é…è¿‡ç¨‹ REST Clientç›´æ¥åœ¨VSCodeä¸­è¿›è¡Œæ¥å£æ•°æ®æµ‹è¯•çš„ä¸€æ¬¾æ’ä»¶ï¼Œåœ¨æ–‡ä»¶åŒºåŸŸæ–°å»ºä¸€ä¸ª.httpåç¼€çš„æ–‡ä»¶ï¼Œç„¶åç¼–å†™æ¥å£æµ‹è¯•ï¼Œæ¯”å¦‚GETæ–¹æ³•ï¼Œurlæ˜¯127.0.0.1:7001ï¼Œç¼–å†™å‡ºæ¥å°±æ˜¯ GET http://127.0.0.1:7001 ä¸åŒçš„æ¥å£ä¹‹é—´ä½¿ç”¨ä¸‰ä¸ª#è¿›è¡Œåˆ†å‰²ï¼Œç¼–å†™å¥½æ¥å£ä¹‹åä¼šåœ¨urlä¸Šé¢å‡ºç°ä¸€ä¸ªSend Requestï¼Œç‚¹å‡»å°±å¯ä»¥ä½¿ç”¨äº† Vue VSCode Snippetså¯ä»¥å¿«é€Ÿæ’å…¥Vueä»£ç ç‰‡æ®µï¼Œéå¸¸æ–¹ä¾¿ï¼Œæ›´å¤šå¿«æ·å‘½ä»¤è§æ–‡æ¡£è¯´æ˜ ESLintä»£ç è§„åˆ™æ£€æŸ¥æ’ä»¶ï¼Œå½“ä»£ç ä¸­å‡ºç°ä¸ç¬¦åˆESlintè¯­æ³•è§„èŒƒæ—¶ä¼šæœ‰æŠ¥é”™","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/tags/å·¥å…·/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"é«˜çº§ç»„ä»¶provide/inject","slug":"æŠ€æœ¯/é«˜çº§ç»„ä»¶provide-inject","date":"2020-08-12T06:56:52.036Z","updated":"2020-09-05T09:34:58.314Z","comments":true,"path":"2020/08/12/æŠ€æœ¯/é«˜çº§ç»„ä»¶provide-inject/","link":"","permalink":"https://easyremember.cn/2020/08/12/æŠ€æœ¯/é«˜çº§ç»„ä»¶provide-inject/","excerpt":"","text":"é«˜çº§ç»„ä»¶provide / injectå®˜æ–¹æ–‡æ¡£ä»‹ç» ç±»å‹ provideï¼šObject | () =&gt; Object injectï¼šArray&lt;string&gt; | { [key: string]: string | Symbol | Object } è¯¦ç»† è¿™å¯¹é€‰é¡¹éœ€è¦ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨èµ·ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆã€‚ provide é€‰é¡¹åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å‡½æ•°ã€‚è¯¥å¯¹è±¡åŒ…å«å¯æ³¨å…¥å…¶å­å­™çš„å±æ€§ã€‚åœ¨è¯¥å¯¹è±¡ä¸­ä½ å¯ä»¥ä½¿ç”¨ ES2015 Symbols ä½œä¸º keyï¼Œä½†æ˜¯åªåœ¨åŸç”Ÿæ”¯æŒ Symbol å’Œ Reflect.ownKeys çš„ç¯å¢ƒä¸‹å¯å·¥ä½œã€‚ inject é€‰é¡¹åº”è¯¥æ˜¯ï¼š ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œæˆ– ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„ key æ˜¯æœ¬åœ°çš„ç»‘å®šåï¼Œvalue æ˜¯ï¼š åœ¨å¯ç”¨çš„æ³¨å…¥å†…å®¹ä¸­æœç´¢ç”¨çš„ key (å­—ç¬¦ä¸²æˆ– Symbol)ï¼Œæˆ– ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„ï¼š from å±æ€§æ˜¯åœ¨å¯ç”¨çš„æ³¨å…¥å†…å®¹ä¸­æœç´¢ç”¨çš„ key (å­—ç¬¦ä¸²æˆ– Symbol) default å±æ€§æ˜¯é™çº§æƒ…å†µä¸‹ä½¿ç”¨çš„ value æç¤ºï¼šprovide å’Œ inject ç»‘å®šå¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„å±æ€§è¿˜æ˜¯å¯å“åº”çš„ã€‚ äººè¯å¼€å§‹ç®€å•çš„æ¥è¯´å°±æ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­é€šè¿‡provideæ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­ç»„ä»¶ä¸­é€šè¿‡injectæ¥æ³¨å…¥å˜é‡ã€‚ ç¤ºä¾‹çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨provideå®šä¹‰ä¸€ä¸ªå˜é‡ provide: { father: &quot;demo&quot;, }, å­ç»„ä»¶ä½¿ç”¨injectå¼•å…¥å˜é‡ inject: [ &quot;father&quot; ], å†æ¥çœ‹ä¸€ä¸‹æµè§ˆå™¨æ•ˆæœ å¯ä»¥çœ‹åˆ°æµè§ˆå™¨çš„æ§åˆ¶å°æˆåŠŸçš„æ‰“å°å‡ºäº†è¿™ä¸ªå˜é‡çš„å€¼ ä¸Šé¢æåˆ°ï¼Œè¿™ç§æ–¹å¼ç»‘å®šçš„å˜é‡ä¸æ˜¯å“åº”å¼çš„ï¼Œæˆ‘ä»¬æ¥å°è¯•ä¸€ä¸‹ é¦–å…ˆç»™çˆ¶ç»„ä»¶æ·»åŠ æŒ‰é’®ç»‘å®šäº‹ä»¶ä¿®æ”¹provideçš„å€¼ provideHandle() { this.father = &quot;new demo&quot;; console.log(this.father); }, ç„¶åæ¥çœ‹æ•ˆæœ å¯ä»¥çœ‹åˆ°å½“ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œçˆ¶ç»„ä»¶çš„å€¼å·²ç»æ”¹å˜ï¼Œä½†æ˜¯å­ç»„ä»¶ä¸­æ˜¾ç¤ºçš„ä¾æ—§æ˜¯åŸæ¥çš„â€˜demoâ€™ å“åº”æ–¹æ³•ï¼šå°†çˆ¶ç»„ä»¶thiså¯¹è±¡ä½œä¸ºè¿”å›å€¼ä¼ é€’ç»™å­ç»„ä»¶ åºŸè¯å°‘è¯´ï¼Œçœ‹æ•ˆæœ å¯ä»¥çœ‹åˆ°ï¼Œå­ç»„ä»¶ä¸­çš„æ•°æ®ç›¸åº”çš„å‘ç”Ÿäº†å˜åŒ– æ›´å¤šç¤ºä¾‹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Expressä¸­ä½¿ç”¨Sequelizeå®ç°ORM","slug":"æŠ€æœ¯/Expressä¸­ä½¿ç”¨Sequelizeå®ç°ORM","date":"2020-08-10T06:33:37.962Z","updated":"2020-09-05T09:37:31.675Z","comments":true,"path":"2020/08/10/æŠ€æœ¯/Expressä¸­ä½¿ç”¨Sequelizeå®ç°ORM/","link":"","permalink":"https://easyremember.cn/2020/08/10/æŠ€æœ¯/Expressä¸­ä½¿ç”¨Sequelizeå®ç°ORM/","excerpt":"","text":"Expressä¸­ä½¿ç”¨Sequelizeå®ç°ORMèµ·æ­¥ç¬¬ä¸€æ­¥å½“ç„¶æ˜¯ç¯å¢ƒï¼Œé¦–å…ˆä½¿ç”¨Expressç”Ÿæˆå™¨å®‰è£…expressç¯å¢ƒ express myapp // myappï¼Œä½ è‡ªå·±çš„é¡¹ç›®åç§°ï¼ˆéœ€è¦å…¨å±€å®‰è£…expressï¼‰ npm install ç„¶åå®‰è£…sequelize npm install --save sequelize npm install --save mysql2 // é©±åŠ¨ï¼Œè¿™é‡Œä¸»è¦è¯´mysqlï¼Œå…¶ä»–çš„ç±»å‹è§å®˜ç½‘æ–‡æ¡£ è¿æ¥è¿æ¥åˆ°æ•°æ®åº“å¿…é¡»æœ‰sequelizeå®ä¾‹ï¼Œå®ä¾‹åŒ–æ–¹æ³•å¦‚ä¸‹ const connect = new DB(&#39;dbname&#39;, &#39;username&#39;, &#39;password&#39;, { host: &#39;localhost&#39;, dialect: &#39;mysql&#39; }) é…ç½®å¥½å®ä¾‹ä¹‹åå¯ä»¥ä½¿ç”¨.authenticate()æ¥æµ‹è¯•è¿æ¥ connect.authenticate().then(() =&gt; { console.log(&#39;è¿æ¥æˆåŠŸ&#39;) }).catch(error =&gt; { console.error(&#39;è¿æ¥å¤±è´¥:&#39;, error); }) å…³é—­è¿æ¥ é»˜è®¤æƒ…å†µä¸‹ï¼ŒSequelizeå°†ä½¿è¿æ¥ä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œå¹¶å¯¹æ‰€æœ‰æŸ¥è¯¢ä½¿ç”¨ç›¸åŒçš„è¿æ¥ã€‚å¦‚æœéœ€è¦å…³é—­è¿æ¥ï¼Œè¯·è°ƒç”¨sequelize.close()ï¼ˆå®ƒæ˜¯å¼‚æ­¥çš„å¹¶è¿”å›Promiseï¼‰ æ¨¡å‹åŸºç¡€å®šä¹‰æ¨¡å‹ æ¨¡å‹æ˜¯Sequelizeçš„æœ¬è´¨ã€‚æ¨¡å‹æ˜¯ä»£è¡¨æ•°æ®åº“ä¸­è¡¨çš„æŠ½è±¡ã€‚åœ¨Sequelizeä¸­ï¼Œå®ƒæ˜¯æ‰©å±•Modelçš„ç±» ä½¿ç”¨sequelize.defineæ–¹æ³•æ¥å®šä¹‰æ¨¡å‹ï¼Œsequelizeä¼šæ ¹æ®å®šä¹‰çš„æ¨¡å‹åç§°çš„å¤æ•°è‡ªåŠ¨å»ºè¡¨ const Book = connect.define(&#39;Book&#39;, { bookName: DB.STRING, // å±æ€§åï¼š æ•°æ®ç±»å‹ bookCounts: DB.INTEGER, detail: DB.STRING, }, { timestamps: false // è‡ªåŠ¨ç”ŸæˆcreateAtå’ŒupdateAt }) æ­¤å¤–ä¹Ÿå¯ä»¥ç›´æ¥æä¾›è¡¨å sequelize.define(&#39;Book&#39;, { // ... attributes }, { tableName: &#39;literature&#39; }); æ›´å¤šæ•°æ®ç±»å‹ï¼š // CHAR Sequelize.STRING // VARCHAR(255) Sequelize.STRING(1234) // VARCHAR(1234) Sequelize.STRING.BINARY // VARCHAR BINARY Sequelize.TEXT // TEXT Sequelize.TEXT(&#39;tiny&#39;) // TINYTEXT // NUMBER Sequelize.INTEGER // INTEGER Sequelize.BIGINT // BIGINT Sequelize.BIGINT(11) // BIGINT(11) Sequelize.FLOAT // FLOAT Sequelize.FLOAT(11) // FLOAT(11) Sequelize.FLOAT(11, 10) // FLOAT(11,10) Sequelize.DOUBLE // DOUBLE Sequelize.DOUBLE(11) // DOUBLE(11) Sequelize.DOUBLE(11, 10) // DOUBLE(11,10) Sequelize.DECIMAL // DECIMAL Sequelize.DECIMAL(10, 2) // DECIMAL(10,2) // TIME Sequelize.DATE // mysql / sqlite ä¸º DATETIME, postgres ä¸ºå¸¦æ—¶åŒºçš„ TIMESTAMP Sequelize.DATE(6) // DATETIME(6) é€‚ç”¨ mysql 5.6.4+. å°æ•°ç§’æ”¯æŒæœ€å¤š6ä½ç²¾åº¦ Sequelize.DATEONLY // DATE ä¸å¸¦æ—¶é—´. // BOOLEAN Sequelize.BOOLEAN // TINYINT(1) //ENUM Sequelize.ENUM(&#39;value 1&#39;, &#39;value 2&#39;) // ä¸€ä¸ªå…è®¸å€¼ä¸º&#39;value 1&#39;å’Œ&#39;value 2&#39;çš„ENUM // blob Sequelize.BLOB // BLOB (PostgreSQL ä¸º bytea) Sequelize.BLOB(&#39;tiny&#39;) // TINYBLOB (PostgreSQL ä¸º bytea. å…¶ä½™å‚æ•°æ˜¯ medium å’Œ long) // GEOMETRY Sequelize.GEOMETRY // Spatial åˆ—. ä»… PostgreSQL (å¸¦æœ‰ PostGIS) æˆ– MySQL. Sequelize.GEOMETRY(&#39;POINT&#39;) // å¸¦æœ‰ geometry ç±»å‹çš„ spatial åˆ—. ä»… PostgreSQL (å¸¦æœ‰ PostGIS) æˆ– MySQL. Sequelize.GEOMETRY(&#39;POINT&#39;, 4326) // å…·æœ‰ geometry ç±»å‹å’Œ SRID çš„ spatial åˆ—. ä»… PostgreSQL (å¸¦æœ‰ PostGIS) æˆ– MySQL. // unsigned å’Œ zerofill å±æ€§ Sequelize.INTEGER.UNSIGNED // INTEGER UNSIGNED Sequelize.INTEGER(11).UNSIGNED // INTEGER(11) UNSIGNED Sequelize.INTEGER(11).ZEROFILL // INTEGER(11) ZEROFILL Sequelize.INTEGER(11).ZEROFILL.UNSIGNED // INTEGER(11) UNSIGNED ZEROFILL Sequelize.INTEGER(11).UNSIGNED.ZEROFILL // INTEGER(11) UNSIGNED ZEROFILL æ•°æ®ç±»å‹æ¥æºï¼Œæ˜é‡‘ï¼Œäº‘å½±skyçš„è¯¦ç»†æ˜“ç”¨çš„ Sequelize è§£è¯» æ¨¡å‹åŒæ­¥ä½¿ç”¨model.async()æ–¹æ³•æ¥å°†æ¨¡å‹ä¸æ•°æ®åº“åŒæ­¥ User.sync() -å¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»ºè¡¨ï¼ˆå¦‚æœå·²ç»å­˜åœ¨åˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼‰ User.sync({ force: true }) -è¿™å°†åˆ›å»ºè¡¨ï¼Œå¦‚æœè¯¥è¡¨å·²ç»å­˜åœ¨ï¼Œåˆ™å°†å…¶é¦–å…ˆåˆ é™¤ User.sync({ alter: true }) -è¿™å°†æ£€æŸ¥æ•°æ®åº“ä¸­è¡¨çš„å½“å‰çŠ¶æ€ï¼ˆå®ƒå…·æœ‰å“ªäº›åˆ—ï¼Œå®ƒä»¬çš„æ•°æ®ç±»å‹ç­‰ï¼‰ï¼Œç„¶ååœ¨è¡¨ä¸­è¿›è¡Œå¿…è¦çš„æ›´æ”¹ä»¥ä½¿å…¶ä¸æ¨¡å‹åŒ¹é… åˆ›å»ºæ¨¡å‹å®ä¾‹ä½¿ç”¨model.buildæ–¹æ³•æ¥åˆ›å»ºæ¨¡å‹å®ä¾‹ const jsBook = Book.build({ bookName: &#39;ä½ ä¸çŸ¥é“çš„JS&#39;, bookCounts: 3, detail: &#39;JS è¿›é˜¶ç³»åˆ—&#39;, }) ä¸Šé¢çš„åˆ›å»ºå®ä¾‹ä¹‹åä½¿ç”¨jsBook.save();æ–¹æ³•æ¥ä¿å­˜åˆ°æ•°æ®åº“ æ¨¡å‹æŸ¥è¯¢INSERTæŸ¥è¯¢ä¸Šé¢çš„æ¨¡å‹ä¿å­˜è¿˜æœ‰ä¸€ç§ç®€ä¾¿æ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨model.createæ–¹æ³•ï¼Œç›´æ¥ä¿å­˜åˆ°æ•°æ®åº“ Book.create({ bookName: &#39;ä½ ä¸çŸ¥é“çš„JS&#39;, bookCounts: 3, detail: &#39;JS è¿›é˜¶ç³»åˆ—&#39;, }) å¯ä»¥çœ‹åˆ°æ•°æ®åº“ä¸­å·²ç»ç”Ÿæˆäº†è¿™æ¡è®°å½• æ§åˆ¶å°å¯ä»¥çœ‹åˆ°sqlè¯­å¥ SELECTæŸ¥è¯¢findæŸ¥è¯¢ä½¿ç”¨findAllæ–¹æ³•æŸ¥è¯¢æ•´ä¸ªè¡¨ Book.findAll() æ•ˆæœå›¾ å¯ä»¥ä½¿ç”¨attributesé€‰é¡¹æ¥è¿›è¡Œåˆ—æŸ¥è¯¢ï¼Œæ•°ç»„ä¸­åˆ—å‡ºè¦æŸ¥è¯¢çš„å­—æ®µå Book.findAll({ attributes: [&#39;id&#39;, &#39;bookName&#39;], }) æ•ˆæœå›¾ ä½¿ç”¨excludeåˆ é™¤ä¸€äº›é€‰å®šçš„å±æ€§ Book.findAll({ attributes: { exclude: [&#39;bookCounts&#39;] }, }) æ•ˆæœå›¾ å…¶ä»–findæŸ¥è¯¢ findByPkï¼šä½¿ç”¨æä¾›çš„ä¸»é”®ä»…ä»è¡¨ä¸­è·å¾—ä¸€ä¸ªæ¡ç›® findOneï¼šè·å–å®ƒæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªæ¡ç›®ï¼ˆå¦‚æœæä¾›çš„è¯ï¼Œå®ƒæ»¡è¶³å¯é€‰çš„æŸ¥è¯¢é€‰é¡¹ï¼‰ findOrCreateï¼šæŸ¥è¯¢ä¸åˆ°å®ä¾‹å°±åˆ›å»ºä¸€ä¸ªï¼Œè¿”å›å€¼æ˜¯å®ä¾‹ï¼ˆæŸ¥åˆ°çš„æˆ–è€…åˆ›å»ºçš„ï¼‰å’Œä¸€ä¸ªå¸ƒå°”å€¼ï¼ˆåˆ›å»ºä¸ºtrueï¼‰ findAndCountAllï¼šæŸ¥è¯¢å¹¶è®¡æ•°ï¼Œæœ‰ä¸¤ä¸ªè¿”å›å€¼ï¼Œä¸€ä¸ªæ˜¯æŸ¥è¯¢åˆ°çš„è®°å½•å¦ä¸€ä¸ªæ˜¯count whereå­å¥ä½¿ç”¨whereé€‰é¡¹å¯ä»¥è¿›è¡ŒwhereæŸ¥è¯¢ Book.findAll({ where: { bookName: &#39;ä½ ä¸çŸ¥é“çš„JS&#39;, id: 1 } }) // SELECT * FROM books WHERE bookName = &#39;ä½ ä¸çŸ¥é“çš„JS&#39; AND id = 1; æ•ˆæœå¦‚å›¾ æœ‰äº†ANDå°±æœ‰ORï¼Œä½¿ç”¨Op.oræ¥è¿›è¡Œoræ“ä½œ Book.findAll({ where: { bookName: &#39;ä½ ä¸çŸ¥é“çš„JS&#39;, id: { [Op.or]: [1, 2] } } }) // SELECT * FROM books WHERE bookName = &#39;ä½ ä¸çŸ¥é“çš„JS&#39; AND (id = 1 OR id = 2); æ•ˆæœå›¾ ANDä¹Ÿå¯ä»¥ä½¿ç”¨Op.andæ¥æ“ä½œï¼Œä½†æ˜¯æ˜“è¯»æ€§ä¸å¼ºï¼ˆä¸å¸¸ç”¨ï¼‰ Book.findAll({ where: { [Op.and]: [ { bookName: &#39;ä½ ä¸çŸ¥é“çš„JS&#39; }, { id: { [Op.or]: [1, 2] } } ] } }) sequelizeæä¾›äº†æ›´å¤šè¿ç®— const { Op } = require(&quot;sequelize&quot;); Post.findAll({ where: { [Op.and]: [{ a: 5 }, { b: 6 }], // (a = 5) AND (b = 6) [Op.or]: [{ a: 5 }, { b: 6 }], // (a = 5) OR (b = 6) someAttribute: { // Basics [Op.eq]: 3, // = 3 [Op.ne]: 20, // != 20 [Op.is]: null, // IS NULL [Op.not]: true, // IS NOT TRUE [Op.or]: [5, 6], // (someAttribute = 5) OR (someAttribute = 6) // Using dialect specific column identifiers (PG in the following example): [Op.col]: &#39;user.organization_id&#39;, // = &quot;user&quot;.&quot;organization_id&quot; // Number comparisons [Op.gt]: 6, // &gt; 6 [Op.gte]: 6, // &gt;= 6 [Op.lt]: 10, // &lt; 10 [Op.lte]: 10, // &lt;= 10 [Op.between]: [6, 10], // BETWEEN 6 AND 10 [Op.notBetween]: [11, 15], // NOT BETWEEN 11 AND 15 // Other operators [Op.all]: sequelize.literal(&#39;SELECT 1&#39;), // &gt; ALL (SELECT 1) [Op.in]: [1, 2], // IN [1, 2] [Op.notIn]: [1, 2], // NOT IN [1, 2] [Op.like]: &#39;%hat&#39;, // LIKE &#39;%hat&#39; [Op.notLike]: &#39;%hat&#39;, // NOT LIKE &#39;%hat&#39; [Op.startsWith]: &#39;hat&#39;, // LIKE &#39;hat%&#39; [Op.endsWith]: &#39;hat&#39;, // LIKE &#39;%hat&#39; [Op.substring]: &#39;hat&#39;, // LIKE &#39;%hat%&#39; [Op.iLike]: &#39;%hat&#39;, // ILIKE &#39;%hat&#39; (case insensitive) (PG only) [Op.notILike]: &#39;%hat&#39;, // NOT ILIKE &#39;%hat&#39; (PG only) [Op.regexp]: &#39;^[h|a|t]&#39;, // REGEXP/~ &#39;^[h|a|t]&#39; (MySQL/PG only) [Op.notRegexp]: &#39;^[h|a|t]&#39;, // NOT REGEXP/!~ &#39;^[h|a|t]&#39; (MySQL/PG only) [Op.iRegexp]: &#39;^[h|a|t]&#39;, // ~* &#39;^[h|a|t]&#39; (PG only) [Op.notIRegexp]: &#39;^[h|a|t]&#39;, // !~* &#39;^[h|a|t]&#39; (PG only) [Op.any]: [2, 3], // ANY ARRAY[2, 3]::INTEGER (PG only) // In Postgres, Op.like/Op.iLike/Op.notLike can be combined to Op.any: [Op.like]: { [Op.any]: [&#39;cat&#39;, &#39;hat&#39;] } // LIKE ANY ARRAY[&#39;cat&#39;, &#39;hat&#39;] // There are more postgres-only range operators, see below } } }); UPDATEæŸ¥è¯¢ä½¿ç”¨model.updateæ–¹æ³•æ¥è¿›è¡Œæ•°æ®æ›´æ–° Book.update({ bookCounts: 5 }, { where: { id: 2 } }) // UPDATE books SET bookCounts =5 WHERE id = 2; ä¿®æ”¹åçš„æ•°æ®å¦‚ä¸‹ DELETEæŸ¥è¯¢ä½¿ç”¨model.destoryæ–¹æ³•è¿›è¡Œåˆ é™¤æ“ä½œ Book.destory({ where: { id: 2 } }) é™åˆ¶å’Œåˆ†é¡µä½¿ç”¨limitå’Œoffseté€‰é¡¹è¿›è¡Œé™åˆ¶/åˆ†é¡µ limitï¼šæ¯ä¸€é¡µçš„è®°å½•æ•°é‡é™åˆ¶ offsetï¼šç¬¬å‡ é¡µï¼Œä»0å¼€å§‹ Book.findAll({ where: { bookName: &#39;ä½ ä¸çŸ¥é“çš„JS&#39;, }ï¼Œ offset: parseInt(req.query.page) ? parseInt(req.query.page) : 0, limit: 1 }) å®ç”¨æ–¹æ³• è¿›é˜¶ç”¨æ³•getter&amp;setter äº‹åŠ¡","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://easyremember.cn/tags/Node/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"TypeScriptå­¦ä¹ ç¬”è®°","slug":"ç¬”è®°/TypeScriptå­¦ä¹ ç¬”è®°","date":"2020-08-06T15:25:45.926Z","updated":"2020-09-05T09:38:13.592Z","comments":true,"path":"2020/08/06/ç¬”è®°/TypeScriptå­¦ä¹ ç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/08/06/ç¬”è®°/TypeScriptå­¦ä¹ ç¬”è®°/","excerpt":"","text":"TypeScriptå­¦ä¹ ç¬”è®°1 ç®€ä»‹TypeScriptæ˜¯ç”±å¾®è½¯æ¨å‡ºçš„ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯javascriptçš„è¶…é›†ï¼Œéµå¾ªES5ã€ES6è§„èŒƒï¼Œæ‹“å±•äº†jsçš„è¯­æ³• TypeScriptæ›´åƒæ˜¯javaç­‰åç«¯è¯­è¨€ï¼Œå¯ä»¥å¼€å‘å¤§å‹ä¼ä¸šé¡¹ç›®ï¼Œæœ€æ–°çš„å‰ç«¯æ¡†æ¶åŸºæœ¬éƒ½æ˜¯ä½¿ç”¨äº†TS 2 å®‰è£…npm install -g typescript cnpmä»¥åŠyarnå®‰è£…æ–¹å¼ä¸€æ · 3 ç¼–è¯‘åŠé…ç½®3.1 ç¼–è¯‘æµè§ˆå™¨ä¸è¯†åˆ«tsä»£ç ï¼Œéœ€è¦å°†tsä»£ç ç¼–è¯‘ä¸ºES5çš„ä»£ç  æ–°å»ºindex.tsè„šæœ¬ï¼Œç¼–å†™ä»£ç  console.log(&quot;hello TS&quot;); ä½¿ç”¨ tsc index.ts å‘½ä»¤è¿›è¡Œç¼–è¯‘ ç¼–è¯‘å®Œæˆä¹‹åä¼šç”Ÿæˆindex.jsè„šæœ¬ï¼Œå†…å®¹æ˜¯ è¿™ä¸€æ®µä»£ç çœ‹ä¸å‡ºå·®åˆ«ï¼Œæ¥ä¸€æ®µtsè¯­æ³•çš„ä»£ç  let str:String = &#39;feng&#39;; console.log(str); å†æ¥çœ‹çœ‹ç¼–è¯‘å‡ºæ¥çš„jsè„šæœ¬ 3.2 åœ¨vscodeä¸­é…ç½®è‡ªåŠ¨ç¼–è¯‘æ¯æ¬¡å†™å®Œä»£ç æ‰‹åŠ¨ä¿å­˜å¾ˆä¸æ–¹ä¾¿ï¼Œå¯ä»¥ä½¿ç”¨é…ç½®æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆjs åœ¨æ ¹ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤ tsc --initç”Ÿæˆé…ç½®æ–‡ä»¶tsconfig.json å°†outDirä¸€è¡Œçš„æ³¨é‡Šæ‰“å¼€ï¼Œç›®å½•ä¿®æ”¹ä¸ºè¦è¾“å‡ºåˆ°çš„ç›®å½•ï¼Œä¸ä¿®æ”¹ä¹Ÿå¯ ç‚¹å‡»é€‰é¡¹å¡ç»ˆç«¯-&gt;è¿è¡Œä»»åŠ¡-&gt;typescript-&gt;tscç›‘è§†ï¼Œç„¶åå†ç¼–å†™tsä»£ç ä¿å­˜æ—¶å°±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆjsäº† 4 æ•°æ®ç±»å‹tsä¸ºäº†ä½¿ç¼–å†™ä»£ç æ›´è§„èŒƒå¢åŠ äº†ç±»å‹æ ¡éªŒmtsä¸»è¦æä¾›äº†ä»¥ä¸‹å‡ ç§ç±»å‹çš„æ•°æ® å¸ƒå°”ç±»å‹ï¼ˆbooleanï¼‰ æ•°å­—ç±»å‹ï¼ˆnumberï¼‰ å­—ç¬¦ä¸²ç±»å‹ï¼ˆstringï¼‰ æ•°ç»„ç±»å‹ï¼ˆarrayï¼‰ å…ƒç»„ç±»å‹ï¼ˆtupleï¼‰ æšä¸¾ç±»å‹ï¼ˆenumï¼‰ ä»»æ„ç±»å‹ï¼ˆanyï¼‰ null å’Œ undefined voidç±»å‹ neverç±»å‹ 4.1 å¸ƒå°”ç±»å‹åœ¨å˜é‡æ ‡è¯†ç¬¦ä¹‹åå£°æ˜å˜é‡ç±»å‹ä¸ºbooleanï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡åªèƒ½æ¥å—å¸ƒå°”ç±»å‹çš„èµ‹å€¼ï¼Œå¦‚æœèµ‹å€¼ä¸ºå…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ï¼Œä¾‹å¦‚ let isReal: boolean = 123; å®šä¹‰å¸ƒå°”ç±»å‹çš„å˜é‡isRealï¼Œç„¶åä¸ºå…¶èµ‹å€¼æ•°å­—123ï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šæŠ›å‡ºä¸‹é¢é”™è¯¯ æ„æ€æ˜¯â€™123â€™ä¸èƒ½èµ‹å€¼ç»™booleanç±»å‹çš„å˜é‡ 4.2 æ•°å€¼ç±»å‹è§„åˆ™åŒå¸ƒå°”ç±»å‹ï¼Œå£°æ˜çš„æ ‡è¯†ç¬¦æ˜¯number æ•´å½¢å’Œæµ®ç‚¹å‹éƒ½å¯ä»¥ç”¨numberå£°æ˜ 4.3 å­—ç¬¦ä¸²ç±»å‹å£°æ˜çš„æ ‡è¯†ç¬¦æ˜¯string 4.4 æ•°ç»„ç±»å‹å£°æ˜æ–¹å¼æœ‰ä¸¤ç§ï¼š ä½¿ç”¨ä¸­æ‹¬å· let arr:number[] = [1,2,3] // æ•°å­—ç±»å‹çš„æ•°ç»„ä¸èƒ½å‡ºç°å…¶å®ƒæ•°æ®ç±»å‹ ä½¿ç”¨æ³›å‹å£°æ˜ let arr: Array&lt;number&gt; = [1, 2, 3] 4.5 å…ƒç»„ç±»å‹let tuple:[string, number, boolean] = [&#39;feng&#39;, 11, true] å…ƒç»„ä¹Ÿæ˜¯ä¸€ç§æ•°ç»„ï¼Œå¯ä»¥æŒ‡å®šæ•°ç»„çš„æ¯ä¸€é¡¹çš„æ•°æ®ç±»å‹ 4.6 æšä¸¾ç±»å‹æšä¸¾ç±»å‹ç”¨äºå£°æ˜ä¸€ç»„å‘½åçš„å¸¸æ•°ï¼Œå½“ä¸€ä¸ªå˜é‡æœ‰å‡ ç§å¯èƒ½çš„å–å€¼æ—¶ï¼Œå¯ä»¥å°†å®ƒå®šä¹‰ä¸ºæšä¸¾ç±»å‹ã€‚ æšä¸¾ç±»å‹å¯ä»¥æ‰‹åŠ¨è®¾ç½®å€¼ enum Flag { success = 1, error = -1 } let f: Flag = Flag.success console.log(f);// 1 // å¦å¤–ä¸€ç§æ‰‹åŠ¨è®¾ç½®çš„æ–¹å¼ï¼Œåªå®šä¹‰ç¬¬ä¸€é¡¹ï¼Œåé¢çš„ä¾æ¬¡é€’å¢ enum Animal { cat = 2, dog, snake } var a: Animal = Animal.snake; console.log(a); // 4 // è‡ªå®šä¹‰å€¼å¯ä»¥åœ¨ä»»æ„ä½ç½®ï¼Œä¸Šé¢çš„ä»£ç æ±‡ä¸­å¦‚æœåªå®šä¹‰dog=2ï¼Œé‚£ä¹ˆsnakeå°±æ˜¯3 ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ï¼Œé»˜è®¤å€¼å°±æ˜¯ç´¢å¼•å€¼ enum Color { blue, red, green } const c: Color = Color.blue; console.log(c); // 0 4.7 ä»»æ„ç±»å‹åœ¨ä¸Šé¢çš„åŸºæœ¬ç±»å‹ä¸­ï¼Œä¸€æ—¦å®šä¹‰äº†ç±»å‹å°±ä¸èƒ½å†èµ‹å€¼å…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ é‚£å¦‚æœæƒ³ç»™ä¸€ä¸ªå˜é‡èµ‹å€¼å¤šç§ç±»å‹çš„æ•°æ®å°±éœ€è¦ç”¨åˆ°anyæ¥å£°æ˜å˜é‡äº† åœ¨tsæ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹ä»£ç  var node = document.getElementById(&#39;box&#39;); node.style.color = &#39;red&#39;; ä¿å­˜æ—¶ä¼šæŠ›å‡ºä»¥ä¸‹é”™è¯¯ ç¼–è¯‘ä¹‹åä»£ç æ˜¯å¯ä»¥è¿è¡Œçš„ï¼Œä½†æ˜¯å­˜åœ¨é—®é¢˜ æ„æ€æ˜¯nodeæ˜¯ä¸€ä¸ªObjectç±»å‹ï¼Œè¿™æ—¶å†ç»™nodeå£°æ˜Objectç±»å‹ var node:Object = document.getElementById(&#39;box&#39;); node.style.color = &#39;red&#39;; è¿™æ—¶è¿˜ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¿›æœ¬æ•°æ®ç±»å‹ä¸­æ²¡æœ‰Objectï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨anyç±»å‹äº† var node: any = document.getElementById(&#39;box&#39;); node.style.color = &#39;red&#39;; 4.8 nullå’Œundefinednullå’Œundefinedæ˜¯å…¶ä»–æ•°æ®ç±»å‹çš„å­ç±» undefinedå£°æ˜å˜é‡æ˜¯undefinedç±»å‹ä¹‹åï¼Œå˜é‡undefinedä¸ä¼šæŠ¥é”™ï¼Œä¾‹å¦‚ ä½†å¦‚æœå®šä¹‰äº†undefinedç±»å‹å°±ä¸ä¼šæŠ¥é”™ undefinedä¸€èˆ¬ç”¨äºè”åˆç±»å‹ var num: number | undefined; num = 123; console.log(num); numå¯ä»¥æ˜¯numberç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯undefined nullå˜é‡å£°æ˜nullä¹‹ååªèƒ½ä¸ºç©ºå€¼ï¼Œå¦‚æœä¸ºå˜é‡èµ‹å€¼å°±ä¼šæŠ¥é”™ ç­‰äºç©ºå€¼æ—¶ä¸ä¼šæŠ¥é”™ 4.9 voidç±»å‹ç”¨äºå®šä¹‰æ²¡æœ‰è¿”å›å€¼çš„æ–¹æ³• ((): void =&gt; { console.log(&#39;void&#39;); })() lambdaè¡¨è¾¾å¼çš„å†™æ³• 4.10 neverç±»å‹å…¶ä»–ç±»å‹ï¼Œè¡¨ç¤ºä»ä¸ä¼šå‡ºç°ï¼ˆåŒ…æ‹¬nullå’Œundefinedçš„å­ç±»å‹ï¼‰ï¼Œè¢«neverå£°æ˜çš„å˜é‡åªèƒ½è¢«neverç±»å‹çš„æ•°æ®èµ‹å€¼ 5 å‡½æ•°5.1 å£°æ˜å‡½æ•°5.1.1 å‘½åå‡½æ•°åœ¨TypeScriptä¸­å£°æ˜å‡½æ•°æ—¶ï¼Œè¦å£°æ˜å‚æ•°ç±»å‹ä»¥åŠå‡½æ•°è¿”å›å€¼ç±»å‹ æ²¡æœ‰è¿”å›å€¼ä½¿ç”¨voidè¿›è¡Œå£°æ˜ function run(): string { return &#39;string&#39; } åœ¨å£°æ˜å‡½æ•°è¿”å›å€¼ç±»å‹ä¹‹åï¼Œè¿”å›å€¼çš„ç±»å‹å¿…é¡»æ˜¯å£°æ˜çš„ç±»å‹ï¼Œå¦åˆ™æŠ¥é”™ 5.1.2 åŒ¿åå‡½æ•°åœ¨TypeScriptä¸­å®šä¹‰åŒ¿åå‡½æ•°ä¹Ÿéœ€è¦å£°æ˜è¿”å›å€¼ç±»å‹ var func2 = function (): number { return 123; } åŒæ ·ï¼Œè¿”å›å€¼éœ€è¦ç¬¦åˆå£°æ˜çš„è¿”å›å€¼ç±»å‹ï¼Œä¸ä¸€è‡´åˆ™ä¼šæŠ¥é”™ 5.2 ä¼ å‚å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ªfirstnameå’Œä¸€ä¸ªlastnameï¼Œè¿”å›ä¸€ä¸ªfullname function getName(firstname: string, lastname: string): string { return `${firstname}--${lastname}` } console.log(getName(&#39;Chan&#39;, &#39;Jack&#39;)); // Chan--Jack åŒ¿åå‡½æ•°åŒæ ·çš„åœ¨å‚æ•°åå£°æ˜ç±»å‹ 5.2.1 å¯é€‰å‚æ•°åœ¨func3ä¸­ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç°åœ¨è°ƒç”¨func3ï¼Œåªä¼ ä¸€ä¸ªå‚æ•° function func3(name: string, age: number): void { console.log(name + &quot;--&quot; + age); } func3(&#39;zhangsan&#39;); ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ï¼ŒåŸå› æ˜¯å°‘äº†ä¸€ä¸ªå‚æ•° åœ¨å¯é€‰å‚æ•°åæ·»åŠ ?ï¼Œè¡¨ç¤ºå‚æ•°å¯ä»¥æœ‰ä¹Ÿå¯ä»¥æ²¡æœ‰ å¯é€‰å‚æ•°å¿…é¡»æ”¾åˆ°å‚æ•°çš„æœ€åé¢ 5.2.2 é»˜è®¤å‚æ•°åœ¨ES5ä¸­ä¸å¯ä»¥è®¾ç½®é»˜è®¤å‚æ•°ï¼Œåœ¨ES6å’ŒTSä¸­å¯ä»¥è®¾ç½®é»˜è®¤å‚æ•° function func3(name: string, age: number=20): void { console.log(name + &quot;--&quot; + age); } func3(&#39;zhangsan&#39;); // zahngsan--20 å½“é»˜è®¤å‚æ•°åœ¨æœ€åæ—¶ï¼Œè®¾ç½®é»˜è®¤å‚æ•°ä¹‹åå¯ä»¥ä¸ä¼ å‚æ•°ï¼Œä½¿ç”¨é»˜è®¤çš„å€¼ï¼Œå½“é»˜è®¤å‚æ•°åœ¨å‰é¢æ—¶å¿…é¡»ä¼ å‚æ•° 5.2.3 å‰©ä½™å‚æ•°å½“ä¸ç¡®å®šå‚æ•°çš„æ•°é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ES6çš„æ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰ function getSum(...args: number[]): void { var result: number = 0; args.forEach(element =&gt; { result += element }); console.log(result); } getSum(1, 2, 3, 4) // 10 getSum(1, 2, 3, 4, 5) // 15 ä¹Ÿå¯ä»¥å›ºå®šå‰å‡ ä¸ªå‚æ•°ï¼Œç„¶ååé¢çš„ç”¨æ‰©å±•è¿ç®—ç¬¦æ¥æ”¶ function getSum2(a: number, ...args: number[]): void { var result: number = a; args.forEach(element =&gt; { result += element }); console.log(result); } getSum2(1, 2, 3, 4) // 10 5.3 å‡½æ•°é‡è½½ javaä¸­çš„é‡è½½ï¼šä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸ŠåŒåå‡½æ•°ï¼Œä½†æ˜¯ä»–ä»¬æ¥æ”¶çš„å‚æ•°ä¸ä¸€æ ·ï¼Œè¿™æ—¶ä¼šå‡ºç°å‡½æ•°é‡è½½ TypeScriptä¸­çš„é‡è½½ï¼šé€šè¿‡ä¸ºåŒä¸€ä¸ªå‡½æ•°æä¾›å¤šä¸ªå‡½æ•°ç±»å‹å®šä¹‰æ¥å®ç°å¤šç§åŠŸèƒ½çš„ç›®çš„ function getInfo(name: string): string; function getInfo(age: number): string; function getInfo(str: any): any { if (typeof str === &#39;string&#39;) { return &#39;æˆ‘å«&#39; + str } else { return &#39;æˆ‘çš„å¹´é¾„æ˜¯&#39; + str } } console.log(getInfo(&#39;zahngsan&#39;)); console.log(getInfo(12)); æ¥çœ‹ä¸‹ç»“æœ æ˜¾ç„¶ï¼Œtsåœ¨é€šè¿‡è¿™ç§æ–¹å¼ä¸ºä¸€ä¸ªå‡½æ•°å®ç°äº†ä¸¤ç§åŠŸèƒ½ï¼Œä½†æ˜¯ï¼Œä¼ å‚çš„ç±»å‹å¿…é¡»åœ¨é‡è½½çš„å‡½æ•°å‚æ•°ä¹‹å†…ï¼Œå¦‚æœåŒ¹é…ä¸åˆ°å°±ä¼šæŠ¥é”™ 6 ç±»6.1 å¯¹æ¯”ES56.1.1 å®šä¹‰ç±»åœ¨ES5ä¸­ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼Œç›´æ¥åœ¨functionå†…éƒ¨æ·»åŠ å±æ€§å’Œæ–¹æ³• function Person() { this.name = &#39;zhangsan&#39; this.getInfo = function () { console.log(this.name); } } var p = new Person(); p.getInfo(); // zhangsan è¿˜å¯ä»¥é€šè¿‡åŸå‹é“¾çš„æ–¹å¼ç»™å¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³• Person.prototype.age = 20; Person.prototype.getAge = function () { console.log(this.age); } var p = new Person(); p.getAge(); // 20 ä½†æ˜¯ï¼Œä½¿ç”¨åŸå‹é“¾æ·»åŠ çš„å¼•ç”¨ç±»å‹å±æ€§ä¼šè¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼Œæ„æ€å°±æ˜¯å½“æŸä¸€å®ä¾‹çš„è¯¥å±æ€§å˜åŒ–æ—¶ï¼Œå…¶ä»–å®ä¾‹çš„å±æ€§éƒ½ä¼šæ”¹å˜ Person.prototype.friends = [&#39;f1&#39;, &#39;f2&#39;]; Person.prototype.getFriends = function () { console.log(this.friends); } var p = new Person(); p.getFriends(); var p2 = new Person(); p2.friends.push(&#39;f3&#39;); p.getFriends(); p2.getFriends(); å¯ä»¥çœ‹åˆ°ï¼Œæ”¹å˜ä¸€ä¸ªå®ä¾‹çš„å¼•ç”¨ç±»å‹çš„å±æ€§ï¼Œå¦ä¸€ä¸ªå®ä¾‹ä¹Ÿå˜äº†ï¼›åŸºæœ¬æ•°æ®ç±»å‹ä¸å­˜åœ¨è¿™ç§é—®é¢˜ 6.1.2 é™æ€æ–¹æ³•ES5ä¸­ç»™å¯¹è±¡æ·»åŠ é™æ€æ–¹æ³•éå¸¸ç®€å• Person.static = function () { console.log(&#39;é™æ€æ–¹æ³•&#39;); } Person.static(); // é™æ€æ–¹æ³• é™æ€æ–¹æ³•ä¸éœ€è¦å®ä¾‹åŒ–å°±å¯ä»¥è°ƒç”¨ï¼Œå¹¶ä¸”ï¼Œå¯¹è±¡å®ä¾‹ä¸å¯ä»¥è°ƒç”¨é™æ€æ–¹æ³• 6.1.2 ç»§æ‰¿ES5ä¸­é€šè¿‡å¯¹è±¡å†’å……æ¥å®ç°ç»§æ‰¿ function People() { Person.call(this); } var peo = new People(); peo.getInfo(); // zhangsan æ­¤å¤–ä¹Ÿå¯ä»¥é€šè¿‡åŸå‹çš„æ–¹æ³•æ¥å®ç°ç»§æ‰¿ function People() { } People.prototype = new Person(); var peo = new People(); peo.getInfo(); ä½†æ˜¯åœ¨å®ä¾‹åŒ–å­ç±»æ—¶æ— æ³•ç»™çˆ¶ç±»ä¼ å‚ function Person(name) { this.name = name; this.getInfo = function () { console.log(this.name); } } function People() { } People.prototype = new Person(); var peo = new People(&#39;zhangsan&#39;); peo.getInfo(); // undefined ç„¶åå°±æœ‰äº†åŸå‹é“¾+æ„é€ å‡½æ•°çš„ç»„åˆç»§æ‰¿æ¨¡å¼â€”â€”å¯„ç”Ÿç»„åˆç»§æ‰¿ function People(name) { Person.call(this, name) } People.prototype = Person.prototype; var peo = new People(&#39;zhangsan&#39;); peo.getInfo(); // zhangsan 6.2 TypeScriptä¸­çš„ç±»6.2.1 å®šä¹‰ç±»åœ¨TSä¸­ï¼Œä½¿ç”¨classå…³é”®å­—æ¥å®šä¹‰ç±»ï¼Œç±»éœ€è¦å®ä¾‹åŒ–æ—¶éœ€è¦æ·»åŠ æ„é€ å™¨ class Person { name: string; // å±æ€§ constructor(n: string) { // æ„é€ å‡½æ•°ï¼Œå®ä¾‹åŒ–æ—¶è§¦å‘ this.name = n; } getName(): string { return this.name; } setName(name: string): void { this.name = name } } var p: Person = new Person(&#39;æå››&#39;); console.log(p.getName()); // æå›› p.setName(&#39;å¼ ä¸‰&#39;); console.log(p.getName()); // å¼ ä¸‰ æ‹“å±•â€”â€”paramsæ–¹å¼å®ä¾‹åŒ–class Article { title: string | undefined; desc: string | undefined; status: number | undefined constructor(params: { title: string | undefined, desc: string | undefined, status?: number | undefined }) { this.title = params.title; this.desc = params.desc; this.status = params.status; } } var newArticle: Article = new Article({ title: &#39;å¤§äº‹ä»¶&#39;, desc: &#39;éƒ½æ˜¯å°äº‹&#39; }) console.log(newArticle); é€šè¿‡å‘æ„é€ å™¨ä¼ å…¥jsonå¯¹è±¡ï¼Œç„¶åä½¿ç”¨ç´¢å¼•å€¼æ¥å®ä¾‹åŒ–å¯¹è±¡ 6.2.2 ç»§æ‰¿TSä¸­ç»§æ‰¿æœ‰ä¸“é—¨çš„å…³é”®å­—extendsï¼Œéœ€è¦é…åˆsuperåˆå§‹åŒ–çˆ¶ç±»æ„é€ å‡½æ•°æ¥å®ç°ç»§æ‰¿ class People extends Person { constructor(name: string) { super(name); } } var peo = new People(&#39;ç‹äº”&#39;); console.log(peo.getName()); // ç‹äº” 6.2.3 ä¿®é¥°ç¬¦ publicï¼šå…¬æœ‰ï¼Œåœ¨ç±»é‡Œé¢ã€å­ç±»ã€å¤–éƒ¨éƒ½å¯ä»¥è®¿é—® protectedï¼šä¿æŠ¤ï¼Œåœ¨ç±»é‡Œé¢ï¼Œå­ç±»ä¸­å¯ä»¥è®¿é—® privateï¼šç§æœ‰ï¼Œåªæœ‰ç±»é‡Œé¢å¯ä»¥è®¿é—® å±æ€§ä¸åŠ ä¿®é¥°ç¬¦é»˜è®¤æ˜¯public 6.2.4 é™æ€å±æ€§&amp;é™æ€æ–¹æ³•ä½¿ç”¨staticä¿®é¥°ç¬¦å£°æ˜é™æ€æ–¹æ³•ï¼Œä½†æ˜¯é™æ€æ–¹æ³•æ— æ³•ç›´æ¥è·å–ç±»ä¸­çš„å±æ€§ï¼Œåªèƒ½è·å–é™æ€å±æ€§ï¼ˆåŒæ ·ç”¨staticä¿®é¥°ï¼‰ class Person { name: string; static age: number = 20; constructor(n: string) { // æ„é€ å‡½æ•°ï¼Œå®ä¾‹åŒ–æ—¶è§¦å‘ this.name = n; } getName(): string { return this.name; } setName(name: string): void { this.name = name } static log(): void { console.log(`å¹´é¾„æ˜¯${this.age}`); } } Person.log(); // å¹´é¾„æ˜¯20 6.2.5 å¤šæ€çˆ¶ç±»å®šä¹‰ä¸€ä¸ªæ–¹æ³•ä¸å»å®ç°ï¼Œè®©ç»§æ‰¿ä»–çš„å­ç±»å»å®ç°ï¼Œæ¯ä¸€ä¸ªå­ç±»æœ‰ä¸åŒçš„è¡¨ç° class Animals { name: string; constructor(name: string) { this.name = name; } getInfo(): void { } } class Dog extends Animals { constructor(name: string) { super(name); } getInfo(): void { console.log(this.name + &#39;æ˜¯ä¸€åªç‹—&#39;); } } class Cat extends Animals { constructor(name: string) { super(name); } getInfo(): void { console.log(this.name + &#39;æ˜¯ä¸€åªçŒ«&#39;); } } var cat: Cat = new Cat(&#39;kitty&#39;); cat.getInfo(); // kittyæ˜¯ä¸€åªçŒ« var dog: Dog = new Dog(&#39;Tony&#39;); dog.getInfo(); // Tonyæ˜¯ä¸€åªç‹— è¿™æ®µä»£ç ä¸­æœ‰ä¸€ä¸ªçˆ¶ç±»Animalsï¼Œä¸¤ä¸ªå­ç±»Dogå’ŒCatåˆ†åˆ«ç»§æ‰¿Animalsï¼ŒAnimalså®šä¹‰äº†ä¸€ä¸ªgetInfoæ–¹æ³•ï¼Œä¸¤ä¸ªå­ç±»ä¸­åˆ†åˆ«é‡å†™äº†è¿™ä¸ªæ–¹æ³•ï¼Œå®ç°äº†ä¸åŒçš„åŠŸèƒ½ 6.2.6 æŠ½è±¡ç±» æä¾›å…¶ä»–ç±»ç»§æ‰¿çš„åŸºç±»ï¼Œä¸èƒ½è¢«å®ä¾‹åŒ–ï¼›ç”¨absortå…³é”®å­—å®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ä¸åŒ…å«å…·ä½“å®ç°å¹¶ä¸”å¿…é¡»åœ¨æ´¾ç”Ÿç±»ä¸­å®ç°ï¼›æŠ½è±¡æ–¹æ³•åªèƒ½æ”¾åœ¨æŠ½è±¡ç±»ä¸­ abstract class AbstractAnimals{ abstract func1(): void; abstract func2(): string; } class Mouse extends AbstractAnimals{ func1(): void { console.log(&#39;function 1&#39;); } func2(): string { return &#39;function 2&#39; } } 7 æ¥å£ åœ¨é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­ï¼Œæ¥å£æ˜¯ä¸€ç§è§„èŒƒçš„å®šä¹‰ï¼Œå®ƒè§„å®šäº†è¡Œä¸ºå’ŒåŠ¨ä½œçš„è§„èŒƒï¼Œèµ·åˆ°äº†é™åˆ¶å’Œè§„èŒƒçš„ä½œç”¨ã€‚æ¥å£å®šä¹‰äº†æŸä¸€æ‰¹ç±»éœ€è¦éµå®ˆçš„è§„èŒƒï¼Œä¸å…³å¿ƒè¿™äº›ç±»å†…éƒ¨çš„çŠ¶æ€æ•°æ®ï¼Œä¹Ÿä¸å…³å¿ƒæ–¹æ³•å®ç°ç»†èŠ‚ï¼Œåªè§„å®šç±»éœ€è¦æä¾›å“ªäº›æ–¹æ³•ã€‚ç±»ä¼¼äºjavaä¸­çš„ç±»ï¼Œæ›´åŠ çµæ´»ã€‚ å®šä¹‰æ¥å£å…³é”®å­—ï¼šinterface 7.1 å±æ€§æ¥å£å±æ€§æ¥å£å°±æ˜¯å¯¹jsonæ ¼å¼çš„é™åˆ¶ interface FullName { firstName: string; lastName: string; } function getFullName(name: FullName) { return `${name.firstName}----${name.lastName}` } console.log(getFullName({ firstName: &#39;zhang&#39;, lastName: &#39;san&#39; })); // zhang----san åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªFullNameæ¥å£ï¼Œæ–¹æ³•getFullNameå‚æ•°nameè¦æ»¡è¶³è¿™ä¸ªæ¥å£ï¼Œå¦‚æœä¸æ»¡è¶³æ¥å£å®šä¹‰çš„è§„åˆ™å°±ä¼šæŠ¥é”™ å¹¶ä¸”ï¼Œå‚æ•°å¿…é¡»ä¸”åªèƒ½æœ‰æ¥å£å®šä¹‰çš„æ•°æ®é¡¹ï¼Œå¦‚å‚æ•°ä½¿ç”¨å¯¹è±¡nameï¼Œè¯¥å¯¹è±¡å¿…é¡»åŒ…å«æ¥å£å®šä¹‰çš„é¡¹å¹¶ä¸”ç¬¦åˆæ•°æ®ç±»å‹é™åˆ¶ å¯ä»¥ä½¿ç”¨ ? å®šä¹‰å¯é€‰å±æ€§ï¼Œç”¨æ³•åŒå¯é€‰å‚æ•° 7.2 å‡½æ•°ç±»å‹æ¥å£å¯¹æ–¹æ³•ä¼ å…¥çš„å‚æ•°ä»¥åŠè¿”å›å€¼è¿›è¡Œçº¦æŸ interface FuncRule { (key: string, value: string): string; } var funcIn: FuncRule = function (key: string, value: string): string { return `${key}---${value}` } console.log(funcIn(&#39;name&#39;, &#39;å¼ ä¸‰&#39;)); æ¥å£ä¸­è§„å®šäº†ä¸¤ä¸ªå‚æ•°å’Œä»–ä»¬çš„ç±»å‹ä»¥åŠè¿”å›å€¼çš„ç±»å‹ï¼Œå®ç°è¿™ä¸ªæ¥å£çš„å‡½æ•°å°±å¿…é¡»æœ‰è¿™ä¸¤ä¸ªå‚æ•°å’Œè¿”å›å€¼ã€‚å‚æ•°ç±»å‹ä¸ç¬¦åˆè§„å®šå°±ä¼šæŠ¥é”™ 7.3 å¯ç´¢å¼•æ¥å£å¯¹æ•°ç»„ã€å¯¹è±¡çš„çº¦æŸ 7.3.1 å¯¹æ•°ç»„çš„çº¦æŸinterface UserArr{ [index:number]:string; } var arr:UserArr=[&#39;aa&#39;, &#39;bb&#39;] console.log(arr[0]) æ¥å£è§„å®šäº†ç´¢å¼•å€¼æ˜¯numberç±»å‹ï¼Œvalueæ˜¯stringç±»å‹ï¼ˆå¼€å§‹è¿™é‡Œæ²¡çœ‹æ‡‚ï¼Œæ•°ç»„çš„ç´¢å¼•è¿˜èƒ½ä¸æ˜¯numberï¼Ÿï¼Ÿï¼Ÿç»§ç»­å¾€ä¸‹çœ‹ï¼‰ 7.3.2 å¯¹å¯¹è±¡çš„çº¦æŸinterface UserObj{ [index:string]:string } var arr:UserObj = { name: &#39;alex&#39; } è¿™é‡Œæ˜ç™½äº†ï¼Œå¯¹æ•°ç»„çš„çº¦æŸå’Œå¯¹å¯¹è±¡çš„çº¦æŸä¸æ˜¯å…·ä½“çš„åˆ†ç±»ï¼Œç´¢å¼•å€¼æ˜¯numberå°±é™å®šäº†æ•°ç»„ï¼Œç´¢å¼•å€¼æ˜¯stringå°±é™å®šäº†å¯¹è±¡ 7.4 ç±»ç±»å‹æ¥å£ç±»ç±»å‹çº¦æŸå’ŒæŠ½è±¡æœ‰äº›ç±»ä¼¼ï¼Œè¿™é‡Œæœ€æ¥è¿‘äºjavaä¸­çš„æ¥å£ç±» // æ¥å£ interface AnimalsInterface { name: string; eat(food: string): void; } // å®ç°ç±» class Tigger implements AnimalsInterface { name: string; constructor(name: string) { this.name = name; } eat(food: string): void { console.log(`${this.name}åƒçš„æ˜¯${food}ã€‚`); } } // å®ä¾‹åŒ– var t: Tigger = new Tigger(&#39;æ³°å“¥&#39;); t.eat(&#39;çŒªè‚‰&#39;); // æ³°å“¥åƒçš„æ˜¯çŒªè‚‰ã€‚ åœ¨å®ç°æ¥å£æ–¹æ³•çš„æ—¶å€™ï¼Œå‚æ•°å¯ä»¥æ²¡æœ‰ 7.5 æ¥å£æ‰©å±•ï¼ˆæ¥å£ç»§æ‰¿ï¼‰interface Animals { eat(): void; } interface People extends Animals { name: string; work(): void; } class Chinese implements People { name: string; constructor(name: string) { this.name = name; } work(): void { console.log(this.name + &#39;å¯ä»¥å·¥ä½œ&#39;); } eat(): void { console.log(this.name + &#39;åƒå¤§é¤&#39;); } } var ming: Chinese = new Chinese(&#39;å°æ˜&#39;); ming.work(); æ¥å£Peopleç»§æ‰¿äº†æ¥å£Animalsï¼Œåœ¨å®ç°Peopleæ¥å£çš„æ—¶å€™ï¼Œéœ€è¦åŒæ—¶å®ç°Animalsä¸­å®šä¹‰çš„å†…å®¹ï¼Œå¦‚æœå»æ‰äº†Animalsä¸­çš„æ–¹æ³•å°±ä¼šæŠ¥é”™ 8 æ³›å‹ æ³›å‹æ˜¯ç¨‹åºè®¾è®¡è¯­è¨€çš„ä¸€ç§ç‰¹æ€§ã€‚å…è®¸ç¨‹åºå‘˜åœ¨å¼ºç±»å‹ç¨‹åºè®¾è®¡è¯­è¨€ä¸­ç¼–å†™ä»£ç æ—¶å®šä¹‰ä¸€äº›å¯å˜éƒ¨åˆ†ï¼Œé‚£äº›éƒ¨åˆ†åœ¨ä½¿ç”¨å‰å¿…é¡»ä½œå‡ºæŒ‡æ˜ã€‚å„ç§ç¨‹åºè®¾è®¡è¯­è¨€å’Œå…¶ç¼–è¯‘å™¨ã€è¿è¡Œç¯å¢ƒå¯¹æ³›å‹çš„æ”¯æŒå‡ä¸ä¸€æ ·ã€‚å°†ç±»å‹å‚æ•°åŒ–ä»¥è¾¾åˆ°ä»£ç å¤ç”¨æé«˜è½¯ä»¶å¼€å‘å·¥ä½œæ•ˆç‡çš„ä¸€ç§æ•°æ®ç±»å‹ã€‚æ³›å‹ç±»]æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ˜¯å †å¯¹è±¡ï¼Œä¸»è¦æ˜¯å¼•å…¥äº†ç±»å‹å‚æ•°è¿™ä¸ªæ¦‚å¿µã€‚ â€”â€”ç™¾åº¦ç™¾ç§‘ã€Šæ³›å‹ã€‹ 8.1 æ³›å‹å˜é‡å…ˆæ¥çœ‹ä¸ªä¾‹å­ function getValue&lt;T&gt;(value: T): string { return &#39;è·å¾—çš„å€¼æ˜¯&#39; + value; } console.log(getValue&lt;number&gt;(12345)); å®šä¹‰æ–¹æ³•æ—¶è§„å®šäº†æ³›å‹Tï¼Œä¼ å‚æ—¶ä½¿ç”¨æ³›å‹è§„å®šç±»å‹ 8.2 æ³›å‹ç±»javaä¸­çš„ArrayListå°±æ˜¯è¿™ç§ä¸œè¥¿ class ArrayList&lt;T&gt; { private list: T[] = []; add(item: T): void { this.list.push(item); } getList(): T[] { return this.list; } } var arr = new ArrayList&lt;number&gt;(); arr.add(1); arr.add(4); console.log(arr.getList()); è¿™é‡Œç”¨numberç±»å‹åšäº†ä¸ªä¾‹å­ï¼Œæ³›å‹å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œç±»ä¹Ÿå¯ä»¥ ä½¿ç”¨ä¸Šæ–‡7.5ä¸­çš„Chineseç±»æ¥ç¤ºèŒƒ // å®ä¾‹åŒ–å¯¹è±¡ var ming: Chinese = new Chinese(&#39;å°æ˜&#39;); var hong: Chinese = new Chinese(&#39;å°çº¢&#39;); // å°†å¯¹è±¡æ·»åŠ è¿›list var arr = new ArrayList&lt;Chinese&gt;(); arr.add(ming); arr.add(hong); console.log(arr.getList()); 8.3 æ³›å‹æ¥å£åœ¨å®šä¹‰æ¥å£æ—¶ä½¿ç”¨æ³›å‹ï¼Œå®ç°æ¥å£æ—¶ç›¸åº”çš„éœ€è¦ç”¨æ³›å‹å®ç°ï¼Œè°ƒç”¨æ–¹æ³•æ—¶å¯ä»¥æ ¹æ®éœ€è¦è§„å®šæ•°æ®çš„ç±»å‹ interface ConfigFn { &lt;T&gt;(value: T): T; // æœ€åä¸€ä¸ªTæ˜¯è¿”å›å€¼ç±»å‹ï¼Œå¯ä»¥æ˜¯å…¶ä»–çš„ } var getData: ConfigFn = function &lt;T&gt;(name: T): T { return name; } console.log(getData&lt;string&gt;(&#39;å¼ ä¸‰&#39;)); 9 è£…é¥°å™¨ è£…é¥°å™¨æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å£°æ˜ï¼Œå®ƒèƒ½å¤Ÿè¢«é™„åŠ åˆ°ç±»å£°æ˜ï¼Œæ–¹æ³•ï¼Œå±æ€§æˆ–å‚æ•°ä¸Šï¼Œå¯ä»¥ä¿®æ”¹ç±»çš„è¡Œä¸ºã€‚é€šä¿—çš„è®²è£…é¥°å™¨å°±æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ³¨å…¥åˆ°ç±»ã€æ–¹æ³•ã€å±æ€§å‚æ•°ä¸Šæ¥æ‰©å±•ç±»ã€å±æ€§ã€æ–¹æ³•ã€å‚æ•°çš„åŠŸèƒ½ã€‚å¸¸è§çš„è£…é¥°å™¨æœ‰ï¼šç±»è£…é¥°å™¨ã€å±æ€§è£…é¥°å™¨ã€æ–¹æ³•è£…é¥°å™¨ã€å‚æ•°è£…é¥°å™¨è£…é¥°å™¨çš„å†™æ³•ï¼šæ™®é€šè£…é¥°å™¨ï¼ˆæ— æ³•ä¼ å‚ï¼‰ ã€ è£…é¥°å™¨å·¥å‚ï¼ˆå¯ä¼ å‚ï¼‰ è£…é¥°å™¨æ˜¯è¿‡å»å‡ å¹´ä¸­jsæœ€å¤§çš„æˆå°±ä¹‹ä¸€ï¼Œå·²æ˜¯ES7çš„æ ‡å‡†ç‰¹æ€§ä¹‹ä¸€ 9.1 ç±»è£…é¥°å™¨è£…é¥°å™¨æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè£…é¥°å™¨é€šè¿‡@ç¬¦å·æ¥ä½¿ç”¨ function logClass(params: any) { params.prototype.name = &#39;è£…é¥°å™¨&#39;; params.prototype.run = function () { console.log(&#39;è¿™æ˜¯ä¸€ä¸ªè£…é¥°å™¨&#39;); } } @logClass class Log { constructor() { } getData() { } } var log: any = new Log(); // è¿™é‡Œå˜é‡ç±»å‹å£°æ˜any log.run(); // è¿™æ˜¯ä¸€ä¸ªè£…é¥°å™¨ 9.1.1 è£…é¥°å™¨å·¥å‚è£…é¥°å™¨å·¥å‚å¯ä»¥ä¼ å‚ï¼Œé€šè¿‡é—­åŒ…çš„æ–¹å¼è¿›è¡Œæ“ä½œ function logClass(params?: any) { return function (target: any) { console.log(params); } } @logClass(&#39;get&#39;) class Log { constructor() { } } var log: any = new Log(); // get è¿™é‡Œè°ƒç”¨è£…é¥°å™¨çš„æ—¶å€™æ–¹æ³•ç«‹å³æ‰§è¡Œ function logClass(params?: any) { return function (target: any) { target.prototype.pro = params; } } @logClass(&#39;post&#39;) class Log { constructor() { } } var log: any = new Log(); console.log(log.pro); ä¸Šé¢è¿™ä¸€æ®µä»£ç é€šè¿‡è£…é¥°å™¨åŠ¨æ€ç»™ç±»æ·»åŠ å±æ€§ï¼Œåœ¨è°ƒç”¨æ„é€ å™¨çš„æ—¶å€™ä¸€å®šè¦åŠ æ‹¬å·ï¼Œå‚æ•°å¯é€‰æ—¶æ²¡æœ‰å‚æ•°ä¹Ÿè¦å¸¦æ‹¬å· 9.1.2 é‡è½½æ„é€ å‡½æ•° ç±»è£…é¥°å™¨è¡¨è¾¾å¼ä¼šåœ¨è¿è¡Œæ—¶å½“ä½œå‡½æ•°è¢«è°ƒç”¨ï¼Œç±»çš„æ„é€ å‡½æ•°ä½œä¸ºå…¶å”¯ä¸€çš„å‚æ•°ï¼› å¦‚æœç±»è£…é¥°å™¨è¿”å›ä¸€ä¸ªå€¼ï¼Œå®ƒä¼šä½¿ç”¨æä¾›çš„æ„é€ å‡½æ•°æ¥æ›¿æ¢ç±»çš„å£°æ˜ï¼› function logClass(target: any) { return class extends target { url = &#39;newValue&#39; getData() { console.log(&#39;getData:&#39;, this.url); } } } @logClass class HttpClient { public url: string | undefined; constructor() { this.url = &#39;value&#39; } getData() { console.log(this.url); } } var http = new HttpClient(); http.getData(); //getData: newValue è£…é¥°å™¨è¿”å›çš„å°±æ˜¯HttpClientçš„å­ç±»ï¼Œå› æ­¤TSå¯ä»¥è‡ªåŠ¨æ¨å¯¼ http çš„ç±»å‹ï¼› é‡è½½æ—¶å¿…é¡»å°†ç±»é‡Œé¢çš„æ‰€æœ‰å±æ€§å‡ æ–¹æ³•é‡è½½ 9.2 å±æ€§è£…é¥°å™¨å±æ€§è£…é¥°å™¨è¡¨è¾¾å¼ä¼šåœ¨è¿è¡Œæ—¶å½“ä½œå‡½æ•°è¢«è°ƒç”¨ï¼Œä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼š å¯¹äºé™æ€æˆå‘˜æ¥è¯´æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼Œå¯¹äºå®ä¾‹æˆå‘˜æ¥è¯´æ˜¯ç±»çš„åŸå‹å¯¹è±¡ï¼› æˆå‘˜çš„åå­—ï¼› function LogProperty(params: any) { return function (target: any, attr: any) { console.log(target); console.log(attr); } } class User { @LogProperty(&#39;zhangsan&#39;) name: string; constructor() { } } ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°å±æ€§è£…é¥°å™¨ä¼ å…¥çš„ä¸¤ä¸ªå‚æ•° function LogProperty(params: any) { return function (target: any, attr: any) { target[attr] = params; } } class User { @LogProperty(&#39;zhangsan&#39;) name: string | undefined; constructor() { } getName(): void { console.log(this.name); } } var u = new User(); u.getName(); // zhangsan 9.3 æ–¹æ³•è£…é¥°å™¨æ–¹æ³•è£…é¥°å™¨è¢«åº”ç”¨åˆ°æ–¹æ³•çš„å±æ€§æè¿°ç¬¦ä¸Šï¼Œå¯ä»¥ç”¨æ¥ç›‘è§†ã€ä¿®æ”¹ã€æ›¿æ¢æ–¹æ³•çš„å®šä¹‰ã€‚æ–¹æ³•è£…é¥°å™¨ä¼šåœ¨è¿è¡Œæ—¶ä¼ å…¥3ä¸ªå‚æ•°ï¼š å¯¹äºé™æ€æˆå‘˜æ¥è¯´æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼Œå¯¹äºå®ä¾‹æˆå‘˜æ¥è¯´æ˜¯ç±»çš„åŸå‹å¯¹è±¡ï¼› æˆå‘˜çš„åå­—ï¼› æˆå‘˜çš„å±æ€§æè¿°ç¬¦ï¼› function get(params: any) { return function (target: any, methodName: any, desc: any) { console.log(target); console.log(methodName); console.log(desc); } } class HttpClient { url: string | undefined; constructor() { } @get(&#39;/user&#39;) getData() { console.log(&#39;getData: &#39;, this.url); } } å¯ä»¥ä»æ‰“å°ç»“æœçœ‹åˆ°æ–¹æ³•è£…é¥°å™¨çš„ä¸‰ä¸ªå‚æ•° function get(params:any) { return function(target:any, methodName:any, desc:any) { var oldMethod = desc.value; desc.value = function(...args:any[]) { let newArgs = args.map((item)=&gt;{ return String(item); }); oldMethod.apply(this, newArgs); } } } class HttpClient { constructor() { } @get(&#39;http://baidu.com&#39;) getData(...args:any[]) { console.log(&#39;getData: &#39;, args); } } var http = new HttpClient(); http.getData(1, 2, true); // getData: [&quot;1&quot;, &quot;2&quot;, &quot;true&quot;] 9.4 å‚æ•°è£…é¥°å™¨å‚æ•°è£…é¥°å™¨è¡¨è¾¾å¼ä¼šåœ¨è¿è¡Œæ—¶è¢«è°ƒç”¨ï¼Œå¯ä»¥ä¸ºç±»çš„åŸå‹å¢åŠ ä¸€äº›å…ƒç´ æ•°æ®ï¼Œä¼ å…¥3ä¸ªå‚æ•°ï¼š å¯¹äºé™æ€æˆå‘˜æ¥è¯´æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼Œå¯¹äºå®ä¾‹æˆå‘˜æ¥è¯´æ˜¯ç±»çš„åŸå‹å¯¹è±¡ï¼› æ–¹æ³•åç§°ï¼Œå¦‚æœè£…é¥°çš„æ˜¯æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œåˆ™å€¼ä¸ºundefined å‚æ•°åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­çš„ç´¢å¼•ï¼› function logParams(params:any) { return function(target:any, methodName:any, paramIndex:any) { console.log(target) // { constructor:f, getData:f } console.log(methodName) // getData console.log(paramIndex) // 0 } } class HttpClient { constructor() { } getData(@logParams(&#39;uuid&#39;) uuid:any) { console.log(uuid); } } å‚æ•°è£…é¥°å™¨åªèƒ½ç”¨æ¥ç›‘è§†ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯å¦è¢«ä¼ å…¥ 9.5 è£…é¥°å™¨æ‰§è¡Œé¡ºåºå¤šä¸ªè£…é¥°å™¨åŒæ—¶è£…é¥°åˆ°ä¸€ä¸ªå£°æ˜ä¸Šï¼Œè¯­æ³•æ”¯æŒä»å·¦åˆ°å³ï¼Œæˆ–ä»ä¸Šåˆ°ä¸‹ä¹¦å†™ï¼› ä¸åŒè£…é¥°å™¨çš„æ‰§è¡Œé¡ºåºï¼šå±æ€§è£…é¥°å™¨ &gt; æ–¹æ³•è£…é¥°å™¨ &gt; å‚æ•°è£…é¥°å™¨ &gt; ç±»è£…é¥°å™¨ï¼›","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"Vueç»„ä»¶é€šä¿¡","slug":"æŠ€æœ¯/Vueç»„ä»¶é€šä¿¡","date":"2020-08-04T13:44:18.572Z","updated":"2020-09-05T09:34:40.002Z","comments":true,"path":"2020/08/04/æŠ€æœ¯/Vueç»„ä»¶é€šä¿¡/","link":"","permalink":"https://easyremember.cn/2020/08/04/æŠ€æœ¯/Vueç»„ä»¶é€šä¿¡/","excerpt":"","text":"Vueç»„ä»¶é—´é€šä¿¡Vueä¸­ç»„ä»¶çš„é€šä¿¡æ–¹å¼å¤§è‡´æœ‰ï¼šçˆ¶â€”â€”å­ã€å­â€”â€”çˆ¶ã€å…„å¼Ÿä¹‹é—´çš„é€šä¿¡ çˆ¶å­ä¼ å€¼çˆ¶â€”â€”å­çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼çš„æ—¶å€™ï¼Œä½¿ç”¨v-bindç»‘å®šå±æ€§ï¼Œæºå¸¦è¦å‘é€çš„æ•°æ®ï¼Œå­ç»„ä»¶é€šè¿‡propsæ¥æ”¶è¿™ä¸ªæ•°æ®ï¼ˆè¦è·Ÿå±æ€§åç›¸åŒï¼‰ Father.vue &lt;template&gt; &lt;div class=&quot;father&quot;&gt; &lt;h2&gt;Father&lt;/h2&gt; &lt;Son :fromFather=&quot;fromFatherM&quot; /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import Son from &quot;@/components/Son&quot;; export default { components: { Son, }, data() { return { fromFatherM: &quot;çˆ¶ç»„ä»¶çš„æ¶ˆæ¯&quot;, }; }, }; &lt;/script&gt; ä¸ºäº†å®¹æ˜“åŒºåˆ†å±æ€§åå’Œæ•°æ®ï¼Œæ•°æ®ååŠ äº†ä¸ªMï¼Œå­ç»„ä»¶æ¥æ”¶æ•°æ®æ—¶è¦ä½¿ç”¨è¿™é‡Œé¢çš„å±æ€§å Son.vue &lt;template&gt; &lt;div id=&quot;son&quot;&gt; &lt;h2&gt;Son&lt;/h2&gt; æ¥æ”¶ï¼š{{fromFather}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { props: { fromFather: String, // æ¥æ”¶å‚æ•°å¹¶æŒ‡å®šç±»å‹ }, data() { return {}; }, }; &lt;/script&gt; æ•ˆæœå¦‚å›¾ å­â€”â€”çˆ¶å­ç»„ä»¶å‘çˆ¶ç»„ä»¶å‘é€æ•°æ®è¦é€šè¿‡æ–¹æ³•æ¥å®Œæˆï¼Œçˆ¶ç»„ä»¶å¼•ç”¨å­ç»„ä»¶çš„æ—¶å€™å‘å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªæ–¹æ³•ï¼Œå­ç»„ä»¶é€šè¿‡è§¦å‘äº‹ä»¶å‘æ–¹æ³•ä¸­ä¼ å‚æ¥å‘çˆ¶ç»„ä»¶å‘è¡Œæ•°æ® Father.vue &lt;template&gt; &lt;div class=&quot;father&quot;&gt; &lt;h2&gt;Father&lt;/h2&gt; æ¥æ”¶ï¼š{{sonData}} &lt;Son :fromFather=&quot;fromFather&quot; @receive=&quot;receiveData&quot; /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import Son from &quot;@/components/Son&quot;; export default { components: { Son, }, data() { return { fromFather: &quot;çˆ¶ç»„ä»¶çš„æ¶ˆæ¯&quot;, sonData: &quot;&quot;, }; }, methods: { receiveData(d) { // æ¥æ”¶æ•°æ®å¹¶èµ‹å€¼ this.sonData = d; }, }, }; &lt;/script&gt; ä½¿ç”¨@receiveç»‘å®šäº‹ä»¶ï¼Œå­ç»„ä»¶å‘å‡ºæ•°æ®æ—¶éœ€è¦å‘è¿™ä¸ªç»‘å®šäº‹ä»¶æäº¤ Son.vue &lt;template&gt; &lt;div id=&quot;son&quot;&gt; &lt;h2&gt;Son&lt;/h2&gt; æ¥æ”¶ï¼š{{fromFather}} &lt;input type=&quot;text&quot; v-model=&quot;fromSon&quot; /&gt; &lt;button @click=&quot;sonHandle&quot;&gt;send&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { props: { fromFather: String, }, data() { return { fromSon: &quot;&quot;, }; }, methods: { sonHandle() { this.$emit(&quot;receive&quot;, this.fromSon); // å‘é€æ•°æ®çš„äº‹ä»¶ }, }, }; &lt;/script&gt; æ•ˆæœå¦‚å›¾ ä½¿ç”¨$parentå’Œ$childrenå®˜æ–¹æ–‡æ¡£ä¸­è¿˜ç»™å‡ºäº†ä¸€å¯¹API mounted() { console.log(this.$parent.id + &quot;$parent&quot;); }, mounted() { console.log(this.$children[0].id + &quot;$children&quot;); }, è¿™é‡Œä¸€å®šè¦æ³¨æ„è·å–çš„æ•°ç»„ è¿˜å¯ä»¥é€šè¿‡$refsæ¥è·å–ï¼Œå¦‚æœåœ¨æ™®é€šçš„ DOM å…ƒç´ ä¸Šä½¿ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯ DOM å…ƒç´ ï¼›å¦‚æœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®ä¾‹ å¯ä»¥è·å– ä¸Šé¢ä¸‰ç§æ–¹å¼çš„ç»“æœå¦‚å›¾ å…„å¼Ÿç»„ä»¶å…„å¼Ÿç»„ä»¶ä¼ å€¼å¯ä»¥å€ŸåŠ©ä¸€ä¸ªç©ºç™½ç»„ä»¶ï¼Œå¦‚æœé¡¹ç›®è¾ƒå¤§ï¼Œå¯ä»¥ä½¿ç”¨Vueå®˜æ–¹çŠ¶æ€ç®¡ç†Vuexï¼Œä¹‹åä¼šå‘Vuexçš„ä»‹ç»","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"JSæ­£åˆ™è¡¨è¾¾å¼","slug":"æŠ€æœ¯/JSæ­£åˆ™è¡¨è¾¾å¼","date":"2020-08-03T16:26:08.012Z","updated":"2020-09-05T09:37:39.102Z","comments":true,"path":"2020/08/04/æŠ€æœ¯/JSæ­£åˆ™è¡¨è¾¾å¼/","link":"","permalink":"https://easyremember.cn/2020/08/04/æŠ€æœ¯/JSæ­£åˆ™è¡¨è¾¾å¼/","excerpt":"","text":"JSæ­£åˆ™è¡¨è¾¾å¼åˆ›å»ºæ­£åˆ™çš„ä¸¤ç§æ–¹å¼ï¼š åˆ›å»ºå­—é¢é‡æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½¿ç”¨//åŒ…è£¹ let reg = /\\w/ åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œä½¿ç”¨new RegExp() let reg = new RegExp(/\\w/) é€‰æ‹©ç¬¦ |â€œIâ€ å·¦å³ä¸¤è¾¹åŒ¹é…åˆ°ä¸€ä¸ªå°±ç®—æ˜¯true let str = &#39;å¼ ä¸‰ï¼š010-1568413ï¼Œæå››ï¼š020-1586640&#39; let reg = /(010|020)\\-\\d{7,8}/ console.log(reg.test(str)); // true è½¬ä¹‰åœ¨å­—ç¬¦ä¸²ä¸­\\då’Œdæ˜¯ä¸€æ ·çš„ console.log(&#39;\\d&#39; === &#39;d&#39;) // true åœ¨åˆ›å»ºå­—é¢é‡çš„æ—¶å€™ç›´æ¥ä½¿ç”¨//åˆ›å»ºï¼Œæˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­è½¬ä¹‰ let str = &#39;123.abc&#39; let reg = &quot;\\\\d+\\\\.\\\\w+&quot; let reg2 = /\\d+\\.\\w+/ console.log(str.match(reg)); console.log(str.match(reg2)); è¾¹ç•Œä»¥^å¼€å§‹ï¼Œä»¥$ç»“æŸï¼Œå¯ç”¨äºæ£€æµ‹ç½‘å€å¼€å¤´å’Œæ–‡ä»¶åç¼€ ^å¼€å§‹è¾¹ç•Œlet str = &#39;http:www.easyremember.cn&#39; let reg = /^https?:www\\..+/ console.log(reg.test(str)); // true $ç»“æŸè¾¹ç•Œlet str = &#39;C://Users/All Users/abc.txt&#39; let str2 = &#39;C://Users/All Users/abc.log&#39; let reg = /\\.txt$/ console.log(reg.test(str)); // true console.log(reg.test(str2)); // false å…ƒå­—ç¬¦\\wï¼šæ‰€æœ‰çš„å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ \\Wï¼šæ‰€æœ‰çš„éæ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ \\dï¼šæ‰€æœ‰çš„æ•°å­— \\Dï¼šæ‰€æœ‰çš„éæ•°å­— \\sï¼šæ‰€æœ‰çš„ç©ºç™½å­—ç¬¦ï¼Œæ¢è¡Œã€ç©ºæ ¼ç­‰ \\Sï¼šæ‰€æœ‰çš„éç©ºç™½å­—ç¬¦ .ï¼šé™¤æ¢è¡Œä»¥å¤–çš„ä»»æ„å­—ç¬¦ æ¨¡å¼ä¿®é¥°ç¬¦ iï¼šä¸åŒºåˆ†å¤§å°å†™ gï¼šå…¨å±€åŒ¹é… yï¼šä»lastIndexå¼€å§‹åŒ¹é… uï¼šå¤„ç†UTF-16ç¼–ç å­—ç¬¦ mï¼šå¤šè¡Œå¤„ç† sï¼šå•è¡Œå¤„ç†ï¼Œå¿½ç•¥æ¢è¡Œç¬¦ åŸå­è¡¨ åŸå­è¡¨ è¯´æ˜ [] åªåŒ¹é…å…¶ä¸­çš„ä¸€ä¸ªåŸå­ [^] åªåŒ¹é…â€é™¤äº†â€å…¶ä¸­å­—ç¬¦çš„ä»»æ„ä¸€ä¸ªåŸå­ [0-9] åŒ¹é…0-9ä»»ä½•ä¸€ä¸ªæ•°å­— [a-z] åŒ¹é…å°å†™a-zä»»ä½•ä¸€ä¸ªå­—æ¯ [A-Z] åŒ¹é…å¤§å†™A-Zä»»ä½•ä¸€ä¸ªå­—æ¯ Tips:\\d == [0-9] \\D == [^0-9] åŸå­ç»„ä½¿ç”¨ï¼ˆï¼‰åŒ…è£¹ å¼•ç”¨åˆ†ç»„ï¼šå¼•ç”¨ä¹‹å‰åŸå­ç»„åŒ¹é…åˆ°çš„å†…å®¹ï¼Œ\\1\\2â€¦â€¦ let str = &#39;abc123.c123&#39; let reg = /([a-z]\\d+)\\.\\1/g console.log(str.match(reg)); // [&quot;c123.123&quot;] åˆ†ç»„åˆ«å ä¸ºä¸åŒåˆ†ç»„å‘½åï¼Œä½¿ç”¨?&lt;&gt;å‘½åï¼Œä½¿ç”¨$&lt;&gt;å¼•ç”¨ let str = &#39;abc123.c123&#39; let reg = /(?&lt;init&gt;[a-z]\\d+)\\.\\1/g // console.log(str.match(reg)); console.log(str.replace(reg, `&lt;p&gt;$&lt;init&gt;&lt;/p&gt;`)); é‡å¤+ï¼šé‡å¤ä¸€æ¬¡æˆ–å¤šæ¬¡ *ï¼šé‡å¤é›¶æ¬¡æˆ–å¤šæ¬¡ ?ï¼šé‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡ {n}ï¼šé‡å¤næ¬¡ {n,}ï¼šé‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡ {n,m}ï¼šé‡å¤næ¬¡åˆ°mæ¬¡ let str = &#39;1234&#39; let reg = /\\d/ let reg2 = /\\d+/let reg3 = /^\\d{1,2}$/ console.log(str.match(reg)); console.log(str.match(reg2)); console.log(reg3.test(str)); å­—ç¬¦æ–¹æ³•searchè¿”å›è¦æœç´¢å†…å®¹çš„ç´¢å¼•ï¼Œæ²¡æœ‰è¿”å›-1 let str = &#39;abcdef&#39; console.log(str.search(&#39;ef&#39;));// 4 console.log(str.search(/\\w/)); // 0 console.log(str.search(&#39;efg&#39;)); // -1 matchä½¿ç”¨å­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œè¿”å›åŒ¹é…çš„å†…å®¹ï¼ŒåŒ¹é…ä¸åˆ°è¿”å›null let str = &#39;abcdef&#39;console.log(str.match(&#39;ef&#39;)); // ef console.log(str.match(/\\w+/)); // abcdef matchAllï¼šè¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ let reg = /&lt;(h[1-6])&gt;[\\s\\S]+&lt;\\/\\1&gt;/g let str = `&lt;h1&gt;å‰æ®µå°æ«&lt;/h1&gt; &lt;h2&gt;blog.easyremember.cn&lt;/h2&gt;` for (let s of str.matchAll(reg)) { console.log(s); } splitï¼šä½¿ç”¨å­—ç¬¦åˆ†å‰²å­—ç¬¦ä¸² let str = &#39;abc/def/123&#39; console.log(str.split(&#39;/&#39;)); // [&quot;abc&quot;,&quot;def&quot;,&quot;123&quot;] replaceæ›¿æ¢å­—ç¬¦ä¸º let str = &#39;abc/def/123&#39; console.log(str.replace(/\\W/g, &#39;-&#39;)); // abc-def-123 æ­£åˆ™æ–¹æ³•testæ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ execä¸ä½¿ç”¨å…¨å±€åŒ¹é…ä¸matchç›¸åŒï¼Œä½¿ç”¨å…¨å±€åŒ¹é…ä¼šåŒ¹é…å®Œå…¨éƒ¨å­—ç¬¦ä¸²ï¼Œè¿”å›ç»“æœæ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ let reg = /&lt;(h[1-6])&gt;[\\s\\S]+&lt;\\/\\1&gt;/g let str = `&lt;h1&gt;å‰æ®µå°æ«&lt;/h1&gt; &lt;h2&gt;blog.easyremember.cn&lt;/h2&gt;` console.log(reg.exec(str)); console.log(reg.exec(str)); æ–­è¨€?=expç›¸å½“äºifï¼Œä½†æ˜¯æ˜¯åç½®çš„ä¾‹å¦‚ &lt;main&gt; ä¸­å›½åŠªåŠ›å»ºè®¾æœ‰ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰&lt;/main&gt; &lt;script type=&quot;text/javascript&quot;&gt; let reg = /ä¸­å›½(?=ç‰¹è‰²)/ let str = document.querySelector(&#39;main&#39;) str.innerHTML = str.innerHTML.replace(reg, &#39;&lt;a href=&quot;&quot;&gt;ä¸­å›½&lt;/a&gt;&#39;) &lt;/script&gt; ?&lt;=expå‰ç½®æ–­è¨€ let reg = /(?&lt;=æœ‰)ä¸­å›½/ let str = document.querySelector(&#39;main&#39;) str.innerHTML = str.innerHTML.replace(reg, &#39;&lt;a href=&quot;&quot;&gt;ä¸­å›½&lt;/a&gt;&#39;) æ•ˆæœè·Ÿå‰é¢çš„?=æ•ˆæœæ˜¯ä¸€æ ·çš„ ?!expåé¢ä¸èƒ½å‡ºç°expåŒ¹é…åˆ°çš„å†…å®¹ ?&lt;!expå‰é¢ä¸èƒ½å‡ºç°expåŒ¹é…åˆ°çš„å†…å®¹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"letã€constå’Œvarçš„åŒºåˆ«","slug":"æŠ€æœ¯/letã€constå’Œvar","date":"2020-08-02T11:09:59.170Z","updated":"2020-09-05T09:37:43.284Z","comments":true,"path":"2020/08/02/æŠ€æœ¯/letã€constå’Œvar/","link":"","permalink":"https://easyremember.cn/2020/08/02/æŠ€æœ¯/letã€constå’Œvar/","excerpt":"","text":"letã€constå’Œvarä½œç”¨åŸŸvarä½œç”¨äºå…¨å±€ï¼Œå…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ for (var i = 0; i &lt; 5; i++) { var a = 1; } console.log(a, i); // 1 5 è·³å‡ºäº†forå¾ªç¯ä¹‹å¤–aä¾æ—§å¯ä»¥è®¿é—®ï¼Œç”¨äºæ§åˆ¶å¾ªç¯çš„iä¹Ÿèƒ½å¤Ÿè®¿é—®ï¼Œi=5å¾ªç¯è·³å‡ºï¼Œæ‰€ä»¥iæ˜¯5 å†æ¥çœ‹ä¸€ä¸‹æŠŠvaræ”¹æˆconst for (var i = 0; i &lt; 5; i++) { const a = 1; } console.log(a, i); // Uncaught ReferenceError: a is not defined è¿™æ—¶aæ˜¯å—çº§ä½œç”¨åŸŸï¼Œé™¤äº†å¾ªç¯ä¹‹åå°±è®¿é—®ä¸åˆ°äº†ï¼Œå†æ¥çœ‹iï¼ŒæŠŠiæ”¹æˆconstå£°æ˜ Uncaught TypeError: Assignment to constant variable. constå±äºå¸¸é‡ï¼Œèµ‹å€¼ä¹‹åä¸èƒ½æ”¹å˜ï¼Œè¿™é‡Œåº”è¯¥ç”¨letï¼Œletæ˜¯å˜é‡ é‡å¤å£°æ˜var b = 1; var b = 2; console.log(b); // 2 ç”¨varå¯ä»¥é‡å¤å£°æ˜ï¼Œå†æ¥è¯•ä¸€ä¸‹const const b = 1; const b = 2; console.log(b); // Uncaught SyntaxError: Identifier &#39;b&#39; has already been declared å¯ä»¥çœ‹å‡ºconstä¸å¯ä»¥é‡å¤å£°æ˜ï¼Œå†æ¥è¯•ä¸€ä¸‹let let b = 1; let b = 2; console.log(b); // Uncaught SyntaxError: Identifier &#39;b&#39; has already been declared ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œconstå’Œletä¸å¯ä»¥é‡å¤å£°æ˜ æ€»ç»“cosntå’Œletæ˜¯ES6æ–°å‡ºçš„å—çº§ä½œç”¨åŸŸï¼Œä¸å¯ä»¥é‡å¤å£°æ˜ï¼Œæ­¤å¤– const b; b = 2; console.log(b); // Uncaught SyntaxError: Missing initializer in const declaration constä¸å¯ä»¥å…ˆå£°æ˜åèµ‹å€¼ï¼Œletå¯ä»¥ ä¸Šé¢è¯´åˆ°constä¸å¯ä»¥é‡æ–°èµ‹å€¼ï¼Œæœ‰ä¸€ç§æƒ…å†µä¾‹å¤– const b = { a: &#39;a&#39; }; b.a = &#39;b&#39;; console.log(b); æ¥çœ‹ä¸€ä¸‹ç»“æœ å¯ä»¥çœ‹åˆ°å€¼å·²ç»å‘ç”Ÿäº†æ”¹å˜","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Lessé¢„ç¼–è¯‘ä½¿ç”¨","slug":"ç¬”è®°/Lessé¢„ç¼–è¯‘","date":"2020-08-02T06:11:51.895Z","updated":"2020-09-05T09:36:26.797Z","comments":true,"path":"2020/08/02/ç¬”è®°/Lessé¢„ç¼–è¯‘/","link":"","permalink":"https://easyremember.cn/2020/08/02/ç¬”è®°/Lessé¢„ç¼–è¯‘/","excerpt":"","text":"lessé¢„ç¼–è¯‘1 åˆè§lesslessæ˜¯ä¸€é—¨å‘åå…¼å®¹çš„ CSS æ‰©å±•è¯­è¨€ã€‚ HTMLæ ‡ç­¾ä¸èƒ½ç›´æ¥è¯†åˆ«lessæ ·å¼ï¼Œéœ€è¦å¼•å…¥less.jsæ¥ç¼–è¯‘ å¼•å…¥æ ·å¼æ–‡ä»¶ &lt;link rel=&quot;stylesheet/less&quot; type=&quot;text/css&quot; href=&quot;styles.less&quot; /&gt; å¼•å…¥ç¼–è¯‘è„šæœ¬ &lt;script src=&quot;less.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; ä½†æ˜¯ï¼Œè¿™ç§æ–¹å¼æ˜¯è¿è¡Œæ—¶ç¼–è¯‘ï¼Œä¸æ˜¯é¢„ç¼–è¯‘ï¼Œåœ¨VSCodeæ’ä»¶å•†åº—ä¸­æœç´¢lessä¸‹è½½å¯¹åº”çš„ç¼–è¯‘æ’ä»¶ æ¯æ¬¡ä¿å­˜lessæ–‡ä»¶æ—¶å°±å¯ä»¥è‡ªåŠ¨ç¼–è¯‘å‡ºcssæ–‡ä»¶ 2 lessè¯­æ³•2.1 æ³¨é‡Šlessæœ‰ä¸¤ç§æ³¨é‡Š å¸¸è§„çš„cssæ³¨é‡Š /* å¯è§æ³¨é‡Šï¼Œä¼šè¢«ç¼–è¯‘åˆ°cssæ–‡ä»¶ä¸­ */ ç¼–è¯‘åä¸å¯è§æ³¨é‡Š // ä¸å¯è§æ³¨é‡Šï¼Œä¸ä¼šè¢«ç¼–è¯‘åˆ°cssæ–‡ä»¶ä¸­ 2.2 å˜é‡ä½¿ç”¨@ç¬¦å·å£°æ˜å˜é‡ï¼Œæ ·å¼ä¸­å¯ä»¥å¼•ç”¨ï¼Œlessçš„å˜é‡éƒ½æ˜¯å—çº§ä½œç”¨åŸŸï¼Œç›´æ¥ä¸Šä»£ç ï¼Œä¸€ç›®äº†ç„¶ lesså—çº§ä½œç”¨åŸŸï¼šé¦–å…ˆåœ¨æœ¬åœ°æŸ¥æ‰¾å˜é‡å’Œæ··åˆï¼ˆmixinsï¼‰ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ä»â€œçˆ¶â€çº§ä½œç”¨åŸŸç»§æ‰¿ @width: 10px; @height: @width + 10px; .box { width: @width; height: @height; } ç¼–è¯‘ç»“æœä¸º å±æ€§åå’Œé€‰æ‹©å™¨ä¹Ÿå¯ä»¥ç”¨å˜é‡ï¼Œä½†æ˜¯åœ¨å¼•ç”¨çš„æ—¶å€™éœ€è¦ç”¨ {}åŒ…è£¹èµ·æ¥ï¼Œä¸Šä»£ç  @width: 10px; @height: @width + 10px; @m: margin; @selector: #nav; .box { @{m}: 10px; width: @width; height: @height; } @{selector} { color: red; } æ¥çœ‹ä¸‹ç¼–è¯‘åçš„ï¼Œå±æ€§å’Œé€‰æ‹©å™¨å¼•ç”¨å¾ˆå°‘ä½¿ç”¨ å˜é‡å»¶è¿ŸåŠ è½½ .over { @var: 1; .three { @var: 2; brass: @var; @var: 3; } one: @var; } oneå±æ€§æ˜¯åœ¨overä½œç”¨åŸŸä¸­çš„ï¼Œè·Ÿbrassæ— å…³ï¼Œæ‰€ä»¥oneçš„å€¼æ˜¯1ï¼›åœ¨brassä½œç”¨åŸŸä¸­ï¼Œè¦ç­‰å˜é‡å…ˆåŠ è½½å®Œå†å¼•ç”¨ï¼Œè¿™å°±æ˜¯å»¶è¿ŸåŠ è½½ï¼Œæ‰€ä»¥threeçš„å€¼æ˜¯3 2.3 åµŒå¥—å‰é¢çš„ä»£ç å·²ç»èƒ½å¤Ÿä½“ç°åµŒå¥—è§„åˆ™äº†ï¼Œå¯ä»¥æ ¹æ®HTMLçš„å±‚çº§å…³ç³»æ¥åµŒå¥—cssæ ·å¼ï¼Œä¼ªç±»é€‰æ‹©å™¨ä¹Ÿæ˜¯å¯ä»¥åµŒå¥—çš„ .box { width: @width; height: @height; background-color: pink; :hover { background-color: deeppink; } } ç¼–è¯‘ç»“æœæ˜¯è¿™æ ·çš„ æ³¨æ„è¿™é‡Œå¤šäº†ä¸€ä¸ªç©ºæ ¼ï¼Œè¿™æ ·æ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œé‚£æ€ä¹ˆæ ·å»æ‰è¿™ä¸ªç©ºæ ¼å‘¢ï¼Œä½¿ç”¨&amp;å–æ¶ˆçˆ¶å­å…³ç³»ï¼Œè®©ä¸¤ä¸ªç±»æŒ¨åœ¨ä¸€èµ· .box { width: @width; height: @height; background-color: pink; &amp;:hover { background-color: deeppink; } } å†æ¥çœ‹ç»“æœ ç©ºæ ¼æ²¡äº† 2.3.1 @åµŒå¥—å’Œå†’æ³¡@ è§„åˆ™ï¼ˆä¾‹å¦‚ @media æˆ– @supportsï¼‰å¯ä»¥ä¸é€‰æ‹©å™¨ä»¥ç›¸åŒçš„æ–¹å¼è¿›è¡ŒåµŒå¥—ã€‚@ è§„åˆ™ä¼šè¢«æ”¾åœ¨å‰é¢ï¼ŒåŒä¸€è§„åˆ™é›†ä¸­çš„å…¶å®ƒå…ƒç´ çš„ç›¸å¯¹é¡ºåºä¿æŒä¸å˜ ä¾‹å¦‚ .component { width: 600px; @media (min-width: 768px) { width: 300px; @media (min-resolution: 192dpi) { background-image: url(/img/retina2x.png); } } @media (min-width: 1280px) { width: 800px; } } è¿™æ®µä»£ç åœ¨componentç±»ä¸­åµŒå¥—äº†ä¸‰ä¸ªåª’ä½“æŸ¥è¯¢ï¼Œç¼–è¯‘ä¹‹åmediaä¼šç¼–è¯‘åˆ°æœ€å¤–å±‚ 2.4 æ··åˆ2.4.1 æ··åˆæ··åˆå°±æ˜¯å°†ä¸€ç³»åˆ—å±æ€§ä»ä¸€ä¸ªè§„åˆ™é›†å¼•ç”¨åˆ°å¦ä¸€ä¸ªè§„åˆ™é›†çš„æ–¹å¼ï¼Œç®€å•æ¥è¯´å·²å®šä¹‰çš„ç±»å¯ä»¥åœ¨å¦ä¸€ä¸ªç±»ä¸­è¿›è¡Œå¼•ç”¨ .border { border-bottom: solid 2px #000; } .border-2 { .border(); color: red; } ç»“æœ å¼•ç”¨æ··åˆçš„æ—¶å€™ï¼Œæ··åˆæ²¡æœ‰å‚æ•°æ—¶ï¼Œæ‹¬å·å¯ä»¥åŠ ä¹Ÿå¯ä»¥ä¸åŠ ï¼›æ··åˆéœ€è¦ä½¿ç”¨é»˜è®¤å‚æ•°æ—¶ï¼Œæ‹¬å·å¿…é¡»åŠ  2.4.2 ä¸ç¼–è¯‘çš„æ··åˆå¦‚æœåªæƒ³å®šä¹‰ä¸€ä¸ªæ··åˆï¼Œåœ¨é€‰æ‹©å…¶åé¢åŠ ä¸€ä¸ªæ‹¬å·ï¼Œé‚£ä¹ˆè¿™ä¸ªæ··åˆä¸ä¼šè¢«ç¼–è¯‘ .border() { border-bottom: solid 2px #000; } .border-2 { .border(); color: red; } ç¼–è¯‘ç»“æœåªæœ‰.border-2è¿™ä¸ªç±» 2.4.3 å¸¦å‚æ•°çš„æ··åˆç±»ä¼¼äºjså®šä¹‰æ–¹æ³•ä¸€æ ·æ¥æ”¶å‚æ•°ï¼Œç„¶åè¿›è¡Œç¼–è¯‘ï¼ˆä½†æ˜¯ï¼Œä»–ä¸å«å‡½æ•°ï¼Œå«æ··åˆï¼‰ .bar(@w, @h, @color) { width: @w; height: @h; color: @color; } .nav-bar { .bar(100px, 200px, #409eff); } åœ¨å¼•ç”¨barçš„æ—¶å€™å°†å‚æ•°å¡«å…¥ï¼Œç„¶åè¿›è¡Œç¼–è¯‘ å¯ä»¥è®¾ç½®å‚æ•°çš„é»˜è®¤å€¼ï¼Œå¯ä»¥ä¼ é€’å‘½åå‚æ•° .bar(@w: 10px, @h:10px, @color:green) { width: @w; height: @h; color: @color; } .nav-bar { .bar(@color: #409eff); } ç»“æœ å½“å¼•ç”¨æ··åˆçš„æ—¶å€™ä¸åŠ ä»»ä½•å‚æ•°å°±ä¼šå…¨éƒ¨ä½¿ç”¨é»˜è®¤å€¼ 2.4.4 åŒ¹é…æ¨¡å¼æ ¹æ®æ ‡è¯†åŒ¹é…æ··åˆï¼Œä¸‹é¢å®šä¹‰äº†4ç§æ ·å¼ï¼Œåˆ†åˆ«æ˜¯ä¸Šå³ä¸‹å·¦è¾¹æ¡† .border-style(@_, @w, @h, @c) { border-style: solid; } .border-style(T, @w, @h, @c) { width: @w; height: @h; border-color: @c transparent transparent transparent; } .border-style(R, @w, @h, @c) { width: @w; height: @h; border-color: transparent @c transparent transparent; } .border-style(B, @w, @h, @c) { width: @w; height: @h; border-color: transparent transparent @c transparent; } .border-style(L, @w, @h, @c) { width: @w; height: @h; border-color: transparent transparent transparent @c; } .border-3 { .border-style(B, 100px, 100px, #000); } åŒ¹é…æ•ˆæœå¦‚å›¾ æ³¨æ„ä»£ç å¼€å§‹çš„åœ°æ–¹ .border-style(@_, @w, @h, @c) { border-style: solid; } è¿™ä¸€æ®µï¼Œ@_ç”¨æ¥åŒ¹é…Lã€Rã€Bã€Tæ ‡è¯†ï¼Œæ¯æ¬¡ä½¿ç”¨åŒ¹é…æ¨¡å¼æ—¶è‡ªåŠ¨å¸¦ä¸Šè¿™æ®µå…¬å…±ä»£ç  2.4.5 @arguments@argumentsåŒ…å«ä¼ è¿›æ¥çš„æ‰€æœ‰å‚æ•° .border_arg(@w:30px,@c:red,@sty:solid){ border:@arguments; } .test_arguments{ .border_arg(); } ç»“æœå¦‚å›¾ 2.5 è¿ç®— ç®—æœ¯è¿ç®—ç¬¦ +ã€-ã€*ã€/ å¯ä»¥å¯¹ä»»ä½•æ•°å­—ã€é¢œè‰²æˆ–å˜é‡è¿›è¡Œè¿ç®—ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œç®—æœ¯è¿ç®—ç¬¦åœ¨åŠ ã€å‡æˆ–æ¯”è¾ƒä¹‹å‰ä¼šè¿›è¡Œå•ä½æ¢ç®—ã€‚è®¡ç®—çš„ç»“æœä»¥æœ€å·¦ä¾§æ“ä½œæ•°çš„å•ä½ç±»å‹ä¸ºå‡†ã€‚å¦‚æœå•ä½æ¢ç®—æ— æ•ˆæˆ–å¤±å»æ„ä¹‰ï¼Œåˆ™å¿½ç•¥å•ä½ã€‚æ— æ•ˆçš„å•ä½æ¢ç®—ä¾‹å¦‚ï¼špx åˆ° cm æˆ– rad åˆ° % çš„è½¬æ¢ @color: #224488 / 2; //ç»“æœæ˜¯ #112244 background-color: #112244 + #111; // ç»“æœæ˜¯ #223355,#111-&gt;#111111 2.6 è½¬ä¹‰å½“éœ€è¦å¼•å…¥æ— æ•ˆçš„CSSè¯­æ³•æˆ–Lessä¸èƒ½è¯†åˆ«çš„å­—ç¬¦ï¼Œå°±éœ€è¦ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ï¼Œåœ¨å­—ç¬¦ä¸²å‰é¢åŠ ä¸€ä¸ª ~ï¼Œå¹¶å°†éœ€è¦è½¬ä¹‰çš„å­—ç¬¦ä¸²æ”¾åœ¨ â€œâ€ ä¸­ @min768: ~&quot;(min-width: 768px)&quot;; .element { @media @min768 { color: pink; } } // ç»“æœ @media (min-width: 768px) { .element { color: pink; } } åœ¨éœ€è¦ä½¿ç”¨cacl()çš„æ—¶å€™lessä¼šè‡ªåŠ¨ç¼–è¯‘æ‹¬å·é‡Œé¢çš„ä¸œè¥¿ ä½¿ç”¨è½¬ä¹‰æ¥é¿å…è‡ªåŠ¨ç¼–è¯‘ .no { height: 100 +20px; width: ~&quot;cacl(200px + 20)&quot;; } 2.7 æ˜ å°„ Less 3.5 ç‰ˆæœ¬å¼€å§‹ï¼Œå¯ä»¥å°†æ··åˆå’Œè§„åˆ™é›†ä½œä¸ºä¸€ç»„å€¼çš„æ˜ å°„ï¼ˆmapï¼‰ä½¿ç”¨ #colors() { primary: blue; secondary: green; } .button { color: #colors[primary]; border: 1px solid #colors[secondary]; } // ç»“æœ .button { color: blue; border: 1px solid green; } 2.8 å¯¼å…¥lessæ–‡ä»¶å¯¼å…¥å¯ä»¥çœç•¥åç¼€å @import &quot;main&quot;; // mian.less @import &quot;style.css&quot;; 2.9 ç»§æ‰¿ä½¿ç”¨extendå‡½æ•°ç»§æ‰¿ä¸€ä¸ªç±» .middle { margin: 0 auto; } .footer:extend(.middle) { color: pink; } ç¼–è¯‘ä¹‹åçš„middleç±»å°†ä¼šå˜æˆä¸¤ä¸ªç±»å…¬å…±éƒ¨åˆ†ï¼Œç”¨é€—å·è¿æ¥","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"css","slug":"css","permalink":"https://easyremember.cn/tags/css/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"åŠ¨æ€æ§åˆ¶è¾“å…¥æ¡†æ•°é‡","slug":"éšæƒ³/åŠ¨æ€æ§åˆ¶è¾“å…¥æ¡†","date":"2020-08-01T14:00:17.672Z","updated":"2020-09-05T09:35:01.008Z","comments":true,"path":"2020/08/01/éšæƒ³/åŠ¨æ€æ§åˆ¶è¾“å…¥æ¡†/","link":"","permalink":"https://easyremember.cn/2020/08/01/éšæƒ³/åŠ¨æ€æ§åˆ¶è¾“å…¥æ¡†/","excerpt":"","text":"åŠ¨æ€æ§åˆ¶è¾“å…¥æ¡†åœ¨å¼€å‘ä¸­ç»å¸¸ä¼šé‡åˆ°æ ¹æ®æƒ…å†µåŠ¨æ€æ§åˆ¶è¾“å…¥æ¡†çš„æƒ…å†µï¼Œä»¥å‰éƒ½æ˜¯ä½¿ç”¨UIæ¡†æ¶æä¾›çš„ç»„ä»¶ï¼Œè¿™æ¬¡è‡ªå·±åŠ¨æ‰‹å®Œæˆäº†ä¸€ä¸ªç®€æ˜“çš„åŠ¨æ€è¾“å…¥æ¡† å…ˆæ¥ä¸Šæ•ˆæœ æ­£ç‰‡å¼€å§‹ åŠ å‡å·ä½¿ç”¨fontawesomeçš„å›¾æ ‡ä¸å¤šåšèµ˜è¿° å…ˆæ¥çœ‹ä¸€ä¸‹æ ‡ç­¾ &lt;div id=&quot;upload-problem-outin&quot; v-for=&quot;(item, index) in problem.sample&quot; :key=&quot;index&quot;&gt; &lt;div class=&quot;outin-style&quot;&gt; &lt;v-textarea v-model=&quot;item.inputSample&quot; :rules=&quot;rule.sampleRule&quot; dense outlined clearable :label=&quot;&#39;è¾“å…¥æ ·ä¾‹&#39;+(index+1)&quot; /&gt; &lt;/div&gt; &lt;div class=&quot;outin-style&quot;&gt; &lt;v-textarea v-model=&quot;item.outputSample&quot; :rules=&quot;rule.sampleRule&quot; dense outlined clearable :label=&quot;&#39;è¾“å‡ºæ ·ä¾‹&#39;+(index+1)&quot; /&gt; &lt;/div&gt; &lt;/div&gt; problem.sampleæ˜¯problemå¯¹è±¡ä¸­çš„æ ·ä¾‹ç›¸å…³éƒ¨åˆ†ï¼Œæ ¼å¼å¦‚ä¸‹ sample: [{ inputSample: &#39;&#39;, outputSample: &#39;&#39; }], é€šè¿‡v-foréå†sampleæ•°ç»„æ¥æ¸²æŸ“æ ·ä¾‹ç»„æ•°ï¼Œé€šè¿‡æ•°æ®ç»‘å®šï¼Œæ§åˆ¶sampleæ•°ç»„çš„å†…å®¹æ¥å®ç°æ ·ä¾‹ç»„æ•°çš„æ¸²æŸ“ å†æ¥çœ‹ä¸€ä¸‹æ§åˆ¶çš„æ–¹æ³• addSample() { this.problem.sample.push({ inputSample: &#39;&#39;, outputSample: &#39;&#39; }) }, subSample() { if(this.problem.sample.length &lt; 2) { alert(&#39;è‡³å°‘ä¿ç•™ä¸€ç»„&#39;) return } this.problem.sample.pop() } è§¦å‘å¢åŠ äº‹ä»¶æ—¶å‘åŸæ•°ç»„è¿½åŠ ä¸€ä¸ªsampleå¯¹è±¡ï¼Œè§¦å‘å‡å°‘äº‹ä»¶æ—¶ä¸¢æ‰æœ€åä¸€é¡¹ï¼Œæ™ºåŠ›æœ‰ä¸€ä¸ªåˆ¤æ–­ï¼Œå³æ ·ä¾‹æ•°ä¸èƒ½å°‘äº1 å¤§åŠŸå‘Šæˆ","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}]},{"title":"Vueç»‘å®šä¸åˆ°ç»„ä»¶","slug":"éšæƒ³/Vueå­è·¯ç”±å¸¸è§çš„é—®é¢˜","date":"2020-08-01T10:38:09.001Z","updated":"2020-09-05T09:39:17.258Z","comments":true,"path":"2020/08/01/éšæƒ³/Vueå­è·¯ç”±å¸¸è§çš„é—®é¢˜/","link":"","permalink":"https://easyremember.cn/2020/08/01/éšæƒ³/Vueå­è·¯ç”±å¸¸è§çš„é—®é¢˜/","excerpt":"","text":"Vueå­è·¯ç”±å¸¸è§çš„é—®é¢˜ä¹‹å‰åœ¨è¿›è¡Œå¼€å‘çš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªå¾ˆç„å­¦çš„é—®é¢˜ï¼Œæœ‰ä¸€ä¸ªé¡µé¢éœ€è¦è®¾ç½®äºŒçº§è·¯ç”±ï¼Œåœ¨è®¾ç½®äºŒçº§è·¯ç”±ä¹‹åæµè§ˆå™¨å´å‡ºç°äº†æŠ¥é”™ è·¯ç”±è®¾ç½®å¦‚ä¸‹ æŠ¥é”™ä¿¡æ¯ åœ¨æŸ¥é˜…äº†ç›¸å…³èµ„æ–™ä¹‹åæ‰¾åˆ°äº†ä¸€ç§è§£å†³åŠæ³•ï¼Œcomponentæ”¹ä¸ºconponents è™½ç„¶æ²¡ææ˜ç™½åŸç†ï¼Œå…ˆè¯•è¯•å†è¯´ï¼Œæµè§ˆå™¨æ­£å¸¸ä¸æŠ¥é”™ï¼Œä½†æ˜¯ï¼ï¼ï¼ ç»„ä»¶ä¹Ÿæ²¡åŠ è½½å‡ºæ¥ï¼ŒTnTï¼Œè¿™å•¥å•Šï¼Œæ²»æ ‡ä¸æ²»æœ¬ ç„¶åæˆ‘å‘ç°äº†è¿™ä¸ª ç”±äºvue-routerç‰ˆæœ¬å‡çº§çš„åŸå› éœ€è¦æ‰‹åŠ¨æ·»åŠ .defaultæ¥åŠ è½½ç»„ä»¶ åŸå› å¦‚ä¸‹ è¿˜æœ‰ç§æ–¹æ³• { path: &#39;back&#39;, name: &#39;back&#39;, component: resolve =&gt; require([&#39;@/components/Admin/Back&#39;], resolve), } æˆ‘è¯•äº†ä¸‹ï¼Œæˆ‘è¯•äº†ä¸‹è¿™ç§æ–¹å¼ä¹Ÿæ²¡é—®é¢˜ï¼Œresolveæ˜¯requireçš„å›è°ƒ è¿˜æ‰¾åˆ°äº†ä¸€ç§è¯´æ³• require æ˜¯ CommonJS çš„æ¨¡å—å¯¼å…¥æ–¹å¼ï¼Œè€Œç»„ä»¶å®šä¹‰æ—¶å†™çš„ export default æ˜¯ ES6 æ–¹å¼ï¼Œå› æ­¤require å¯¼å…¥çš„ç»“æœå…¶å®æ˜¯ä¸€ä¸ªå« default å±æ€§çš„å¯¹è±¡ï¼Œæ‰€ä»¥ vue ä¸­ component ç”¨è¿™ä¸ªä¼šæŠ¥é”™ï¼Œè€Œæ°å¥½ vue çš„å‘½åè§†å›¾ç»„ä»¶æ³¨å†Œç”¨ components ï¼Œè€Œå®˜æ–¹ä¹Ÿè¯´äº†â€œå¦‚æœ router-view æ²¡æœ‰è®¾ç½®åå­—ï¼Œé‚£ä¹ˆé»˜è®¤ä¸º defaultâ€ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªdefault æ­£å¥½å¯¹åº”èµ·æ¥ï¼Œäºæ˜¯åƒæ¥¼ä¸»æ‰€è¯´åŠ äº†så°±ä¸ä¼šæŠ¥é”™äº†ã€‚è€Œåˆç†çš„ç”¨æ³•åº”è¯¥æ˜¯ require(â€˜xxx.vueâ€™).default æˆ–æ˜¯ç”¨ import","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}]},{"title":"Vueåˆ·æ–°é¡µé¢","slug":"éšæƒ³/Vueé¡µé¢åˆ·æ–°æ–¹æ³•","date":"2020-07-31T14:14:47.733Z","updated":"2020-09-05T09:39:17.184Z","comments":true,"path":"2020/07/31/éšæƒ³/Vueé¡µé¢åˆ·æ–°æ–¹æ³•/","link":"","permalink":"https://easyremember.cn/2020/07/31/éšæƒ³/Vueé¡µé¢åˆ·æ–°æ–¹æ³•/","excerpt":"","text":"Vueé¡µé¢åˆ·æ–°æ–¹æ³•åœ¨ç¼–å†™æäº¤è¡¨å•çš„æ—¶å€™ï¼Œå½“è¡¨å•æäº¤ä¸Šä¹‹åæ¸…ç©ºå½“å‰è¡¨å• å¼€å§‹çš„æ—¶å€™æˆ‘æƒ³çš„æ˜¯è¡¨å•æäº¤æˆåŠŸä¹‹ådataä¸­è¡¨å•ä¸­æœ‰å…³è¡¨å•å†…å®¹çš„å˜é‡é‡æ–°èµ‹ç©ºå€¼ï¼Œä½†æ˜¯è¿™æ ·å¤ªè¿‡éº»çƒ¦ å¶ç„¶é—´åœ¨ä¸€ç¯‡åšå®¢ä¸­å‘ç°å¯ä»¥é€šè¿‡è·¯ç”±è·³è½¬å½“å‰è·¯ç”±æ¥æ¸…ç©ºé¡µé¢ ç„¶åå°±æƒ³ç€æœé›†ä¸€ä¸‹æœ‰æ²¡æœ‰å…¶ä»–æ–¹æ³•ï¼Œæœé›†ä¹‹åæ€»ç»“åœ¨è¿™é‡Œäº† è·¯ç”±è·³è½¬this.$http.put(`/admin/problem`, newObj).then(res =&gt; { if (res) { this.$message.success(`ä¸Šä¼ æˆåŠŸ`) } }).then(() =&gt; { //åˆå§‹åŒ–ç•Œé¢æ•°æ® this.$router.go(0) }) é€šè¿‡this.$router.go(0)æ¥åˆ·æ–°é¡µé¢ location.reload()ä¹Ÿå¯ä»¥å®ç°åˆ·æ–°é¡µé¢ ä½†æ˜¯è¿™æ ·æˆ–æœ‰ä¸€ä¸ªç©ºç™½çš„è¿‡ç¨‹ é€šè¿‡ç©ºç™½ç»„ä»¶åˆ·æ–°å°†ä¸Šä¼ æˆåŠŸä¹‹åçš„å›è°ƒä¿®æ”¹ this.$http.put(`/admin/problem`, newObj).then(res =&gt; { if (res) { this.$message.success(`ä¸Šä¼ æˆåŠŸ`) } }).then(() =&gt; { //åˆå§‹åŒ–ç•Œé¢æ•°æ® this.$router.replace({ path: &#39;/admin/back&#39;, name: &#39;back&#39; }) }) ç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºç™½ç»„ä»¶back.vueï¼Œscriptéƒ¨åˆ†å¦‚ä¸‹ // ç”¨äºåˆ·æ–°é¡µé¢ï¼Œæ²¡æœ‰å®é™…æ„ä¹‰ export default { name: &quot;Back&quot;, data() { this.$router.replace({ path: &#39;/admin/uploadProblem&#39;, name: &#39;UploadProblem&#39; }) return { } } } æ•ˆæœå¦‚ä¸‹ï¼Œç½‘ä¸Šè¯´ä¼šæœ‰è·¯ç”±çš„æ”¹å˜è¿‡ç¨‹ï¼Œæˆ‘æ²¡æœ‰å‘ç°ã€‚ã€‚ã€‚ provide / inject ç»„åˆå…ˆä¿®æ”¹ä¸€ä¸‹app.vueï¼Œé€šè¿‡provideä¼ é€’reloadæ–¹æ³• export default { provide() { return { reload: this.reload() } }, name: &quot;Back&quot;, data() { return { isRouterAlive: true } }, methods: { reload() { this.isRouterAlive = false this.$nextTick(function() { this.isRouterAlive = true }) } } } åœ¨éœ€è¦é‡æ–°åŠ è½½çš„é¡µé¢é€šè¿‡ inject: [&#39;reload&#39;],æ¥æ”¶æ–¹æ³•ï¼ˆç½‘ä¸Šå«å®ƒâ€˜æ³¨å…¥ä¾èµ–â€™ï¼‰ï¼Œç„¶åå°±å¯ä»¥åœ¨æ–¹æ³•ä¸­è°ƒç”¨ this.reload()","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}]},{"title":"Vueç‚¹å‡»åˆ‡æ¢å¯¼èˆªæ æ ·å¼","slug":"éšæƒ³/Vueç‚¹å‡»åˆ‡æ¢å¯¼èˆªæ æ ·å¼","date":"2020-07-31T06:09:30.441Z","updated":"2020-09-05T09:39:17.031Z","comments":true,"path":"2020/07/31/éšæƒ³/Vueç‚¹å‡»åˆ‡æ¢å¯¼èˆªæ æ ·å¼/","link":"","permalink":"https://easyremember.cn/2020/07/31/éšæƒ³/Vueç‚¹å‡»åˆ‡æ¢å¯¼èˆªæ æ ·å¼/","excerpt":"","text":"Vueç‚¹å‡»åˆ‡æ¢å¯¼èˆªæ æ ·å¼å¯¼èˆªæ å†…å®¹å¦‚ä¸‹ &lt;div class=&quot;collapse&quot;&gt; &lt;div class=&quot;links&quot;&gt; &lt;router-link v-for=&quot;link in linkLists&quot; :to=&quot;link.links&quot; :key=&quot;link.id&quot; exact&gt;{{link.show}} &lt;/router-link&gt; &lt;/div&gt; æ•ˆæœå¦‚å›¾ æ„Ÿè§‰å¤ªè¿‡ç®€å•ï¼Œå°±æƒ³ç€åŠ ä¸€ä¸ªæ¿€æ´»æ•ˆæœï¼Œå¼€å§‹æƒ³äº†å¾ˆå¤šç§æ–¹æ³•ï¼Œä½†æ˜¯éƒ½å­˜ç€ä¸€å®šçš„ç¼ºé™·ï¼Œå¶ç„¶é—´å‘ç°äº†router-link-activeè¿™ä¸ªä¸œè¥¿ å¯ä»¥ç»™æ¿€æ´»çš„router-linkæ·»åŠ æ ·å¼ï¼Œå°è¯•äº†ä¸€ä¸‹ åœ¨linksé‡Œé¢æ·»åŠ æ ·å¼ï¼ˆä½¿ç”¨çš„lessé¢„ç¼–è¯‘ï¼‰ .links { display: flex; margin-right: auto; a { color: #777; margin: 0 10px; } a:hover { color: #409eff; } .router-link-active { color: #409eff; } } å¼€å§‹æˆ‘ä»¥ä¸ºå®Œäº‹äº†ï¼Œä½†æ˜¯å´å‘ç°æ— è®ºæ€ä¹ˆåˆ‡æ¢é¦–é¡µä¸€ç›´å¤„äºæ¿€æ´»çŠ¶æ€ï¼Œæˆ‘å¼€å§‹é¢å‘ç™¾åº¦è§£å†³é—®é¢˜ ç„¶åæˆ‘å‘ç°äº†exact exact æ˜¯ä¸€ä¸ªå•ç‹¬çš„å±æ€§ æ­£ç¡®ç”¨æ³•æ˜¯ &lt;router-link to=&quot;/home&quot; active-class=&quot;bianlan&quot; exact&gt;ã€‚ è¿™æ ·ï¼Œåªæœ‰å½“è·¯å¾„åˆšå¥½æ˜¯ /home æ—¶æ‰ä¼šæ·»åŠ  bianlan ç±»åï¼Œè€Œå½“è·¯å¾„æ˜¯ /home/something æ—¶åˆ™ä¸ä¼šï¼ˆå› ä¸ºä¸ exactï¼‰ åœ¨router-linkæ ‡ç­¾ä¸­æ·»åŠ exactå±æ€§ä¹‹åæ•ˆæœå®Œç¾","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}]},{"title":"JSé€’å½’ã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾","slug":"æŠ€æœ¯/JSé€’å½’ã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾","date":"2020-07-31T04:14:58.555Z","updated":"2020-09-05T09:37:36.669Z","comments":true,"path":"2020/07/31/æŠ€æœ¯/JSé€’å½’ã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾/","link":"","permalink":"https://easyremember.cn/2020/07/31/æŠ€æœ¯/JSé€’å½’ã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾/","excerpt":"","text":"JSé€’å½’ã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾é€’å½’å¸¸è§„çš„é€’å½’å‡½æ•°function func(number) { if (number &lt;= 1) { return 1; } else { return number * func(number - 1); } } console.log(func(4)); // 24 è¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„é€’å½’å‡½æ•°ï¼Œä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µä¼šä½¿å¾—æ­¤æ–¹æ³•å‡ºç°é”™è¯¯ã€‚ var func2 = func; func = null; console.log(func2(4)); å°†é€’å½’å‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œç„¶åæŠŠåŸå‡½æ•°èµ‹å€¼ä¸ºnullï¼Œè¿™æ—¶å€™å†è°ƒç”¨å°±ä¼šæŠ¥é”™ è¿™æ˜¯å› ä¸ºfunctionå±äºå¼•ç”¨ç±»å‹ï¼Œèµ‹å€¼æ—¶é€šè¿‡æŒ‡é’ˆæŒ‡å‘åŸå‡½æ•°ï¼ŒåŸå‡½æ•°å‘ç”Ÿæ”¹å˜ï¼Œè°ƒç”¨æ—¶å°±ä¼šå‡ºé”™ ä½¿ç”¨calleeåœ¨ä¸Šé¢çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨arguments.calleeå°±å¯ä»¥è§£å†³ï¼Œarguments.calleeæ˜¯ä¸€ä¸ªæŒ‡å‘æ­£åœ¨æ‰§è¡Œå‡½æ•°çš„æŒ‡é’ˆï¼Œå°†ç»å…¸é€’å½’åšä»¥ä¸‹æ”¹åŠ¨ function func(number) { if (number &lt;= 1) { return 1; } else { return number * arguments.callee(number - 1); } } console.log(func(4)); //24 ä½¿ç”¨æŒ‡é’ˆè¿›è¡Œé€’å½’ï¼Œæ— è®ºæ€ä¹ˆè°ƒç”¨å‡½æ•°éƒ½ä¸ä¼šå‡ºé”™ï¼Œä½†æ˜¯ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä½¿ç”¨arguments.calleeä¼šæŠ¥é”™ å‘½åå‡½æ•°è¡¨è¾¾å¼ä»¥ä¸Šä¸¤ç§æ–¹æ³•éƒ½å­˜åœ¨è¿™ä¸åŒç¨‹åº¦çš„ç¼ºé™·ï¼Œä½¿ç”¨å‘½åå‡½æ•°è¡¨è¾¾å¼å¯ä»¥è¾¾åˆ°æŒ‡é’ˆçš„æ•ˆæœï¼Œäº¦å¯ä»¥åŒæ—¶è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼å’Œéä¸¥æ ¼æ¨¡å¼ä¸‹ var func2 = (function func(number) { if (number &lt;= 1) { return 1; } else { return number * func(number - 1); } }); var func3 = func2; func2 = null; console.log(func3(4)); è¿™æ—¶ä¾æ—§å¯ä»¥æ­£å¸¸æ˜¾ç¤ºç»“æœ é—­åŒ… é—­åŒ…å°±æ˜¯å¯ä»¥åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ç¯å¢ƒï¼Œæ¯ä¸ªé—­åŒ…é‡Œé¢çš„ç¯å¢ƒéƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œäº’ä¸å¹²æ‰°ã€‚é—­åŒ…ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ï¼Œæ¯æ¬¡å¤–éƒ¨å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œå¤–éƒ¨å‡½æ•°çš„å¼•ç”¨åœ°å€ä¸åŒï¼Œéƒ½ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„åœ°å€ã€‚ä½†å‡¡æ˜¯å½“å‰æ´»åŠ¨å¯¹è±¡ä¸­æœ‰è¢«å†…éƒ¨å­é›†å¼•ç”¨çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®ä¸åˆ é™¤ï¼Œä¿ç•™ä¸€æ ¹æŒ‡é’ˆç»™å†…éƒ¨æ´»åŠ¨å¯¹è±¡ã€‚ ä¸Šé¢çš„é€’å½’æœ€åä¸€ç§æ–¹æ³•å°±å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªé—­åŒ… é—­åŒ…ä¸å˜é‡ç»å…¸çš„ç¤ºä¾‹ function newArray() { var result = new Array(); for (var i = 0; i &lt; 10; i++) { result[i] = function () { return i; } } return result; } var newArr = newArray(); for (var i = 0; i &lt; 10; i++) { console.log(newArr[i]()); } // 10,10,10,10,10,10,10,10,10,10 ä¹ä¸€çœ‹å¥½åƒæ˜¯forå¾ªç¯ä¸­æ¯æ¬¡å¾ªç¯å°†0-9èµ‹å€¼ç»™æ•°ç»„çš„æ¯ä¸€é¡¹ï¼Œå…¶å®å¹¶ä¸æ˜¯ï¼Œå› ä¸ºå½“å‰çš„newArray()æ­£åœ¨æ‰§è¡Œï¼Œæ¯ä¸ªå‡½æ•°ä½œç”¨åŸŸé“¾éƒ½ä¿å­˜ç€newArray()çš„æ´»åŠ¨å¯¹è±¡ï¼Œæ‰€ä»¥forå¾ªç¯ä¸­æ¯æ¬¡éƒ½æ˜¯å¼•ç”¨çš„åŒä¸€ä¸ªå˜é‡iï¼Œforå¾ªç¯ç»“æŸä¹‹åï¼Œiæ˜¯10ï¼Œæ‰€ä»¥æ¯ä¸ªå‡½æ•°å†…éƒ¨çš„iéƒ½æ˜¯10ã€‚ å†å°†è¿”å›içš„å‡½æ•°åŒ…åœ¨ä¸€ä¸ªåŒ¿åå‡½æ•°ä¸­ï¼Œå°±å¯ä»¥è¾¾åˆ°äº’ä¸å½±å“çš„æ•ˆæœ function newArray() { var result = new Array(); for (var i = 0; i &lt; 10; i++) { result[i] = function (num: number) { return function () { return num; }; }(i) } return result; } var newArr = newArray(); for (var i = 0; i &lt; 10; i++) { console.log(newArr[i]()); } ç»“æœå¦‚ä¸‹ åœ¨forå¾ªç¯ä¸­,è‡ªè°ƒç”¨å‡½æ•°ç«‹å³æ‰§è¡Œ,è·å–å®æ—¶åœ°ièµ‹å€¼ç»™num. å¾ªç¯ç»“æŸä¹‹å,è¿”å›resultï¼Œåœ¨è‡ªè°ƒç”¨å‡½æ•°æ‰§è¡Œä¹‹åï¼Œä»–çš„ä½œç”¨åŸŸå°±è¢«é”€æ¯äº†ï¼Œä¸ä¼šå†è¢«å…¶ä»–æ“ä½œå½±å“ thiså¯¹è±¡// éä¸¥æ ¼æ¨¡å¼ var arg = &#39;window&#39;; var object = { arg: &#39;object&#39;, getArg: function () { return function () { return this.arg; }; } }; console.log(object.getArg()()); //window ä¸ºä»€ä¹ˆç»“æœä¼šæ˜¯windowå‘¢ï¼Œæ¥çœ‹ä¸€ä¸‹æœ€åä¸€è¡Œ // object.getArg()()ç›¸å½“äº var val = object.getArg(); val(); æŠŠgetArgè¿”å›çš„æ–¹æ³•èµ‹å€¼ç»™äº†valå˜é‡ï¼Œç„¶åæ‰§è¡Œå‡½æ•°ã€‚å› ä¸ºvalåœ¨å…¨å±€ä¸­ï¼Œæ‰€ä»¥è·å¾—çš„argæ˜¯å…¨å±€ä¸­çš„argè¿˜æœ‰ä¸€ç§æƒ…å†µä¼šå‡ºç°é—®é¢˜ var arg = &#39;window&#39;; var object = { arg: &#39;object&#39;, getArg: function () { return this.arg; } }; object.getArg() // object object.getArg() // object (object.getArg = object.getArg)() // window ç¬¬ä¸€ç§æ–¹æ³•ç®€å•çš„è°ƒç”¨äº†objectçš„æ–¹æ³•ï¼›ç¬¬äºŒç§æ–¹æ³•å¼•ç”¨äº†objectçš„æ–¹æ³•ï¼Œthiså¯¹è±¡èƒ½å¤Ÿç»´æŒï¼›ä½†æ˜¯ç¬¬ä¸‰ç§æ˜¯ä¸€ä¸ªèµ‹å€¼è¯­å¥ï¼Œèµ‹å€¼è¯­å¥æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œä¹Ÿå°±æ˜¯ç­‰å·å³è¾¹ï¼Œæ‰€ä»¥è¿™é‡Œå¼•ç”¨äº†æ–¹æ³•ï¼Œä½†ä¸æ˜¯objectå†…éƒ¨è€Œæ˜¯æŒ‡å‘window ä»è¿™å¼ å›¾å°±å¯ä»¥çœ‹å‡ºèµ‹å€¼è¯­å¥å…¶å®æ˜¯æœ‰è¿”å›å€¼çš„ è§£å†³æ–¹æ³• 1 ä¼ é€’thisæŒ‡å‘var arg = &#39;window&#39;; var object = { arg: &#39;object&#39;, getArg: function () { var _this = this; return function () { return _this.arg; }; } }; console.log(object.getArg()()); å°†objectçš„thisä¼ é€’åˆ°getArgä¹‹å†…ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªå¼•ç”¨å€¼è·å–arg 2 ç®­å¤´å‡½æ•°ä¹Ÿå°±æ˜¯lambdaè¡¨è¾¾å¼ var arg: string = &#39;window&#39;; var object = { arg: &#39;object&#39;, getArg: function () { return () =&gt; { return this.arg } } } console.log(object.getArg()()); ç®­å¤´å‡½æ•°çš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯ä¸æ”¹å˜thisçš„æŒ‡å‘ å†…å­˜æ³„æ¼é—­åŒ…çš„ç¼ºé™·åœ¨äºä¼šé€ æˆå†…å­˜æ³„éœ²ï¼Œå½“å‰æ´»åŠ¨å¯¹è±¡ä¸­æœ‰è¢«å†…éƒ¨å­é›†å¼•ç”¨çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®ä¸åˆ é™¤ï¼Œæ¯”å¦‚é€šè¿‡nodeç»“ç‚¹ç»™htmlå…ƒç´ æ·»åŠ ç‚¹å‡»äº‹ä»¶çš„æ—¶å€™ï¼Œå½“äº‹ä»¶æ·»åŠ å®Œä¹‹åï¼Œå­˜å‚¨nodeç»“ç‚¹çš„å˜é‡ä¼šä¸€ç›´å ç”¨å†…å­˜ï¼Œé€ æˆå†…å­˜æ³„æ¼ var divNode = document.getElementById(&#39;box&#39;); divNode.onclick = function () { alert(&#39;click&#39;); }; å­˜å‚¨divNodeçš„å†…å­˜å°†ä¼šæ— æ³•é‡Šæ”¾ä¹Ÿæ— æ³•ä½¿ç”¨ï¼Œæ€ä¹ˆè§£å†³å‘¢ åœ¨æ·»åŠ å®Œäº‹ä»¶ä¹‹åå°†divNodeæ‰‹åŠ¨èµ‹å€¼ä¸ºç©º var divNode = document.getElementById(&#39;box&#39;); divNode.onclick = function () { alert(&#39;click&#39;); }; divNode = null; ä½œç”¨åŸŸé“¾ä½œç”¨åŸŸ ä½œç”¨åŸŸæ˜¯åœ¨è¿è¡Œæ—¶ä»£ç ä¸­çš„æŸäº›ç‰¹å®šéƒ¨åˆ†ä¸­å˜é‡ï¼Œå‡½æ•°å’Œå¯¹è±¡çš„å¯è®¿é—®æ€§ã€‚æ¢å¥è¯è¯´ï¼Œä½œç”¨åŸŸå†³å®šäº†ä»£ç åŒºå—ä¸­å˜é‡å’Œå…¶ä»–èµ„æºçš„å¯è§æ€§ã€‚ å…¨å±€ä½œç”¨åŸŸä¸€èˆ¬å…¨å±€ä½œç”¨åŸŸæœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µ æœ€å¤–å±‚å‡½æ•°å’Œæœ€å¤–å±‚å‡½æ•°å¤–é¢å®šä¹‰çš„å˜é‡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ æ‰€æœ‰æœªç›´æ¥å®šä¹‰çš„å˜é‡ æ‰€æœ‰windowå¯¹è±¡ å‡½æ•°ä½œç”¨åŸŸå£°æ˜åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå‡½æ•°ä½œç”¨åŸŸä¸€èˆ¬åªæœ‰ä»£ç ç‰‡æ®µä¸­å¯ä»¥è®¿é—®ï¼Œæ¯”å¦‚å‡½æ•°å†…éƒ¨ ä¾‹å¦‚ function func1(a) { var b = a * 2; function func2(c) { console.log(a, b, c); } func2(b * 2); } func1(2) è¿™æ®µä»£ç ä¸­å­˜åœ¨3ä¸ªä½œç”¨åŸŸ å…¨å±€ä½œç”¨åŸŸï¼Œæ ‡è¯†ç¬¦func1 ä½œç”¨åŸŸfunc1ï¼Œæ ‡è¯†ç¬¦aï¼Œbï¼Œfunc2 ä½œç”¨åŸŸfunc2ï¼Œæ ‡è¯†ç¬¦c ä½œç”¨åŸŸé“¾ ç”±å¤šçº§ä½œç”¨åŸŸè¿ç»­å¼•ç”¨å½¢æˆçš„é“¾å¼ç»“æœï¼ŒæŒç®¡ä¸€åˆ‡å˜é‡çš„ä½¿ç”¨é¡ºåºï¼š å…ˆåœ¨å±€éƒ¨æ‰¾ï¼Œæ²¡æœ‰ï¼Œå°±å»¶ä½œç”¨åŸŸå‘çˆ¶çº§ä½œç”¨åŸŸæ‰¾ã€‚ å¯ä»¥å‘ä¸Šæœç´¢ï¼Œä½†ä¸å¯ä»¥å‘ä¸‹æœç´¢ è¿™ç§ä¸€å±‚ä¸€å±‚çš„å…³ç³»ï¼Œå°±æ˜¯ ä½œç”¨åŸŸé“¾ ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Express+MySQLå®ç°å¢åˆ æŸ¥æ”¹","slug":"æŠ€æœ¯/Express+MySQLå®ç°å¢åˆ æŸ¥æ”¹","date":"2020-07-28T13:56:38.115Z","updated":"2020-09-05T09:37:26.108Z","comments":true,"path":"2020/07/28/æŠ€æœ¯/Express+MySQLå®ç°å¢åˆ æŸ¥æ”¹/","link":"","permalink":"https://easyremember.cn/2020/07/28/æŠ€æœ¯/Express+MySQLå®ç°å¢åˆ æŸ¥æ”¹/","excerpt":"","text":"Express+MySQLå®ç°å¢åˆ æŸ¥æ”¹ç°åœ¨Nodeåå°å¼€å‘åœ¨ç½‘ä¸Šæ‰¾åˆ°çš„èµ„æ–™åŸºæœ¬éƒ½æ˜¯ç”¨çš„MongoDBæ•°æ®åº“ï¼Œä¸å¤ªå®¹æ˜“æ‰¾åˆ°ä½¿ç”¨MySQLæ•°æ®åº“çš„èµ„æ–™ï¼Œæ‰€ä»¥æˆ‘æ•´ç†äº†ä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œå°†ä¼šè®²è§£å¦‚ä½•ä½¿ç”¨Expresså’ŒMySQLæ¥å®ç°CRUD ç¯å¢ƒæ­å»ºç”Ÿæˆå™¨å¯ä»¥ç›´æ¥ä½¿ç”¨Expressç”Ÿæˆå™¨è‡ªåŠ¨ç”ŸæˆExpresså·¥ç¨‹ $ npm install -g express-generator $ express --view=ejs myapp æ‰‹åŠ¨æ­å»ºåˆ›å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•$ npm init æ–°å»ºapp.jså…¥å£æ–‡ä»¶ æ–°å»ºrouter.jsè·¯ç”±æ–‡ä»¶ åˆ›å»ºviewsæ–‡ä»¶å¤¹ï¼Œå­˜æ”¾EJSæ¨¡æ¿æ–‡ä»¶ï¼ˆstudent.ejs, editStu.ejsï¼‰ æ–°å»ºpublicå…¬å…±èµ„æº viewsæ–‡ä»¶å¤¹å‘½åä¸å¯ä»¥æ˜¯åˆ«çš„ï¼Œä¼šæŠ¥é”™ å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—$ npm install express --save $ npm install mysql --save $ npm install ejs --save ç¼–å†™ä»£ç ç¼–å†™å…¥å£æ–‡ä»¶å®ä¾‹åŒ–ã€æ¨¡æ¿å¼•æ“è®¾ç½®ã€é™æ€èµ„æºã€ç›‘å¬ const express = require(&#39;express&#39;); const app = express(); const stuRoute = require(&#39;/router&#39;) // è®¾ç½®æ¨¡æ¿å¼•æ“ app.set(&quot;view engine&quot;, &quot;ejs&quot;); // åŠ è½½é™æ€èµ„æº app.use(express.static(&#39;public&#39;)); // ä½¿ç”¨è·¯ç”± app.use(stuRoute); // ç›‘å¬ app.listen(3001, () =&gt; { console.log(&#39;å¯åŠ¨æˆåŠŸ&#39;); }) ç¼–å†™è·¯ç”±æ–‡ä»¶const express = require(&#39;express&#39;); const route = express.Router(); const mysql = require(&#39;mysql&#39;); // é…ç½®æ•°æ®åº“,è¿æ¥æ± æ¨¡å¼ var pool = mysql.createPool({ connectionLimit: 10, // è¿æ¥æ•°é‡ host: &#39;localhost&#39;, // åœ°å€ user: &#39;liuhao&#39;, // æ•°æ®åº“ç”¨æˆ·å password: &#39;123456&#39;, // æ•°æ®å¯å¯†ç  database: &#39;ssmbuild&#39; // æ•°æ®åº“å }); route.get(&#39;/student&#39;, (req, res) =&gt; { console.log(&quot;/student:&quot;, req.query); const sql = &#39;select * from books where bookName = ?&#39;; let params = [&#39;java&#39;]; // æ ¹æ®æ¡ä»¶æŸ¥è¯¢ä¿¡æ¯ pool.getConnection(function (err, connection) { if (err) throw err; // not connected! connection.query(sql, params, function (error, results, fields) { connection.release(); console.log(results); // å°†æ•°æ®ä¼ åˆ°ejsæ¸²æŸ“ res.render(&#39;student&#39;, { res: [] }) if (error) throw error; }); }); }) module.exports = route; æ•ˆæœå±•ç¤ºæŸ¥è¯¢ç»“æœ æ•°æ®åº“æ•°æ® è¿™é‡Œå¯ä»¥çœ‹åˆ°æ•°æ®å·²ç»æŸ¥è¯¢æˆåŠŸ æœ¬ç¯‡ä¸»è¦è®²è§£mysqlæ¨¡å—ä½¿ç”¨ï¼Œå¯¹æ•°æ®æ¸²æŸ“ä¸å†èµ˜è¿°å¦å¤–ä¿®æ”¹åˆ é™¤ä¿®æ”¹ä¸€ä¸‹sqlè¯­å¥å’Œparamså‚æ•°å³å¯ï¼Œå¼€å‘æ—¶æ•°æ®åº“éƒ¨åˆ†ä¸€èˆ¬ä¼šå•ç‹¬ä½œä¸ºä¸€ä¸ªæ¨¡å—è¿›è¡Œå°è£… ç°åœ¨å¤§éƒ¨åˆ†å¼€å‘ä¸€èˆ¬æ˜¯è¿”å›jsonæ•°æ®ï¼ŒåæœŸä¼šå†è¿›è¡Œè®°å½•","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"express","slug":"express","permalink":"https://easyremember.cn/tags/express/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"æ€é€”å®è®­day5","slug":"ç”Ÿæ´»/STDay 5","date":"2020-07-26T13:40:01.320Z","updated":"2020-09-05T09:36:44.780Z","comments":true,"path":"2020/07/26/ç”Ÿæ´»/STDay 5/","link":"","permalink":"https://easyremember.cn/2020/07/26/ç”Ÿæ´»/STDay 5/","excerpt":"","text":"Day 5å¼•å…¥jså°½é‡æ”¾åœ¨bodyæ ‡ç­¾çš„æœ€åï¼Œå…ˆåŠ è½½é™æ€æ ‡ç­¾ï¼Œå†åŠ è½½jsè„šæœ¬ jQueryè¡¨è¾¾å¼å¿…é¡»æœ‰åˆ†å· jQueryæ”¹å˜å…ƒç´ æ ·å¼(() =&gt; { $(&#39;div&#39;).css({&#39;color&#39;: &#39;red&#39;}); })() clickäº‹ä»¶$(function () { $(&#39;button&#39;).click(() =&gt; { $(&#39;div&#39;).css({&#39;color&#39;: &#39;red&#39;}); }); }); å¯¼èˆªæ é¢œè‰²ä¿®æ”¹ &lt;ul id=&quot;nav-ul&quot; onclick=&quot;navHandle()&quot;&gt; &lt;li id=&quot;li1&quot;&gt;é¦–é¡µ&lt;/li&gt; &lt;li id=&quot;li2&quot;&gt;æ‰€æœ‰å®è´&lt;/li&gt; &lt;li id=&quot;li3&quot;&gt;æ¯å‘¨ä¸€ä¸Šæ–°&lt;/li&gt; &lt;li id=&quot;li4&quot;&gt;ç”Ÿæ´»é¦†&lt;/li&gt; &lt;li id=&quot;li5&quot;&gt;ç‰¹æƒ &lt;/li&gt; &lt;li id=&quot;li6&quot;&gt;ç¤¼å“åŒº&lt;/li&gt; &lt;/ul&gt; function navHandle() { var nodeId = window.event.target.id; // console.log(node); $(&#39;#&#39; + nodeId).css({ &#39;color&#39;: &#39;#d62cc0&#39; }).siblings().css({ &#39;color&#39;: &#39;#ffffff&#39; }); } siblings()æ–¹æ³•è¿”å›è¢«é€‰ä¸­å…ƒç´ çš„åŒçº§å…ƒç´  é¼ æ ‡ç»è¿‡å’Œç§»å‡º$(function() { $(&#39;#mouse&#39;).mouseenter(() =&gt; { $(&#39;#mouse&#39;).css({ &#39;background&#39;: &#39;red&#39; }); }); }); $(function() { $(&#39;#mouse&#39;).mouseleave(() =&gt; { $(&#39;#mouse&#39;).css({ &#39;background&#39;: &#39;#409eff&#39; }); }); }); æ·¡å…¥æ·¡å‡ºæ•ˆæœ$(function() { $(&#39;.b-f-1&#39;).mouseenter(() =&gt; { $(&#39;#black1&#39;).fadeOut(500); }); }); $(function() { $(&#39;.b-f-1&#39;).mouseleave(() =&gt; { $(&#39;#black1&#39;).fadeIn(300); }); }); æ»‘åŠ¨æ•ˆæœslideDownã€slideUp $(function() { $(&#39;div&#39;).mouseenter(() =&gt; { $(&#39;div&#39;).slideDown(1000); }); }); $(function() { $(&#39;div&#39;).mouseleave(() =&gt; { $(&#39;div&#39;).slideUp(1000); }); }); æ€»ç»“ä»Šå¤©å¤§æ¦‚å¤ä¹ äº†ä¸€ä¸‹jQueryï¼Œå¾ˆå¤šä¸œè¥¿éƒ½å¿˜äº†ï¼Œéœ€è¦å†çœ‹ä¸€ä¸‹","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}],"tags":[{"name":"æ€é€”å®è®­","slug":"æ€é€”å®è®­","permalink":"https://easyremember.cn/tags/æ€é€”å®è®­/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}]},{"title":"æ€é€”å®è®­day4","slug":"ç”Ÿæ´»/STDay 4","date":"2020-07-24T11:29:57.687Z","updated":"2020-09-05T09:36:44.729Z","comments":true,"path":"2020/07/24/ç”Ÿæ´»/STDay 4/","link":"","permalink":"https://easyremember.cn/2020/07/24/ç”Ÿæ´»/STDay 4/","excerpt":"","text":"Day4æ—‹è½¬+é€æ˜åº¦div { width: 150px; height: 150px; border-radius: 50%; overflow: hidden; border: solid 3px #409eff; transition: 0.5s; opacity: 0.5; } div:hover { transform: rotate(200deg); opacity: 1; } ä»Šæ—¥æ”¶è·ã€‚ã€‚ã€‚å°±æ˜¯ä¸ªé€æ˜opacity æˆæœ","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}],"tags":[{"name":"æ€é€”å®è®­","slug":"æ€é€”å®è®­","permalink":"https://easyremember.cn/tags/æ€é€”å®è®­/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}]},{"title":"æ€é€”å®è®­day3","slug":"ç”Ÿæ´»/STDay 3","date":"2020-07-24T01:17:51.174Z","updated":"2020-09-05T09:36:44.676Z","comments":true,"path":"2020/07/24/ç”Ÿæ´»/STDay 3/","link":"","permalink":"https://easyremember.cn/2020/07/24/ç”Ÿæ´»/STDay 3/","excerpt":"","text":"Day 3HTMLæ ‡ç­¾ã€‚ã€‚ã€‚ä»0å¼€å§‹çš„é‚£ç§ã€‚ã€‚ã€‚ cssæ ·å¼é€šé…ç¬¦é€‰æ‹©å™¨* { margin: 0; list-style: none; /* å»æ‰liståœ†ç‚¹ */ text-decoration: none; /* å»æ‰ä¸‹åˆ’çº¿ */ } åˆ—è¡¨å³æµ®åŠ¨åªç»™çˆ¶çº§ä¸ç»™å­çº§èƒŒæ™¯å›¾ç‰‡å¼•å…¥èƒŒæ™¯å›¾ç‰‡å¿…é¡»è®¾ç½®é«˜åº¦ï¼Œå¦åˆ™ä¸æ˜¾ç¤º .binner { /* no-repeatä¸å¹³é“º */ background: url(../img/TB183NQapLM8KJjSZFBSutJHVXa.jpg) no-repeat; height: 568px; background-size: 100% auto; /* å›¾ç‰‡è‡ªé€‚åº” */ } è¡Œé«˜ç­‰äºdivé«˜åº¦æ—¶è‡ªåŠ¨å±…ä¸­.nav-f { width: 660px; height: 120px; position: absolute; left: 168px; line-height: 120px; } ç²¾çµå›¾ä½¿ç”¨Photoshopä¿¡æ¯é¢æ¿é…åˆç²¾çµå›¾è®¾ç½®å›¾ç‰‡ æ¯”å¦‚è¿™å¼ ç²¾çµå›¾ .shopping { width: 30px; height: 30px; background: url(../img/icon.png); background-position: -16px -133px; } å¼•å…¥å›¾ç‰‡ä¹‹åå°†é¼ æ ‡ç§»è‡³å›¾æ ‡å·¦ä¸Šè§’ï¼Œçœ‹åˆ°ä½ç½®æ˜¯Xï¼š16ï¼ŒYï¼š133ï¼Œå°†å›¾ç‰‡ä½ç½®è®¾ç½®ä¸º-16px,-133pxï¼Œå°†å›¾ç‰‡æ²¿ç€Xè½´Yè½´ç§»åŠ¨ä¹‹åï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ ¹æ®è®¾ç½®çš„å®½é«˜ä»èµ·ç‚¹ä½ç½®è£åˆ‡","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}],"tags":[{"name":"æ€é€”å®è®­","slug":"æ€é€”å®è®­","permalink":"https://easyremember.cn/tags/æ€é€”å®è®­/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}]},{"title":"JSå¼‚æ­¥è½®è¯¢","slug":"æŠ€æœ¯/å¼‚æ­¥è½®è¯¢","date":"2020-07-23T05:50:43.924Z","updated":"2020-09-05T09:35:06.977Z","comments":true,"path":"2020/07/23/æŠ€æœ¯/å¼‚æ­¥è½®è¯¢/","link":"","permalink":"https://easyremember.cn/2020/07/23/æŠ€æœ¯/å¼‚æ­¥è½®è¯¢/","excerpt":"","text":"å¼‚æ­¥è½®è¯¢å¼‚æ­¥å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ console.log(&#39;start&#39;) setTimeout(() =&gt; { console.log(&#39;setTimeout&#39;) }, 4000) console.log(&#39;end&#39;) è¿™æ®µä»£ç çš„æ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆï¼Œä½ å¯èƒ½æƒ³åˆ°çš„ç»“æœæ˜¯ start setTimeout end ä½†æ˜¯ï¼Œjsæ˜¯å•çº¿ç¨‹çš„ï¼Œä¸ä¼šå› ä¸ºä¸€ä¸ªä»»åŠ¡è€Œè¢«é˜»å¡ï¼Œå¼‚æ­¥æ“ä½œå°†ä¼šè¢«æ”¾åˆ°é˜Ÿåˆ—ä¸­ï¼Œç­‰ä¸»çº¿ç¨‹æ‰§è¡Œå®Œç¬¬ä¸€è½®ä»»åŠ¡ï¼Œç„¶åå†æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ è¿™é‡Œç¨å¾®æ‰¯ä¸€ä¸‹æ ˆå’Œé˜Ÿåˆ— æ ˆï¼ˆstackï¼‰ æ ˆæ˜¯ä¸€ç§å…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ¡¶ï¼Œå…ˆæ”¾è¿›çš„ä¸œè¥¿åœ¨æœ€ä½ä¸‹ï¼Œåæ”¾çš„ä¸œè¥¿åœ¨æœ€å¤–é¢ï¼Œå¤–é¢çš„å–å®Œäº†ä¹‹åæ‰èƒ½æ‹¿å‡ºæœ€å…ˆæ”¾è¿›å»çš„ä¸œè¥¿ï¼› é˜Ÿåˆ—ï¼ˆqueueï¼‰ é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥çœ‹åšä¸€ä¸ªç®¡é“ï¼Œå…ˆè¿›çš„å…ˆå‡ºï¼Œåè¿›çš„åå‡º å›åˆ°æ­£é¢˜ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­setTimeoutæ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œè¢«æ”¾åˆ°äº†é˜Ÿåˆ—ä¸­ï¼Œå½“ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæˆä¹‹åå†æ¥æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œæ‰€ä»¥ç­”æ¡ˆåº”è¯¥æ˜¯ åœ¨jsçš„é˜Ÿåˆ—ä¸­æœ‰ä¸¤ç§åˆ’åˆ†ï¼Œä¸€ç§æ˜¯å®ä»»åŠ¡ï¼ˆmacrotask queueï¼‰ï¼Œä¸€ç§æ˜¯å¾®ä»»åŠ¡ï¼ˆmicrotask queueï¼‰ï¼Œæ¯ä¸€ä¸ªäº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰éƒ½æœ‰ä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œä¼šæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå®ä»»åŠ¡ï¼Œæ¯ä¸€æ¬¡äº‹ä»¶å¾ªç¯éƒ½ä¼šé¦–å…ˆæ‰§è¡Œå¾®ä»»åŠ¡æ‰§è¡Œå®Œåä»å®ä»»åŠ¡å–å‡ºä¸€ä¸ªåŠ å…¥åˆ°å¾®ä»»åŠ¡ç„¶åæ‰§è¡Œï¼Œç›´è‡³é˜Ÿåˆ—ä¸­æ‰€æœ‰çš„ä»»åŠ¡æ‰§è¡Œç»“æŸ å®ä»»åŠ¡ script(æ•´ä½“ä»£ç ) setTimeout setInterval I/O UIäº¤äº’äº‹ä»¶ postMessage MessageChannel setImmediate(Node.js ç¯å¢ƒ) å¾®ä»»åŠ¡ Promise.then Object.observe MutaionObserver process.nextTick(Node.js ç¯å¢ƒ) Promiseå¼‚æ­¥åŸç†çœ‹å®Œäº†ï¼Œä¸‹é¢å¼€å§‹Promise let promise = new Promise((resolve, reject) =&gt; { // resolve(&quot;æˆåŠŸ&quot;) // reject(&quot;å¤±è´¥&quot;) }) console.log(promise) å…ˆæ¥çœ‹ä¸€ä¸‹Promiseå¯¹è±¡çš„ç»“æ„ å½“æ²¡æœ‰ä»»ä½•æ“ä½œçš„æ—¶å€™ï¼ŒPromiseå¯¹è±¡çš„çŠ¶æ€æ—¶pendingï¼Œå€¼æ˜¯undefinded å½“åœ¨Promiseä¸­è°ƒç”¨resolveä¹‹åï¼ŒçŠ¶æ€å˜ä¸ºresolvedï¼Œå€¼æ˜¯æˆåŠŸ å½“è°ƒç”¨rejectçš„æ—¶å€™ï¼ŒçŠ¶æ€å˜ä¸ºrejectedï¼Œå€¼æ˜¯å¤±è´¥ pendingå°±æ˜¯æœªå†³ï¼Œresolveå¯ä»¥ç†è§£ä¸ºæˆåŠŸï¼Œrejectå¯ä»¥ç†è§£ä¸ºæ‹’ç» Promiseçš„çŠ¶æ€æ˜¯ä¸å¯é€†çš„ï¼Œresolveå’ŒrejectåŒæ—¶å‡ºç°ï¼Œå…ˆæ‰§è¡Œçš„å†³å®šçŠ¶æ€ï¼Œåæ‰§è¡Œçš„ä¸ç”Ÿæ•ˆ ä¸‹é¢è¿™ä¸‰ç§æ–¹æ³•å¯ä»¥è§¦å‘Promise.thençš„é”™è¯¯æ–¹æ³• throw new Error(â€˜failâ€™) reject(â€˜failâ€™) é”™è¯¯æ“ä½œï¼ˆé»˜è®¤ï¼Œç±»ä¼¼try/catchï¼‰ é“¾å¼è°ƒç”¨console.log(&#39;start&#39;) let promise = new Promise((resolve, reject) =&gt; { console.log(&#39;promise&#39;) resolve(&quot;success&quot;) // reject(&quot;faild&quot;) }).then(value =&gt; { console.log(value+1) return value }, reason =&gt; { console.log(reason) }).then(value =&gt; { console.log(value+2) }, reason =&gt; { console.log(reason) }) console.log(&#39;end&#39;) æ‰“å°ç»“æœä¸º Promiseä¼šå°†è¿”å›å€¼ä½œä¸º.then()çš„å‚æ•°ä¼ é€’ä¸‹å»ï¼Œè€Œä¸”ä¸¤ä¸ª.thenæ˜¯åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæˆä¹‹åæ‰æ‰§è¡Œçš„ï¼Œè¿™é‡Œè¢«æ”¾åˆ°äº†å¾®ä»»åŠ¡ï¼ˆä¸æ˜¯å¹¶åˆ—çš„ï¼Œå½“æ‰§è¡Œç¬¬ä¸€ä¸ª.thençš„æ—¶å€™ç¬¬äºŒä¸ª.thenæ‰ä¼šè¢«æ”¾åˆ°å¾®ä»»åŠ¡ï¼‰ï¼Œå¦‚æœä¸è°ƒç”¨resolveæˆ–è€…rejectï¼Œå¾®ä»»åŠ¡æ˜¯ä¸åˆ›å»ºçš„ æ¯ä¸€ä¸ªPromise.thenä¹Ÿæ˜¯ä¸€ä¸ªPromise çŠ¶æ€ä¸­è½¬let promiseErr = new Promise((resolve, reject) =&gt; { reject(&#39;faild&#39;) }) let promise = new Promise((resolve, reject) =&gt; { resolve(promiseErr) }).then(value =&gt; { console.log(&#39;value:&#39;+value) }, reason =&gt; { console.log(&#39;err:&#39;+reason); }) è¿™é‡Œpromiseè™½ç„¶è°ƒç”¨äº†resolveï¼Œä½†æ˜¯è¿”å›çš„çŠ¶æ€å´æ˜¯promiseErrçš„ï¼Œæ‰€ä»¥ä»–çš„ç»“æœæ˜¯ .thenæ˜¯å¯¹å®ƒå‰ä¸€ä¸ªPromiseå¯¹è±¡çš„æ“ä½œ é”™è¯¯æ•è·è¿™æ ·æ¯ä¸€ä¸ªthenéƒ½æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œè¿‡äºç¹çï¼Œå¯ä»¥åœ¨thenä¸­åªå†™æˆåŠŸæ–¹æ³•ï¼Œåœ¨æœ€åä½¿ç”¨catchæ–¹æ³•æ•è·é”™è¯¯ let promise = new Promise((resolve, reject) =&gt; { resolve() }).then(v =&gt; { console.log(&#39;p1&#39;) throw new Error(&#39;fail&#39;) }).then(v =&gt; { console.log(&#39;p2&#39;) }).catch(err =&gt; { console.log(err) }).then(v =&gt; { console.log(&#39;p3&#39;) }).then(v =&gt; { console.log(&#39;p4&#39;) }) ç»“æœä¸º æœ‰ç»“æœå¯ä»¥çœ‹å‡ºï¼Œå‘ç”Ÿé”™è¯¯çš„åœ°æ–¹åˆ°catchä¹‹é—´çš„ä»£ç ä¸ä¼šæ‰§è¡Œï¼Œcatchè¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ async/awaitäº†è§£äº†Promiseä¹‹åï¼Œasync/awaitå°±å¾ˆå®¹æ˜“äº†ï¼Œå®ƒå…¶å®å°±æ˜¯Promiseçš„è¯­æ³•ç³– async function asyncFunc() { return &quot;asunc&quot; } let result = asyncFunc() console.log(result); ä»ç»“æœçœ‹å‡ºï¼Œasyncæ–¹æ³•è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ æ¥çœ‹çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ function p() { console.log(&#39;p&#39;) } async function func() { await p(); console.log(&#39;OK&#39;) } console.log(&#39;start&#39;) func() console.log(&#39;end&#39;) // start // p // end // OK ç”¨çŸ¥ä¹ä¸Šçœ‹åˆ°è¿‡ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šï¼Œå¯ä»¥å°† async function func() { await p(); console.log(&#39;OK&#39;) } ç†è§£ä¸º function func() { return Promise.resolve(p()).then(() =&gt; { console.log(&#39;OK&#39;) }) } console.log(â€˜OKâ€™)è¢«åˆ†é…åˆ°å¾®ä»»åŠ¡ä¸­ç­‰å¾…ä¸‹ä¸€è½®è½®è¯¢ æ¥çœ‹ä¸€ä¸ªç»¼åˆæ¡ˆä¾‹ async function async1() { console.log(&#39;async1 start&#39;) await async2() console.log(&#39;async1 end&#39;) } async function async2() { console.log(&#39;async2&#39;) } console.log(&#39;script start&#39;) setTimeout(function () { console.log(&#39;settimeout&#39;) }) async1() new Promise(function (resolve) { console.log(&#39;promise1&#39;) resolve() }).then(function () { console.log(&#39;promise2&#39;) }) console.log(&#39;script end&#39;) è¾“å‡ºç»“æœæ˜¯ script start async1 start async2 promise1 script end async1 end promise2 settimeout ä½ åšå¯¹äº†ä¹ˆ(à¹‘Â´ã…‚`à¹‘)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"JSä¸­çš„é—­åŒ…","slug":"æŠ€æœ¯/é—­åŒ…","date":"2020-07-23T05:28:46.515Z","updated":"2020-09-05T09:34:48.925Z","comments":true,"path":"2020/07/23/æŠ€æœ¯/é—­åŒ…/","link":"","permalink":"https://easyremember.cn/2020/07/23/æŠ€æœ¯/é—­åŒ…/","excerpt":"","text":"â€‹ é—­åŒ…å°±æ˜¯å¯ä»¥åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ç¯å¢ƒï¼Œæ¯ä¸ªé—­åŒ…é‡Œé¢çš„ç¯å¢ƒéƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œäº’ä¸å¹²æ‰°ã€‚é—­åŒ…ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ï¼Œæ¯æ¬¡å¤–éƒ¨å‡½æ•°æ‰§è¡Œçš„æ—¶ å€™ï¼Œå¤–éƒ¨å‡½æ•°çš„å¼•ç”¨åœ°å€ä¸åŒï¼Œéƒ½ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„åœ°å€ã€‚ä½†å‡¡æ˜¯å½“å‰æ´»åŠ¨å¯¹è±¡ä¸­æœ‰è¢«å†…éƒ¨å­é›†å¼•ç”¨çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®ä¸åˆ é™¤ï¼Œä¿ç•™ä¸€æ ¹æŒ‡é’ˆç»™å†…éƒ¨æ´»åŠ¨å¯¹è±¡ã€‚ ç›¸ä¿¡ä½ çœ‹äº†è¿™æ®µé¬¼è¯ï¼Œ80%ä¼šæ„Ÿåˆ°æ‡µé€¼ï¼Œçœ‹å®Œä¸‹é¢çš„å†…å®¹å†å›æ¥çœ‹è¿™å¥è¯ï¼Œç›¸ä¿¡ä½ å°±å¯ä»¥ç†è§£äº†ã€‚ å‡½æ•°çš„ä½œç”¨åŸŸ åœ¨å…¨å±€ç¯å¢ƒä¸­å®šä¹‰äº†titleå˜é‡å’Œshowæ–¹æ³•ï¼Œå½“æ‰§è¡Œshowæ–¹æ³•æ—¶ï¼Œå¼€è¾Ÿå‡ºä¸€å—å†…å­˜ï¼Œå¦‚æœåœ¨showæ–¹æ³•å†…éƒ¨è°ƒç”¨contextæ˜¯å¯ä»¥æ­£å¸¸æ‰§è¡Œçš„ï¼Œå½“showæ‰§è¡Œå®Œçš„æ—¶å€™ï¼Œshowä¸­å®šä¹‰çš„contextå˜é‡ä¸è¢«ä¿ç•™ï¼Œè¿™æ—¶å¤–éƒ¨è°ƒç”¨contextå°±ä¼š not definedã€‚ æ•°æ®çš„ä½œç”¨é»˜è®¤å°±æ˜¯åœ¨å‡½æ•°ä½“å†… æ•°æ®å‘ä¸‹æµåŠ¨ï¼Œåªä¼šå‘å­çº§ä¼ é€’ï¼Œä¸ä¼šå‘çˆ¶çº§ä¼ é€’ å½“showæ–¹æ³•æ‰§è¡Œå®Œä¹‹åï¼Œå†…å­˜è¢«é‡Šæ”¾ï¼Œæ‰§è¡Œå¤šä¸ªshowæ–¹æ³•ç›¸å½“äºå¤šæ¬¡å¼€è¾Ÿäº†å†…å­˜ å¦‚æœåœ¨showæ–¹æ³•ä¸­å†å®šä¹‰ä¸€ä¸ªheadæ–¹æ³•ï¼Œå†æ‰§è¡Œï¼Œæ­¤æ—¶çš„å†…å­˜ç»“æ„å¦‚å›¾æ‰€ç¤ºï¼Œheadæ–¹æ³•æ—¶showæ–¹æ³•å†…éƒ¨çš„ï¼Œshowæ‰§è¡Œæ—¶ä¸ºheadå¼€è¾Ÿä¸€å—å†…å­˜ï¼›é‚£å¤šæ¬¡è°ƒç”¨showæ–¹æ³•ä¼šä¸€ç›´è°ƒç”¨é‚£ä¸€ä¸ªheadæ–¹æ³•ä¹ˆï¼Ÿä¸æ˜¯çš„ï¼ï¼ï¼å¤šæ¬¡è°ƒç”¨showæ–¹æ³•ä¼šå¼€è¾Ÿå¤šå—å†…å­˜ï¼Œä»–ä»¬ä¹‹é—´æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚ è¿™ä¸ªä¾‹å­æ›´èƒ½æ¸…æ¥šçš„è¯´æ˜ï¼ŒæŒ‰ç…§å¸¸ç†ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨++nä¹‹åå˜æˆäº†2ï¼Œä½†æ˜¯è¿™é‡Œç¬¬äºŒæ¬¡è°ƒç”¨ç»“æœè¿˜æ˜¯2ï¼Œè¿™å°±è¯´æ˜äº†ä¸¤æ¬¡è°ƒç”¨åˆ›å»ºäº†ä¸¤æ¬¡ é‚£ä¹ˆæ€ä¹ˆè®©nä¸€ç›´è¢«ä½¿ç”¨å‘¢ï¼Œè¿™æ—¶ä½ åº”è¯¥æƒ³èµ·æ¥å¼€å¤´æœ‰ä¸€å¥è¯ ä½†å‡¡æ˜¯å½“å‰æ´»åŠ¨å¯¹è±¡ä¸­æœ‰è¢«å†…éƒ¨å­é›†å¼•ç”¨çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®ä¸åˆ é™¤ï¼Œä¿ç•™ä¸€æ ¹æŒ‡é’ˆç»™å†…éƒ¨æ´»åŠ¨å¯¹è±¡ã€‚ å½“æ•°æ®ä¸€ç›´è¢«ä½¿ç”¨æ—¶å°±ä¼šä¿ç•™ä¸‹æ¥ï¼Œé‚£ä¹ˆæ€ä¹ˆè®©ä»–ä¸€ç›´è¢«ä½¿ç”¨å‘¢ï¼Ÿ å°†sumæ–¹æ³•ä½œä¸ºè¿”å›å€¼èµ‹å€¼ç»™aï¼Œè¿™æ—¶å€™ï¼Œfengä¸­çš„æ•°æ®å°±ä¼šä¸€ç›´è¢«ä½¿ç”¨ï¼Œç›´åˆ°aé”€æ¯ï¼Œè¿™æ—¶å€™å¤šæ¬¡è°ƒç”¨aæ–¹æ³•ï¼Œnå°±ä¼šç´¯åŠ  å¦‚æœå†èµ‹å€¼ç»™bï¼Œè¿™å°±åˆå¼€è¾Ÿäº†ä¸€å—å†…å­˜ï¼Œä¸aæ— å…³nåˆé‡æ–°å¼€å§‹è®¡ç®—ï¼Œç»“æœå¦‚ä¸‹ï¼š è¿™æ—¶å€™ä½ åˆæƒ³èµ·äº†å¼€å¤´è¿˜æœ‰ä¸€å¥è¯ï¼š æ¯æ¬¡å¤–éƒ¨å‡½æ•°æ‰§è¡Œçš„æ—¶ å€™ï¼Œå¤–éƒ¨å‡½æ•°çš„å¼•ç”¨åœ°å€ä¸åŒï¼Œéƒ½ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„åœ°å€ å¦‚æœåœ¨sumä¸­åœ¨æ·»åŠ ä¸€ä¸ªfunctionï¼Œè¿™æ ·å†æ‰§è¡Œä¸¤æ¬¡aç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ ä½ æ²¡æœ‰çœ‹é”™ï¼Œå…¶å®å¾ˆç®€å•ï¼Œè¿™è·Ÿä¹‹å‰ä¸€æ ·ï¼Œç›¸å½“äºåœ¨aä¸­å¼€è¾Ÿäº†ä¸¤å—ä¸ç›¸å…³çš„å†…å­˜ï¼Œé‚£ä¹ˆæ€ä¹ˆè®©mç´¯åŠ å‘¢ï¼Ÿä¹Ÿå¾ˆç®€å•ï¼Œå†æŠŠshowè¿”å›å‡ºå» è¿™æ—¶å†åˆ›å»ºbï¼Œæ‰“å°ç»“æœä¾æ—§æ˜¯2 3 2 3 åˆ©ç”¨é—­åŒ…é€‰æ‹©æ•°ç»„åŒºé—´ ç”±äºè¿‡æ»¤å‡½æ•°ä¸€ç›´åœ¨è°ƒç”¨betweençš„å­å‡½æ•°ï¼Œæ‰€ä»¥aï¼Œbä¹Ÿè¢«ä¿ç•™äº†ä¸‹æ¥ é—­åŒ…ä¼šé€ æˆå†…å­˜æ³„æ¼ è¿™æ®µä»£ç çš„æ„æ€æ˜¯ç‚¹å‡»divä¼šè§¦å‘æ‰“å°descriptå±æ€§ï¼Œå› ä¸ºäº‹ä»¶å¤„ç†å‡½æ•°æ˜¯ä¸€ç›´å­˜åœ¨çš„ï¼Œæ‰€ä»¥æ¯ä¸ªitemåœ¨ä½¿ç”¨å®Œæˆä¹‹åéƒ½ä¼šä¿å­˜ï¼Œè€Œä¸”éƒ½æ˜¯ä¸åŒçš„å†…å­˜åŒºåŸŸï¼Œå¯¹äºå¤æ‚å¯¹è±¡æ¥è¯´æ˜¯éå¸¸æµªè´¹å†…å­˜çš„ é‚£ä¹ˆæ€ä¹ˆè§£å†³é—­åŒ…å¸¦æ¥çš„å†…å­˜æ³„æ¼å‘¢ åœ¨ä½¿ç”¨å®Œä¹‹åç»™itemé¡¹èµ‹ç©ºå€¼ è¿™æ ·å°±å¯ä»¥è§£å†³ä¸å¿…è¦çš„å†…å­˜æµªè´¹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"æ€é€”å®è®­day2","slug":"ç”Ÿæ´»/STDay 2","date":"2020-07-22T08:57:04.870Z","updated":"2020-09-05T09:36:44.564Z","comments":true,"path":"2020/07/22/ç”Ÿæ´»/STDay 2/","link":"","permalink":"https://easyremember.cn/2020/07/22/ç”Ÿæ´»/STDay 2/","excerpt":"","text":"Day 2å­—ä½“é€‰æ‹©ï¼š ä¸­æ–‡ï¼šå¾®è½¯é›…é»‘ï¼Œ å®‹ä½“ï¼Œé»‘ä½“ è‹±æ–‡ï¼šarial å­—ä½“å¤§å°ï¼š ç½‘é¡µæœ€å°å­—å·ï¼š12pxï¼Œ ä¸é‡è¦ä¿¡æ¯ ä¸€èˆ¬ç”¨çš„æœ€å°å­—å·ï¼š14px ç²¾ç¡®æŠ å›¾è§£é”åŸèƒŒæ™¯ï¼Œæ–°å»ºå›¾å±‚å¡«å……é²œè‰³çš„é¢œè‰²ï¼Œä¾‹å¦‚ç»¿è‰² ç”¨é­”æ£’å·¥å…·é€‰æ‹©èƒŒæ™¯è‰²ï¼Œè°ƒæ•´å®¹å·®å€¼ï¼Œå³é”®é€‰æ‹©ã€è°ƒæ•´è¾¹ç¼˜ã€‘ è°ƒæ•´å‚æ•° è±å½¢æ–¹æ ¼ åˆ¶ä½œä¸€ä¸ªè¿™æ ·çš„è±å½¢æ–¹æ ¼ ç”¨çŸ©å½¢å·¥å…·é€‰æ‹©ä¸€ä¸ªçŸ©å½¢æ¡†å¡«å……ä¸€ä¸ªé¢œè‰²ï¼Œã€ctrlã€‘+ã€Tã€‘è‡ªç”±å˜æ¢ï¼ŒæŒ‰ä½shiftæ—‹90åº¦ åœ¨å›¾å±‚è°ƒèŠ‚æè¾¹ï¼Œå†…é˜´å½±å’ŒæŠ•å½± å°±å¯ä»¥çœ‹åˆ°æ•ˆæœå›¾ä¸­çš„æ ·å¼ å›¾å±‚è’™ç‰ˆå°†è¦è´´å…¥çš„å›¾ç‰‡æ‹–æ‹½è‡³ç›®æ ‡å›¾å±‚ä¸Šæ–¹ æ³¨æ„åœ¨å›¾å±‚åŒºåŸŸè¦å°†ä¸¤å›¾å±‚æ”¾åœ¨ä¸€èµ· å·¦ä¸Šè§’æœ‰è‡ªåŠ¨é€‰æ‹©ï¼Œç‚¹ä¸€ä¸‹å°±å¯ä»¥å®šä½å›¾å±‚ åœ¨ä¸¤å›¾å±‚ä¹‹é—´æŒ‰ä½ã€altã€‘+é¼ æ ‡å·¦é”® å›¾å±‚åŒºä¼šå˜æˆ æ˜¾ç¤ºçš„æ ·å¼å°±ä¼šå˜æˆ å›¾æ ‡ç»˜åˆ¶ é”šç‚¹å·¥å…·ä½¿ç”¨ é¦–å…ˆåˆ©ç”¨æ¤­åœ†å·¥å…·ç»˜åˆ¶é»„è‰²åœ†å½¢ï¼Œç„¶åå¤åˆ¶ä¸¤ä»½ åˆ©ç”¨åœ†è§’çŸ©å½¢å·¥å…·ç»˜åˆ¶è“è‰²çŸ©å½¢ï¼Œç»˜åˆ¶å®Œæˆä¹‹åæŒ‰ã€Aã€‘é”®é€‰ä¸­å…ƒç´ å‡ºç°é”šç‚¹ï¼ŒæŒ‰ä½ã€ctrlã€‘ç”¨é¼ æ ‡æ‹–æ‹½é”šç‚¹æˆä¸ºä¸€ä¸ªæ¢¯å½¢ åœ¨æ¢¯å½¢å†…ç»˜åˆ¶ä¸‰ä¸ªåœ†è§’çŸ©å½¢ï¼Œå¡«å……èƒŒæ™¯è‰²æ„é€ æˆé•‚ç©ºçš„æ„Ÿè§‰ ç»˜åˆ¶åº•åº§ï¼Œä½¿ç”¨åœ†è§’çŸ©å½¢ï¼Œä½¿ç”¨é”šç‚¹å·¥å…·é€‰æ‹©å³ä¸Šè§’ä¸¤ä¸ªç‚¹ï¼Œã€deleteã€‘ï¼Œç„¶åå°†æè¾¹æ”¹ä¸ºç™½è‰² ä½¿ç”¨é’¢ç¬”å·¥å…·ç»˜åˆ¶ä¸Šé¢çš„æŠŠæ‰‹ï¼Œé’¢ç¬”å·¥å…·ç‚¹å‡»ä¸€ä¸ªç‚¹ï¼Œå†ç‚¹ç¬¬äºŒä¸ªç‚¹ä¸è¦æ¾æ‰‹ï¼Œè°ƒæ•´å¼§åº¦è‡³åˆç†ï¼Œä½¿ç”¨ä¸Šé¢åº•åº§ç›¸åŒçš„é…ç½®å³å¯ é’¢ç¬”å·¥å…·åœ¨ä½¿ç”¨çš„æ—¶å€™å¦‚æœå‡ºç°è§’åº¦å¾ˆåˆ«æ‰­çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨ä¸Šä¸€ä¸ªç‚¹è°ƒå¥½ä¹‹åä¸æ¾æ‰‹ï¼ŒæŒ‰ä½ã€altã€‘é¼ æ ‡ç§»åŠ¨è°ƒèŠ‚æ‰‹æŸ„ åˆ‡å›¾å°†æ‰€æœ‰çš„èƒŒæ™¯è‰²å…¨éƒ¨éšè—ï¼Œç”¨åˆ‡ç‰‡å·¥å…·ç”»å‡ºåˆ‡ç‰‡åŒºåŸŸï¼Œå­˜å‚¨ä¸ºwebæ ¼å¼","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}],"tags":[{"name":"æ€é€”å®è®­","slug":"æ€é€”å®è®­","permalink":"https://easyremember.cn/tags/æ€é€”å®è®­/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}]},{"title":"æ€é€”å®è®­day1","slug":"ç”Ÿæ´»/STDay 1","date":"2020-07-22T07:27:01.446Z","updated":"2020-09-05T09:36:44.408Z","comments":true,"path":"2020/07/22/ç”Ÿæ´»/STDay 1/","link":"","permalink":"https://easyremember.cn/2020/07/22/ç”Ÿæ´»/STDay 1/","excerpt":"","text":"Day 1PhotoShopæ“ä½œå¿«æ·é”® å›¾å±‚å¤åˆ¶ï¼šã€Ctrlã€‘+ã€Jã€‘ è‡ªç”±å˜æ¢ï¼šã€Ctrlã€‘+ã€Tã€‘ ç”»ç¬”å·¥å…·ï¼šã€Bã€‘ï¼Œç”»ç¬”è°ƒèŠ‚ï¼šç²—â€”â€”å³ä¸­æ‹¬å·ï¼Œç»†â€”â€”å·¦ä¸­æ‹¬å· æ”¾å¤§ï¼šã€ctrlã€‘+ã€spaceã€‘ï¼Œç¼©å°ï¼šã€ctrlã€‘+ã€altã€‘+ã€spaceã€‘ï¼ŒæŠ“æ‰‹ï¼šã€spaceã€‘ ç›–å°ï¼šã€ctrlã€‘+ã€altã€‘+ã€shiftã€‘+ã€eã€‘ é¦–é€‰é¡¹ï¼šã€ctrlã€‘+ã€kã€‘ å¡«å……å‰æ™¯è‰²ï¼šã€altã€‘+ã€deleteã€‘ï¼Œå¡«å……èƒŒæ™¯è‰²ï¼šã€ctrlã€‘+ã€deleteã€‘ ç§»åŠ¨å·¥å…·ï¼šã€vã€‘ ç¼–ç»„ï¼šã€ctrlã€‘+ã€gã€‘ åˆ¶ä½œå¤§å¤´åƒè°ƒèŠ‚å›¾å±‚ç´ æå›¾ç‰‡ 1 å¤åˆ¶ä¸€ä¸ªå›¾å±‚ï¼ˆå¯ä½¿ç”¨ctrl+jï¼Œä¹Ÿå¯ä»¥æ‹–æ‹½å›¾å±‚åˆ°ä¸‹æ–¹çš„æ–°å»ºå›¾å±‚å›¾æ ‡ï¼‰ 2 ctrl+tè‡ªç”±å˜æ¢å›¾å±‚ï¼Œç¼©æ”¾åˆ°åˆé€‚çš„æ¯”ä¾‹ï¼ˆæŒ‰ä½shiftç­‰æ¯”ç¼©æ”¾ï¼‰ 3 è°ƒèŠ‚æ–°å›¾å±‚é€æ˜åº¦ï¼Œ50%-60%åˆé€‚ 4 å°†ä¸¤å›¾å±‚ä¸‹å·´å¯¹é½ 5 åœ¨å°å›¾å±‚ä¸Šæ–°å»ºè’™ç‰ˆ 6 ç”¨é»‘è‰²ç”»ç¬”å°†å¤§å›¾å±‚å¤´éƒ¨æ¶‚é»‘ï¼Œæ¶‚å®Œä¹‹åå°†ä¸é€æ˜åº¦è°ƒè‡³100%ï¼Œå¦‚æœæœ‰å¤šä½™éƒ¨åˆ†ä½¿ç”¨ç™½è‰²ç”»ç¬”æ¶‚å›å»ï¼ˆç¡¬åº¦è°ƒä¸º0ï¼‰ 7 ä½¿ç”¨è£åˆ‡å·¥å…·åªä¿ç•™éœ€è¦çš„éƒ¨åˆ†ï¼Œç›–å°ç”Ÿæˆå›¾å±‚ æˆæœå›¾å¦‚ä¸‹ å›¾å±‚ä¿®é¥° æ»¤é•œä¸­ç‚¹å¼€æ¶²åŒ– ä½¿ç”¨è†¨èƒ€å·¥å…·åœ¨ä¸¤çœ¼ä½ç½®åˆ†åˆ«ç‚¹å‡»ä¸¤ä¸‹å°†çœ¼éƒ¨æ”¾å¤§ ä½¿ç”¨è¤¶çš±å·¥å…·å°†é¼»å­å’Œå˜´ç¼©å° ä½¿ç”¨å·¦æ¨å·¥å…·å°†è„¸æ”¶ä¸€ä¸‹ å¦‚æœæ‹–åäº†å¯ä»¥ä½¿ç”¨é‡å»ºå·¥å…·å°†è¦æ¢å¤çš„åœ°æ–¹æ¶‚ä¸€ä¸‹ GIFåˆ¶ä½œçª—å£æ‰“å¼€æ—¶é—´è½´ï¼Œæ–°å»ºå¸§åŠ¨ç”» åœ¨å›¾å±‚ä¸­æ§åˆ¶è¦æ˜¾ç¤ºçš„å¸§ç„¶åæ·»åŠ å…³é”®å¸§ è°ƒèŠ‚æ¯ä¸€å¸§çš„æ—¶é—´ å¯¼å‡ºï¼šå­˜å‚¨ä¸ºwebæ ¼å¼ï¼Œè°ƒèŠ‚ä¸ºGIFæ ¼å¼ ç½‘é¡µè®¾è®¡é¡¹ç›®ç«‹é¡¹â€”â€”åˆ†æå¸‚åœºç¯å¢ƒâ€”â€”è§£å†³ç”¨æˆ·ç—›ç‚¹ ä»¿ç…§å›¾ è‡ªå·±åšçš„è®¾è®¡å›¾ï¼š æ¸å˜è‰²ï¼šåœ¨é€‰åŒºå†…æ·»åŠ æ¸å˜å›¾å±‚ï¼Œå¦åˆ™ä¼šä½¿æ•´ä¸ªèƒŒæ™¯å…¨éƒ¨æ¸å˜ é€‰æ‹©å¤šä¸ªå›¾å±‚ï¼šé€‰ä¸­ç¬¬ä¸€ä¸ªå›¾å±‚ï¼ŒæŒ‰ä½shifté€‰ä¸­æœ€åä¸€ä¸ªå›¾å±‚ è¦é€‰ä¸­æŸä¸€å›¾å±‚çš„æŸä¸€éƒ¨åˆ†ï¼šå…ˆç”¨å¤šè¾¹å½¢æ¡†é€‰å·¥å…·é€‰å‡ºå¤§è‡´éƒ¨åˆ†ï¼Œç„¶åctrl+alt+shift+ç‚¹å‡»è¦é€‰ä¸­éƒ¨åˆ†çš„å›¾å±‚","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}],"tags":[{"name":"æ€é€”å®è®­","slug":"æ€é€”å®è®­","permalink":"https://easyremember.cn/tags/æ€é€”å®è®­/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}]},{"title":"Typoraå›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠ","slug":"èµ„æº/Typoraå›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠ","date":"2020-07-15T11:50:22.787Z","updated":"2020-09-05T09:40:22.479Z","comments":true,"path":"2020/07/15/èµ„æº/Typoraå›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠ/","link":"","permalink":"https://easyremember.cn/2020/07/15/èµ„æº/Typoraå›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠ/","excerpt":"","text":"Typoraå›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠä½ æ˜¯å¦è¿˜åœ¨ä¸ºæ‰¾ä¸åˆ°å¯é çš„å›¾åºŠè€Œçƒ¦æ¼ æ˜¯å¦å®³æ€•å›¾åºŠç½‘ç«™å…³é—­èµ„æºä¸¢å¤± æ˜¯å¦æ‹…å¿ƒèµ„æºä¸èƒ½ç®¡ç†è€Œå‘æ„ ä»Šå¤©ä»–æ¥äº† 1 ä¸‹è½½å®‰è£…picGoåœ°å€åœ¨è¿™é‡Œï¼Œæ ¹æ®éœ€è¦çš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ ä¸‹è½½å®Œæˆåè¿›è¡Œå®‰è£… å®‰è£…å®Œä¹‹ååœ¨æ¡Œé¢å³ä¸‹è§’å›¾æ ‡æ‰“å¼€picGoè¯¦ç»†ç•Œé¢ 2 é…ç½®picGoå›¾åºŠ+giteepicGoæ”¯æŒå¤šä¸ªå›¾åºŠ è¿™é‡Œä¸»è¦è¯´ä¸€ä¸‹giteeæ–°å»ºä¸€ä¸ªå…¬å¼€çš„ä»“åº“ï¼Œç§æœ‰çš„åœ¨ç›¸å†Œå’ŒTyporaæ— æ³•æ˜¾ç¤º æœç´¢æ’ä»¶giteeï¼ˆéœ€è¦å®‰è£…Nodeç¯å¢ƒï¼‰ æ®è¯´æ˜¯ä¸¤ä¸ªéƒ½å¯ä»¥ï¼Œæˆ‘åªè¯•è¿‡äº†giteeï¼Œå®‰è£…å¥½ä¹‹ååœ¨ä¸Šé¢çš„å›¾åºŠåˆ—è¡¨é‡Œå°±ä¼šå‡ºç°giteeå›¾åºŠ è¿™é‡Œæ˜¯é…ç½®ä¿¡æ¯ ownerï¼šgiteeç”¨æˆ·å repoï¼šgiteeä»“åº“å pathï¼šè·¯å¾„ï¼Œå­˜æ”¾åˆ°æ ¹ç›®å½•å¯ä»¥ä¸ç”¨å†™ tokenï¼šgiteeä¸ªäººä»¤ç‰Œ messageï¼šå¯ä»¥ä¸å†™ å…³äºgiteeä¸ªäººä»¤ç‰Œçš„è·å– ç‚¹å¼€giteeçš„è®¾ç½®ï¼Œåœ¨å·¦ä¾§æ æ‰¾åˆ°ç§äººä»¤ç‰Œï¼Œç„¶åç‚¹å‡»ç”Ÿæˆæ–°ä»¤ç‰Œ æè¿°å¯ä»¥éšä¾¿å†™ä¸€ä¸‹ï¼Œç„¶åç‚¹å‡»ç¡®è®¤ä¼šç”Ÿæˆä¸€ä¸ªtoken å°†tokenå¤åˆ¶åˆ°picGoä¸­å°±å¯ä»¥äº† 3 é…ç½®Typora+picGoåœ¨Typoraçš„åå¥½è®¾ç½®ä¸­å°†æ’å…¥å›¾ç‰‡æ”¹ä¸ºä¸Šä¼ å›¾ç‰‡ï¼Œä¸Šä¼ æœåŠ¡ä¿®æ”¹ä¸ºpicGo Appï¼Œå¹¶é€‰æ‹©åˆ°å®‰è£…ç›®å½• ç‚¹å‡»éªŒè¯ å¦‚æœå‡ºç°falseæƒ…å†µï¼Œçœ‹ä¸€ä¸‹è¿æ¥ä¸­çš„ç«¯å£å·ï¼Œç„¶ååˆ°picGoçš„è®¾ç½®ä¸­æ‰¾åˆ°ServeræœåŠ¡ å°†ç«¯å£å·ä¿®æ”¹ä¸€è‡´ ç„¶åä¿å­˜ï¼Œå†è¯•ä¸€ä¸‹éªŒè¯","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/tags/å·¥å…·/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"ES6ç¬”è®°","slug":"ç¬”è®°/ES6ç¬”è®°","date":"2020-07-15T07:24:55.780Z","updated":"2020-09-05T09:36:10.203Z","comments":true,"path":"2020/07/15/ç¬”è®°/ES6ç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/07/15/ç¬”è®°/ES6ç¬”è®°/","excerpt":"","text":"ES6ç¬”è®°å˜é‡letå’Œconstvarå­˜åœ¨çš„é—®é¢˜ å¯ä»¥é‡å¤å£°æ˜ æ— æ³•é™åˆ¶ä¿®æ”¹ æ²¡æœ‰å—çº§ä½œç”¨åŸŸ ES6æ–°çš„å®šä¹‰å˜é‡ let ä¸èƒ½é‡å¤å£°æ˜ å˜é‡ï¼Œå¯ä»¥ä¿®æ”¹ å—çº§ä½œç”¨åŸŸ const ä¸èƒ½é‡å¤å£°æ˜ å¸¸é‡ï¼Œä¸èƒ½ä¿®æ”¹ å—çº§ä½œç”¨åŸŸ æœ€å¤§çš„åŒºåˆ«ï¼šconstä¸€ç»å®šä¹‰å€¼ä¸èƒ½å†å˜ å‡½æ•°ç®­å¤´å‡½æ•°let show = function(n1,n2) { return n1-n2; } ----------ç­‰ä»·-------------- let show = (n1, n2) =&gt; { return n1-n2; } å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œ()å¯ä»¥çœç•¥ let show = (n) =&gt; { return n; } --------çœç•¥-------- let show = n =&gt; { return n; } å¦‚æœåªæœ‰ä¸€ä¸ªreturnï¼Œ{}å¯ä»¥çœç•¥ let show = n =&gt; { return 2*n; } -------çœç•¥-------- let show = n =&gt; 2*n; ç®­å¤´å‡½æ•°çš„thisä¸ä¼šå˜ï¼šthisæŒ‡å‘çš„æ˜¯å½“å‰å¯¹è±¡ï¼Œä¼ ç»Ÿçš„functionéœ€è¦å®šä¹‰ä¸€ä¸ªconst that= thisæ‰èƒ½åœ¨é‡Œé¢çš„å‡½æ•°è®¿é—®åˆ°æœ€å¤–å±‚çš„thisï¼Œç®­å¤´å‡½æ•°ä¸ä¼šæ”¹å˜thisæŒ‡å‘ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ— éœ€å®šä¹‰thatå°±å¯ä»¥ç”¨thisè®¿é—®åŸæ¥çš„å¯¹è±¡ ç®­å¤´å‡½æ•°çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿ å‚æ•°...argsæ¥æ”¶å‚æ•° å‘½åéšæ„ï¼Œä½†å¿…é¡»æ”¾åˆ°å‚æ•°æœ€åï¼Œç”¨äºæ”¶é›†å‰©ä½™å‚æ•° let show = function (a, b, ...args) { alert(a); alert(b); alert(args); } show(14,2,3,4,5); å¤šä½™çš„å‚æ•°å°†ä¼šç”±argsæ¥æ”¶ å±•å¼€æ•°ç»„ å±•å¼€åæ•ˆæœè·Ÿç›´æ¥æŠŠæ•°ç»„æ”¾åœ¨é‚£ä¸€æ · let arr = [1,2,3,4]; show(...arr);// == show(1,2,3,4) ------------------- let arr1=[1,2,3]; let arr2=[4,5,6]; let arr=[...arr1,...arr2]; // == let arr=[1,2,3,4,5,6]; é»˜è®¤å‚æ•°let show = function (a, b=5, c=10) { XXX } show(12); å½“ä¼ çš„å‚æ•°åªæœ‰ä¸€ä¸ªçš„æ—¶å€™ï¼Œbé»˜è®¤æ˜¯5ï¼Œcé»˜è®¤æ˜¯10ï¼› å½“ä¼ å‚æ•°å¤§äºä¸€ä½æ—¶ï¼Œä¼šä¾æ¬¡é¡¶æ›¿é»˜è®¤å‚æ•° è§£æ„èµ‹å€¼å·¦å³ä¸¤è¾¹ç»“æ„å¿…é¡»ä¸€æ · let [a, b, c] = [1,2,3] let {a,b,c} = {a:1,b:2,c:3} å³è¾¹å¿…é¡»åˆæ³• å£°æ˜å’Œèµ‹å€¼ä¸èƒ½åˆ†å¼€ let [a, b] = [5, 12];// åˆæ³• ------------------------ let [a, b]; [a, b] = [5, 12];// æŠ¥é”™ï¼Œè§£æ„èµ‹å€¼å£°æ˜å’Œèµ‹å€¼ä¸èƒ½åˆ†å¼€ æ•°ç»„mapæ˜ å°„â€”â€”â€”â€”ä¸€ä¸ªå¯¹ä¸€ä¸ª let arr = [1, 2, 3, 4]; let result = arr.map(item =&gt; item * 2); // result 2,4,6,8 reduceæ±‡æ€»â€”â€”â€”â€”ä¸€å †å‡ºæ¥ä¸€ä¸ª let arr= [12, 8, 9, 16]; let result = arr.reduce( function (tmp, item, index) { return tmp + item; }) functionä¸­çš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯å­˜å‚¨çš„å’Œçš„ä¸­é—´æ•°ã€è¦è®¡ç®—çš„æ•°ã€ç´¢å¼• filterè¿‡æ»¤å™¨â€”â€”â€”â€”ä¿ç•™ä¸€éƒ¨åˆ† let arr = [10,3,16,15,21,20]; let result = arr.filter(item =&gt; { if(item % 3 == 0) { return true; } return false; }); alert(result); -------------------------------- // jsonç±»å‹ let arr = [ {name: &#39;tom&#39;, price: 75}, {name: &#39;jerry&#39;, price: 60} ]; let result = arr.filter(item =&gt; { return item.price&gt;65; }); console.log(result); å½“filterä¸­çš„æ–¹æ³•è¿”å›trueçš„æ—¶å€™æ•°æ®ä¿ç•™ï¼Œè¿”å›falseæ•°æ®åˆ é™¤ forEachå¾ªç¯ï¼ˆè¿­ä»£ï¼‰â€”â€”â€”â€”æ¯ä¸€é¡¹è¿›è¡Œæ“ä½œ å§æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹éƒ½æ”¾åˆ°æ–¹æ³•ä¸­æ‰§è¡Œ å­—ç¬¦ä¸²ä¸¤ä¸ªæ–°æ–¹æ³•startsWith åŒ¹é…å‰é¢çš„å­—ç¬¦ä¸²ï¼Œç›¸åŒè¿”å›trueï¼Œä¸ç›¸åŒè¿”å›false endWith åŒ¹é…æœ«å°¾çš„å­—ç¬¦ä¸²ï¼Œç›¸åŒè¿”å›trueï¼Œä¸ç›¸åŒè¿”å›false åº”ç”¨ï¼šæ£€æµ‹æ–‡ä»¶åç¼€ å­—ç¬¦ä¸²æ¨¡æ¿å­—ç¬¦ä¸²æ‹¼æ¥ let a = &#39;AScri&#39;; let str = `ECM${a}pt6`; alert(str); // str=ECMAScript6 æ³¨æ„ï¼šæ’å…¥å­—ç¬¦ä¸²çš„å­—ç¬¦ä¸²è¦ç”¨åå•å¼•å·ï¼ˆæ•°å­—é”®ç›˜1å·¦è¾¹çš„é‚£ä¸ªï¼‰ åº”ç”¨ï¼Œæ‹¼æ¥å­—ç¬¦ä¸² let html = `&lt;div&gt; &lt;h1&gt;${title}&lt;/h1&gt; &lt;p&gt;${content}&lt;/p&gt; &lt;/div&gt;`; ä¼˜åŠ¿ï¼šç›´æ¥æŠŠå­—ç¬¦ä¸²æ’åˆ°å­—ç¬¦ä¸²ä¸­ï¼›å¯ä»¥æŠ˜è¡Œ é¢å‘å¯¹è±¡è¯­æ³•class User { constructor(name, age) { this.name = name; this.age = age; } showName() { alert(this.name); } showAge() { alert(this.age); } } var user = new User(&#39;Tom&#39;, 18); user.showName(); user.showAge(); å¯¹è±¡åˆ›å»ºå…³é”®å­—classï¼Œç›¸å½“äºjavaçš„ç±» æ„é€ å™¨å…³é”®å­—constructorï¼Œç›¸å½“javaçš„æ„é€ å‡½æ•° æ–¹æ³•ç›´æ¥å†™åœ¨classé‡Œé¢ï¼Œä¸éœ€è¦åŠ function ç»§æ‰¿class VipUser extends User { constructor(name, age, level) { super(name, age); this.level = level; } showLevel() { alert(this.level); } } var vip = new VipUser(&#39;Tom&#39;, 18, 3); vip.showName(); vip.showAge(); vip.showLevel(); ç»§æ‰¿å…³é”®å­—extensï¼Œç›¸å½“äºjavaçš„ç»§æ‰¿ æ„é€ å‡½æ•°ä¸­ä½¿ç”¨superå…³é”®å­—ï¼Œè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•° æ·»åŠ æ–°çš„å±æ€§å’Œæ–°çš„æ–¹æ³• JSONæ ‡å‡†å†™æ³• åªèƒ½ç”¨åŒå¼•å· æ‰€æœ‰åå­—éƒ½å¿…é¡»ç”¨å¼•å·æ‹¬èµ·æ¥ { &quot;a&quot;: &quot;abx&quot;, &quot;b&quot;: 12, &quot;c&quot;: true } æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²let json = {a: 11, b: 12}; alert(JSON.stringify(json)); JSON.stringify()å¾—åˆ°çš„ç»“æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸² æ ¼å¼åŒ–ä¸ºJSONlet str = &#39;{&quot;a&quot;: 11, &quot;b&quot;: 12}&#39;; console.log(JSON.parse(str)); JSON.parse()å¾—åˆ°çš„ç»“æœæ˜¯ä¸€ä¸ªjsonå¯¹è±¡ï¼Œä½†æ˜¯ï¼Œå­—ç¬¦ä¸²çš„å†…å®¹å¿…é¡»ç¬¦åˆjsonæ ¼å¼æ ‡å‡†ï¼Œå¦å¤–ï¼ŒåŒå¼•å·çš„å¤–é¢æ˜¯å•å¼•å· ç®€å†™å±æ€§åç®€å†™ let a = 12; let b = 5; let json = {a, b, c: 15}; console.log(json); å½“å·²ç»å­˜åœ¨çš„å€¼å’Œjsonå±æ€§åä¸€æ ·çš„æ—¶å€™ï¼Œå¯ä»¥åªå†™å€¼ï¼Œä¸ä¸€æ ·çš„å¯ä»¥æŒ‰ç…§jsonæ ¼å¼æ·»åŠ  è¿™é‡Œçš„jsonæŒ‡çš„æ˜¯jsonå­—é¢é‡ æ–¹æ³•ç®€å†™ let json = { a: 12, show() { console.log(this.a); } } json.show(); æ–¹æ³•å¯ä»¥åªå†™æ–¹æ³•åï¼Œçœç•¥ function Promiseä½œç”¨ï¼šæ¶ˆé™¤å¼‚æ­¥æ“ä½œï¼Œç”¨åŒæ­¥çš„æ–¹å¼æ¥å†™å¼‚æ­¥ä»£ç  å¼‚æ­¥ï¼šæ“ä½œä¹‹é—´æ²¡å•¥å…³ç³»ï¼ŒåŒæ—¶è¿›è¡Œå¤šä¸ªæ“ä½œï¼›ä»£ç å¤æ‚ åŒæ­¥ï¼šåŒæ—¶åªèƒ½åšä¸€ä»¶äº‹ï¼Œå‰é¢çš„äº‹æ²¡å¹²å®Œåé¢çš„äº‹ä¸èƒ½å¼€å§‹ï¼›ä»£ç ç®€å• å°è£…ajaxï¼ˆåŸºäºjqueryï¼‰ let ajax = new Promise(function (resolve, reject) { $.ajax({ url: &#39;js/arr.txt&#39;, dataType: &#39;json&#39;, success(json) { resolve(json); }, error(err) { reject(err); } }) }); ajax.then(result =&gt; { alert(result); }, err =&gt; { console.log(err); }) Promise.all()å½“æœ‰ä¸¤ä¸ªPromiseå¯¹è±¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨Promisr.all()å¤„ç†ä¸¤ä¸ªPromiseå¯¹è±¡ Promise.all([ ajax1, ajax2 ]).then(result =&gt; { let [arr1, arr2] = result; alert(arr1); alert(arr2); }, err =&gt; { console.log(err); }) è¿™é‡Œæ³¨æ„ï¼Œå½“ä½¿ç”¨.allå¤„ç†å¤šä¸ªPromiseå¯¹è±¡æ—¶ï¼Œæœ‰ä¸€ä¸ªå‡ºé”™å°±ä¼šæŠ¥é”™ï¼Œå…¨éƒ¨æˆåŠŸæ‰ä¼šæ‰§è¡ŒæˆåŠŸçš„å›è°ƒå‡½æ•° æœ‰å¤šä¸ªajaxè¯·æ±‚ä¸åŒåœ°å€çš„æ—¶å€™å¯ä»¥ï¼Œå†æ¬¡å°è£… function createPromise(url) { return new Promise(function(resolve, reject) { $.ajax({ url, dataType: &#39;json&#39;, success(json) { resolve(json); }, error(err) { reject(err); } }) }); } Promise.all([ createPromise(&#39;js/arr.txt&#39;), createPromise(&#39;js/arr2.txt&#39;) ]).then(result =&gt; { let [arr1, arr2] = result; alert(arr1); alert(arr2); }, err =&gt; { console.log(err); }) ä»¥ä¸Šåªæ˜¯ç¤ºä¾‹ï¼Œjqueryçš„ä½œè€…å½“ç„¶æƒ³åˆ°äº†è¿™ä¸€ç‚¹ï¼Œ$.ajax()æ˜¯æœ‰è¿”å›å€¼çš„ï¼ˆé«˜ç‰ˆæœ¬ï¼Œä½ç‰ˆæœ¬å¯èƒ½æ²¡æœ‰ï¼‰ let p = $.ajax({url: &#39;js/arr.txt&#39;, dataType: &#39;json&#39;}); å¯ä»¥å°† $.ajax({url: &#39;js/arr.txt&#39;, dataType: &#39;json&#39;}) æ”¾åˆ°Promise.all()é‡Œé¢ï¼Œä»£æ›¿ä¸Šé¢çš„createPromiseæ–¹æ³• Promise.race()åŒæ—¶å¤„ç†å¤šä¸ªPromiseå¯¹è±¡ï¼Œæœ‰ä¸€ä¸ªå…ˆå®Œæˆçš„å°±åœæ­¢ åº”ç”¨åœºæ™¯ï¼ŒåŒæ—¶å‘å¤šä¸ªè´Ÿè½½å‘é€è¯·æ±‚ Promiseé“¾å¼è°ƒç”¨let test = new Promise((resolve, reject) =&gt; { let random = Math.random() if (random &gt; 0.5) { resolve(&#39;å¤§äº0.5&#39;) } else { reject(&#39;å°äºç­‰äº0.5&#39;) } }) let p = test.then((result) =&gt; { console.log(result) return result }).catch((result) =&gt; { console.log(result) return result }).then((result) =&gt; { console.log(result) return result }).then((result) =&gt; { console.log(&#39;last&#39;, result) }) console.log(p) ------------------------- Promise { &lt;pending&gt; } // p å¤§äº0.5 // æˆ–è€…å°äºï¼Œä¸‹åŒ å¤§äº0.5 last å¤§äº0.5 promise çš„ then æ–¹æ³•é‡Œé¢å¯ä»¥ç»§ç»­è¿”å›ä¸€ä¸ªæ–°çš„ promise å¯¹è±¡ ä¸‹ä¸€ä¸ª then æ–¹æ³•çš„å‚æ•°æ˜¯ä¸Šä¸€ä¸ª promise å¯¹è±¡çš„ resolve å‚æ•° catch æ–¹æ³•çš„å‚æ•°æ˜¯å…¶ä¹‹å‰æŸä¸ª promise å¯¹è±¡çš„ rejecte å‚æ•° ä¸€æ—¦æŸä¸ª then æ–¹æ³•é‡Œé¢çš„ promise çŠ¶æ€æ”¹å˜ä¸ºäº† rejectedï¼Œåˆ™promise æ–¹æ³•è¿ä¼šè·³è¿‡åé¢çš„ then ç›´æ¥æ‰§è¡Œ catchï¼›å¦‚æœçŠ¶æ€ä¸€ç›´ä¸ºfulfilledï¼Œcatché‡Œé¢çš„çš„ä»£ç ä¸æ‰§è¡Œ catch æ–¹æ³•é‡Œé¢ä¾æ—§å¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„ promise å¯¹è±¡ promiesçš„ä¸‰ç§çŠ¶æ€æ˜¯æœªå†³çš„pendingï¼ˆè¿›è¡Œä¸­ï¼‰ï¼Œå’Œå·²å†³çš„fulfilledï¼ˆæˆåŠŸï¼‰/rejectedï¼ˆå¤±è´¥ï¼‰ï¼Œresloveå’Œrejectæ˜¯æˆåŠŸå’Œå¤±è´¥çš„å‚æ•°ï¼Œåœ¨promiesé‡Œè°ƒç”¨å‚æ•°ä¹‹åthenæ–¹æ³•æ‰ä¼šæ‰§è¡Œ å‚è€ƒèµ„æ–™ï¼š æ·±å…¥ç†è§£Promiseä¸‰ç§çŠ¶æ€ä¸é“¾å¼è°ƒç”¨ Promiseå¯¹è±¡thenæ–¹æ³•é“¾å¼è°ƒç”¨ ç”Ÿæˆå™¨å‡½æ•°generator æ™®é€šå‡½æ•°ï¼šä¸€ç›´æ‰§è¡Œåˆ°æœ€å generatorå‡½æ•°ï¼šä¸­é—´å¯ä»¥æš‚åœ function *show() { alert(&#39;1&#39;); yield; alert(&#39;2&#39;); } let obj = show(); obj.next(); obj.next(); ç›´æ¥è¿è¡Œshow()å¹¶ä¸ä¼šæœ‰ä»»ä½•ååº”ï¼Œç”¨showæ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç”¨nextæ–¹æ³•å¯ä»¥æ‰§è¡Œï¼Œé‡åˆ°yieldåœä¸‹ï¼Œå†æ‰§è¡Œnextå¯ä»¥ç»§ç»­è¿è¡Œä¹‹åçš„éƒ¨åˆ† åŸç†æ˜¯æŠŠä¸€ä¸ªå¤§å‡½æ•°çš„ä»£ç åˆ‡åˆ†æˆå¤šä¸ªå°å‡½æ•°ï¼Œæ¯nextä¸€æ¬¡æ‰§è¡Œä¸€æ¬¡ ä¸€ä¸ªç”Ÿæˆå™¨ä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªyieldï¼›æ³¨æ„å‡½æ•°å‘½åæ–¹å¼ function *show(){}ï¼Œå¸¦æœ‰æ˜Ÿå· yieldå¯ä»¥ä¼ å‚ ç¬¬ä¸€ä¸ªnextæ— æ³•ä¼ å‚ï¼Œå¯ä»¥ç†è§£ä¸ºgeneratorçš„å¯åŠ¨å™¨ï¼Œç¬¬äºŒä¸ªnextå¼€å§‹å‘ç¬¬ä¸€ä¸ªyieldä¼ å‚ function *show() { alert(&#39;1&#39;); let a = yield; alert(a); } let obj = show(); obj.next(); obj.next(10); -------------------------- // æ‰“å°ç»“æœ a=10 æœ‰è¿”å›å€¼ function *show() { alert(&#39;1&#39;); let a = yield &#39;axc&#39; + &#39;ac&#39;; alert(a); // 10 // å¦‚æœè¿™é‡Œreturn 55ï¼Œé‚£ä¹ˆä¸‹è¾¹b1çš„valueå°±æ˜¯55 } let obj = show(); let a1 = obj.next(); console.log(a1); // {value: &quot;axcac&quot;, done: false} let b1 = obj.next(10); console.log(b1); // {value: undifind, done: true} ä¸€ä¸ªyieldç›¸å½“äºä¸€ä¸ªè¢«åˆ†è§£æˆå°å‡½æ•°çš„return æ€»ç»“ï¼šç¬¬ä¸€ä¸ªyieldè¿”å›çš„å€¼ç»™äº†ç¬¬ä¸€ä¸ªnextï¼Œç¬¬äºŒä¸ªnextçš„å‚æ•°ç»™äº†ç¬¬ä¸€ä¸ªyield é™„ï¼šES7 async awaitasync function doSome() { try { let data1 = await function(data); let data2 = await function(data1); let data3 = await function(data2); } catch(err) { console.log(&quot;Error:&quot; + err); } } ç”¨åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥ awaitçš„è¿”å›å€¼æ˜¯promiseï¼›awaitåé¢å¯ä»¥ç”¨Promise.all()æ‰§è¡Œå¤šä¸ªPromiseæ“ä½œ awat å¤–é¢å¿…é¡»åŒ…è£¹ç€asyncï¼Œ æŠŠawaitå’ŒæˆåŠŸåçš„æ“ä½œæ”¾åˆ°tryé‡Œï¼Œå¤±è´¥çš„æ”¾åœ¨catch å‚è€ƒèµ„æ–™ï¼š asyncå’Œawait","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"VS Code å¿«æ·é”®","slug":"èµ„æº/VS Code å¿«æ·é”®","date":"2020-07-14T07:29:20.384Z","updated":"2020-09-05T09:40:22.620Z","comments":true,"path":"2020/07/14/èµ„æº/VS Code å¿«æ·é”®/","link":"","permalink":"https://easyremember.cn/2020/07/14/èµ„æº/VS Code å¿«æ·é”®/","excerpt":"","text":"VS Code å¿«æ·é”®æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ Ctrl+Shift+N å…³é—­çª—å£ Ctrl+Shift+W æ–°å»ºæ–‡ä»¶ Ctrl+N æ–‡ä»¶ä¹‹é—´åˆ‡æ¢ Ctrl+Tab å¤åˆ¶æˆ–å‰ªåˆ‡å½“å‰è¡Œ/å½“å‰é€‰ä¸­å†…å®¹ Ctrl+C ã€ Ctrl+V ä»£ç æ ¼å¼åŒ–ï¼š Shift+Alt+F ä¸Šä¸‹ç§»åŠ¨ä¸€è¡Œ Alt+Up æˆ– Alt+Down å‘ä¸Šå‘ä¸‹å¤åˆ¶ä¸€è¡Œ Shift+Alt+Up æˆ– Shift+Alt+Down åœ¨å½“å‰è¡Œä¸‹æ–¹æ’å…¥ä¸€è¡Œ Ctrl+Enter åœ¨å½“å‰è¡Œä¸Šæ–¹æ’å…¥ä¸€è¡Œ Ctrl+Shift+Enter ç§»åŠ¨åˆ°è¡Œé¦– Home ç§»åŠ¨åˆ°è¡Œå°¾ End ç§»åŠ¨åˆ°æ–‡ä»¶ç»“å°¾ Ctrl+End ç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´ Ctrl+Home ç§»åŠ¨åˆ°å®šä¹‰å¤„ F12 å®šä¹‰å¤„ç¼©ç•¥å›¾ åªçœ‹ä¸€çœ¼è€Œä¸è·³è½¬è¿‡å» Alt+F12 æ‰¾åˆ°æ‰€æœ‰çš„å¼•ç”¨ Shift+F12 åŒæ—¶ä¿®æ”¹æœ¬æ–‡ä»¶ä¸­æ‰€æœ‰åŒ¹é…çš„ Ctrl+F12 é‡å‘½å æ¯”å¦‚è¦ä¿®æ”¹ä¸€ä¸ªæ–¹æ³•åï¼Œå¯ä»¥é€‰ä¸­åæŒ‰ F2ï¼Œè¾“å…¥æ–°åå­—ï¼Œå›è½¦ï¼Œåˆ™æ‰€æœ‰è¯¥æ–¹æ³•çš„å¼•ç”¨ä¹Ÿéƒ½åŒæ­¥æ›´æ–°äº† è·³è½¬åˆ°ä¸‹ä¸€ä¸ª Error æˆ– Warning å½“æœ‰å¤šä¸ªé”™è¯¯æ—¶å¯ä»¥æŒ‰ F8 é€ä¸ªè·³è½¬ æŸ¥æ‰¾ Ctrl+F æŸ¥æ‰¾æ›¿æ¢ Ctrl+H æ•´ä¸ªæ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾ Ctrl+Shift+F","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/tags/å·¥å…·/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Hello World","slug":"ç”Ÿæ´»/hello-world","date":"2020-07-14T07:29:20.383Z","updated":"2020-09-05T09:36:29.977Z","comments":true,"path":"2020/07/14/ç”Ÿæ´»/hello-world/","link":"","permalink":"https://easyremember.cn/2020/07/14/ç”Ÿæ´»/hello-world/","excerpt":"","text":"2020-07-13 åšå®¢è¯ç”Ÿ","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}],"tags":[{"name":"hello","slug":"hello","permalink":"https://easyremember.cn/tags/hello/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}]}]}