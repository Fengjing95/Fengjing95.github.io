{"meta":{"title":"å‰ç«¯å°æ«","subtitle":"","description":"","author":"å°æ«","url":"https://easyremember.cn"},"pages":[{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2020-07-13T12:13:10.594Z","comments":false,"path":"client/index.html","permalink":"https://easyremember.cn/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2020-07-13T12:13:10.593Z","comments":false,"path":"bangumi/index.html","permalink":"https://easyremember.cn/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2020-07-13T12:13:10.593Z","comments":false,"path":"about/index.html","permalink":"https://easyremember.cn/about/index.html","excerpt":"","text":"[ã•ãã‚‰è˜ã®hojun] ä¸&nbsp; Mashiro&nbsp; ï¼ˆ çœŸï¼ˆã¾ï¼‰ç™½ï¼ˆã—ã‚ï¼‰ ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2020-07-13T12:13:10.594Z","comments":true,"path":"comment/index.html","permalink":"https://easyremember.cn/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2020-07-13T12:13:10.595Z","comments":false,"path":"lab/index.html","permalink":"https://easyremember.cn/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2020-07-13T12:13:10.596Z","comments":false,"path":"music/index.html","permalink":"https://easyremember.cn/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2020-09-04T08:55:27.099Z","comments":true,"path":"links/index.html","permalink":"https://easyremember.cn/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2020-07-13T12:13:10.596Z","comments":true,"path":"tags/index.html","permalink":"https://easyremember.cn/tags/index.html","excerpt":"","text":""},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2020-07-13T12:13:10.594Z","comments":false,"path":"donate/index.html","permalink":"https://easyremember.cn/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2020-07-13T12:13:10.596Z","comments":true,"path":"rss/index.html","permalink":"https://easyremember.cn/rss/index.html","excerpt":"","text":""},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2020-07-13T12:13:10.597Z","comments":false,"path":"theme-sakura/index.html","permalink":"https://easyremember.cn/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2020-07-13T12:13:10.597Z","comments":false,"path":"video/index.html","permalink":"https://easyremember.cn/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"Vueç»„ä»¶åº“å¼€å‘","slug":"æŠ€æœ¯/Vueç»„ä»¶å¼€å‘","date":"2021-04-27T10:42:53.253Z","updated":"2021-04-30T10:45:04.841Z","comments":true,"path":"2021/04/27/æŠ€æœ¯/Vueç»„ä»¶å¼€å‘/","link":"","permalink":"https://easyremember.cn/2021/04/27/æŠ€æœ¯/Vueç»„ä»¶å¼€å‘/","excerpt":"","text":"æŠ€æœ¯é“ºå«æœ¬èŠ‚å†…å®¹ä»¥æŠ€æœ¯é“ºå«ä¸ºä¸»ï¼Œå¦‚æœä½ å¯¹è¿™é‡Œçš„å†…å®¹éå¸¸è‡ªä¿¡å¯ä»¥è·³åˆ°ä¸‹ä¸€èŠ‚ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å¸®æˆ‘æ‰¾æ‰¾é”™ğŸ˜‚ å¿…è¦æ€§éšç€Vueåœ¨å›½å†…å¸‚åœºçš„å æœ‰ç‡è¶Šæ¥è¶Šé«˜ï¼Œç»„ä»¶åº“åŒæ—¶ä¹Ÿç«äº†èµ·æ¥ï¼Œå¾ˆå¤šå…¬å¸å†…éƒ¨ä¹Ÿä¸ºäº†é€‚åº”å…¶è‡ªèº«ä¸šåŠ¡è€Œå¼€å§‹å¼€å‘å…¶è‡ªæœ‰çš„ç»„ä»¶åº“ï¼Œæˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„Element UIï¼ˆé¥¿äº†ä¹ˆï¼‰ã€Nut UIï¼ˆäº¬ä¸œï¼‰ç­‰ç»„ä»¶åº“éƒ½æ˜¯å¤§å‚å¼€æºå‡ºæ¥çš„ç»„ä»¶åº“ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ‹¥æœ‰ç»„ä»¶åº“å¼€å‘ç»éªŒä¹Ÿå·²ç»æˆä¸ºäº†æˆ‘ä»¬åœ¨åº”è˜é¢è¯•ä¸­çš„åŠ åˆ†é¡¹ã€‚ ç»„ä»¶åº“ä¸­çš„ç»„ä»¶å¼€å‘å…¶å®ç»™è·Ÿæˆ‘ä»¬å¹³å¸¸å¼€å‘ç»„ä»¶æœ¬è´¨æ˜¯ç›¸åŒçš„ï¼Œåªä¸è¿‡æˆ‘ä»¬éœ€è¦å°½å¯èƒ½åœ°è€ƒè™‘åˆ°ç»„ä»¶çš„å¤ç”¨æ€§ï¼Œä½¿ç»„ä»¶å¯ä»¥é¢å¯¹å¤šç§æƒ…å†µä¸‹çš„ä¸šåŠ¡éœ€æ±‚ï¼Œè€Œä¸”ç»„ä»¶åº“ä¸èƒ½å’Œä¸šåŠ¡è€¦åˆï¼Œåº”è¯¥å’Œä¸šåŠ¡å®Œå…¨è„±ç¦»ï¼Œå³ä½¿åˆ‡æ¢å¦ä¸€ç§ä¸šåŠ¡ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚ åŸºç¡€APIç»„ä»¶çš„å¼€å‘è„±ç¦»ä¸å¼€propã€slotå’Œeventè¿™ä¸‰ä¸ªAPIï¼Œæ­¤å¤–è¿˜è¦è€ƒè™‘ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œæ¯”å¦‚formå’Œform-itemã€checkboxå’Œcheckbox-groupç­‰ï¼Œä»–ä»¬ä¹‹é—´å…¶å®æ˜¯æœ‰è”ç³»çš„ proppropåœ¨æˆ‘ä»¬å¹³å¸¸çš„å¼€å‘ä»»åŠ¡ä¸­ä¹Ÿæ˜¯ç»å¸¸ä½¿ç”¨çš„ä¸€ä¸ªAPIï¼Œç”¨äºå­ç»„ä»¶æ¥å—çˆ¶ç»„ä»¶ä¼ é€’çš„å‚æ•°ï¼Œå°½ç®¡æ—¥å¸¸ä½¿ç”¨ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰äººåœ¨è§„èŒƒæ€§ç­‰æ–¹é¢ç”¨å¾—å¹¶ä¸æ˜¯å¾ˆå¥½ã€‚ æŠ›å¼ƒæ•°ç»„å†™æ³•ï¼šè™½ç„¶æ”¯æŒæ•°ç»„å†™æ³•ï¼Œä½†æ˜¯å®˜æ–¹éƒ½ä¸æ¨èçš„æ•°ç»„å†™æ–¹æ³•å°±æ‰”æ‰å§ // æ‘’å¼ƒå§ // props: [&#39;status&#39;] // è‡³å°‘ä¹Ÿè¿™æ ·å§ props: { status: String // ç­‰åŒäº // status: { // type: String // } } é”®å€¼çš„å†™æ³•åªæ˜¯æä¾›äº†ç±»å‹é™åˆ¶ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œpropè¿˜æœ‰å…¶ä»–çš„å±æ€§ï¼Œæ¯”å¦‚å¿…å¡«é¡¹ä»¥åŠå†…å®¹éªŒè¯ç­‰ï¼›validatorçš„å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å°†å½“å‰propæ¥å—çš„å€¼ä¼ é€’ç»™å‡½æ•°ï¼Œè¿”å›å€¼å¦‚æœæ˜¯ä¸€ä¸ªå¤±è´¥ç±»å‹çš„å€¼å°±ä¼šåœ¨æ§åˆ¶å°æŠ›å‡ºå¼‚å¸¸ ä¸‹é¢çš„éªŒè¯è§„åˆ™é™åˆ¶äº†statuså¿…é¡»æ˜¯â€™successâ€™, â€˜warningâ€™, â€˜errorâ€™ä¸­çš„ä¸€ä¸ª props: { status: { type: String, validator: function(prop) { return [ &#39;success&#39;, &#39;warning&#39;, &#39;error&#39; ].indexOf(prop) &gt;= 0 }, default: &#39;success&#39;, required: true, // ä¸€èˆ¬é»˜è®¤å€¼ä¸ä¼šå’Œå¿…å¡«é¡¹åŒæ—¶å‡ºç° } } ç„¶åæˆ‘åœ¨ä½¿ç”¨ç»„ä»¶æ—¶ä¼ å…¥ä¸€ä¸ªé”™è¯¯çš„å€¼ &lt;message status=&quot;warning1&quot; /&gt; æ­¤å¤–è¿˜æœ‰ä¸€ç‚¹ï¼Œå­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹æ¥æ”¶çš„propå€¼ slotæˆ‘ç†è§£çš„slotä½œç”¨å°±æ˜¯åœ¨å­ç»„ä»¶ä¸­æ’å…¥çˆ¶ç»„ä»¶çš„å†…å®¹ï¼Œå­ç»„ä»¶åœ¨å®šä¹‰æ—¶æä¾›ä¸€ä¸ªæ’æ§½ï¼Œçˆ¶ç»„ä»¶åœ¨ä½¿ç”¨å­ç»„ä»¶æ—¶å¯ä»¥å‘æ’æ§½ä¸­æ’å…¥å†…å®¹ã€‚ç›¸å½“äºæ’åº§å’Œæ’å¤´ï¼Œä¸‹é¢è¿™å¼ å›¾ç±»ä¼¼äºå…·åæ’æ§½ï¼Œçˆ¶ç»„ä»¶ä½¿ç”¨çš„æ’æ§½åå’Œå­ç»„ä»¶ä¸­çš„æ’æ§½åä¸åŒ¹é…ï¼Œå°±æ— æ³•ä½¿ç”¨ æ™®é€šçš„æ’æ§½å¾ˆç®€å•ï¼Œåœ¨å­ç»„ä»¶ä¸­å£°æ˜æ’æ§½ï¼Œçˆ¶ç»„ä»¶ç›´æ¥æ·»åŠ å†…å®¹å³å¯ï¼Œæ’æ§½å¯ä»¥è®¾ç½®é»˜è®¤å†…å®¹ï¼Œå½“çˆ¶ç»„ä»¶æ²¡æœ‰å†…å®¹ä¼ è¿›æ¥æ—¶ï¼Œå°±ä¼šä½¿ç”¨é»˜è®¤å†…å®¹ï¼Œç±»ä¼¼äºpropçš„defaultå±æ€§ &lt;!-- çˆ¶ç»„ä»¶ --&gt; &lt;message&gt; æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„å†…å®¹ &lt;/message&gt; &lt;!-- å­ç»„ä»¶ --&gt; &lt;div&gt; æ¥å—æ’æ§½ï¼š &lt;slot&gt;åå¤‡å†…å®¹&lt;/slot&gt; &lt;/div&gt; åœ¨ä¸Šé¢æˆ‘ä»¬æåˆ°äº†å…·åæ’æ§½ï¼Œå…¶å®å°±æ˜¯ä¸ºäº†æœ‰å¤šä¸ªæ’æ§½å†…å®¹æ—¶åŒºåˆ†å†…å®¹ã€‚ä½¿ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨å­ç»„ä»¶å£°æ˜slotæ—¶æ·»åŠ nameå±æ€§å³å¯ï¼Œçˆ¶ç»„ä»¶åœ¨ä½¿ç”¨æ—¶æ·»åŠ v-slot:[name]å±æ€§ï¼ˆåŸæ¥æ˜¯slot=â€nameâ€ï¼Œå·²åºŸå¼ƒä½†æ²¡æœ‰åˆ é™¤ï¼Œç°é˜¶æ®µè¿™æ ·ç”¨ä¹Ÿå¯ä»¥ï¼‰ &lt;!-- çˆ¶ç»„ä»¶ --&gt; &lt;message status=&quot;warning&quot;&gt; &lt;template v-slot:header&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„å¤´éƒ¨å†…å®¹&lt;/template&gt; &lt;template v-slot:footer&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„åº•éƒ¨å†…å®¹&lt;/template&gt; &lt;/message&gt; &lt;!-- å­ç»„ä»¶ --&gt; &lt;div&gt; å¤´éƒ¨æ’æ§½ï¼š &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt; &lt;br /&gt; åº•éƒ¨æ’æ§½ï¼š &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt; &lt;/div&gt; ä¸æ·»åŠ nameå±æ€§æ—¶ï¼Œé»˜è®¤ä¼šèµ‹å€¼name=â€defaultâ€ï¼Œçˆ¶ç»„ä»¶åœ¨ä½¿ç”¨æ—¶ä¸æ·»åŠ v-slotå±æ€§é»˜è®¤å°±æ˜¯v-slot:defaultï¼Œæ‰€ä»¥æ™®é€šæ’æ§½ä¹Ÿç›¸å½“äºå…·åæ’æ§½ï¼Œåªæ˜¯é»˜è®¤åã€‚ä¸‹é¢ä¸¤ç§ç”¨æ³•æ˜¯ä¸€æ ·çš„ &lt;message status=&quot;warning&quot;&gt; &lt;template v-slot:default&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„å†…å®¹&lt;/template&gt; &lt;/message&gt; &lt;message status=&quot;warning&quot;&gt; &lt;template&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„å†…å®¹&lt;/template&gt; &lt;/message&gt; è¿˜æœ‰ä¸€ç§ä½œç”¨åŸŸæ’æ§½ï¼Œç”¨ç®€å•çš„è¯æ¥è¯´å°±æ˜¯ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨å­ç»„ä»¶çš„æ•°æ®ï¼Œè¿™é‡Œçš„ä½œç”¨åŸŸä¹Ÿå°±æ˜¯æŒ‡çš„çˆ¶ç»„ä»¶æ¥æ”¶å­ç»„ä»¶ä½œç”¨åŸŸ å­ç»„ä»¶åœ¨å£°æ˜æ’æ§½æ—¶ç»‘å®šä¸€ä¸ªå˜é‡ï¼Œçˆ¶ç»„ä»¶åœ¨ä½¿ç”¨æ’æ§½æ—¶ä½¿ç”¨v-slot=â€propsâ€æ¥å—è¿™ä¸ªå˜é‡ï¼ˆåŸæ¥æ˜¯slot-scopeï¼ŒåŒæ ·å·²åºŸå¼ƒï¼‰ï¼Œç„¶åä½¿ç”¨å˜é‡æˆ‘ä»¬ç»§ç»­ä½¿ç”¨ä¸Šé¢çš„ä¾‹å­ç¨åŠ æ”¹é€  &lt;!-- çˆ¶ç»„ä»¶ --&gt; &lt;message status=&quot;warning&quot;&gt; &lt;template v-slot:header=&quot;sonData&quot;&gt;{{sonData.user.name}}ä»Šå¹´{{sonData.user.age}}å²äº†&lt;/template&gt; &lt;template v-slot:footer&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„åº•éƒ¨å†…å®¹&lt;/template&gt; &lt;/message&gt; &lt;!-- å­ç»„ä»¶ --&gt; &lt;div&gt; å¤´éƒ¨æ’æ§½ï¼š &lt;slot name=&quot;header&quot; :user=&quot;user&quot;&gt;&lt;/slot&gt; &lt;br /&gt; åº•éƒ¨æ’æ§½ï¼š &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt; &lt;/div&gt; v-slotæŒ‡ä»¤å¯ä»¥ç¼©å†™ä¸º#ï¼Œæ¯”å¦‚v-slot:headerå¯ä»¥ç¼©å†™ä¸º#headerï¼Œé»˜è®¤æ’æ§½ä¸å¯ä»¥ç®€å†™ï¼Œä½†æ˜¯ä½ å¯ä»¥ä½¿ç”¨#default eventäº‹ä»¶è¿™ä¸€å—å†…å®¹è™½ç„¶å¾ˆç®€å•ï¼Œä½†è¯´èµ·æ¥æ¯”è¾ƒçç¢ï¼Œçœ‹æ–‡æ¡£å§ğŸ˜‚ æ­¤å¤–ä½ è¿˜éœ€è¦äº†è§£ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œç»„ä»¶ä¹‹é—´çš„é€šè®¯å¤§è‡´æœ‰ABCDè¿™å‡ ç§æƒ…å†µï¼ˆå¤§ä½“åˆ—ä¸€ä¸‹ï¼Œä¸å±•å¼€ç»†è¯´äº†ï¼‰ ABä¹‹é—´çˆ¶å­å…³ç³»ï¼ŒACå’ŒADæ—¶ç¥–å…ˆå’Œåä»£çš„å…³ç³»ï¼ŒCDä¹‹é—´æ˜¯å…„å¼Ÿå…³ç³» props/$emitï¼Œç”¨äºçˆ¶å­ä¹‹é—´é€šä¿¡ $on/$emitï¼Œå¯ä»¥åœ¨ä»»æ„ç»„ä»¶ä¹‹é—´é€šä¿¡ $children/$parentï¼Œå¯ç”¨äºçˆ¶å­ç»„ä»¶ $refï¼Œé€šè¿‡æ ‡è®°æ¥è·å–ç»„ä»¶å®ä¾‹ $attrs/$listenersï¼ŒattrsåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸è¢« prop æ‰€è¯†åˆ«çš„å±æ€§ï¼ŒlistenersåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­çš„ (ä¸å« .native ä¿®é¥°å™¨çš„) äº‹ä»¶ç›‘å¬å™¨ provide/injectï¼Œå¯ä»¥åœ¨ç¥–å­™ä¹‹é—´ä¼ é€’æ•°æ® å®æˆ˜ä¸€ï¼ŒFormç»„ä»¶ä¸Šä¸€èŠ‚æˆ‘ä»¬ä¸ºç»„ä»¶å¼€å‘åšäº†æŠ€æœ¯é“ºå«ï¼Œè¿™ä¸€èŠ‚å¼€å§‹æˆ‘ä»¬æ¥è¿›å…¥å®æˆ˜ç¯èŠ‚ é¦–å…ˆæˆ‘ä»¬æ¥å®ç°ä¸€å¥—Formç»„ä»¶ï¼Œå¦‚æœä½ ä½¿ç”¨è¿‡å¸‚é¢ä¸Šæ¯”è¾ƒæµè¡Œçš„ç»„ä»¶åº“ï¼Œä½ åº”è¯¥çŸ¥é“ä¸€å¥—Formç»„ä»¶åº”è¯¥åŒ…å«è¿™æ ·çš„å†…å®¹ é‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆä¸‹ä¸€ä¸ªç”¨ä¾‹ï¼Œä»ç”¨ä¾‹å‡ºå‘ï¼Œå€’æ¨ç»„ä»¶ &lt;f-form :model=&quot;userForm&quot; :rules=&quot;rules&quot;&gt; &lt;f-form-item label=&quot;ç”¨æˆ·å&quot; prop=&quot;username&quot;&gt; &lt;f-input v-model=&quot;userForm.username&quot; placeholder=&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot; /&gt; &lt;/f-form-item&gt; &lt;f-form-item label=&quot;å¯†ç &quot; prop=&quot;password&quot;&gt; &lt;f-input type=&quot;password&quot; v-model=&quot;userForm.password&quot; placeholder=&quot;è¯·è¾“å…¥å¯†ç &quot; /&gt; &lt;/f-form-item&gt; &lt;/f-form&gt; &lt;script&gt; export default { data() { return { userForm: { username: &#39;&#39;, password: &#39;&#39; }, rules: { username: [ {required: true, message: &#39;è¯·è¾“å…¥ç”¨æˆ·å&#39;} ], password: [ {required: true, message: &#39;è¯·è¾“å…¥å¯†ç &#39;} ] } } } } &lt;/script&gt; ä»å†…è€Œå¤–å®ç°ï¼Œä»inputå¼€å§‹ï¼Œç„¶åform-itemï¼Œæœ€åformï¼Œè¯ä¸å¤šè¯´å¼€æ f-inputé¦–å…ˆæ¥è¾“å…¥æ¡†ï¼Œä½ å¯èƒ½ä¼šè§‰ç€è¿™ä¸œè¥¿å¾ˆç®€å•ï¼Œä½†æ˜¯ä¸è¦å¿˜äº†æˆ‘ä»¬ä¹‹å‰è¯´çš„ï¼Œå­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹propæ¥æ”¶çš„å€¼ï¼Œæ‰€ä»¥èµ¶ç´§æŠ›å¼ƒä½ ç›´æ¥v-modelç»‘å®špropçš„æƒ³æ³•ã€‚ å¦‚æœä½ ä¸å…³é—­è­¦å‘Šä½ ä¼šçœ‹åˆ°è¿™æ ·çš„è­¦å‘Š è¿™é‡Œä½ éœ€è¦çŸ¥é“ï¼Œå…¶å®v-modelæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œä¸‹é¢è¿™ä¸¤è¡Œå…¶å®ä½œç”¨æ˜¯ä¸€æ ·çš„ 1&lt;input v-model=&quot;username&quot; /&gt; &lt;br/&gt; 2&lt;input :value=&quot;username&quot; @input=&quot;username = $event.target.value&quot; /&gt; &lt;br/&gt; {{username}} è¿è¡Œä¸€ä¸‹çœ‹ä¸‹ç»“æœ æ‰€ä»¥åœ¨f-inputä¸­ä½ å¯ä»¥è¿™æ ·æ¥å®ç°ç»‘å®šçš„ä¼ é€’ &lt;template&gt; &lt;div&gt; &lt;input :value=&quot;value&quot; @input=&quot;inputHandler&quot; /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { props: { value: { type: String, default: &#39;&#39; } }, methods: { inputHandler(e) { this.$emit(&#39;input&#39;, e.target.value) } } } &lt;/script&gt; è¿™æ—¶å€™å†å»è¯•è¯•ï¼Œå‘ç°å·²ç»å¯ä»¥äº†ï¼Œæ§åˆ¶å°ä¹Ÿæ²¡æœ‰æŠ¥è­¦å‘Š ç„¶åä½ åˆå‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œè®¾ç½®çš„placeholderæ²¡æœ‰ç”Ÿæ•ˆï¼Œå› ä¸ºä»–è¢«æ·»åŠ åˆ°f-inputä¸Šï¼Œè€Œä¸æ˜¯f-inputé‡Œé¢çš„inputä¸Š å®˜ç½‘APIæ–‡æ¡£æœ‰è¿™ä¹ˆä¸€æ®µ å®ƒçš„ä½œç”¨æ€»ç»“ä¸‹æ¥å°±æ˜¯ï¼Œå¦‚æœå¼€å¯æ­¤é€‰é¡¹ï¼Œçˆ¶ç»„ä»¶ç»‘å®šçš„å±æ€§æ²¡æœ‰è¢«propsæ¥æ”¶çš„ï¼Œå°†ä¼šå­˜åœ¨$attrsé‡Œé¢ï¼Œå¯ä»¥ä½¿ç”¨v-bindå°†$attrsç»‘å®šåœ¨ä»»æ„éæ ¹ç»„ä»¶ä¸Šï¼Œç„¶åæŠŠæˆ‘ä»¬çš„f-inputç¨åŠ æ”¹é€  &lt;template&gt; &lt;div&gt; &lt;input :value=&quot;value&quot; @input=&quot;inputHandler&quot; v-bind=&quot;$attrs&quot; /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { inheritAttrs: true, // çœç•¥éƒ¨åˆ†ä»£ç  &lt;/script&gt; å®Œç¾ï¼Œå¯ä»¥çœ‹åˆ°è®¾ç½®çš„å¯†ç å‹è¾“å…¥æ¡†ä¹Ÿå·²ç»ç”Ÿæ•ˆäº† f-form-itemåˆ°è¿™é‡Œå°±æ¯”ä¸Šé¢çš„è¾“å…¥æ¡†ç¨å¾®æœ‰ç‚¹éš¾åº¦äº†ï¼Œä½†ä¹Ÿå¾ˆç®€å•ï¼Œè¿™é‡Œéœ€è¦å®ç°çš„ç‚¹æ˜¯ labelæ–‡æœ¬ ç»™è¡¨å•ç»„ä»¶é¢„ç•™æ’æ§½ æŒ‰è§„åˆ™æ ¡éªŒå¹¶æç¤ºé”™è¯¯ å‰ä¸¤ç‚¹éƒ½å¾ˆç®€å•ï¼Œä½ åº”è¯¥æ¯”è¾ƒç•æƒ§ç¬¬ä¸‰ç‚¹ï¼Œå…¶å®è¿™ä¸ªä¹Ÿå¾ˆç®€å•ï¼Œæœ‰ç°æˆçš„â€œè½®å­â€â€”â€”async-validatorï¼Œä½œä¸ºç¨‹åºå‘˜è¦æœç»é‡å¤é€ è½®å­ğŸ˜‚ æƒ³ä¸€ä¸‹æˆ‘ä»¬ä¹‹å‰çš„ç”¨ä¾‹ä¸­form-itemçš„å±æ€§ï¼šlabelå’Œpropï¼Œç„¶åé…ç½®è¦æ¥æ”¶çš„å‚æ•° &lt;template&gt; &lt;div&gt; &lt;label v-if=&quot;label&quot;&gt;{{label}}&lt;/label&gt; &lt;slot&gt;&lt;/slot&gt; &lt;p v-if=&quot;errorMessage&quot;&gt;{{errorMessage}}&lt;/p&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { props: { label: { type: String, default: &#39;&#39; }, prop: { type: String, } }, data() { return { errorMessage: &#39;&#39; } }, } &lt;/script&gt; è¿™æ ·æˆ‘ä»¬ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥éƒ½å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯validateäº†ï¼Œæ¥å—çš„propçš„ä½œç”¨å°±æ˜¯ä¸ºäº†ä»formç»„ä»¶ä¸­ç»‘å®šçš„rulesä¸­è·å–éœ€è¦ä½¿ç”¨çš„éªŒè¯è§„åˆ™ï¼ŒåŒæ—¶ä¹Ÿä½¿ç”¨propä»formç»‘å®šçš„è¡¨å•å†…å®¹ä¸­è·å–å½“å‰è¡¨å•é¡¹çš„å€¼ã€‚è¿™é‡Œå¯ä»¥ä½¿ç”¨provide/injectæ¥ä¼ é€’æ•°æ® &lt;script&gt; import Schema from &#39;async-validator&#39; export default { inject: [&#39;form&#39;], props: { label: { type: String, default: &#39;&#39; }, prop: { type: String, } }, data() { return { errorMessage: &#39;&#39; } }, methods: { validate() { const rule = this.form.rules[this.prop] const value = this.form.model[this.prop] // è·å–éªŒè¯è§„åˆ™å®ä¾‹ const description = {[this.prop]: rule} const schema = new Schema(description) // ä½¿ç”¨éªŒè¯è§„åˆ™å®ä¾‹çš„éªŒè¯æ–¹æ³• return schema.validate({[this.prop]: value}, (error, field) =&gt; { if(error) { this.errorMessage = error[0].message console.log(`${field}éªŒè¯æœªé€šè¿‡`); } else { this.errorMessage = &#39;&#39; } }) } }, } &lt;/script&gt; ç„¶åæ·»åŠ éªŒè¯äº‹ä»¶çš„ç›‘å¬å™¨ï¼Œåœ¨å†…éƒ¨è¡¨å•é¡¹å€¼ä¿®æ”¹æ—¶åŠ¨æ€éªŒè¯ mounted() { this.$on(&#39;validate&#39;, this.validate) } å†é¡ºä¾¿ä¿®æ”¹ä¸€ä¸‹f-inputçš„å†…å®¹ methods: { inputHandler(e) { this.$emit(&#39;input&#39;, e.target.value) // é€šçŸ¥éªŒè¯ this.$parent.$emit(&#39;validate&#39;) } } OK~~form-itemé½æ´» f-formåœ¨å®Œæˆäº†form-itemå’Œinputç»„ä»¶ä¹‹åï¼Œformç»„ä»¶å°±ç®€ç®€å•å•äº†ï¼Œå†æ¥çœ‹ä¸€ä¸‹formè¦åšçš„äº‹ æ¥æ”¶éªŒè¯è§„åˆ™å’Œè¡¨å•æ•°æ® ç»™form-itemé¢„ç•™æ’æ§½ å…¨å±€æ ¡éªŒæ–¹æ³• é¦–å…ˆæˆ‘ä»¬æ¥å®ç°å‰ä¸¤æ­¥ï¼Œå¾ˆç®€å•ï¼Œä¸è¦å¿˜äº†ä¹‹å‰form-itemä½¿ç”¨injectæ¥æ”¶çš„æ•°æ®ï¼Œè¿™é‡Œéœ€è¦ç»‘å®šä¸Š &lt;template&gt; &lt;div&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { provide() { return { form: this } }, props: { model: { type: Object, required: true }, rules: { type: Object } } } &lt;/script&gt; æ¥ä¸‹æ¥å…¨å±€çš„æ ¡éªŒï¼Œæ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œä»£è¡¨æ ¡éªŒæ˜¯å¦é€šè¿‡ï¼Œä½¿ç”¨Promise.allæ¥æ‰§è¡Œå¤šä¸ªéªŒè¯å™¨ï¼Œåªè¦æœ‰å¤±è´¥çš„å°±è¿”å›false methods: { validate(cb) { const validators = this.$children .filter(item =&gt; item.prop) .map(item =&gt; item.validate()) Promise.all(validators) .then(() =&gt; cb(true)) .catch(() =&gt; cb(false)) } }, ç„¶ååœ¨ä¿®æ”¹ä¸€ä¸‹ç”¨ä¾‹ï¼Œæ·»åŠ ä¸€ä¸ªæäº¤æŒ‰é’®ï¼Œç»‘å®šå…¨å±€æ ¡éªŒ &lt;template&gt; &lt;div&gt; &lt;f-form :model=&quot;userForm&quot; :rules=&quot;rules&quot; ref=&quot;formRef&quot;&gt; &lt;f-form-item label=&quot;ç”¨æˆ·å&quot; prop=&quot;username&quot;&gt; &lt;f-input v-model=&quot;userForm.username&quot; placeholder=&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot; /&gt; &lt;/f-form-item&gt; &lt;f-form-item label=&quot;å¯†ç &quot; prop=&quot;password&quot;&gt; &lt;f-input type=&quot;password&quot; v-model=&quot;userForm.password&quot; placeholder=&quot;è¯·è¾“å…¥å¯†ç &quot; /&gt; &lt;/f-form-item&gt; &lt;button @click=&quot;submit&quot;&gt;æäº¤&lt;/button&gt; &lt;/f-form&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; // çœç•¥éƒ¨åˆ†ä»£ç  methods: { submit() { this.$refs.formRef.validate(valid =&gt; { if(valid) { console.log(&#39;é€šè¿‡éªŒè¯&#39;); } else { console.log(&#39;éªŒè¯å¤±è´¥&#39;); } }) } }, } &lt;/script&gt; åˆ°ç°åœ¨æˆ‘ä»¬å°±å·²ç»ç²—ç•¥çš„å®Œæˆäº†ä¸€å¥—formç»„ä»¶ï¼Œå½“ç„¶ä»–çš„åŠŸèƒ½å¹¶ä¸æ­¢äºæ­¤ï¼Œè¿™åªæ˜¯èµ·äº†ä¸ªå¤´å…·ä½“åŠŸèƒ½å®Œå–„ä¹Ÿå°±ä¸åœ¨è¿™é‡Œç»†è¯´äº†ï¼Œæ•ˆæœå±•ç¤ºå¦‚ä¸‹ï¼Œæ ·å¼ç»†èŠ‚ä¹Ÿä¸åœ¨è¿™é‡Œæ‰£äº† å®æˆ˜äºŒï¼ŒMessageç»„ä»¶ä¸Šä¸€èŠ‚æˆ‘ä»¬å®ç°äº†å†™åœ¨æ¨¡æ¿é‡Œé¢çš„ç»„ä»¶ï¼Œè¿˜æœ‰ä¸€ç§ç»„ä»¶æ¯”å¦‚messageæ¶ˆæ¯æç¤ºï¼Œå®ƒçš„ä½¿ç”¨è¦æ±‚æ¯”è¾ƒçµæ´»ï¼Œä¸ç¡®å®šåœ¨ä»€ä¹ˆç»„ä»¶ä¸­å‡ºç°ï¼Œæ‰€ä»¥ä¸èƒ½å†™æ­»åœ¨æ¨¡æ¿ä¸­ï¼Œè¦ä½¿ç”¨jsåŠ¨æ€æ§åˆ¶ è¿™ç§ç»„ä»¶å°±éœ€è¦æ‰‹åŠ¨åœ°å®ç°æŒ‚è½½ä¸å¸è½½äº†ï¼Œåœ¨å¼€å§‹ä¹‹å‰éœ€è¦åšä¸€ä¸‹é“ºå«Vue.extend(options)ï¼Œåˆ›å»ºä¸€ä¸ªå­ç±»åŒ…å«é…ç½®çš„é€‰é¡¹ é¦–å…ˆæˆ‘ä»¬æ¥æ„å»ºä¸€ä¸ªæ¶ˆæ¯çš„æ¨¡æ¿ &lt;template&gt; &lt;div class=&quot;message&quot;&gt; &lt;p&gt;{{ message }}&lt;/p&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { name: &quot;message&quot;, data() { return { message: &quot;message&quot;, }; }, &lt;/script&gt; ç„¶åå†åˆ›å»ºä¸€ä¸ªMessage.jsï¼Œç”¨äºæ¸²æŸ“è¿™ä¸ªæ¨¡æ¿ import Vue from &#39;vue&#39;; import Message from &#39;./Message.vue&#39; export default function() { const MessageConstructor = Vue.extend(Message) const component = new MessageConstructor().$mount() document.body.appendChild(component.$el) } ä¸Šé¢çš„æœ€åä¸€æ®µä»£ç ï¼Œæˆ‘ä»¬è°ƒç”¨äº† $mount æ–¹æ³•å¯¹ç»„ä»¶è¿›è¡Œäº†æ‰‹åŠ¨æ¸²æŸ“ï¼Œè¿™é‡Œæ¸²æŸ“ä¹‹åçš„ç»“æœæ˜¯ä¸€ä¸ªNodeèŠ‚ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å°†å®ƒæ’å…¥åˆ°documentä¸­ ä½¿ç”¨ç»„ä»¶ä¹Ÿå¾ˆç®€å•ï¼Œå¯¼å…¥å¹¶æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚æˆ‘ä»¬æ¥ä½¿ç”¨ä¸€ä¸ªæŒ‰é’®è§¦å‘è¿™ä¸ªæ¶ˆæ¯æ¸²æŸ“ &lt;template&gt; &lt;div&gt; &lt;button @click=&quot;alert&quot;&gt;æ¶ˆæ¯&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import Message from &#39;./Message.js&#39; export default { methods: { alert() { Message() } } } &lt;/script&gt; æ¥çœ‹ä¸‹æ•ˆæœ è¿˜è¡Œï¼Œæˆ‘ä»¬æ¥ç»§ç»­å®Œå–„ä¸€ä¸‹ï¼Œé¦–å…ˆéœ€è¦è‡ªåŠ¨åˆ é™¤èŠ‚ç‚¹ï¼Œæˆ‘ä»¬è¦åœ¨å‡ºç°æç¤ºä¹‹åä¸€å®šæ—¶é—´å†…å–æ¶ˆå±•ç¤ºï¼Œæ€è·¯ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨mountedä¹‹åæ·»åŠ ä¸€ä¸ªå»¶æ—¶å¸è½½NodeèŠ‚ç‚¹çš„æ–¹æ³• mounted() { setTimeout(() =&gt; { // duration åé€šè¿‡çˆ¶çº§ç§»é™¤å­å…ƒç´ çš„æ–¹å¼ç§»é™¤è¯¥ç»„ä»¶å®ä¾‹å’ŒDOMèŠ‚ç‚¹ this.$destroy(true); this.$el.parentNode.removeChild(this.$el); }, this.duration); }, ç°åœ¨æˆ‘ä»¬æ¥è€ƒè™‘ä¸€ä¸‹é€šè¿‡é…ç½®æ§åˆ¶æ¶ˆæ¯å†…å®¹ è°ƒç”¨ç»„ä»¶æ—¶ä¼ å…¥ä¸€ä¸ªé…ç½®å¯¹è±¡ åœ¨åˆ›å»ºæ¸²æŸ“å®ä¾‹æ—¶å°†å‚æ•°ä¼ é€’è¿›å»ï¼Œè¦†ç›–æ‰ç»§æ‰¿æ¥çš„å±æ€§ å¯¹æˆ‘ä»¬çš„Message.jsç¨åŠ æ”¹é€ ï¼Œè®©å‚æ•°è¦†ç›–dataé€‰é¡¹ export default function(options) { const MessageConstructor = Vue.extend(Message) const component = new MessageConstructor({data: options}).$mount() document.body.appendChild(component.$el) } ç„¶åæˆ‘ä»¬æ¥ä½¿ç”¨ä¸€ä¸‹ï¼Œé…åˆæˆ‘ä»¬ä¹‹å‰çš„è¡¨å•æ ¡éªŒä¸€èµ·è¯•ä¸€ä¸‹ &lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;f-form :model=&quot;userForm&quot; :rules=&quot;rules&quot; ref=&quot;formRef&quot;&gt; &lt;f-form-item label=&quot;ç”¨æˆ·å&quot; prop=&quot;username&quot;&gt; &lt;f-input v-model=&quot;userForm.username&quot; placeholder=&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot; /&gt; &lt;/f-form-item&gt; &lt;f-form-item label=&quot;å¯†ç &quot; prop=&quot;password&quot;&gt; &lt;f-input type=&quot;password&quot; v-model=&quot;userForm.password&quot; placeholder=&quot;è¯·è¾“å…¥å¯†ç &quot; /&gt; &lt;/f-form-item&gt; &lt;button @click=&quot;submit&quot;&gt;æäº¤&lt;/button&gt; &lt;/f-form&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import FFormItem from &#39;./components/FFormItem.vue&#39; import FInput from &#39;./components/FInput.vue&#39; import FForm from &#39;./components/FForm.vue&#39; import Message from &#39;./components/Message&#39; export default { name: &#39;App&#39;, components: { FFormItem,FInput,FForm }, data() { return { userForm: { username: &#39;&#39;, password: &#39;&#39; }, rules: { username: [ {required: true, message: &#39;è¯·è¾“å…¥ç”¨æˆ·å&#39;, tigger: &#39;blur&#39;} ], password: [ {required: true, message: &#39;è¯·è¾“å…¥å¯†ç &#39;, tigger: &#39;blur&#39;} ] }, username: &#39;&#39; } }, methods: { submit() { this.$refs.formRef.validate(valid =&gt; { if(valid) { Message({ message: &#39;é€šè¿‡éªŒè¯&#39;, duration: 5000 }) } else { Message({ message: &#39;éªŒè¯å¤±è´¥&#39;, duration: 2000 }) } }) }, }, } &lt;/script&gt; å¯ä»¥çœ‹åˆ°æ—¶é—´ã€å†…å®¹éƒ½å·²ç»ç”Ÿæ•ˆäº† ç„¶åä¸ºäº†ä½¿ç”¨æ–¹ä¾¿æˆ‘ä»¬å¯ä»¥åœ¨å…¥å£æ–‡ä»¶å°†MessageæŒ‚è½½åˆ°Vueçš„åŸå‹ä¸ŠVue.prototype.$message = Messageï¼Œï¼Œç„¶åå…¶ä»–ç»„ä»¶å†…éƒ¨å†ä½¿ç”¨æ—¶å°±å¯ä»¥ç›´æ¥this.$message() è¿™é‡Œæˆ‘ä»¬åªå®ç°äº†ä¸€ä¸ªç®€å•çš„messageï¼Œä»–è¿˜å¯ä»¥æœ‰å¾ˆå¤šæ‰©å±•æ–¹å‘ï¼Œæ¯”å¦‚é€šçŸ¥ç±»å‹ï¼ˆæ ¹æ®ç±»å‹æ§åˆ¶messageé¢œè‰²æ ·å¼ä¸ä¸€æ ·ï¼‰æˆ–è€…å†…åµŒiconç­‰ï¼Œæˆ‘ä»¬åœ¨è¿™å°±ä¸è¯´äº†ï¼Œæœ‰äº†è¿™ä¸ªç»“æ„å†å»æ‹“å±•å°±å¾ˆç®€å•äº† å®æˆ˜ä¸‰ï¼Œæ ‘å½¢ç»„ä»¶å’ŒåŠ¨æ€ç»„ä»¶ä¹‹å‰æˆ‘ä»¬ä»‹ç»äº†ä¸¤ç§ç±»å‹çš„ç»„ä»¶å°è£…ï¼Œç°åœ¨æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹å¦å¤–ä¸€ç§ç»„ä»¶ï¼Œé€’å½’ç»„ä»¶ã€‚è¿™ç§ç»„ä»¶å¯ç”¨äºåˆ—è¡¨å±•å¼€ã€æ ‘å½¢è¡¨æ ¼ç­‰ é€’å½’ç»„ä»¶æˆ‘ä»¬åœ¨ä½¿ç”¨ç»„ä»¶æ—¶ä¸€èˆ¬éƒ½æ˜¯å…ˆä½¿ç”¨importå¯¼å…¥ï¼Œç„¶ååœ¨componentsé€‰é¡¹ä¸­å£°æ˜ï¼Œæœ€ååœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼›ä½†å…¶å®è¿˜æœ‰ä¸€ç§ä½¿ç”¨ç»„ä»¶çš„æ–¹æ³•ï¼Œå½“ç»„ä»¶å£°æ˜äº†é€‰é¡¹nameä¹‹åå°±å¯ä»¥ä½¿ç”¨nameè°ƒç”¨è‡ªèº«äº†ï¼Œè¿™ä¹Ÿæ˜¯é€’å½’ç»„ä»¶çš„åŸç† ä½†æ˜¯ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦æœ‰ä¸€ä¸ªé™åˆ¶æ¡ä»¶ï¼Œä¸ç„¶å°±ä¼šè°ƒç”¨æ ˆæº¢å‡ºäº†ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ · æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªç®€æ˜“çš„æ ‘å½¢ç»„ä»¶ï¼Œç”¨æ¥å±•å¼€å’Œé—­åˆåˆ—è¡¨ é¦–å…ˆæˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªæ¨¡æ¿ &lt;template&gt; &lt;li&gt; &lt;div @click=&quot;toggle&quot;&gt; {{model.title}} &lt;span v-if=&quot;isFolder&quot;&gt;[{{open ? '-' : '+'}}]&lt;/span&gt; &lt;/div&gt; &lt;/li&gt; &lt;/template&gt; è¿™é‡Œåªæ˜¯åšç¤ºèŒƒï¼Œåœ¨ä½¿ç”¨å¤–å±‚éœ€è¦æœ‰ä¸ªulåŒ…è£¹ï¼Œå½“æœ‰å­ç»„ä»¶æ—¶ä¼šæ˜¾ç¤º+å’Œ-ï¼Œå±•å¼€å¼æ˜¾ç¤º-ï¼Œå…³é—­æ—¶æ˜¾ç¤º+ï¼ŒisFolderå°±æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œç”¨æ¥åˆ¤æ–­æœ‰æ²¡æœ‰å­ç»„ä»¶ï¼Œé€šè¿‡äº‹ä»¶æ¥æ§åˆ¶opençš„å¼€é—­ export default { name: &quot;Tree&quot;, props: { model: { type: Object, required: true, }, }, data() { return { open: false }; }, computed: { isFolder() { return this.model.children &amp;&amp; this.model.children.length; } }, methods: { toggle() { if (this.isFolder) { this.open = !this.open; } }, }, }; æˆ‘ä»¬æ¥æ·»åŠ ä¸€ä¸‹æ•°æ®æ¥è¯•ä¸€ä¸‹æ•ˆæœ &lt;template&gt; &lt;ul&gt; &lt;tree v-for=&quot;(model, index) in treeData&quot; :key=&quot;index&quot; :model=&quot;model&quot;&gt;&lt;/tree&gt; &lt;/ul&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { treeData: [ { title: &#39;æ‰“é‡&#39;, children: [ { title: &#39;åˆºå®¢&#39;, children: [ { title: &#39;å…°é™µç‹&#39; },{ title: &#39;æç™½&#39; } ] // â€¦â€¦çœç•¥å¤§æ®µæ•°æ®ä»£ç  } } } &lt;/script&gt; ç°åœ¨çš„æ•ˆæœæ˜¯è¿™æ ·çš„ æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥æ³¨å…¥çµé­‚ï¼Œå®ç°ç»„ä»¶é€’å½’ï¼Œå°†treeç»„ä»¶åšä¸€ä¸‹ä¿®æ”¹ &lt;template&gt; &lt;li&gt; &lt;div @click=&quot;toggle&quot;&gt; {{model.title}} &lt;span v-if=&quot;isFolder&quot;&gt;[{{open ? '-' : '+'}}]&lt;/span&gt; &lt;/div&gt; &lt;ul v-show=&quot;open&quot; v-if=&quot;isFolder&quot;&gt; &lt;tree class=&quot;item&quot; v-for=&quot;model in model.children&quot; :model=&quot;model&quot; :key=&quot;model.title&quot;&gt;&lt;/tree&gt; &lt;/ul&gt; &lt;/li&gt; &lt;/template&gt; ç„¶åå†çœ‹æ•ˆæœ å®Œæˆï¼Œå½“ç„¶è¿™åªæ˜¯ç²—ç•¥ç‰ˆæœ¬ï¼Œè¿™æ ·æ‹¿å‡ºå»è‚¯å®šæ˜¯ç”¨ä¸äº†çš„ï¼Œè¿˜éœ€è¦æ‹“å±•åŠŸèƒ½è°ƒæ•´æ ·å¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"canvaså…¥é—¨","slug":"æŠ€æœ¯/canvas","date":"2021-04-22T13:49:57.433Z","updated":"2021-04-23T10:41:05.463Z","comments":true,"path":"2021/04/22/æŠ€æœ¯/canvas/","link":"","permalink":"https://easyremember.cn/2021/04/22/æŠ€æœ¯/canvas/","excerpt":"","text":"äº†è§£canvasèƒŒæ™¯canvasæ˜¯ä¸ºäº†è§£å†³é¡µé¢åªèƒ½æ˜¾ç¤ºé™æ€å›¾ç‰‡è€Œå‡ºç°çš„ä¸€ç§å¯ä»¥ä½¿ç”¨JavaScriptç»˜åˆ¶çš„HTMLæ ‡ç­¾ï¼Œå®ƒå¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°widthå’Œheightï¼ˆåŸæ¥æœ‰ä¸‰ä¸ªï¼Œè¿˜æœ‰ä¸€ä¸ªmoz-opaqueæ§åˆ¶é€æ˜åº¦ï¼Œå·²ç»åºŸå¼ƒäº†ï¼‰ æ³¨æ„äº‹é¡¹ï¼šä¸åŒäºimgæ ‡ç­¾çš„è‡ªé—­å’Œï¼Œcanvaså¿…é¡»è¦æœ‰é—­åˆæ ‡ç­¾ï¼›èƒ½ç›´æ¥åœ¨canvasæ ‡ç­¾ä¸Šè®¾ç½®å®½é«˜å°½é‡ç›´æ¥åœ¨æ ‡ç­¾å±æ€§è®¾ç½®å®½é«˜ï¼Œå…¶æ¬¡å¯ä»¥é€šè¿‡jsæ¥è®¾ç½®ï¼Œå°½é‡ä¸è¦é€šè¿‡cssæ ·å¼æ¥è®¾ç½®å®½é«˜ï¼Œå¯èƒ½ä¼šå‡ºç°æ‹‰ä¼¸ç­‰æƒ…å†µï¼Œè¿™ä¸€ç‚¹MDNä¹Ÿç»™å‡ºäº†è¯´æ˜ æ³¨æ„: å¦‚æœä½ ç»˜åˆ¶å‡ºæ¥çš„å›¾åƒæ˜¯æ‰­æ›²çš„, å°è¯•ç”¨widthå’Œheightå±æ€§ä¸º&lt;canvas&gt;æ˜ç¡®è§„å®šå®½é«˜ï¼Œè€Œä¸æ˜¯ä½¿ç”¨CSSã€‚ é™¤äº†canvasä¹‹å¤–ä½ å¯èƒ½è¿˜ä¼šå¬è¿‡svgï¼Œsvgæ˜¯ä¸€ç§ä½¿ç”¨xmlå®šä¹‰çš„çŸ¢é‡å›¾ï¼Œè€Œcanvasæ˜¯ä½¿ç”¨JavaScriptæ§åˆ¶ç»˜åˆ¶å‡ºæ¥çš„ä½å›¾ ç”±äºä¸»é¢˜æ˜¯canvasï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä¹‹è¯´canvasï¼Œä¸èŠsvg ç”¨é€”canvasæœ€å¸¸ç”¨çš„åŠŸèƒ½æ˜¯ç”¨æ¥ç»˜åˆ¶å›¾è¡¨ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸ç”¨çš„EChartså›¾æ ‡åº“åº•å±‚å°±æ˜¯ä½¿ç”¨çš„canvasï¼Œæˆ‘æ‰‹ä¸Šæœ€è¿‘çš„ä¸€ä¸ªé¡¹ç›®ä¸­å°±ç”¨åˆ°äº†ECharts è¿™æ˜¯ä»–çš„DOMæ–‡æ¡£ä½“ç° ç”±äºæ˜¯é€šè¿‡JavaScripté©±åŠ¨ç»˜åˆ¶çš„ï¼Œæ‰€ä»¥æ•°æ®éƒ½æ˜¯å¯ä»¥åŠ¨æ€ä¼ å…¥çš„ï¼Œè¿™æ˜¯é™æ€å›¾ç‰‡ï¼ˆjpg/pngâ€¦â€¦ï¼‰æ‰€æ— æ³•æ¯”æ‹Ÿçš„ æ­¤å¤–canvaså¯ä»¥ç”¨æ¥åˆ¶ä½œæ¸¸æˆï¼Œè¿™æ˜¯æˆ‘ä»¥å‰ç©è¿‡çš„é­”æ–¹æ¸¸æˆï¼ˆè™½ç„¶ä½“éªŒå®Œå…¨ä¸å¦‚å®ä½“ï¼‰ è¿˜å¯ä»¥ç”¨æ¥åšæ´»åŠ¨é¡µé¢ï¼Œå¾ˆå¤šå•†å®¶éƒ½ä¼šç”¨è¿™ç§å½¢å¼æ¥åšè¥é”€æ´»åŠ¨ ä½ å¯èƒ½è¿˜ä¼šå†æŸäº›åšå®¢ä¸­çœ‹åˆ°è¿™æ ·çš„ç‰¹æ•ˆï¼Œä»–ä¹Ÿæ˜¯canvaså®ç°çš„ åŸºæœ¬ç”¨æ³•æ”¶å…ˆéœ€è¦åœ¨HTMLæ–‡æ¡£ä¸­å£°æ˜canvasæ ‡ç­¾ï¼Œæ ‡ç­¾å¯ä»¥æ·»åŠ åå¤‡å†…å®¹ï¼Œä»¥é˜²æ­¢æµè§ˆå™¨ä¸å…¼å®¹canvasï¼Œåå¤‡å†…å®¹å¯ä»¥æ˜¯ä¸€ä¸²æ–‡æœ¬ã€ä¸€å¼ å›¾ç‰‡æˆ–è€…æ˜¯åŠ¨æ€æå¨œä½³çš„å†…å®¹ &lt;canvas id=&quot;canvas&quot;&gt; å¾ˆé—æ†¾ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒcanvas &lt;/canvas&gt; &lt;canvas id=&quot;canvas&quot;&gt; &lt;img src=&quot;./img.png&quot; /&gt; &lt;/canvas&gt; åœ¨ä½¿ç”¨canvasä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è·å–canvasçš„ä¸Šä¸‹æ–‡ const canvas = document.getElementById(&#39;canvas&#39;) // æ ‡æ³¨idå±æ€§çš„å…ƒç´ ä¼šè‡ªåŠ¨åˆ›å»ºå…¨å±…å˜é‡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨idæ“ä½œï¼Œä½†æ˜¯ä¸æ¨è const context = canvas.getContext(&#39;2d&#39;) ä¸Šä¸‹æ–‡çš„ç±»å‹æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯ 2dï¼ˆæœ¬å°å†Œæ‰€æœ‰çš„ç¤ºä¾‹éƒ½æ˜¯ 2d çš„ï¼‰ï¼šä»£è¡¨ä¸€ä¸ªäºŒç»´æ¸²æŸ“ä¸Šä¸‹æ–‡ webglï¼ˆæˆ–â€experimental-webglâ€ï¼‰ï¼šä»£è¡¨ä¸€ä¸ªä¸‰ç»´æ¸²æŸ“ä¸Šä¸‹æ–‡ webgl2ï¼ˆæˆ–â€experimental-webgl2â€ï¼‰ï¼šä»£è¡¨ä¸€ä¸ªä¸‰ç»´æ¸²æŸ“ä¸Šä¸‹æ–‡ï¼›è¿™ç§æƒ…å†µä¸‹åªèƒ½åœ¨æµè§ˆå™¨ä¸­å®ç° WebGL ç‰ˆæœ¬2 (OpenGL ES 3.0) åœ¨è·å–è·¯å¾„ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸Šä¸‹æ–‡çš„apiæ¥è¿›è¡Œç»˜åˆ¶è·¯å¾„äº†ï¼Œæ¯”å¦‚ä½ å¯ä»¥ä½¿ç”¨context.arc(x, y, r,angle1, angle2, direction)æ¥ç»˜åˆ¶ä¸€ä¸ªåœ†ï¼Œå…¶ä¸­å‚æ•°çš„å«ä¹‰ä¸ºï¼š xï¼šåœ†å¿ƒxåæ ‡ yï¼šåœ†å¿ƒyåæ ‡ rï¼šåŠå¾„ angle1ï¼šèµ·å§‹è§’åº¦ï¼Œé»˜è®¤æ°´å¹³å‘å³ï¼Œä¹Ÿå°±æ˜¯ä¸‰ç‚¹é’Ÿ angle2ï¼šç»“æŸè§’åº¦ï¼Œä»å¼€å§‹è§’åº¦æ—‹è½¬çš„åº¦æ•° directionï¼šæ—‹è½¬æ–¹å‘ï¼Œtrueæ˜¯é€†æ—¶é’ˆï¼Œfalseæ˜¯é¡ºæ—¶é’ˆ context.beginPath(); // èµ·å§‹ä¸€æ¡è·¯å¾„ï¼Œæˆ–é‡ç½®å½“å‰è·¯å¾„ context.arc(100, 100, 50, 0, Math.PI * 2, true); // æ›²çº¿ context.closePath(); // é—­åˆæ›²çº¿ context.fillStyle = &#39;rgb(0,0,0)&#39;; // è®¾ç½®å¡«å……æ ·å¼ context.fill(); // å¡«å…… æ•ˆæœå¦‚ä¸‹ è¿™ä¸€èŠ‚æˆ‘ä»¬å¤§ä½“ä»‹ç»äº†canvasçš„ç”¨é€”ï¼Œä¸‹ä¸€èŠ‚å¼€å§‹æˆ‘ä»¬å°±å¼€å§‹è®²è§£canvasçš„å…·ä½“ä½¿ç”¨ canvasAPIï¼ˆä¸Šï¼‰ä¸Šä¸€èŠ‚æœ€åæˆ‘ä»¬è¯´äº†ä¸€ä¸ªç»˜åˆ¶æ›²çº¿çš„APIâ€”â€”arcï¼ˆé‚£ä¸ªAPIå¹¶ä¸æ˜¯ä¸“é—¨ç”¨æ¥ç»˜åˆ¶åœ†å½¢ï¼Œåªæ˜¯ä½¿ç”¨æ›²çº¿å¯ä»¥ç»˜åˆ¶åœ†å½¢ï¼‰ï¼Œä»–è¿˜æœ‰ä¸€ä¸ªå…„å¼Ÿâ€”â€”arcToï¼ˆx1, y1, x2, y2, rï¼‰ï¼Œæ ¹æ®å½“å‰æç‚¹ä¸ç»™å®šçš„æ§åˆ¶ç‚¹1è¿æ¥çš„ç›´çº¿ï¼Œå’Œæ§åˆ¶ç‚¹1ä¸æ§åˆ¶ç‚¹2è¿æ¥çš„ç›´çº¿ï¼Œä½œä¸ºä½¿ç”¨æŒ‡å®šåŠå¾„çš„åœ†çš„åˆ‡çº¿ï¼Œç”»å‡ºä¸¤æ¡åˆ‡çº¿ä¹‹é—´çš„å¼§çº¿è·¯å¾„ x1ï¼šç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹xåæ ‡ y1ï¼šç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹yåæ ‡ x2ï¼šç¬¬äºŒä¸ªæ§åˆ¶ç‚¹xåæ ‡ y2ï¼šç¬¬äºŒä¸ªæ§åˆ¶ç‚¹yåæ ‡ rï¼šæ›²çº¿åŠå¾„ ç¤ºæ„å›¾å¦‚ä¸‹ è·¯å¾„å…ˆæ¥ç†Ÿæ‚‰ä¸€ä¸‹å¿…ç”¨çš„è·¯å¾„ç›¸å…³çš„API beginPath()ï¼šæ–°å»ºä¸€æ¡è·¯å¾„ï¼Œç”Ÿæˆä¹‹åï¼Œå›¾å½¢ç»˜åˆ¶å‘½ä»¤è¢«æŒ‡å‘åˆ°è·¯å¾„ä¸Šç”Ÿæˆè·¯å¾„ã€‚ closePath()ï¼šé—­åˆè·¯å¾„ä¹‹åå›¾å½¢ç»˜åˆ¶å‘½ä»¤åˆé‡æ–°æŒ‡å‘åˆ°ä¸Šä¸‹æ–‡ä¸­ã€‚ stroke()ï¼šé€šè¿‡çº¿æ¡æ¥ç»˜åˆ¶å›¾å½¢è½®å»“ã€‚ fill()ï¼šé€šè¿‡å¡«å……è·¯å¾„çš„å†…å®¹åŒºåŸŸç”Ÿæˆå®å¿ƒçš„å›¾å½¢ã€‚ æ¥ä¸‹æ¥ä»ç‚¹å¼€å§‹ moveTo(x, y)â€”â€”ç§»åŠ¨å½“å‰æç‚¹åˆ°æŒ‡å®šåæ ‡ ç„¶åæ˜¯çº¿ lineTo(x, y)â€”â€”ç»˜åˆ¶ä»å½“å‰æç‚¹åˆ°æŒ‡å®šç‚¹çš„ç›´çº¿ åˆ°è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ¥åšä¸€ä¸ªå°ç»ƒä¹ ï¼Œç»˜åˆ¶ä¸€ä¸ªåœ†è§’çŸ©å½¢çš„ä¸€ä¸ªè§’ é¦–å…ˆç”»ä¸€æ¡çº¿ï¼Œç„¶åç”»ä¸€æ¡æ›²çº¿ï¼Œç„¶åå†ç”»ä¸€æ¡ç›´çº¿ ctx.beginPath(); ctx.moveTo(20, 20) ctx.lineTo(60, 20) ctx.arcTo(120, 20, 120, 40, 50) ctx.lineTo(120, 80) ctx.stroke(); è¿™é‡Œåœ¨ç»˜åˆ¶æ›²çº¿çš„æ—¶å€™è¦éœ€è¦è®¡ç®—æ›²çº¿åŠå¾„ï¼Œæ›²çº¿åŠå¾„è®¾ç½®é”™è¯¯ä¹‹åæ•ˆæœä½“ç°ä¸å‡ºæ¥äº† ç»˜åˆ¶çŸ©å½¢ï¼Œæœ‰ä¸‰ä¸ªAPIä¸ç»˜åˆ¶çŸ©å½¢æœ‰å…³ï¼Œåˆ†åˆ«æ˜¯ï¼š fillRect(x, y, width, height)ç»˜åˆ¶ä¸€ä¸ªå¡«å……çš„çŸ©å½¢ strokeRect(x, y, width, height)ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢çš„è¾¹æ¡† clearRect(x, y, width, height)æ¸…é™¤æŒ‡å®šçŸ©å½¢åŒºåŸŸï¼Œè®©æ¸…é™¤éƒ¨åˆ†å®Œå…¨é€æ˜ã€‚ rect(x, y, width, height)ç»˜åˆ¶ä¸€ä¸ªå·¦ä¸Šè§’åæ ‡ä¸ºï¼ˆx,yï¼‰ï¼Œå®½é«˜ä¸ºwidthä»¥åŠheightçš„çŸ©å½¢ã€‚ å‚æ•°ï¼šxâ€”â€”çŸ©å½¢çš„èµ·ç‚¹xåæ ‡ï¼Œyâ€”â€”çŸ©å½¢çš„èµ·ç‚¹yåæ ‡ï¼Œwidthâ€”â€”çŸ©å½¢çš„å®½ï¼Œheightâ€”â€”çŸ©å½¢çš„é«˜ ctx.fillRect(25, 25, 100, 100); ctx.clearRect(45, 45, 60, 60); ctx.strokeRect(50, 50, 50, 50); æ³¨æ„ï¼šé‡å¤´æˆè¦æ¥äº†â€”â€”äºŒæ¬¡è´å¡å°”æ›²çº¿å’Œä¸‰æ¬¡è´å¡å°”æ›²çº¿ å¦‚æœä½ ä½¿ç”¨è¿‡PhotoShopçš„é’¢ç¬”å·¥å…·ï¼Œä½ ä¸€å®šä¸ä¼šé™Œç”Ÿè´å¡å°”æ›²çº¿ï¼Œæ”¾ä¸€ä¸ªç®€ä¹¦çš„é“¾æ¥ï¼Œå¦‚æœä½ å¯¹æ•°å­¦æ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹ quadraticCurveTo(cp1x, cp1y, x, y)ç»˜åˆ¶äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼Œcp1x,cp1yä¸ºä¸€ä¸ªæ§åˆ¶ç‚¹ï¼Œx,yä¸ºç»“æŸç‚¹ã€‚ bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)ç»˜åˆ¶ä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼Œcp1x,cp1yä¸ºæ§åˆ¶ç‚¹ä¸€ï¼Œcp2x,cp2yä¸ºæ§åˆ¶ç‚¹äºŒï¼Œx,yä¸ºç»“æŸç‚¹ã€‚ è¿™é‡Œå†è´´ä¸€å¼ MDNçš„å›¾ç‰‡ï¼Œçº¢ç‚¹ä»£è¡¨æ§åˆ¶ç‚¹ï¼Œè“ç‚¹ä»£è¡¨èµ·å§‹ç‚¹å’Œç»“æŸç‚¹ æ€»ä¹‹ï¼Œè´å¡å°”æ›²çº¿ç”¨äºç»˜åˆ¶ä¸è§„åˆ™æ›²çº¿ï¼Œå½“ç„¶è¿™å¯èƒ½éœ€è¦ä½ æœ‰è€å¿ƒå»è®¡ç®—ï¼Œå› ä¸ºç»˜åˆ¶çš„æ›²çº¿æ²¡æœ‰ç»™æˆ‘ä»¬æä¾›ç›´æ¥çš„è§†è§‰åé¦ˆ æœ‰å…³è·¯å¾„çš„APIåŸºæœ¬å°±æ˜¯è¿™äº›ï¼Œä½†æ˜¯åœ¨ç»˜åˆ¶è¿‡ç¨‹ä¸­ä¸å¯èƒ½ä¸€ä¸ªè·¯å¾„ä¸€ä¸ªè·¯å¾„åœ°å»ç»˜åˆ¶ï¼Œcanvasä¹Ÿæä¾›äº†è·¯å¾„æœç”¨çš„æ–¹æ³•â€”â€”Path2D Path2Dæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥å…‹éš†è·¯å¾„ï¼Œæ¯”å¦‚ const path1 = new Path2D() path1.rect(10, 10, 100,100) const path2 = new Path2D(path1) path2.arc(225, 55, 55, 0, 2 * Math.PI) ctx.fill(path2); åˆ›å»ºä¸€ä¸ªè·¯å¾„path1ï¼Œç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªpath2å…‹éš†path1ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šç»˜åˆ¶ä¸€ä¸ªåœ†ï¼Œæœ€ååªæ¸²æŸ“path2ï¼Œå¯ä»¥çœ‹åˆ°path1çš„å†…å®¹ä¹Ÿæœ‰äº† æ ·å¼å’Œé¢œè‰² fillStyle = colorè®¾ç½®å›¾å½¢çš„å¡«å……é¢œè‰²ã€‚ strokeStyle = colorè®¾ç½®å›¾å½¢è½®å»“çš„é¢œè‰²ã€‚ colorçš„å€¼è·Ÿcssè‰²å½©çš„å€¼æ˜¯ä¸€æ ·çš„ï¼Œå¯ä»¥æ˜¯16è¿›åˆ¶è‰²å½©ã€è‰²å½©è‹±æ–‡å•è¯ã€RGBä»¥åŠRGBAï¼Œå¦‚ fillStyle ï¼ &#39;red&#39; fillStyle ï¼ &#39;#409eff&#39; fillStyle ï¼ &#39;rgb(255, 255, 0)&#39; fillStyle ï¼ &#39;rgba(255, 255, 255, 0.1)&#39; rgbaçš„æœ€åä¸€ä¸ªå‚æ•°æ˜¯é€æ˜åº¦ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æä¾›äº†ä¸“é—¨çš„APIæ¥è®¾ç½®é€æ˜åº¦ï¼ŒglobalAlpha å–å€¼ä»‹äº0ï¼ˆå…¨é€ï¼‰-1ï¼ˆä¸é€ï¼‰ä¹‹é—´ï¼Œè®¾ç½®globalAlpha ä¹‹åé€æ˜åº¦å¯ä»¥å åŠ ï¼Œå åŠ è¶Šå¤šé€æ˜åº¦è¶Šä½ã€‚ ä¸‹é¢çš„APIå¯ä»¥ç”¨æ¥è®¾ç½®çº¿æ¡çš„æ ·å¼ lineWidth = valueè®¾ç½®çº¿æ¡å®½åº¦ã€‚ lineCap = typeè®¾ç½®çº¿æ¡æœ«ç«¯æ ·å¼ã€‚å–å€¼æœ‰buttï¼ˆå¹³é½ï¼‰ï¼Œroundï¼ˆè¶…å‡ºåœ†å¤´ï¼‰å’Œ squareï¼ˆè¶…å‡ºæ–¹å½¢ï¼‰ã€‚é»˜è®¤æ˜¯ butt lineJoin = typeè®¾å®šçº¿æ¡ä¸çº¿æ¡é—´æ¥åˆå¤„çš„æ ·å¼ã€‚ miterLimit = valueé™åˆ¶å½“ä¸¤æ¡çº¿ç›¸äº¤æ—¶äº¤æ¥å¤„æœ€å¤§é•¿åº¦ï¼›æ‰€è°“äº¤æ¥å¤„é•¿åº¦ï¼ˆæ–œæ¥é•¿åº¦ï¼‰æ˜¯æŒ‡çº¿æ¡äº¤æ¥å¤„å†…è§’é¡¶ç‚¹åˆ°å¤–è§’é¡¶ç‚¹çš„é•¿åº¦ã€‚ getLineDash()è¿”å›ä¸€ä¸ªåŒ…å«å½“å‰è™šçº¿æ ·å¼ï¼Œé•¿åº¦ä¸ºéè´Ÿå¶æ•°çš„æ•°ç»„ã€‚ setLineDash(segments)è®¾ç½®å½“å‰è™šçº¿æ ·å¼ã€‚æ¥å—ä¸€ä¸ªæ•°ç»„ï¼Œæ¥æŒ‡å®šçº¿æ®µä¸é—´éš™çš„äº¤æ›¿ lineDashOffset = valueè®¾ç½®è™šçº¿æ ·å¼çš„èµ·å§‹åç§»é‡ã€‚ æ¸å˜ä½œä¸ºä¸€ç§æ¯”è¾ƒç‚«é…·çš„æ ·å¼å½“ç„¶ä¸èƒ½å°‘äº† createLinearGradient(x1, y1, x2, y2)createLinearGradient æ–¹æ³•æ¥å— 4 ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºæ¸å˜çš„èµ·ç‚¹ (x1,y1) ä¸ç»ˆç‚¹ (x2,y2)ã€‚ createRadialGradient(x1, y1, r1, x2, y2, r2)createRadialGradient æ–¹æ³•æ¥å— 6 ä¸ªå‚æ•°ï¼Œå‰ä¸‰ä¸ªå®šä¹‰ä¸€ä¸ªä»¥ (x1,y1) ä¸ºåŸç‚¹ï¼ŒåŠå¾„ä¸º r1 çš„åœ†ï¼Œåä¸‰ä¸ªå‚æ•°åˆ™å®šä¹‰å¦ä¸€ä¸ªä»¥ (x2,y2) ä¸ºåŸç‚¹ï¼ŒåŠå¾„ä¸º r2 çš„åœ† createLinearGradient æ˜¯çº¿æ€§æ¸å˜ï¼ŒcreateRadialGradient æ˜¯åœ†å½¢æ¸å˜ åœ¨åˆ›å»ºæ¸å˜å¯¹è±¡ä¹‹åå°±å¯ä»¥ç»™ä»–ä¸Šè‰²äº†ï¼Œä½¿ç”¨gradient.addColorStop(position, color)æ–¹æ³•ç»™æ¸å˜å¯¹è±¡ä¸Šè‰²ï¼Œposotionæ˜¯ä¸€ä¸ªä»‹äº0-1çš„å€¼ï¼Œ0.5è¡¨ç¤ºåœ¨æ­£ä¸­å¿ƒæ¸å˜ var lineargradient = ctx.createLinearGradient(0,0,150,150); lineargradient.addColorStop(0,&#39;white&#39;); lineargradient.addColorStop(1,&#39;black&#39;); ctx.fillStyle = lineargradient ctx.fillRect(10,10,130,130) é˜´å½±ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¥½çœ‹çš„æ•ˆæœï¼š shadowOffsetX = floatï¼šshadowOffsetX ç”¨æ¥è®¾å®šé˜´å½±åœ¨ X è½´çš„å»¶ä¼¸è·ç¦»ï¼Œä¸å—å˜æ¢çŸ©é˜µæ‰€å½±å“ã€‚è´Ÿå€¼è¡¨ç¤ºé˜´å½±ä¼šå¾€å·¦å»¶ä¼¸ï¼Œæ­£å€¼åˆ™è¡¨ç¤ºä¼šå¾€å³å»¶ä¼¸ï¼Œé»˜è®¤ä¸º 0ã€‚ shadowOffsetY = floatï¼šshadowOffsetYç”¨æ¥è®¾å®šé˜´å½±åœ¨ Y è½´çš„å»¶ä¼¸è·ç¦»ï¼Œä¸å—å˜æ¢çŸ©é˜µæ‰€å½±å“ã€‚è´Ÿå€¼è¡¨ç¤ºé˜´å½±ä¼šå¾€ä¸Šï¼Œæ­£å€¼åˆ™è¡¨ç¤ºä¼šå¾€ä¸‹ï¼Œé»˜è®¤ä¸º 0ã€‚ shadowBlur = floatï¼šshadowBlur ç”¨äºè®¾å®šé˜´å½±çš„æ¨¡ç³Šç¨‹åº¦ï¼Œé»˜è®¤ä¸º 0ã€‚ shadowColor = colorï¼šshadowColor ç”¨äºè®¾å®šé˜´å½±é¢œè‰²æ•ˆæœï¼Œé»˜è®¤æ˜¯å…¨é€æ˜çš„é»‘è‰²ã€‚ åœ¨æˆ‘ä»¬ä¸Šä¸€ä¸ªæ¸å˜çš„åŸºç¡€ä¸ŠåŠ ä¸Šé˜´å½± ctx.shadowOffsetX = 8; ctx.shadowOffsetY = 8; ctx.shadowBlur = 2; ctx.shadowColor = &quot;rgba(0, 0, 0, 0.5)&quot;; å¡«å……è§„åˆ™fill()ï¼Œå¡«å……æˆ‘ä»¬ä¹‹å‰å·²ç»ç”¨åˆ°å¾ˆå¤šäº†ï¼Œä»–æœ‰ä¸¤ä¸ªè§„åˆ™ï¼Œä¹Ÿå°±æ˜¯å‚æ•°nonzeroï¼ˆé»˜è®¤è·¯å¾„å†…éƒ¨ï¼‰å’Œevenoddï¼ˆè·¯å¾„å¤–éƒ¨ï¼‰ï¼Œè¿™æ˜¯ç›¸å¯¹äºå½“å‰è·¯å¾„æ¥è¯´çš„ï¼Œåœ¨è·¯å¾„åµŒå¥—å¼æ•ˆæœæ˜æ˜¾ canvasAPIï¼ˆä¸‹ï¼‰ä¹¦æ¥ä¸Šå› å›¾ç‰‡æ‰€æœ‰çš„å†…å®¹éƒ½æ˜¯æ‰‹åŠ¨ç»˜åˆ¶è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦ï¼Œå¥½åœ¨canvasæ”¯æŒå¯¼å…¥å›¾ç‰‡ï¼ŒcreatePattern(image, type)ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚Image å¯ä»¥æ˜¯ä¸€ä¸ª Image å¯¹è±¡çš„å¼•ç”¨ï¼Œæˆ–è€…å¦ä¸€ä¸ª canvas å¯¹è±¡ã€‚Type å¿…é¡»æ˜¯ä¸‹é¢çš„å­—ç¬¦ä¸²å€¼ä¹‹ä¸€ï¼šrepeatï¼Œrepeat-xï¼Œrepeat-y å’Œ no-repeatã€‚ è¿™é‡Œå¼•ä¸€å¼ æˆ‘æ˜é‡‘çš„å¤´åƒæ¥åšç¤ºä¾‹ï¼Œè¦æ³¨æ„è¿™é‡Œéœ€è¦ç­‰å¾…å›¾ç‰‡åŠ è½½å®Œä¹‹åå†æ¸²æŸ“ // åˆ›å»ºæ–° image å¯¹è±¡ï¼Œç”¨ä½œå›¾æ¡ˆ var img = new Image(); img.src = &#39;https://sf6-ttcdn-tos.pstatp.com/img/user-avatar/01434b575492b00010706d94d5b975aa~300x300.image&#39;; img.onload = function() { // åˆ›å»ºå›¾æ¡ˆ var p = ctx.createPattern(img, &#39;no-repeat&#39;); ctx.fillStyle = p; ctx.fillRect(0, 0, 150, 150); } æ–‡æœ¬å›¾ç‰‡éƒ½å¯ä»¥æ¸²æŸ“é‚£æ–‡æœ¬ä¸ä¹Ÿè½»è½»æ¾æ¾ï¼Œcanvas æä¾›äº†ä¸¤ç§æ–¹æ³•æ¥æ¸²æŸ“æ–‡æœ¬: fillText(text, x, y [, maxWidth])åœ¨æŒ‡å®šçš„(x,y)ä½ç½®å¡«å……æŒ‡å®šçš„æ–‡æœ¬ï¼Œç»˜åˆ¶çš„æœ€å¤§å®½åº¦æ˜¯å¯é€‰çš„. strokeText(text, x, y [, maxWidth])åœ¨æŒ‡å®šçš„(x,y)ä½ç½®ç»˜åˆ¶æ–‡æœ¬è¾¹æ¡†ï¼Œç»˜åˆ¶çš„æœ€å¤§å®½åº¦æ˜¯å¯é€‰çš„. æ ¹æ®APIçš„è¯­ä¹‰å°±å¯ä»¥çŸ¥é“ä½œç”¨ï¼Œstrokeå’Œfillå°±æ˜¯æˆ‘ä»¬å‰é¢ç”¨çš„æè¾¹å’Œå¡«å…… æ–‡æœ¬å¯ä»¥è®¾ç½®å­—ä½“ç­‰æ ·å¼ font = valueå½“å‰æˆ‘ä»¬ç”¨æ¥ç»˜åˆ¶æ–‡æœ¬çš„æ ·å¼. è¿™ä¸ªå­—ç¬¦ä¸²ä½¿ç”¨å’Œ CSS font å±æ€§ç›¸åŒçš„è¯­æ³•. é»˜è®¤çš„å­—ä½“æ˜¯ 10px sans-serifã€‚ textAlign = valueæ–‡æœ¬å¯¹é½é€‰é¡¹. å¯é€‰çš„å€¼åŒ…æ‹¬ï¼šstart, end, left, right or center. é»˜è®¤å€¼æ˜¯ startã€‚ textBaseline = valueåŸºçº¿å¯¹é½é€‰é¡¹. å¯é€‰çš„å€¼åŒ…æ‹¬ï¼štop, hanging, middle, alphabetic, ideographic, bottomã€‚é»˜è®¤å€¼æ˜¯ alphabeticã€‚` direction = valueæ–‡æœ¬æ–¹å‘ã€‚å¯èƒ½çš„å€¼åŒ…æ‹¬ï¼šltr,rtl,inheritã€‚é»˜è®¤å€¼æ˜¯inheritã€‚` è¿™äº›è·Ÿcssçš„æ ·å¼æ˜¯åŸºæœ¬ä¸€è‡´çš„ ç§»åŠ¨å’Œç¼©æ”¾æ—¢ç„¶canvasæ˜¯ä¸ºäº†è§£å†³åŠ¨æ€å›¾ç‰‡çš„é—®é¢˜è€Œè®¾è®¡çš„ï¼Œé‚£ä¹ˆç§»åŠ¨å’Œç¼©æ”¾å¯ä»¥è¯´æ˜¯åŠ¨ç”»çš„åŸºç¡€ ç§»åŠ¨å¾ˆç®€å•ï¼Œä½¿ç”¨translate(x, y)æ¥æ§åˆ¶ç§»åŠ¨ï¼Œxå’Œyåˆ†åˆ«å°±æ˜¯xè½´å’Œyè½´çš„åç§»é‡ï¼› æ—‹è½¬ä½¿ç”¨rotate(angle)ï¼Œæ¥å—ä¸€ä¸ªè§’åº¦å‚æ•°ï¼Œæ²¿é¡ºæ—¶é’ˆæ–¹å‘ï¼Œæ—‹è½¬ç‚¹é»˜è®¤æ˜¯ï¼ˆ0ï¼Œ0ï¼‰ç‚¹ï¼Œé™¤éæˆ‘ä»¬ä½¿ç”¨translateæ¥ç§»åŠ¨å®ƒï¼ˆæ¯”å¦‚ç›´æ¥ctx.translate(10, 10)å³å¯ï¼‰ï¼› æ¥ä¸‹æ¥æ˜¯ç¼©æ”¾ï¼Œscale(x, y)ï¼Œxå’Œyåˆ†åˆ«æ˜¯xè½´å’Œyè½´æ–¹å‘çš„æ‰€å½“æ¯”ä¾‹ï¼Œ1ä¸ºä¸å˜ï¼Œ&lt;1æ˜¯ç¼©å°ï¼Œåä¹‹æ”¾å¤§ï¼›å¦‚æœå‡ºç°è´Ÿæ•°ï¼Œå°±æ˜¯æŒ‰ç…§æ‰€åœ¨çš„è½´è¿›è¡Œé•œåƒç¿»è½¬ å¦‚æœä½ ç†Ÿæ‚‰cssçš„transformï¼Œé‚£è¿™é‡Œåº”è¯¥ä¹Ÿå¾ˆç®€å•ï¼Œä»–ä»¬å¾ˆç›¸ä¼¼ã€‚ è’™ç‰ˆå…³äºè’™ç‰ˆå†…å®¹ï¼Œæ”¾ä¸ªæ–‡æ¡£åœ¨è¿™é‡Œå§ï¼Œè¯´èµ·æ¥å¤ªè´¹åŠ²äº†ï¼Œå¦‚æœä½ ç”¨è¿‡PhotoShopï¼Œä½ å¯èƒ½ä¼šæ¯”è¾ƒå¥½ç†è§£ åŠ¨ç”»å…³äºåŠ¨ç”»å¯ä»¥ä½¿ç”¨çš„æ–¹æ³•æœ‰ä¸‰ç§setTimeoutã€setIntervalã€requestAnimationFrameï¼Œå‰ä¸¤ä¸ªå°±æ˜¯ä½ ç†Ÿæ‚‰çš„é‚£ä¸¤ä¸ªå®šæ—¶å™¨ï¼ŒrequestAnimationFrameè¯‰æµè§ˆå™¨ä½ å¸Œæœ›æ‰§è¡Œä¸€ä¸ªåŠ¨ç”»ï¼Œå¹¶åœ¨é‡ç»˜ä¹‹å‰ï¼Œè¯·æ±‚æµè§ˆå™¨æ‰§è¡Œä¸€ä¸ªç‰¹å®šçš„å‡½æ•°æ¥æ›´æ–°åŠ¨ç”»ã€‚ åŠ¨ç”»çš„å¤§ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š æ¸…é™¤ä¸Šä¸€å¸§ï¼Œå¯ä»¥ä½¿ç”¨çš„æ–¹æ³•å¾ˆå¤šï¼Œæœ€ç®€å•çš„å°±æ˜¯æ¸…ç©ºçŸ©å½¢ï¼Œé•¿å®½ä¸ºcanvasçš„é•¿å®½ ä¿å­˜canvasçŠ¶æ€ï¼ˆæ ·å¼ï¼Œå˜å½¢ä¹‹ç±»çš„ï¼‰,ctx.save() ç»˜åˆ¶å›¾å½¢ æ¢å¤canvasçŠ¶æ€,ctx.restore() æˆ‘ä»¬è¿™é‡Œæ¥åšä¸€ä¸ªå°çš„ç¤ºä¾‹ï¼ŒçŸ©å½¢ä¸‹è½ ctx.beginPath(); let h = 0 function down() { h += 1 ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillRect(0, h, 100, 100) window.requestAnimationFrame(down) } down() æ•ˆæœå¦‚ä¸‹ é‚£ä¹ˆå…³äºcanvasçš„APIæˆ‘ä»¬ä¹Ÿå·²ç»äº†è§£çš„å·®ä¸å¤šäº†ï¼Œä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªäº”å­æ£‹çš„å°æ¸¸æˆ canvaså®æˆ˜â€”â€”äº”å­æ£‹ä¹‹å‰ä¸‰èŠ‚æˆ‘ä»¬é“ºå«äº†canvasçš„ç›¸å…³çŸ¥è¯†ï¼Œè¿™ä¸€èŠ‚æˆ‘ä»¬æ¥â€œè½åœ°â€ï¼Œå®ç°ä¸€ä¸ªäº”å­æ£‹çš„å°æ¸¸æˆ å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæƒ³ä¸€ä¸‹è¦åšä»€ä¹ˆï¼š é¦–å…ˆæˆ‘ä»¬è¦ç»˜åˆ¶ä¸€ä¸ªæ£‹ç›˜ ç„¶åè¦æœ‰é»‘å­å’Œç™½å­ æ¯æ¬¡è½å­æ—¶åˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦å·²ç»è½å­ï¼Œâ€œç±³â€å­—å‹æ–¹å‘ä¸Šæ˜¯å¦æœ‰äº”ä¸ªå­ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œå½“å‰è½å­ä¸€æ–¹è·èƒœ ä¸‹é¢é©¬ä¸Šå¼€å§‹ï¼Œå…ˆåšå¥½å‡†å¤‡å·¥ä½œï¼Œå‡†å¤‡ä¸€ä¸ªcanvaså®¹å™¨å’Œä¸€ä¸ªåˆ·æ–°æŒ‰é’®ç”¨æ¥é‡æ–°å¼€ç›˜ï¼Œç„¶åå‡†å¤‡ä¸€ä¸ªç»“æœåŒºæ˜¾ç¤ºæç¤ºä¿¡æ¯ &lt;canvas id=&quot;canvas&quot; width=&quot;200px&quot; height=&quot;200px&quot;&gt;&lt;/canvas&gt; &lt;p class=&quot;result&quot;&gt;&lt;/p&gt; &lt;button onclick=&quot;loadPanel(400, 400,30,13)&quot;&gt;åˆ·æ–°&lt;/button&gt; æ£‹ç›˜é¦–å…ˆæˆ‘ä»¬æ¥ç»˜åˆ¶æ£‹ç›˜ï¼Œè¿™ä¸ªå¾ˆç®€å•ï¼Œå¾ªç¯ç”»ç›´çº¿å³å¯ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰çš„æ“ä½œæ”¾ç½®åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œä»¥ä¾¿é‡æ–°å¼€å±€ /** * @param w æ£‹ç›˜å®½åº¦ * @param h æ£‹ç›˜é«˜åº¦ * @param cs æ ¼å­å°ºå¯¸ * @param ps æ£‹å­åŠå¾„ */ function loadPanel(w, h, cs, ps) { let i, j, k; //1)ç»˜åˆ¶æ£‹ç›˜,è¾¹ç¼˜åº”éš”å¼€æ£‹å­åŠå¾„çš„è·ç¦» cs = cs || 16;//é»˜è®¤æ ¼å­å®½é«˜ ps = ps || 4;//æ£‹å­åŠå¾„ h = h || w;//é«˜åº¦é»˜è®¤ç­‰äºå®½åº¦ let el = document.getElementById(&#39;canvas&#39;); el.setAttribute(&#39;width&#39;, w + &#39;px&#39;); el.setAttribute(&#39;height&#39;, h + &#39;px&#39;); let context = el.getContext(&quot;2d&quot;); //è®¡ç®—æ£‹ç›˜åˆ†å‰²ï¼Œå‘ä¸‹å–æ•´ let splitX = ~~((w - 2 * ps) / cs), splitY = ~~((h - 2 * ps) / cs); //å¾ªç¯åˆ’çº¿ context.translate(ps, ps); context.beginPath(); context.strokeStyle = &#39;#000&#39;; //å‚ç›´çº¿ for (i = 0; i &lt; splitX + 1; i++) { context.moveTo(cs * i, 0); context.lineTo(cs * i, splitY * cs); context.stroke(); } //æ°´å¹³çº¿ for (j = 0; j &lt; splitY + 1; j++) { context.moveTo(0, cs * j); context.lineTo(splitX * cs, cs * j); context.stroke(); } context.closePath(); } // ç»˜åˆ¶æ£‹ç›˜ loadPanel(400, 400, 30, 13); ~~ä½œç”¨æ˜¯å‘ä¸‹å–æ•´ï¼Œå¯ä»¥å°†æµ®ç‚¹ç±»å‹è½¬ä¸ºæ•´æ•°ï¼Œå­—ç¬¦ä¸²ç±»å‹çš„æ•°å­—ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯æ— æ³•è½¬ä¸ºæ•°å­—çš„ç»“æœä¸º0 ç°åœ¨æ‰“å¼€æµè§ˆå™¨ï¼Œçœ‹ä¸€ä¸‹æ•ˆæœ æ£‹å­æ£‹å­çš„ç»˜åˆ¶ä¹Ÿä¸éš¾ï¼Œå°±æ˜¯ç”»åœ†ï¼Œé»‘å­å¡«å……é»‘è‰²ï¼Œç™½å­å¡«å……ç™½è‰²ï¼Œç„¶åæä¸ªè¾¹ï¼Œç›¸å…³APIä¹‹å‰ä¹Ÿæœ‰è¿‡ä»‹ç»ï¼Œæˆ‘ä»¬å…ˆåœ¨æ£‹ç›˜ä¸Šç»˜åˆ¶ä¸¤ä¸ªé™æ€çš„æ£‹å­è§‚å¯Ÿæ•ˆæœ context.beginPath() context.arc(cs * 0, cs * 0, ps, 2 * Math.PI, false); context.fillStyle = &#39;#fefefe&#39; context.fill() context.stroke(); context.closePath() context.beginPath() context.arc(cs * 1, cs * 0, ps, 2 * Math.PI, false); context.fillStyle = &#39;#000&#39; context.fill() context.stroke(); context.closePath() æ•ˆæœè¿˜ä¸é”™ï¼Œä½†æ˜¯åœ¨ä¸‹æ£‹æ—¶éœ€è¦é¼ æ ‡ç‚¹å‡»ï¼Œè¿™é‡Œçš„æ£‹å­æ¸²æŸ“æ˜¯éœ€è¦é¼ æ ‡ç‚¹å‡»äº‹ä»¶æ¥è§¦å‘çš„ï¼Œä¸‹é¢æ¥ç»™canvasæ·»åŠ é¼ æ ‡ç‚¹å‡»äº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦è·å–é¼ æ ‡çš„ç‚¹å‡»åæ ‡ï¼Œç„¶åè®¡ç®—å‡ºä»–åº”è¯¥è½åœ¨å“ªä¸ªç‚¹ï¼Œè¿˜è¦å¾ªç¯è½å­ï¼Œ let user = 0, colors = [&#39;#000&#39;, &#39;#fefefe&#39;]; el.addEventListener(&#39;click&#39;, function (e) { let x = e.offsetX, y = e.offsetY, //è®¡ç®—è½å­èŒƒå›´ rx = ~~((x - ps) / cs) + (((x - ps) % cs &lt;= cs / 2) ? 0 : 1), ry = ~~((y - ps) / cs) + (((y - ps) % cs &lt;= cs / 2) ? 0 : 1); context.beginPath(); context.arc(cs * rx, cs * ry, ps, 2 * Math.PI, false); context.fillStyle = colors[user]; context.strokeStyle = &#39;#000&#39;; user ? user = 0 : user = 1;//åˆ‡æ¢æ‰§å­è€… context.fill(); context.stroke(); context.closePath(); }) ç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†50%äº† èƒœæ–¹åˆ¤å®šç°åœ¨è¿›è¡Œåšäº‹åçš„ä¸€æ­¥ï¼Œåˆ¤å®šâ€œç±³â€å­—æ–¹å‘ä¸Šæ˜¯å¦å­˜åœ¨5ä¸ªåŒè‰²æ£‹å­ï¼Œæˆ‘ä»¬å…ˆæ¥è€ƒè™‘ä¸€ä¸‹ç­”é¢˜æ€è·¯ï¼Œä½ å…ˆä¸è¦å¾€ä¸‹çœ‹ï¼Œå…ˆè€ƒè™‘ä¸€ä¸‹è‡ªå·±çš„æƒ³æ³• å¥½äº†ï¼Œç°åœ¨ä¸ç®¡ä½ æƒ³æ²¡æƒ³å‡ºæ¥ï¼Œæˆ‘æ¥è¯´ä¸€ä¸‹å¤§æ¦‚æ€è·¯ï¼Œé¦–å…ˆå®šä¹‰ä¸€ä¸ªå¯¹è±¡æ¥å­˜å‚¨è½å­æƒ…å†µï¼Œå¤§æ¦‚çš„å½¢å¼æ˜¯è¿™æ ·çš„ { &#39;1-1&#39;: 0, &#39;1-2&#39;: 1 } // keyæ˜¯æ£‹ç›˜ä½ç½®ï¼Œvalueæ˜¯èº«ä»½ ç„¶åä½¿ç”¨åˆ†åˆ«ä½¿ç”¨[0,1]ã€[1, 0]ã€[1, 1]ã€[1, -1]è¡¨ç¤ºä¸Šä¸‹ã€å·¦å³ã€æ–œå‘ä¸Šã€æ–œå‘ä¸‹å››ä¸ªæ–¹ä½ï¼Œå¾…ä¼šä¼šåˆ†åˆ«æ‹¿è¿™å‡ ä¸ªæ–¹ä½æ¥è¿›è¡Œéå†ï¼ŒåŸç†å¤§æ¦‚æ˜¯è¿™æ ·çš„ ä»¥[0, 1]ä¸ºä¾‹ï¼Œåœ¨forï¼ˆlet i = 1; i&lt;= 4 ; i++ï¼‰{}ä¸­ï¼Œåˆ†åˆ«ç”¨0å’Œ1å»ä¹˜ä»¥iï¼Œç„¶ååŠ ä¸Šå½“å‰ç‚¹å‡»æœªçŸ¥çš„xæˆ–è€…yåæ ‡ï¼Œå°±èƒ½å¤Ÿéå†ï¼Œå› ä¸ºiæ— è®ºæ˜¯å¤šå°‘ä¹˜0éƒ½æ˜¯0ï¼Œæ‰€ä»¥xåæ ‡æ˜¯ä¸ä¼šå˜çš„ï¼Œé‚£ä¹ˆyåæ ‡ä¼šéå†ä¸Šè¾¹çš„å››ä¸ªï¼Œå¦‚æœè¿™å››ä¸ªçš„éƒ½æ˜¯å½“å‰è½å­é€‰æ‰‹çš„å³åˆ¤å®šä¸ºèµ¢ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±å‘åæ–¹å‘å»æ‰¾ï¼Œå³å¾ªç¯forï¼ˆlet i = -1; i&gt;= -4 ; iâ€“ï¼‰{}ï¼Œå¦‚æœå½“å‰å¾ªç¯ç»“æŸæ²¡æœ‰åˆ¤å®šèƒœåˆ©å†å»å…¶ä»–æ–¹å‘é‡è¯»æ­¤æ­¥éª¤ è®¡ç®—å‡ºåæ ‡æ¥ä¹‹ååœ¨å­˜å‚¨è½å­çš„å¯¹è±¡ä¸­å¯»æ‰¾è½å­è€…ï¼Œå¦‚æœæ˜¯å½“å‰è½å­è€…å°±ç´¯åŠ ï¼Œå¦‚æœéå†ç»“æŸæ»¡è¶³è·èƒœæ¡ä»¶æ¸¸æˆç»“æŸ let user = 0, colors = [&#39;#000&#39;, &#39;#fefefe&#39;]; let chks = [[1, 0], [0, 1], [1, 1], [1, -1]]; // å››ä¸ªæ–¹å‘ let pieces = {}; // è®°å½•æ¸¸æˆè€…è½å­ä½ç½® let successNum = 5;//èµ¢æ£‹æ ‡å‡† let resultEl = document.querySelector(&#39;.result&#39;); el.addEventListener(&#39;click&#39;, function (e) { let x = e.offsetX, y = e.offsetY, //è®¡ç®—è½å­èŒƒå›´ rx = ~~((x - ps) / cs) + (((x - ps) % cs &lt;= cs / 2) ? 0 : 1), ry = ~~((y - ps) / cs) + (((y - ps) % cs &lt;= cs / 2) ? 0 : 1); context.beginPath(); context.arc(cs * rx, cs * ry, ps, 2 * Math.PI, false); context.fillStyle = colors[user]; context.strokeStyle = &#39;#000&#39;; user ? user = 0 : user = 1;//åˆ‡æ¢æ‰§å­è€… context.fill(); context.stroke(); context.closePath(); piece = pieces[rx + &#39;-&#39; + ry] = user; for (j = 0; j &lt; chks.length; j++) { let num = 1, chk = chks[j]; for (i = 1; i &lt;= 4; i++) { if (pieces[(rx + chk[0] * i) + &#39;-&#39; + (ry + chk[1] * i)] == piece) { num++ } else { for (i = -1; i &gt;= -4; i--) { if (pieces[(rx + chk[0] * i) + &#39;-&#39; + (ry + chk[1] * i)] == piece) { num++ } } break } } if (num == successNum) { status = false resultEl.innerHTML = [&#39;ç™½&#39;, &#39;é»‘&#39;][user] + &#39;æ–¹èµ¢&#39;; break; } } }) ç„¶åå°±å®Œäº‹äº† ä½†æ˜¯ç°åœ¨è¿˜æœ‰å¾ˆå¤šé€»è¾‘é—®é¢˜æ²¡æœ‰è§£å†³ï¼Œæ¸¸æˆç»“æŸä¹‹åé™åˆ¶ä¸å¯ç»§ç»­è½å­ï¼Œç‚¹å‡»ä½ç½®å¦‚æœå·²ç»æœ‰è¿‡è½å­åˆ™ä¸å¯ç»§ç»­è½å­ç­‰è¿™äº›å°±å½“ä½œä¸šç•™ç»™ä½ å§ï¼Œå…¶å®ä¸éš¾ï¼Œå¥½å¥½è€ƒè™‘è€ƒè™‘å§ æˆ‘æœ€ç»ˆçš„å®ç°æ•ˆæœå¦‚ä¸‹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"æ‰‹åŠ¨å®ç°ç®€æ˜“Vuex","slug":"æŠ€æœ¯/vuexç®€å•å®ç°","date":"2021-04-18T04:23:33.925Z","updated":"2021-04-19T12:38:28.957Z","comments":true,"path":"2021/04/18/æŠ€æœ¯/vuexç®€å•å®ç°/","link":"","permalink":"https://easyremember.cn/2021/04/18/æŠ€æœ¯/vuexç®€å•å®ç°/","excerpt":"","text":"åŒæ ·ï¼Œè¿™ä¸€æ¬¡æˆ‘ä»¬åªè®²åŸç†ï¼Œå¦‚æœä½ è¿˜ä¸ä¼šVuexçš„ä½¿ç”¨ï¼Œç®€æ˜“ç§»æ­¥å®˜ç½‘ ä»»åŠ¡åˆ†æå…ˆæ¥æ ¹æ®Vuexçš„æµç¨‹å›¾æ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬éœ€è¦åšä»€ä¹ˆ vuexä¹Ÿæ˜¯ä¸€ä¸ªæ’ä»¶ å®ç°å››ä¸ªä¸œè¥¿ï¼šstate/mutations/actions/getters åˆ›å»ºStore æ•°æ®å“åº”å¼ æ’ä»¶å…³äºæ’ä»¶è¿™é‡ŒåŒæ ·ä¸å¤šè¯´ï¼Œä¸ä¼šçš„è¯·ç§»æ­¥å®˜ç½‘ï¼Œè¿™é‡Œä¾æ—§è´´ä¸€å¼ å›¾ åœ¨å®‰è£…æ’ä»¶æ—¶ï¼Œé€šè¿‡Vue.useè§¦å‘æ’ä»¶çš„installæ–¹æ³• function install(_Vue) { Vue = _Vue Vue.mixin({ beforeCreate() { // åªæœ‰æ ¹å…ƒç´ æ‰æœ‰store if (this.$options.store) { Vue.prototype.$store = this.$options.store } } }) } è¿™é‡Œæ³¨æ„åªæœ‰ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶æ‰ç»™å…ƒç´ æ·»åŠ storeï¼Œä¹Ÿå°±æ˜¯æ ¹èŠ‚ç‚¹ å››ä¸ªæ ¸å¿ƒé¦–å…ˆè¦æœ‰ä¸€ä¸ªå¯å®ä¾‹åŒ–çš„Storeç±»ï¼Œè¿™ç‚¹å®˜ç½‘ç»™çš„å®ä¾‹å¯ä»¥çœ‹å‡ºæ¥ é‚£æˆ‘ä»¬å°±å…ˆåˆ›å»ºä¸€ä¸ªStoreç±»ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªé…ç½®å¯¹è±¡ class Store { constructor(options) { this.state = new Vue({ data() { return { ...options.state} } }) this.mutations = options.mutations this.actions = options.actions options.getters &amp;&amp; this.handleGetters(options.getters) } } stateè´Ÿè´£å­˜å‚¨æ•°æ®ï¼Œå€Ÿç”¨Vueå®ä¾‹æ¥å®ç°å“åº”å¼ï¼›mutationsç”¨æ¥å­˜å‚¨æ”¹å˜stateçš„æ–¹æ³•ï¼›actionsç”¨æ¥å­˜å‚¨å¼‚æ­¥æ–¹æ³•ï¼Œè¿™é‡Œæ³¨æ„actionsæœ¬èº«å¹¶ä¸å…·å¤‡å¼‚æ­¥ç‰¹æ€§ï¼Œä»…ä½œä¸ºå¼‚æ­¥æ–¹æ³•çš„å®¹å™¨ï¼Œä»–å¯ä»¥è°ƒç”¨mutationsä¸­çš„æ–¹æ³•ï¼›getterså¯ä»¥ç”¨æ¥è¯»å–stateçš„å†…å®¹ï¼Œå°†ç»“æœå¤„ç†è¿”å› class Store { constructor(options) { this.state = new Vue({ data() { return { ...options.state} } }) this.mutations = options.mutations this.actions = options.actions options.getters &amp;&amp; this.handleGetters(options.getters) } commit = (type, args) =&gt; { this.mutations[type](this.state, args) } dispatch = (type, args) =&gt; { this.actions[type]({ commit: this.commit, state: this.state }, args) } handleGetters(getters) { this.getters = {} Object.keys(getters).forEach(key =&gt; { Object.defineProperty(this.getters, key, { get: () =&gt; { return getters[key](this.state) } }) }) } } æµ‹è¯•ç°åœ¨æˆ‘ä»¬å·²ç»å®ç°äº†ä¸€ä¸ªç®€æ˜“ç‰ˆçš„Vuexï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥è¿›è¡Œä¸€ä¸‹æµ‹è¯• æ–°å»ºä¸€ä¸ªstore.jsï¼Œç”¨æ¥å®ä¾‹åŒ–store Vue.use(Vuex) export default new Vuex.Store({ state: { count: 0 }, mutations: { add(state) { state.count++ } }, actions: { addAsync({ commit }) { setTimeout(() =&gt; { commit(&#39;add&#39;) }, 1000) } }, getters: { getCount(state) { return state.count } } }) åœ¨main.jsä¸­å¼•å…¥store import store from &#39;./store&#39; new Vue({ store, router, render: h =&gt; h(App), }).$mount(&#39;#app&#39;) ç¼–å†™Vueç»„ä»¶ï¼Œè°ƒç”¨Vuexæ–¹æ³• &lt;div&gt; {{$store.getters.getCount}} &lt;br /&gt; &lt;button @click=&quot;$store.commit(&#39;add&#39;)&quot;&gt;åŒæ­¥+1&lt;/button&gt; &lt;button @click=&quot;$store.dispatch(&#39;addAsync&#39;)&quot;&gt;å»¶æ—¶+1&lt;/button&gt; &lt;/div&gt; æµ‹è¯•ç»“æœå¦‚ä¸‹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"vue-routerå®ç°åŸç†","slug":"æŠ€æœ¯/vue-routerç®€å•å®ç°","date":"2021-04-18T02:13:36.328Z","updated":"2021-04-18T04:11:43.989Z","comments":true,"path":"2021/04/18/æŠ€æœ¯/vue-routerç®€å•å®ç°/","link":"","permalink":"https://easyremember.cn/2021/04/18/æŠ€æœ¯/vue-routerç®€å•å®ç°/","excerpt":"","text":"æœ¬ç¯‡åªè¯´åŸç†ï¼Œä¸è¯´ä½¿ç”¨ï¼Œå¦‚æœä¸ä¼šä½¿ç”¨è¯·ç§»æ­¥å®˜ç½‘æ–‡æ¡£ ä»»åŠ¡åˆ†æåœ¨å®ç°ä¹‹å‰æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹éœ€è¦åšçš„å¤„ç†æ˜¯ä»€ä¹ˆï¼Œæœ‰äº†å¤§çº²æ‰èƒ½è½»æ¾å®Œæˆä»»åŠ¡ é¦–å…ˆvue-routeræ˜¯ä¸€ä¸ªæ’ä»¶ å…¶æ¬¡å¯ä»¥ç›‘å¬è·¯ç”±å˜åŒ– ç„¶åå°±æ˜¯è·¯ç”±é…ç½®è§£æï¼Œè¯´ç™½äº†å°±æ˜¯æ ¹æ®è·¯ç”±åŒ¹é…ç»„ä»¶ è¿˜è¦æœ‰å…¨å±€ç»„ä»¶router-linkã€router-view æ’ä»¶å¼€å‘æ’ä»¶çš„è¯´æ˜åœ¨å®˜ç½‘ä¹Ÿæœ‰æ˜ç¡®è¯´æ˜ï¼Œå¦‚æœä½ è¿˜ä¸çŸ¥é“ï¼Œæˆ‘è¿˜æ˜¯æ¨èä½ å»çœ‹ä¸€ä¸‹å®˜ç½‘æ–‡æ¡£çš„æ’ä»¶éƒ¨åˆ†ï¼Œå¦‚æœä½ å®åœ¨ä¸æƒ³å»çœ‹æ–‡æ¡£ï¼Œé‚£å°±å¸®ä½ è´´å¼ å›¾å§ Vueåœ¨ä½¿ç”¨æ’ä»¶çš„ä½¿ç”¨é€šè¿‡Vue.use()æ¥ä½¿ç”¨æ’ä»¶ï¼Œä¼šè°ƒç”¨æ’ä»¶çš„installæ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬é¦–é€‰æ¥å®ç°è¿™ä¸ªinstallæ–¹æ³• class VueRouter { init() {} } VueRouter.install = function (Vue) { // æ··å…¥ï¼Œä¼šå’Œvueçš„ç”Ÿå‘½å‘¨æœŸä¸€èµ·æ‰§è¡Œ Vue.mixin({ beforeCreate() { // æŒ‡å‘vueå®ä¾‹ï¼Œæ ¹ç»„ä»¶æ‰§è¡Œä¸€æ¬¡ if (this.$options.router) { Vue.prototype.$router = this.$options.router this.$options.router.init() } }, }) } Vue.use(VueRouter) initè´Ÿè´£åˆå§‹åŒ–æ’ä»¶ï¼Œé‚£ä¹ˆç°åœ¨æ•´ä½“æ¡†æ¶å·²ç»OKäº†ï¼Œåœ¨å¼€å§‹çš„ä»»åŠ¡å¤§çº²é‡Œé¢åˆ—å‡ºçš„å…¶ä»–ä»»åŠ¡å°±å¯ä»¥æ–¹æ³•è¿™é‡Œäº† class VueRouter { constructor(options) { this.$options = options this.routeMap = {} // åˆ©ç”¨Vueå®ç°åŒå‘ç»‘å®š this.app = new Vue({ data() { return { current: &#39;/&#39; } } }) } init() { this.bindEvents() this.createRouteMap() this.initComponents() } bindEvents() { } createRouteMap() { } initComponents() { } } è¿™é‡Œåˆ©ç”¨äº†Vueæ¥å®ç°è·¯ç”±åœ°å€çš„å“åº”å¼ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆvue-routeråªèƒ½ç”¨åœ¨Vueé‡Œé¢çš„åŸå›  ç›‘å¬è·¯ç”±å˜åŒ–ç›‘å¬è·¯ç”±å˜åŒ–çš„è¿‡ç¨‹ååˆ†ç®€å•ï¼Œåªéœ€è¦æ·»åŠ ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨å³å¯ bindEvents() { // å¦‚æœä¸æ˜¾ç¤ºç»‘å®šthiså°±ä¼šæŒ‡å‘window window.addEventListener(&#39;load&#39;, this.onHashChange.bind(this)) window.addEventListener(&#39;hashchange&#39;, this.onHashChange.bind(this)) } onHashChange() { this.app.current = window.location.hash.slice(1) || &#39;/&#39; } ä¸Šé¢çš„sliceæ˜¯ä¸ºäº†å»é™¤# é…ç½®è·¯ç”±è§£æè·¯ç”±è§£æçš„ç›®æ ‡å°±æ˜¯æˆ‘ä»¬åœ¨ä½¿ç”¨vue-routerçš„æ—¶å€™é…ç½®çš„è·¯ç”±é…ç½®æ–‡ä»¶ï¼Œå¦‚ä¸‹ new VueRouter ({ routes: [ { path: &#39;/&#39;, component: Home }, { path: &#39;/about&#39;, component: About }, ] }) é‚£ä¹ˆè¿™é‡Œè¦åšçš„äº‹å°±æ˜¯å°†è·¯ç”±é…ç½®ä¸­çš„pathå’Œcomponentå…³è”èµ·æ¥ createRouteMap(options) { options.routes.forEach(item =&gt; { this.routeMap[item.path] = item.component }) } å®ç°å…¨å±€ç»„ä»¶è¿™é‡Œå¯ä»¥åˆ©ç”¨Vueçš„APIâ€”â€”Vue.component router-link å›å¿†ä¸€ä¸‹æˆ‘ä»¬è¦æ€ä¹ˆä½¿ç”¨è¿™ä¸ªç»„ä»¶ï¼Œ&lt;router-link to=&quot;/link&quot;&gt;è·³è½¬&lt;/router-link&gt;ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æ¥æ”¶ä¸€ä¸ªtoå±æ€§ï¼Œç„¶åè¿™ä¸ªç»„ä»¶ä¼šè¢«æ¸²æŸ“ä¸ºaæ ‡ç­¾ initComponents() { Vue.component(&#39;router-link&#39;, { props: { to: String }, render(h) { return h(&#39;a&#39;, {attrs: {href: &quot;#&quot; + this.to}}, [this.$slots.default]) } }) } è¿™é‡Œå°†toæ‹¼æ¥ä¸ºaæ ‡ç­¾çš„hrefå±æ€§ï¼Œç„¶åå°†å†…å®¹é€šè¿‡slotä¼ é€’ router-viewrouter-viewçš„åŠŸèƒ½å°±æ˜¯æ¸²æŸ“ï¼Œä»ç¼“å­˜çš„è·¯ç”±é…ç½®ä¸­æ‹¿å‡ºå¹¶æ¸²æŸ“åŒ¹é…å½“å‰è·¯ç”±ç»„ä»¶ initComponents() { // Â·Â·Â· Vue.component(&#39;router-view&#39;, { render: (h) =&gt; { const component = this.routeMap[this.app.current] return h(component) } }) } è¿™é‡Œæ³¨æ„ç»†èŠ‚renderè·Ÿä¸Šé¢linkä¸­çš„å½¢å¼å‘ç”Ÿäº†ä¸€äº›å˜åŒ–ï¼Œæ”¹ç”¨äº†ç®­å¤´å‡½æ•°ï¼Œå› ä¸ºè¿™é‡Œç”¨åˆ°çš„thisï¼Œå¦‚æœä¸ä½¿ç”¨ç®­å¤´å‡½æ•°thisæŒ‡å‘å°±ä¼šæ”¹å˜ æµ‹è¯•ç°åœ¨å·²ç»å®Œæˆäº†ä¸Šé¢çš„å†…å®¹ï¼Œæˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ åœ¨æ ¹ç»„ä»¶ä¸­ç¼–å†™ä»£ç  &lt;div id=&quot;app&quot;&gt; &lt;router-link to=&quot;/&quot;&gt;é¦–é¡µ&lt;/router-link&gt; &lt;router-link to=&quot;/about&quot;&gt;å…³äº&lt;/router-link&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/div&gt; åœ¨main.jsä¸­ å¼•å…¥è·¯ç”±æ–‡ä»¶å¹¶ä¸”æ·»åŠ åˆ°Vueå®ä¾‹å‚æ•°ä¸­ import Vue from &#39;vue&#39; import App from &#39;./App.vue&#39; import router from &#39;./myRouter&#39; new Vue({ router, render: h =&gt; h(App), }).$mount(&#39;#app&#39;) æ•ˆæœå¦‚ä¸‹ åˆ°ç°åœ¨æˆ‘ä»¬å·²ç»å®ç°äº†hashæ¨¡å¼ä¸‹çš„vue-routerï¼Œå½“ç„¶vue-routerè¿˜æœ‰å¾ˆå¤šå†…ç½®çš„APIæˆ‘ä»¬ä¸ä¸€ä¸€è®²è§£ï¼Œvue-routerè¿˜æœ‰historyæ¨¡å¼ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£ï¼Œå¯ä»¥å»ç ”ç©¶ä¸€ä¸‹ æœ€åè´´ä¸€ä»½å®Œæ•´ä»£ç  import Vue from &#39;vue&#39; import Home from &#39;./views/Home&#39;; import About from &#39;./views/About&#39; class VueRouter { constructor(options) { this.$options = options this.routeMap = {} // åˆ©ç”¨Vueå®ç°åŒå‘ç»‘å®š this.app = new Vue({ data() { return { current: &#39;/&#39; } } }) } init() { this.bindEvents() this.createRouteMap(this.$options) this.initComponents() } bindEvents() { // å¦‚æœä¸æ˜¾ç¤ºç»‘å®šthiså°±ä¼šæŒ‡å‘window window.addEventListener(&#39;load&#39;, this.onHashChange.bind(this)) window.addEventListener(&#39;hashchange&#39;, this.onHashChange.bind(this)) } onHashChange() { this.app.current = window.location.hash.slice(1) || &#39;/&#39; } createRouteMap(options) { options.routes.forEach(item =&gt; { this.routeMap[item.path] = item.component }) } initComponents() { Vue.component(&#39;router-link&#39;, { props: { to: String }, render(h) { return h(&#39;a&#39;, {attrs: {href: &quot;#&quot; + this.to}}, [this.$slots.default]) } }) Vue.component(&#39;router-view&#39;, { render: (h) =&gt; { const component = this.routeMap[this.app.current] return h(component) } }) } } VueRouter.install = function (Vue) { // æ··å…¥ï¼Œä¼šå’Œvueçš„ç”Ÿå‘½å‘¨æœŸä¸€èµ·æ‰§è¡Œ Vue.mixin({ beforeCreate() { // æŒ‡å‘vueå®ä¾‹ï¼Œæ ¹ç»„ä»¶æ‰§è¡Œä¸€æ¬¡ if (this.$options.router) { Vue.prototype.$router = this.$options.router this.$options.router.init() } }, }) } Vue.use(VueRouter) export default new VueRouter ({ routes: [ { path: &#39;/&#39;, component: Home }, { path: &#39;/about&#39;, component: About }, ] })","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"å‰ç«¯æ€§èƒ½ä¼˜åŒ–","slug":"æŠ€æœ¯/å‰ç«¯æ€§èƒ½ä¼˜åŒ–","date":"2021-04-17T03:41:53.952Z","updated":"2021-04-18T14:43:59.882Z","comments":true,"path":"2021/04/17/æŠ€æœ¯/å‰ç«¯æ€§èƒ½ä¼˜åŒ–/","link":"","permalink":"https://easyremember.cn/2021/04/17/æŠ€æœ¯/å‰ç«¯æ€§èƒ½ä¼˜åŒ–/","excerpt":"","text":"é“ºå«ç§»åŠ¨äº’è”ç½‘æ—¶ä»£ï¼Œç”¨æˆ·å¯¹äºç½‘é¡µçš„æ‰“å¼€é€Ÿåº¦è¦æ±‚è¶Šæ¥è¶Šé«˜ã€‚é¦–å±ä½œä¸ºç›´é¢ç”¨æˆ·çš„ç¬¬ä¸€å±ï¼Œå…¶é‡è¦æ€§ä¸è¨€è€Œå–»ã€‚ä¼˜åŒ–ç”¨æˆ·ä½“éªŒæ›´æ˜¯æˆ‘ä»¬å‰ç«¯å¼€å‘éå¸¸éœ€è¦ focus çš„ä¸œè¥¿ä¹‹ä¸€ã€‚ ä¸€ä¸ªå¿«é€Ÿå“åº”çš„ç½‘ç«™å¯ä»¥æ›´å¥½åœ°ç•™ä½ç”¨æˆ·ï¼Œè¯•æƒ³ä¸€ä¸‹å¦‚æœä½ æ‰“å¼€ä¸€ä¸ªç½‘ç«™ï¼Œè¿‡äº†å‡ åç§’ç½‘ç«™ä»ç„¶æ²¡æœ‰åŠ è½½å®Œæˆï¼Œä½ æ˜¯å¦è¿˜ä¼šæœ‰è€å¿ƒå»ç­‰å¾…ï¼Ÿ é‚£è¿™æ ·çš„è¯è¯¥æ€ä¹ˆå»æå‡æˆ‘ä»¬ç½‘ç«™çš„æ‰“å¼€é€Ÿåº¦å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“æ‰“å¼€ç½‘ç«™çš„è¿‡ç¨‹ä¸­ç©¶ç«Ÿæ˜¯ä»€ä¹ˆåœ°æ–¹æ¯”è¾ƒè€—æ—¶ï¼Œæ‰èƒ½æ›´å¥½åœ°å»ä¼˜åŒ–ï¼Œè¿™ä¸€èŠ‚æˆ‘ä»¬ä¸»è¦åˆ†æåŠ è½½ç½‘é¡µçš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯å‰ç«¯ç»å…¸é¢è¯•é¢˜â€”â€”ä»è¾“å…¥URLåˆ°é¡µé¢æ¸²æŸ“ç»å†äº†ä»€ä¹ˆã€‚ é—®é¢˜æ ¹æºä»è¾“å…¥URLåˆ°é¡µé¢æ¸²æŸ“ç»å†äº†ä»€ä¹ˆï¼Ÿè¿™ä¸ªé—®é¢˜åœ¨å‰ç«¯é¢è¯•ä¸­å·²ç»è¢«é—®â€œçƒ‚äº†â€ï¼Œå¯èƒ½è¿˜æœ‰éƒ¨åˆ†å°ä¼™ä¼´ä¸ç†Ÿæ‚‰è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä»Šå¤©å°±æ¥å›é¡¾ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ è¾“å…¥ç½‘å€ DNSæŸ¥è¯¢ å»ºç«‹TCPè¿æ¥ æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€HTTPè¯·æ±‚ æœåŠ¡å™¨å¤„ç†è¯·æ±‚ å…³é—­TCPè¿æ¥ æµè§ˆå™¨è§£æèµ„æº é¡µé¢æ¸²æŸ“ ä¸€ä¸ªç½‘é¡µåŠ è½½çš„è¿‡ç¨‹å¤§è‡´å°±æ˜¯è¿™äº›ï¼Œå…¶ä¸­éœ€è¦æˆ‘ä»¬å‰ç«¯å·¥ä½œè€…å»ä¼˜åŒ–çš„éƒ¨åˆ†å·²ç»åŠ ç²—æ ‡æ³¨äº†ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯´è¯¦ç»†æˆ–ä¸€ä¸‹è¿™å‡ ä¸ªè¿‡ç¨‹ DNSæŸ¥è¯¢è¿™ä¸ªè¿‡ç¨‹å…¶å®å°±æ˜¯æ ¹æ®åŸŸåæŸ¥è¯¢ä¸»æœºåœ°å€çš„è¿‡ç¨‹ï¼Œä¸»æœºçš„æ ‡è¯†åœ°å€éƒ½æ˜¯é€šè¿‡IPåœ°å€æ¥åŒºåˆ†çš„ï¼Œä½†æ˜¯è¿™ä¸ªIPå¯¹äºå¸¸äººæ¥è¯´å¾ˆéš¾è®°å¿†ï¼Œäºæ˜¯å°±æœ‰äº†åŸŸåè¿™ä¸ªä¸œè¥¿ï¼Œä¸€èˆ¬æ¥è¯´åŸŸåéƒ½æ˜¯è·Ÿç½‘ç«™å†…å®¹ç›¸å…³çš„æ–¹ä¾¿è®°å¿†çš„è‹±æ–‡å•è¯æˆ–è€…å•è¯ç»„åˆï¼Œä½†æ˜¯æˆ‘ä»¬è¦è®¿é—®ä¸»æœºè¿˜æ˜¯é€šè¿‡IPæ¥è®¿é—®ï¼Œè¿™ä¸ªè¿‡ç¨‹æµè§ˆå™¨ä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬å®Œæˆã€‚ è¿™ä¸ªæŸ¥è¯¢çš„è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ï¼š é¦–å…ˆæµè§ˆå™¨è§£æè¾“å…¥çš„åŸŸåï¼Œå…ˆæŸ¥æ‰¾æœ¬åœ°ç¡¬ç›˜çš„hostæ–‡ä»¶ï¼Œçœ‹æœ‰æ²¡æœ‰å’Œè¿™ä¸ªåŸŸåå¯¹åº”çš„ipï¼Œå¦‚æœæœ‰ï¼Œå°±ç›´æ¥ä½¿ç”¨è¿™ä¸ªipã€‚ å¦‚æœæ²¡æœ‰ï¼Œæµè§ˆå™¨ä¼šå‘å‡ºä¸€ä¸ªDNSè¯·æ±‚åˆ°æœ¬åœ°DNS(åŸŸååˆ†å¸ƒç³»ç»Ÿ)æœåŠ¡å™¨.æœ¬åœ°DNSæœåŠ¡å™¨ä¸€èˆ¬éƒ½æ˜¯ä½ çš„ç½‘ç»œæ¥å…¥æœåŠ¡å™¨å•†æä¾›ï¼Œæ¯”å¦‚ä¸­å›½ç”µä¿¡ï¼Œä¸­å›½ç§»åŠ¨ã€‚ è¯·æ±‚åˆ°è¾¾DNSæœåŠ¡å™¨åï¼ŒDNSæœåŠ¡å™¨é¦–å…ˆä¼šæŸ¥è¯¢ä»–çš„ç¼“å­˜è®°å½•ï¼Œå¦‚æœæœ‰å¯¹åº”çš„ipåœ°å€ï¼Œåˆ™è¿”å›ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæœ¬åœ°DNSæœåŠ¡å™¨å‘DNSæ ¹æœåŠ¡å™¨å‘é€æŸ¥è¯¢è¯·æ±‚ã€‚ æ ¹æœåŠ¡å™¨ä¸ä¼šè®°å½•å…·ä½“çš„åŸŸåå’Œipçš„å¯¹åº”å…³ç³»ï¼Œè€Œæ˜¯è¿”å›åŸŸæœåŠ¡å™¨çš„åœ°å€.æœ¬åœ°æœåŠ¡å™¨ä¼šç»§ç»­å‘åŸŸæœåŠ¡å™¨å‘èµ·è¯·æ±‚ã€‚ åŸŸæœåŠ¡å™¨å¹¶æ²¡æœ‰è®°å½•åŸŸåå’Œipçš„å¯¹åº”å…³ç³»ï¼Œè€Œæ˜¯è¿”å›ä½ çš„åŸŸåçš„è§£ææœåŠ¡å™¨çš„åœ°å€. æœ¬åœ°DNSæœåŠ¡å™¨ç»§ç»­å‘åŸŸåè§£ææœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œè¿™æ—¶ä¼šæ”¶åˆ°åŸŸåå¯¹åº”çš„ipï¼Œæœ¬åœ°DNSæœåŠ¡å™¨å°†ipè¿”å›ç»™æµè§ˆå™¨ï¼Œå¹¶å°†ipå­˜å…¥ç¼“å­˜ï¼Œæ–¹ä¾¿ä¸‹æ¬¡è®¿é—®ï¼ŒåŠ å¿«è®¿é—®é€Ÿåº¦ã€‚ å…¶å®è¿™ä¸ªè¿‡ç¨‹çš„æœ‰è¯ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±åŠ¨æ‰‹ï¼Œæµè§ˆå™¨æˆ–è€…è¿è¡Œå•†å·²ç»é€šè¿‡ç¼“å­˜æ‰‹æ®µå¸®åŠ©æˆ‘ä»¬å®Œæˆäº†ä¼˜åŒ– HTTPè¯·æ±‚ç°åœ¨å¤§å¤šçš„ç½‘ç»œè¯·æ±‚éƒ½åŸºäºHTTPåè®®å®Œæˆï¼Œä»–æ˜¯ä¸€ä¸ªåŸºäºTCPçš„åº”ç”¨å±‚åè®®ã€‚ åœ¨ HTTP è¯·æ±‚é˜¶æ®µï¼Œæœ€å¤§çš„ç“¶é¢ˆç‚¹æ¥æºäºè¯·æ±‚é˜»å¡ã€‚æ‰€è°“è¯·æ±‚é˜»å¡ï¼Œå°±æ˜¯æµè§ˆå™¨ä¸ºä¿è¯è®¿é—®é€Ÿåº¦ï¼Œä¼šé»˜è®¤å¯¹åŒä¸€åŸŸä¸‹çš„èµ„æºä¿æŒä¸€å®šçš„è¿æ¥æ•°ï¼Œè¯·æ±‚è¿‡å¤šå°±ä¼šè¿›è¡Œé˜»å¡ï¼Œä¸€èˆ¬æ˜¯ 6 ä¸ªã€‚æ‰€ä»¥å‡å°‘HTTPè¯·æ±‚æˆ–è€…ä½¿ç”¨å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰æ˜¯ä¼˜åŒ–æ–¹å‘ã€‚ å…¶æ¬¡ï¼ŒHTTPèµ„æºä¼ è¾“ä¹Ÿéœ€è¦æ¶ˆè€—æ—¶é—´ï¼Œæ—¶é•¿å’Œèµ„æºå¤§å°æˆæ­£æ¯”ï¼Œç¼©å°èµ„æºä½“ç§¯ä¹Ÿæ˜¯ä¸€ä¸ªä¼˜åŒ–æ–¹å‘ã€‚ å†å°±æ˜¯å°†ä¸é‡è¦çš„ä¸”çŸ­æ—¶é—´ä¸ä¼šæ”¹åŠ¨çš„é™æ€èµ„æºç¼“å­˜ä¸‹æ¥ä¹Ÿæ˜¯ä¸€ä¸ªæ–¹å‘ è§£æ&amp;æ¸²æŸ“æœ€åä¸€æ­¥å‘ç”Ÿåœ¨æµè§ˆå™¨ï¼Œæµè§ˆå™¨å°†ä»æœåŠ¡å™¨è·å–åˆ°çš„HTMLã€CSSã€JSç­‰æ–‡ä»¶è¿›è¡Œè§£æç„¶åæ¸²æŸ“é¡µé¢ã€‚ é¦–å…ˆä¼šå¹¶è¡Œè§£æHTMLæ–‡æ¡£å’ŒCSSæ ·å¼ï¼Œåˆ†åˆ«ç”Ÿæˆäº§ç‰©DOMå’ŒCSSOMï¼Œç„¶åå°†äºŒè€…èåˆç”Ÿæˆæ¸²æŸ“æ ‘ï¼Œæœ€åç»˜åˆ¶æ¸²æŸ“æ ‘ç”Ÿæˆé¡µé¢ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä¸ä¼šæœ‰JSè„šæœ¬å‚ä¸ï¼Œåªè¦æœ‰HTMLå’ŒCSSå°±å¯ä»¥å®Œæˆï¼Œä½†æ˜¯é‡åˆ°scriptæ ‡ç­¾å°±ä¼šè¢«é˜»å¡ï¼Œå› ä¸ºJSå¯ä»¥æ”¹å˜HTMLå’ŒCSSï¼Œå› æ­¤éå¿…è¦æƒ…å†µä¸‹ä¸è¦åœ¨è¿‡ç¨‹ä¸­æ·»åŠ scriptè„šæœ¬ï¼Œå¯ä»¥å°†scriptæ ‡ç­¾æ”¾åˆ°æ–‡æ¡£å†…å®¹çš„æœ€åæˆ–è€…ä½¿ç”¨ defer å’Œ asyncï¼Œå‘Šè¯‰æµè§ˆå™¨åœ¨ç­‰å¾…è„šæœ¬ä¸‹è½½æœŸé—´ä¸é˜»æ­¢è§£æè¿‡ç¨‹ã€‚ é¡µé¢æ¸²æŸ“å®Œæˆä¹‹åçš„ç•Œé¢å¸ƒå±€å¦‚æœå‘ç”Ÿäº†æ”¹å˜å°±ä¼šè§¦å‘å›æµå’Œé‡ç»˜ï¼Œå›æµçš„ä»£ä»·è¦é«˜äºé‡ç»˜ï¼Œå½“ç„¶è¿™ä¸¤ä¸ªéƒ½ä¸æ˜¯å–„èŒ¬ï¼Œå°½é‡ä¸è¦å»æ‹›æƒ¹ä»–ä»¬ æœ¬èŠ‚å†…å®¹æˆ‘ä»¬å¤§ä½“è®²è§£äº†å¯ä»¥è¿›è¡Œä¼˜åŒ–çš„ç‚¹ï¼Œåé¢æˆ‘ä»¬å°†ä»ä¸åŒçš„ç»´åº¦å»è¿›è¡Œæ€§èƒ½ä¼˜åŒ– ç½‘ç»œä¸Šä¸€èŠ‚ä»‹ç»äº†ç½‘é¡µåŠ è½½è¿‡ç¨‹ä¸­å¯ä¼˜åŒ–çš„ç‚¹ï¼Œè¿™ä¸€èŠ‚æˆ‘æ¥è¯´ä¸€ä¸‹ç½‘ç»œéƒ¨åˆ†çš„ä¼˜åŒ–ã€‚ ç½‘ç»œéƒ¨åˆ†åŒ…æ‹¬äº†ä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹ï¼š DNSæŸ¥è¯¢ å»ºç«‹TCPè¿æ¥ å‘é€HTTPè¯·æ±‚ è¿™å‡ ç‚¹ä¸­DNSå’ŒTCPæ–¹é¢æˆ‘ä»¬å…¶å®æ˜¯æ— ä»ä¸‹æ‰‹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½å’‹HTTPä¸ŠåŠ¨åˆ€å­äº†ã€‚HTTPæ˜¯ä¸€ä¸ªå¾€è¿”çš„è¿‡ç¨‹ï¼Œæµè§ˆå™¨å‘é€è¯·æ±‚å’Œæ¥æ”¶å“åº”ã€‚ è¯·æ±‚åœ¨è¯·æ±‚å±‚é¢ï¼Œä¸Šä¸€èŠ‚æˆ‘ä»¬ä¹Ÿè¯´åˆ°äº†è¯·æ±‚ç¯èŠ‚çš„ä¼˜åŒ–ï¼Œé‚£å°±æ˜¯å‡å°‘HTTPè¯·æ±‚ï¼Œå› ä¸ºç½‘ç»œè¯·æ±‚æ˜¯æ•´ä¸ªè¿‡ç¨‹ä¸­æœ€ä¸ç¡®å®šçš„å› ç´ ï¼Œå®ƒå—ç¯å¢ƒçš„å½±å“æœ€ä¸ºç›´è§‚ã€‚é‚£ä¹ˆå…·ä½“è¯¥ä»å“ªäº›æ–¹é¢å‡å°‘ï¼Œæ¯”å¦‚ï¼š æ¯ä¸€ä¸ªå›¾ç‰‡ã€æ ·å¼â€¦â€¦åŠ è½½éƒ½ä¼šå‘é€HTTPè¯·æ±‚ï¼Œæ‰€ä»¥å¯ä»¥å°†å›¾ç‰‡è½¬ä¸ºbase64ï¼Œç°åœ¨å‰ç«¯å¼€å‘ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨æ‰“åŒ…å·¥å…·æ¥è¿›è¡Œçš„å·¥ç¨‹åŒ–å¼€å‘ï¼Œæ‰“åŒ…å·¥å…·ä¸€èˆ¬ä¼šæä¾›å›¾ç‰‡è½¬base64çš„æ’ä»¶ï¼›åˆå¹¶å°å›¾æ ‡åˆ°css sprites (CSSç²¾çµå›¾)ç­‰ï¼Œå°†å°å›¾æ ‡æ”¾ç½®åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œåªéœ€è¦ä¸€æ¬¡åŠ è½½ï¼Œç„¶åä»è¿™ä¸€å¼ å›¾ç‰‡çš„ä½ç½®å»è£åˆ‡ï¼Œä½†æ˜¯ä¸è¦ç›²ç›®åˆå¹¶å¯¼è‡´æ–‡ä»¶è¿‡å¤§ï¼Œé‚£æ ·åŒæ ·å¯èƒ½ä¼šå½±å“ä½“éªŒ è¿‡å¤šçš„æ ·å¼æ–‡ä»¶å’Œè„šæœ¬æ–‡ä»¶ä¹Ÿä¼šå¢åŠ HTTPçš„å‹åŠ›ï¼Œæ‰€ä»¥é€‚å½“çš„å°†è„šæœ¬å’Œæ ·å¼è¿›è¡Œåˆå¹¶ï¼Œä½†æ˜¯ä¸è¦ç›²ç›®åˆå¹¶ï¼Œç›²ç›®åˆå¹¶å¯¼è‡´æ–‡ä»¶è¿‡å¤§åŒæ ·ä¼šå½±å“åŠ è½½é€Ÿåº¦ å°‘ç”¨location.reload()æ¥åˆ·æ–°é¡µé¢ï¼Œæ¯é‡æ–°åŠ è½½ä¸€æ¬¡éƒ½ä¼šé‡æ–°å»è¯·æ±‚èµ„æº å“åº”åœ¨å“åº”æ–¹é¢å¯ä»¥åšçš„ä¼˜åŒ–å…¶å®å¾ˆç®€å•ï¼Œå‡å°å“åº”èµ„æºçš„ä½“ç§¯â€”â€”ä½¿ç”¨gzipå‹ç¼©ï¼Œå¯ç”¨gzipå‹ç¼©ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨è¯·æ±‚å¤´ä¸­åŠ å…¥accept-encoding:gzipã€‚HTTP å‹ç¼©å°±æ˜¯ä»¥ç¼©å°ä½“ç§¯ä¸ºç›®çš„ï¼Œå¯¹ HTTP å†…å®¹è¿›è¡Œé‡æ–°ç¼–ç çš„è¿‡ç¨‹ã€‚ gzipå¯ä»¥å¸®æˆ‘ä»¬å‹ç¼©å¤§çº¦70%ä½“ç§¯ï¼Œä½†æ˜¯ä»–å¹¶ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œä»–ä¹Ÿæ˜¯æœ‰ä»£ä»·çš„ï¼Œå¼€å¯gzipéœ€è¦æµªè´¹æœåŠ¡å™¨çš„è®¡ç®—èµ„æºï¼ŒæœåŠ¡å™¨çš„ CPU æ€§èƒ½ä¸æ˜¯æ— é™çš„ï¼Œå¦‚æœå­˜åœ¨å¤§é‡çš„å‹ç¼©éœ€æ±‚ï¼ŒæœåŠ¡å™¨ä¹Ÿæ‰›ä¸ä½çš„ï¼Œè¿™æ—¶å€™å°±ä¼šå¾—ä¸å¿å¤± HTTPç¼“å­˜HTTPç¼“å­˜æ˜¯ä¸€ä¸ªå‡å°‘åŠ è½½æ—¶é—´çš„æœ€æœ‰æ•ˆåœ°æ–¹æ³•ï¼ŒHTTPç¼“å­˜æœ‰å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ä¸¤ç§å½¢å¼ã€‚ å¼ºç¼“å­˜ä½¿ç”¨Expires å’Œ Cache-Control ä¸¤ä¸ªå­—æ®µæ¥æ§åˆ¶ï¼Œå½“è¯·æ±‚å†æ¬¡å‘å‡ºæ—¶ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®å…¶ä¸­çš„ expires å’Œ cache-control åˆ¤æ–­ç›®æ ‡èµ„æºæ˜¯å¦â€œå‘½ä¸­â€å¼ºç¼“å­˜ï¼Œè‹¥å‘½ä¸­åˆ™ç›´æ¥ä»ç¼“å­˜ä¸­è·å–èµ„æºï¼Œä¸ä¼šå†ä¸æœåŠ¡ç«¯å‘ç”Ÿé€šä¿¡ã€‚ æ¥çœ‹ä¸€ä¸ªä½¿ç”¨äº†å¼ºç¼“å­˜çš„å“åº”ï¼Œå¯ä»¥çœ‹åˆ°å®ƒä½¿ç”¨äº†cache-controlï¼Œæœ€å¤§æœ‰æ•ˆæ—¶é—´31536000ï¼Œæ¢ç®—è¿‡æ¥å€Ÿæ¥è¿‘ä¸€å¹´ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æœªæ¥ä¸€å¹´ä¸­éƒ½ä¸éœ€è¦å†å»è¯·æ±‚è¿™ä¸ªèµ„æº åå•†ç¼“å­˜é¡¾åæ€ä¹‰å°±æ˜¯æµè§ˆå™¨å’ŒæœåŠ¡å™¨å…±åŒåå•†çš„ç»“æœï¼Œå½“è¯·æ±‚èµ„æºçš„æ—¶å€™æµè§ˆå™¨ä¼šè¯¢é—®æœåŠ¡å™¨èµ„æºæ˜¯å¦è¿‡æœŸï¼Œå¦‚æœè¿‡æœŸå°±é‡æ–°åŠ è½½èµ„æºï¼Œå¦‚æœæ²¡æœ‰è¿‡æœŸå°±ç›´æ¥ä½¿ç”¨ç¼“å­˜èµ„æºï¼Œåå•†ç¼“å­˜å¸¸ç”¨çš„å­—æ®µæœ‰ETag/If-None-Matchã€Last-Modified/If-Modified-Sinceç­‰ ä½¿ç”¨åå•†ç¼“å­˜ä¹‹åHTTPçŠ¶æ€ç ä¼šå˜ä¸º304 å…³äºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜å¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„è¿™ç¯‡æ–‡ç«  å†…å®¹åˆ†å‘ç½‘ç»œCDNç°åœ¨CDNå·²ç»æ˜¯ä¸€ç§å¾ˆå»‰ä»·çš„èµ„æºäº†ï¼Œå„å¤§äº‘æœåŠ¡å•†éƒ½æä¾›äº†è‡ªå·±çš„CDNæœåŠ¡ï¼Œä»·æ ¼ä¹Ÿå¾ˆä¾¿å®œï¼ŒCDNé€šè¿‡åˆ¤æ–­ç”¨æˆ·çš„åœ°ç†ä½ç½®æ¥é€‰æ‹©è¯·æ±‚è·ç¦»æœ€è¿‘çš„ä¸€å°æœåŠ¡å™¨ï¼Œæ¥å‡å°‘èµ„æºä¼ è¾“çš„è·ç¦»ï¼Œä»è€Œå‡å°‘å“åº”çš„æ—¶é—´ CDNçš„æ ¸å¿ƒåœ¨äºç¼“å­˜å’Œå›æºï¼ŒCDNæœåŠ¡å™¨ä¼šç¼“å­˜æ ¹æœåŠ¡å™¨çš„èµ„æºæ–‡ä»¶ï¼›å›æºæ˜¯CDNæœåŠ¡å™¨å»å‘æ ¹æœåŠ¡å™¨è¯·æ±‚èµ„æºçš„è¿‡ç¨‹ï¼Œä¸€èˆ¬å‘ç”Ÿåœ¨èµ„æºç¼“å­˜è¿‡æœŸã€‚ é™æ€èµ„æºåŠ è½½é€Ÿåº¦å§‹ç»ˆæ˜¯å‰ç«¯æ€§èƒ½çš„ä¸€ä¸ªéå¸¸å…³é”®çš„æŒ‡æ ‡ï¼Œå› ä¸ºé™æ€èµ„æºçš„è¯·æ±‚é‡ä¸€èˆ¬æ¯”è¾ƒå¤§ï¼Œè€Œä¸”ä½“ç§¯è¾ƒå¤§ï¼Œæ”¾ç½®åˆ°CDNä¸Šå¯ä»¥å‡è½»åº”ç”¨æœåŠ¡å™¨çš„å‹åŠ›ï¼Œåº”ç”¨æœåŠ¡å™¨å°±å¯ä»¥ä¸“å¿ƒå¤„ç†ä¸šåŠ¡è€Œä¸ç”¨åˆ†å¿ƒæ¥å“åº”é™æ€èµ„æºã€‚ä¸€èˆ¬æ”¾ç½®åœ¨CDNä¸Šçš„éƒ½æ˜¯äº›é™æ€æ–‡ä»¶ï¼Œæ¯”å¦‚å›¾ç‰‡ã€æ ·å¼æ–‡ä»¶ç­‰ æ‡’åŠ è½½æ‡’åŠ è½½å¯ä»¥å°†ä¸é‡è¦çš„å›¾ç‰‡æ–‡ä»¶åœ¨éœ€è¦æ—¶åŠ è½½ï¼Œä¼˜å…ˆå°†ç½‘é¡µçš„æ•´ä½“æ¡†æ¶åŠ è½½å‡ºæ¥ï¼Œå½“ç”¨æˆ·éœ€è¦æµè§ˆå›¾ç‰‡æ—¶å†å»è¯·æ±‚ã€‚æ­¤å¤–å¯ä»¥åœ¨ç”¨æˆ·ç­‰å¾…é¡µé¢åŠ è½½çš„è¿‡ç¨‹ä¸­ä½¿ç”¨éª¨æ¶å±æ¥ä¼˜åŒ–ç”¨æˆ·çš„ä½“éªŒï¼Œæ¯”å¦‚æ˜é‡‘çš„æ–‡ç« è¯¦æƒ…é¡µå°±ä½¿ç”¨äº†éª¨æ¶å± å­˜å‚¨ä¸Šä¸€è®²æˆ‘ä»¬è¯´åˆ°äº†HTTPç¼“å­˜ï¼Œè¿™ä¸€è®²çš„ç¼“å­˜å¹¶ä¸å•å•æŒ‡HTTPç¼“å­˜ èµ„æºç¼“å­˜æµè§ˆå™¨æä¾›äº†å¤šç§ç¼“å­˜æ–¹å¼ Memory Cacheï¼ˆå†…å­˜ï¼‰ Service Worker Cache HTTP Cache Push Cache Memory Cacheï¼Œå°±æ˜¯å°†èµ„æºç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œç­‰å¾…ä¸‹æ¬¡è®¿é—®æ—¶ä¸éœ€è¦é‡æ–°ä¸‹è½½èµ„æºï¼Œè€Œç›´æ¥ä»å†…å­˜ä¸­è·å–ã€‚Webkitæ—©å·²æ”¯æŒMemory Cacheã€‚åœ¨åˆ·æ–°é¡µé¢æ—¶å°±ä¼šä½¿ç”¨å†…å­˜ç¼“å­˜ï¼Œå¦‚å›¾ï¼Œç¬¬ä¸€æ¬¡æ‰“å¼€ç½‘é¡µæ—¶å…ˆä»ç£ç›˜ç¼“å­˜ä¸­è¯»å–äº†èµ„æº ç„¶ååˆ·æ–°é¡µé¢ï¼Œå°±ä¼šä»å†…å­˜ä¸­åŠ è½½èµ„æº å†…å­˜ç¼“å­˜æ˜¯â€œæœ€çŸ­å‘½â€çš„ä¸€ç§ç¼“å­˜ï¼Œåœ¨é¡µé¢å…³é—­ä¹‹åç¼“å­˜å°±ä¼šä»å†…å­˜ä¸­é‡Šæ”¾ service worker æ˜¯ç‹¬ç«‹äºå½“å‰é¡µé¢çš„ä¸€æ®µè¿è¡Œåœ¨æµè§ˆå™¨åå°è¿›ç¨‹é‡Œçš„è„šæœ¬ã€‚å®ƒçš„ç‰¹æ€§å°†åŒ…æ‹¬æ¨é€æ¶ˆæ¯,èƒŒæ™¯åå°åŒæ­¥ï¼Œ geofencingï¼ˆåœ°ç†å›´æ å®šä½ï¼‰ï¼Œæ‹¦æˆªå’Œå¤„ç†ç½‘ç»œè¯·æ±‚ã€‚å®ƒå¯ä»¥ä½¿ä½ çš„åº”ç”¨å…ˆè®¿é—®æœ¬åœ°ç¼“å­˜èµ„æºï¼Œæ‰€ä»¥åœ¨ç¦»çº¿çŠ¶æ€æ—¶ï¼Œåœ¨æ²¡æœ‰é€šè¿‡ç½‘ç»œæ¥æ”¶åˆ°æ›´å¤šçš„æ•°æ®å‰ï¼Œä»å¯ä»¥æä¾›åŸºæœ¬çš„åŠŸèƒ½ï¼ˆä¸€èˆ¬ç§°ä¹‹ä¸º Offline Firstï¼‰ã€‚å‰ææ˜¯å¿…é¡»æ˜¯HTTPSåè®®æ‰å¯ä»¥ï¼Œè€Œä¸”å¿…é¡»æ³¨å†Œä»¥åæ‰å¯ç”¨ Push Cacheï¼ˆæ¨é€ç¼“å­˜ï¼‰æ˜¯ HTTP/2 ä¸­çš„å†…å®¹ï¼Œå½“ä»¥ä¸Šä¸‰ç§ç¼“å­˜éƒ½æ²¡æœ‰å‘½ä¸­æ—¶ï¼Œå®ƒæ‰ä¼šè¢«ä½¿ç”¨ã€‚å®ƒåªåœ¨ä¼šè¯ï¼ˆSessionï¼‰ä¸­å­˜åœ¨ï¼Œä¸€æ—¦ä¼šè¯ç»“æŸå°±è¢«é‡Šæ”¾ï¼Œå¹¶ä¸”ç¼“å­˜æ—¶é—´ä¹Ÿå¾ˆçŸ­æš‚ï¼Œåœ¨Chromeæµè§ˆå™¨ä¸­åªæœ‰5åˆ†é’Ÿå·¦å³ï¼ŒåŒæ—¶å®ƒä¹Ÿå¹¶éä¸¥æ ¼æ‰§è¡ŒHTTPå¤´ä¸­çš„ç¼“å­˜æŒ‡ä»¤ã€‚ æœ¬åœ°å­˜å‚¨æ‰“å¼€å¼€å‘è€…å·¥å…·çš„åº”ç”¨ç¨‹åºé€‰é¡¹å°±å¯ä»¥çœ‹åˆ°æµè§ˆå™¨æä¾›çš„æœ¬åœ°å­˜å‚¨æ–¹æ¡ˆ ç°åœ¨çš„ç½‘é¡µåº”ç”¨åŸºæœ¬ä¸Šä¸æ˜¯åŸæ¥çš„ç½‘é¡µäº†ï¼Œç°åœ¨åŸºæœ¬éƒ½æ˜¯åº”è¯¥å«åšWebAppï¼ŒwebAppçš„æˆå‹è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨æä¾›çš„å­˜å‚¨åŠŸèƒ½æä¾›äº†æ¸…ç†çš„æ”¯æŒ å› ä¸ºHTTPæ˜¯æ— çŠ¶æ€çš„è¯·æ±‚ï¼Œæ‰€ä»¥æ€ä¹ˆä¿æŒçŠ¶æ€æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œcookieçš„å‡ºç°å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚Cookie è¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªå­˜å‚¨åœ¨æµè§ˆå™¨é‡Œçš„ä¸€ä¸ªå°å°çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒé™„ç€åœ¨ HTTP è¯·æ±‚ä¸Šï¼Œåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´â€œé£æ¥é£å»â€ã€‚å®ƒå¯ä»¥æºå¸¦ç”¨æˆ·ä¿¡æ¯ï¼Œå½“æœåŠ¡å™¨æ£€æŸ¥ Cookie çš„æ—¶å€™ï¼Œä¾¿å¯ä»¥è·å–åˆ°å®¢æˆ·ç«¯çš„çŠ¶æ€ã€‚ ä½†æ˜¯cookieè¿˜æ˜¯æœ‰ç¼ºé™·çš„ï¼š ä¸å¤Ÿå¤§ï¼Œcookieçš„ä½“ç§¯ä¸Šé™æ˜¯4kBï¼Œè¶…è¿‡4kBå°†ä¼šè¢«è£å‰ª å½±å“æ€§èƒ½ï¼Œcookieä¼šè¢«æ¯æ¬¡è¯·æ±‚æºå¸¦ï¼Œæ— å½¢ä¹‹ä¸­å¢åŠ äº†è¯·æ±‚çš„ä½“ç§¯ï¼Œå¦‚æœè¯·æ±‚æ¬¡æ•°å¤ªå¤šå°†ä¼šå¢åŠ å¾ˆå¤šæ²¡æœ‰å¿…è¦çš„ä¼ è¾“ ä¸ºäº†è§£å†³cookieçš„ç¼ºé™·ï¼Œweb stroageå‡ºç°äº†ï¼Œweb stroageæœ‰ä¸¤ç§å½¢å¼ï¼ŒlocalStroageå’ŒsessionStroageã€‚å®ƒä»¬äºŒè€…çš„ä¸åŒæ˜¯sessionStroageç”Ÿå‘½å‘¨æœŸæ˜¯ä¼šè¯çº§ï¼ŒlocalStroageæ˜¯æŒä¹…åŒ–ï¼›ä½œç”¨åŸŸæ–¹é¢ï¼ŒlocalStroageåªè¦æ˜¯åœ¨åŒæºä¸‹éƒ½å¯ä»¥è®¿é—®ï¼Œè€ŒsessionStroageåªåœ¨å½“å‰çª—å£ç”Ÿæ•ˆï¼Œå†æ‰“å¼€å¦ä¸€ä¸ªçª—å£æ— æ³•å…±äº«ï¼Œé€šè¿‡aæ ‡ç­¾çš„target =â€œ_blankâ€å±æ€§æ‰“å¼€æ–°çª—å£æ—¶å¯ä»¥å…±äº«sessionStroage æ¸²æŸ“å‰é¢ä»‹ç»å¤šä¸ªå‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„ç‚¹ï¼Œç°åœ¨æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹æ€§èƒ½ä¼˜åŒ–çš„æœ€åä¸€å…³â€”â€”é¡µé¢æ¸²æŸ“ æµè§ˆå™¨æ¸²æŸ“çš„è¿‡ç¨‹æˆ‘ä»¬ä¹‹å‰ä¹Ÿç¨å¾®æè¿‡ï¼Œè¿™é‡Œå†è¯´ä¸€ä¸‹ è§£æ HTML æ–‡ä»¶ï¼Œæ„å»º DOM æ ‘ï¼ŒåŒæ—¶æµè§ˆå™¨ä¸»è¿›ç¨‹è´Ÿè´£ä¸‹è½½ CSS æ–‡ä»¶ CSS æ–‡ä»¶ä¸‹è½½å®Œæˆï¼Œè§£æ CSS æ–‡ä»¶æˆæ ‘å½¢çš„æ•°æ®ç»“æ„ï¼Œç„¶åç»“åˆ DOM æ ‘åˆå¹¶æˆ RenderObject æ ‘ å¸ƒå±€ RenderObject æ ‘ ï¼ˆLayout/reflowï¼‰ï¼Œè´Ÿè´£ RenderObject æ ‘ä¸­çš„å…ƒç´ çš„å°ºå¯¸ï¼Œä½ç½®ç­‰è®¡ç®— ç»˜åˆ¶ RenderObject æ ‘ ï¼ˆpaintï¼‰ï¼Œç»˜åˆ¶é¡µé¢çš„åƒç´ ä¿¡æ¯ æµè§ˆå™¨ä¸»è¿›ç¨‹å°†é»˜è®¤çš„å›¾å±‚å’Œå¤åˆå›¾å±‚äº¤ç»™ GPU è¿›ç¨‹ï¼ŒGPU è¿›ç¨‹å†å°†å„ä¸ªå›¾å±‚åˆæˆï¼ˆcompositeï¼‰ï¼Œæœ€åæ˜¾ç¤ºå‡ºé¡µé¢ é‡ç»˜ï¼ˆRepaintï¼‰å½“é¡µé¢ä¸­å…ƒç´ æ ·å¼çš„æ”¹å˜å¹¶ä¸å½±å“å®ƒåœ¨æ–‡æ¡£æµä¸­çš„ä½ç½®æ—¶ï¼ˆä¾‹å¦‚ï¼šcolorã€background-colorã€visibility ç­‰ï¼‰ï¼Œæµè§ˆå™¨ä¼šå°†æ–°æ ·å¼èµ‹äºˆç»™å…ƒç´ å¹¶é‡æ–°ç»˜åˆ¶å®ƒï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºé‡ç»˜ã€‚ å›æµï¼ˆReflowï¼‰å½“ Render Tree ä¸­éƒ¨åˆ†æˆ–å…¨éƒ¨å…ƒç´ çš„å°ºå¯¸ã€ç»“æ„ã€æˆ–æŸäº›å±æ€§å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæµè§ˆå™¨é‡æ–°æ¸²æŸ“éƒ¨åˆ†æˆ–å…¨éƒ¨æ–‡æ¡£çš„è¿‡ç¨‹ç§°ä¸ºå›æµã€‚ä¼šå¯¼è‡´å›æµçš„æ“ä½œï¼š é¡µé¢é¦–æ¬¡æ¸²æŸ“ æµè§ˆå™¨çª—å£å¤§å°å‘ç”Ÿæ”¹å˜ å…ƒç´ å°ºå¯¸æˆ–ä½ç½®å‘ç”Ÿæ”¹å˜å…ƒç´ å†…å®¹å˜åŒ–ï¼ˆæ–‡å­—æ•°é‡æˆ–å›¾ç‰‡å¤§å°ç­‰ç­‰ï¼‰ å…ƒç´ å­—ä½“å¤§å°å˜åŒ– æ·»åŠ æˆ–è€…åˆ é™¤å¯è§çš„ DOM å…ƒç´  æ¿€æ´» CSS ä¼ªç±»ï¼ˆä¾‹å¦‚:hoverï¼‰ æŸ¥è¯¢æŸäº›å±æ€§æˆ–è°ƒç”¨æŸäº›æ–¹æ³• ä¸€äº›å¸¸ç”¨ä¸”ä¼šå¯¼è‡´å›æµçš„å±æ€§å’Œæ–¹æ³•ï¼Œå› ä¸ºè¿™äº›APIéœ€è¦å®æ—¶è·å–ï¼Œæ‰€ä»¥ä¼šè§¦å‘å›æµclientWidthã€clientHeightã€clientTopã€clientLeftoffsetWidthã€offsetHeightã€offsetTopã€offsetLeftscrollWidthã€scrollHeightã€scrollTopã€scrollLeftscrollIntoView()ã€scrollIntoViewIfNeeded()ã€getComputedStyle()ã€getBoundingClientRect()ã€scrollTo() å›æµæ¯”é‡ç»˜çš„ä»£ä»·è¦æ›´é«˜ã€‚æœ‰æ—¶å³ä½¿ä»…ä»…å›æµä¸€ä¸ªå•ä¸€çš„å…ƒç´ ï¼Œå®ƒçš„çˆ¶å…ƒç´ ä»¥åŠä»»ä½•è·Ÿéšå®ƒçš„å…ƒç´ ä¹Ÿä¼šäº§ç”Ÿå›æµã€‚ç°ä»£æµè§ˆå™¨ä¼šå¯¹é¢‘ç¹çš„å›æµæˆ–é‡ç»˜æ“ä½œè¿›è¡Œä¼˜åŒ–ï¼šæµè§ˆå™¨ä¼šç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼ŒæŠŠæ‰€æœ‰å¼•èµ·å›æµå’Œé‡ç»˜çš„æ“ä½œæ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œå¦‚æœé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ•°é‡æˆ–è€…æ—¶é—´é—´éš”è¾¾åˆ°ä¸€ä¸ªé˜ˆå€¼çš„ï¼Œæµè§ˆå™¨å°±ä¼šå°†é˜Ÿåˆ—æ¸…ç©ºï¼Œè¿›è¡Œä¸€æ¬¡æ‰¹å¤„ç†ï¼Œè¿™æ ·å¯ä»¥æŠŠå¤šæ¬¡å›æµå’Œé‡ç»˜å˜æˆä¸€æ¬¡ã€‚ æˆ–è€…æˆ‘ä»¬å¯ä»¥é€šè¿‡â€œç¦»çº¿æ“ä½œâ€çš„æ–¹å¼æ¥æ“ä½œDOM let container = document.getElementById(&#39;container&#39;) container.style.display = &#39;none&#39; container.style.width = &#39;100px&#39; container.style.height = &#39;200px&#39; container.style.border = &#39;10px solid red&#39; container.style.color = &#39;red&#39; ...ï¼ˆçœç•¥äº†è®¸å¤šç±»ä¼¼çš„åç»­æ“ä½œï¼‰ container.style.display = &#39;block&#39; å†æœ‰å°±æ˜¯cssé€‰æ‹©å™¨ï¼Œcssé€‰æ‹©å™¨æ¯ä¸€æ¬¡éå†éƒ½çš„è¿‡ç¨‹æ˜¯éå¸¸æ¶ˆè€—æ€§èƒ½çš„ï¼Œåº”è¯¥å‡å°é‚£äº›æ²¡æœ‰å¿…è¦çš„é€‰æ‹©å™¨å †å ï¼Œæ¯”å¦‚#container li{}è™½ç„¶çœ‹èµ·æ¥æœç´¢èŒƒå›´å¾ˆå°ï¼Œä»å…·ä½“çš„idé€‰æ‹©å™¨ä¸­æ‰¾liå…ƒç´ ï¼Œä½†æ˜¯å®é™…ä¸Šåœ¨é€‰æ‹©å…ƒç´ æ—¶æ˜¯ä»å³å‘å·¦å¯»æ‰¾çš„ï¼Œä¼šå…ˆæ‰¾æ‰€æœ‰çš„liï¼Œç„¶åå†æ‰¾#containerä¸‹é¢çš„ï¼Œä¸å¦‚ç›´æ¥è®¾ç½®ç±»é€‰æ‹©å™¨ã€‚ JS å¼•æ“æ˜¯ç‹¬ç«‹äºæ¸²æŸ“å¼•æ“å­˜åœ¨çš„ï¼Œæˆ‘ä»¬åœ¨ç¬¬ä¸€èŠ‚ä¹Ÿè¯´è¿‡ï¼Œå½“HTMLæ–‡æ¡£ä¸­å¼•å…¥scriptè„šæœ¬æ—¶ä¼šé˜»å¡æµè§ˆå™¨è§£æDOMå’ŒCSSOMï¼Œè„šæœ¬æ‰§è¡Œå®Œæˆä¹‹åæ‰ä¼šç»§ç»­è§£æï¼Œå¯¹æ­¤æˆ‘ä»¬å¯å·²ä½¿ç”¨å¼‚æ­¥deferæˆ–è€…asyncè„šæœ¬ &lt;script async src=&quot;index.js&quot;&gt;&lt;/script&gt; &lt;script defer src=&quot;index.js&quot;&gt;&lt;/script&gt; async æ¨¡å¼ä¸‹ï¼ŒJS ä¸ä¼šé˜»å¡æµè§ˆå™¨åšä»»ä½•å…¶å®ƒçš„äº‹æƒ…ã€‚å®ƒçš„åŠ è½½æ˜¯å¼‚æ­¥çš„ï¼Œå½“å®ƒåŠ è½½ç»“æŸï¼ŒJS è„šæœ¬ä¼šç«‹å³æ‰§è¡Œï¼Œdefer æ¨¡å¼ä¸‹ï¼ŒJS çš„åŠ è½½æ˜¯å¼‚æ­¥çš„ï¼Œæ‰§è¡Œæ˜¯è¢«æ¨è¿Ÿçš„ã€‚ç­‰æ•´ä¸ªæ–‡æ¡£è§£æå®Œæˆã€DOMContentLoaded äº‹ä»¶å³å°†è¢«è§¦å‘æ—¶ï¼Œè¢«æ ‡è®°äº† defer çš„ JS æ–‡ä»¶æ‰ä¼šå¼€å§‹æ‰§è¡Œã€‚ æœåŠ¡ç«¯æ¸²æŸ“æœåŠ¡ç«¯æ¸²æŸ“æ˜¯åœ¨æœåŠ¡ç«¯å°†é¦–å±çš„HTMLæ–‡æ¡£æ¸²æŸ“å¥½ä¹‹ååœ¨å‘é€ç»™å®¢æˆ·ç«¯ï¼Œè§£å†³äº†å®¢æˆ·ç«¯åŠ è½½é¦–å±è¿‡é•¿çš„é—®é¢˜ï¼Œæˆ‘ä»¬ç°åœ¨ç»å¤§å¤šæ•°çš„webAppéƒ½æ˜¯å®¢æˆ·ç«¯æ¸²æŸ“ï¼ŒHTMLæ–‡æ¡£ä¸­åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå¾€å¾€æ˜¯è¿™ä¸ªæ ·å­çš„ &lt;body&gt; &lt;div id=&quot;app&quot;&gt;&lt;/div&gt; &lt;/body&gt; åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ ¹æ®åæœŸçš„jsè¿è¡Œæ¥æ¸²æŸ“é¡µé¢å†…å®¹ï¼Œè¿™å°±éœ€è¦ç­‰å¾…jså…¨éƒ¨åŠ è½½å®Œæˆæ‰èƒ½å¼€å§‹æ¸²æŸ“ï¼Œè¿™å°±å¯¼è‡´äº†é¦–å±æ—¶é—´è¿‡é•¿ï¼Œæ‰€ä»¥å‡ºç°äº†æœåŠ¡ç«¯æ¸²æŸ“çš„æŠ€æœ¯æ¥è§£å†³é¦–å±åŠ è½½æ—¶é—´é•¿çš„é—®é¢˜ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“å¹¶ä¸æ˜¯javawebé‚£ç§æ¯åˆ‡æ¢ä¸€æ¬¡ç½‘é¡µéƒ½åœ¨æœåŠ¡ç«¯è·å–ä¸€æ¬¡HTMLï¼Œè€Œæ˜¯é€šè¿‡ç¬¬ä¸€å†Œè¯·æ±‚çš„urlå°†é¦–å±çš„HTMLæ–‡æ¡£ç›´æ¥å¡«å……å†…å®¹ï¼Œå®¢æˆ·ç«¯åœ¨è·å–èµ„æºä¹‹åç›´æ¥æ¸²æŸ“å°±æ˜¯äº†ï¼Œä¹‹ååˆ‡æ¢è·¯ç”±ä¹Ÿä¸éœ€è¦å†å»è¯·æ±‚HTMLæ–‡ä»¶ï¼Œåªéœ€è¦ajaxäº¤äº’å°±è¡Œäº† å…·ä½“çš„å®ç°ç»†èŠ‚å¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„SSRå®ç° æœåŠ¡ç«¯æ¸²æŸ“å›ºç„¶èƒ½å¸¦æ¥ç”¨æˆ·ä½“éªŒçš„æå‡ï¼Œä½†æ˜¯ç‰ºç‰²çš„åŒæ ·æ˜¯æœåŠ¡å™¨çš„è®¡ç®—èµ„æºï¼ŒæœåŠ¡ç«¯æ¸²æŸ“æœ¬è´¨ä¸Šæ˜¯æœ¬è¯¥æµè§ˆå™¨åšçš„äº‹æƒ…ï¼Œåˆ†æ‹…ç»™æœåŠ¡å™¨å»åšï¼Œå½“æœåŠ¡å™¨é¡¶ä¸ä½å‹åŠ›æ—¶ï¼Œè¿™åˆæ˜¯ä¸€æ³¢â€œåå‘ä¼˜åŒ–â€","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"å¤§å‰ç«¯","slug":"å¤§å‰ç«¯","permalink":"https://easyremember.cn/tags/å¤§å‰ç«¯/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"JavaScriptæ ¸å¿ƒåŸç†","slug":"æŠ€æœ¯/JavaScriptæ ¸å¿ƒåŸç†","date":"2021-04-08T11:16:28.327Z","updated":"2021-04-08T11:17:50.383Z","comments":true,"path":"2021/04/08/æŠ€æœ¯/JavaScriptæ ¸å¿ƒåŸç†/","link":"","permalink":"https://easyremember.cn/2021/04/08/æŠ€æœ¯/JavaScriptæ ¸å¿ƒåŸç†/","excerpt":"","text":"typeofåˆ©ç”¨typeofåˆ¤å®šç±»å‹çš„å–å€¼èŒƒå›´æ˜¯ï¼šâ€™undefinedâ€™ /â€˜booleanâ€™ /â€˜stringâ€™ /â€˜numberâ€™ /â€˜objectâ€™ /â€˜functionâ€™ /â€˜symbolâ€™ åœ¨JavaScriptå†…éƒ¨ä½¿ç”¨typeofåˆ¤æ–­ç±»å‹ä¾æ®çš„æ˜¯äºŒè¿›åˆ¶ï¼Œæ ¹æ®å˜é‡çš„æœºå™¨ç ä½ä½1-3ä½å­˜å‚¨å…¶ç±»å‹ä¿¡æ¯ï¼Œæœ‰å¦‚ä¸‹è§„åˆ™ï¼š 000ï¼šå¯¹è±¡ 010ï¼šæµ®ç‚¹æ•° 100ï¼šå­—ç¬¦ä¸² 110ï¼šå¸ƒå°” 1ï¼šæ•´æ•° è¿™é‡Œå°±å¼•å‡ºäº†JavaScriptçš„ç»å…¸bug typeof null === &#39;object&#39; // true å› ä¸ºnullçš„æœºå™¨ç ä¸ºå…¨0ï¼Œé‚£è‡ªç„¶å‰ä¸‰ä½ä¹Ÿæ˜¯0ï¼Œæ‰€ä»¥è¿™é‡Œä¼šè¯¯åˆ¤nullçš„ç±»å‹ä¸ºobject instanceofinstanceofç”¨æ¥åˆ¤æ–­å®ä¾‹æ˜¯å¦å±äºæŸç§ç±»å‹ï¼Œæˆ–è€…å®ä¾‹çš„ç¥–å…ˆå±ä¸å±äºæŸç§ç±»å‹ï¼Œç¿»è¯‘ä¸€ä¸‹å°±æ˜¯åªè¦å³è¾¹å˜é‡çš„ prototype åœ¨å·¦è¾¹å˜é‡çš„åŸå‹é“¾ä¸Šå³å¯ï¼Œå¤§è‡´è¿‡ç¨‹å¦‚ä¸‹ function intanceofSelf(son, parent) { if(son === null || parent === null) { return false } let proto = son.__proto__ while(1) { if(proto === parent.prototype) { return true } if(proto === null) { return false } proto = proto.__proto__ } } console.log(intanceofSelf([], Array)); console.log([] instanceof Array); æ‰§è¡Œç»“æœå¦‚ä¸‹ è´´ä¸€å¼ å›¾æ¥å›å¿†ä¸€ä¸‹åŸå‹ new new è¿ç®—ç¬¦åˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»å‹çš„å®ä¾‹æˆ–å…·æœ‰æ„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡ç±»å‹ä¹‹ä¸€ æ¥çœ‹ä¸€ä¸‹çœŸæ­£çš„newæ“ä½œä¹‹åæ˜¯ä»€ä¹ˆæ•ˆæœ æˆ‘ä»¬ç­æ¥ç®€å•æ¢³ç†ä¸€ä¸‹newæ“ä½œç¬¦æ‰€åšçš„äº‹æƒ…ï¼š åˆ›å»ºä¸€ä¸ªå¯¹è±¡ å°†æ„é€ å‡½æ•°çš„åŸå‹æŒ‚è½½åˆ°æ–°å¯¹è±¡ä¸Š æ‰§è¡Œæ„é€ å‡½æ•° è¿”å›æ–°å¯¹è±¡ å¤§ä½“åŠŸèƒ½å·²ç»åˆ†æå‡ºæ¥äº†ï¼Œå¼€å§‹ä»£ç å®ç°ï¼Œç”±äºæˆ‘ä»¬æ— æ³•å®ç°å…³é”®å­—çš„å½¢å¼ï¼Œæˆ‘ä»¬å°±ä»¥å·¥å‚å‡½æ•°çš„å½¢å¼æ¥å®ç°newæ“ä½œ function createNewObj(constructor) { const args = Array.prototype.slice.call(arguments, 1) const obj = {} obj.__proto__ = constructor.prototype constructor.apply(obj, args) return obj } function Person(name, age) { this.name = name this.age = age } Person.prototype.getAge = function () { return this.age } let p = createNewObj(Person, &#39;king&#39;, 17) console.log(p) æ¥çœ‹ä¸€ä¸‹æ‰§è¡Œç»“æœï¼Œä¸åŸç”Ÿnewçš„æ•ˆæœç›¸åŒï¼Œå¤§åŠŸå‘Šæˆ callcallæ˜¯å†FunctionåŸå‹ä¸Šçš„æ–¹æ³•ï¼Œå®ƒçš„ä½œç”¨æ˜¯æ”¹å˜å‡½æ•°æ‰§è¡Œæ—¶çš„thisæŒ‡å‘ï¼Œä¹Ÿå°±æ˜¯thisç»‘å®šè§„åˆ™ä¸­çš„æ˜¾ç¤ºç»‘å®š å…ˆæ¥çœ‹ä¸€ä¸‹ä½¿ç”¨ç¤ºä¾‹ï¼Œç†è§£äº†ä½¿ç”¨æ–¹æ³•æ‰èƒ½å»å®ç°å®ƒ var foo = { value: 1 }; function bar() { console.log(this.value); } bar.call(foo); // 1 å®ç°æ€è·¯ï¼š å°†è°ƒç”¨æ–¹æ³•æ·»åŠ åˆ°æŒ‡å®šçš„thisä¸Š æ‰§è¡Œæ–¹æ³• åˆ é™¤æŒ‡å®šthisä¸Šçš„æ–¹æ³• PSï¼šè¿™é‡Œæ³¨æ„callçš„thisæŒ‡å‘å¯ä»¥ä¼ nullï¼Œå½“ä¼ å€¼æ˜¯nullçš„æ—¶å€™ï¼ŒthisæŒ‡å‘windowå¯¹è±¡ Function.prototype.callSelf = function(ctx) { ctx = ctx || window const args = Array.from(arguments) args.shift() ctx.fun = this ctx.fun(...args) delete ctx.fun } const bar = { age: 18 } var age = 17 function foo(name) { console.log(name) console.log(this.age) } foo.callSelf(bar, &#39;å¼ ä¸‰&#39;) foo.callSelf(null, &#39;å¼ ä¸‰&#39;) foo(&#39;å¼ ä¸‰&#39;) æ¥çœ‹ä¸€ä¸‹è¿è¡Œç»“æœï¼ˆä¸å¯ä»¥åœ¨nodeç¯å¢ƒè¿è¡Œï¼Œnodeç¯å¢ƒæ²¡æœ‰windowï¼‰ å¯ä»¥çœ‹åˆ°ä¼ å€¼ä¸ºnullçš„æ—¶å€™ä¹Ÿå®ç°äº†ç»‘å®šä¸ºwindow PSï¼šè¿™åªæ˜¯åŸç†ä¸Šå®ç°ï¼Œcallåœ¨ES3å°±å·²ç»å®ç°äº†ï¼Œæˆ‘åœ¨ä»£ç ä¸­ä½¿ç”¨äº†å¤šä¸ªES6çš„æ–¹æ³• applyapplyçš„ä½œç”¨äºcallä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºäºŒè€…æ¥æ”¶çš„å‚æ•°ï¼Œcallçš„å‚æ•°æ˜¯thisæŒ‡å‘+å‡½æ•°å‚æ•°ï¼Œapplyçš„å‚æ•°æ˜¯thisæŒ‡å‘+å‡½æ•°å‚æ•°ç»„æˆçš„æ•°ç»„ï¼Œå¦‚foo.call(bar, arg1, arg2)å’Œfoo.apply(bar, [arg1, arg2]) é‚£ä¹ˆè¿™é‡Œä¹Ÿä¸å†ç»†è¯´applyçš„åŸç†äº†ï¼Œç›´æ¥ä¸Šä»£ç  Function.prototype.applySelf = function(ctx, args) { ctx = ctx || window ctx.fun = this ctx.fun(...args) delete ctx.fun } const bar = { age: 18 } var age = 17 function foo(name) { console.log(name) console.log(this.age) } foo.applySelf(bar, [&#39;å¼ ä¸‰&#39;]) foo.applySelf(null, [&#39;å¼ ä¸‰&#39;]) foo(&#39;å¼ ä¸‰&#39;) è¿è¡Œç»“æœ bindbindä¸applyå’Œcallä½œç”¨å¤§æŠµç›¸åŒï¼ŒåŒºåˆ«åœ¨äºbindè¿”å›çš„æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œå‡½æ•°ï¼Œçœ‹ä¸€ä¸‹MDNä¸Šbindçš„ä»‹ç» bind() æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ã€‚å½“è¿™ä¸ªæ–°å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œbind() çš„ç¬¬ä¸€ä¸ªå‚æ•°å°†ä½œä¸ºå®ƒè¿è¡Œæ—¶çš„ thisï¼Œä¹‹åçš„ä¸€åºåˆ—å‚æ•°å°†ä¼šåœ¨ä¼ é€’çš„å®å‚å‰ä¼ å…¥ä½œä¸ºå®ƒçš„å‚æ•°ã€‚ ä¸€ä¸ªç»‘å®šå‡½æ•°ä¹Ÿèƒ½ä½¿ç”¨newæ“ä½œç¬¦åˆ›å»ºå¯¹è±¡ï¼šè¿™ç§è¡Œä¸ºå°±åƒæŠŠåŸå‡½æ•°å½“æˆæ„é€ å™¨ã€‚æä¾›çš„ this å€¼è¢«å¿½ç•¥ï¼ŒåŒæ—¶è°ƒç”¨æ—¶çš„å‚æ•°è¢«æä¾›ç»™æ¨¡æ‹Ÿå‡½æ•°ã€‚ é‚£ä¹Ÿå°±æ˜¯è¯´ï¼Œbindä¸å†åªæ˜¯thisæŒ‡å‘çš„æ”¹å˜ï¼Œè€Œä¸”è¦å…¼é¡¾åŸå‹ç­‰å› ç´ ï¼Œæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥ å…ˆæ¥å®ç°è¿”å›æŒ‡å®šthisçš„å‡½æ•° Function.prototype.bindSelf = function (ctx) { var _this = this return function () { return _this.apply(ctx) } } var bar = { age: 18 } var age = 19 function foo() { console.log(this.age) } const f = foo.bindSelf(bar) f() foo() ä¸è¦å¿˜äº†è¿˜å¯ä»¥æ¥å—å‚æ•°ï¼Œè¿™é‡Œä¸å†æ˜¯ç®€å•çš„å‚æ•°å±•å¼€ï¼Œä»–è¿˜å¯ä»¥åˆ†æ‰¹ä¼ å…¥ï¼ˆæŸ¯é‡ŒåŒ–ï¼‰ï¼Œå¦‚ä¸‹ å½“ç„¶ï¼Œä¹Ÿä¸éœ€è¦å¤ªè¿‡æ‹…å¿ƒï¼Œå…¶å®å®ç°ä¹Ÿå¾ˆç®€å•ï¼Œä»ä¸¤ä¸ªå‡½æ•°ä½œç”¨åŸŸçš„argumentsä¸­æå–å³å¯ Function.prototype.bindSelf = function(ctx) { var _this = this var args = Array.prototype.slice.call(arguments, 1) return function() { _this.apply(ctx, args.concat(Array.from(arguments))) } } var bar = { value: 1 } function foo(name, age) { console.log(name) console.log(age) console.log(this.value) } const f = foo.bindSelf(bar, &#39;king&#39;) f(18) ä¼ å‚çš„é—®é¢˜è§£å†³äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æœ€å¤´ç–¼çš„æ„é€ å™¨æ•ˆæœäº†ï¼Œæˆ‘ä»¬å…ˆæ¥newä¸€ä¸‹è¯•è¯•ï¼Œçœ‹çœ‹ç¼ºäº†ä»€ä¹ˆ const f = foo.bindSelf(bar, &#39;king&#39;) const o = new f(17) console.log(o) // 17 // 1 // {} const f2 = foo.bind(bar, &#39;king&#39;) const o2 = new f2(17) console.log(o2) // 17 // undefined // foo {} // fooçš„å®ä¾‹å¯¹è±¡ å¦‚æœä½ ä»ä¸Šé¢çœ‹ä¸‹æ¥ä½ ä¼šçŸ¥é“åœ¨æ‰§è¡Œnewæ“ä½œç¬¦çš„æ—¶å€™ä¼šå°†thisæŒ‡å‘è¦åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡å®ä¾‹ï¼Œæ‰€ä»¥åŸç”Ÿbindè¿”å›çš„å‡½æ•°åœ¨å®ä¾‹åŒ–æ—¶ä¼šæ‰¾ä¸åˆ°valueï¼Œè€Œæˆ‘ä»¬è‡ªå®šä¹‰çš„bindåœ¨æ‰§è¡Œnewæ“ä½œç¬¦çš„æ—¶å€™thisä»ç„¶æŒ‡å‘barå¯¹è±¡ï¼Œè€Œä¸”å®ä¾‹çš„åŸå‹é“¾ä¹Ÿæœ‰é—®é¢˜ï¼Œæ‰€ä»¥ä¼šåˆ†æä¸å‡ºå¯¹è±¡å®ä¾‹çš„ç±»å‹ çŸ¥é“äº†é—®é¢˜æ‰€åœ¨æˆ‘ä»¬å°±å¼€å§‹ç»§ç»­ä¼˜åŒ– Function.prototype.bindSelf = function(ctx) { var _this = this console.log(_this); var args = Array.prototype.slice.call(arguments, 1) var midFun = function() { _this.apply(this instanceof midFun ? this : ctx, args.concat(Array.from(arguments))) } midFun.prototype = this.prototype return midFun } è¿™é‡Œæˆ‘ä»¬é€šè¿‡instanceofæ¥åˆ¤æ–­å½“å‰æ“ä½œæ˜¯newè¿˜æ˜¯ä½œä¸ºæ™®é€šå‡½æ•°æ‰§è¡Œã€‚å½“æ‰§è¡Œnewæ“ä½œæ—¶ï¼ŒthisæŒ‡å‘å¯¹è±¡å®ä¾‹ï¼Œinstanceofçš„ç»“æœä¸ºtrueï¼Œä¿æŒthisæŒ‡å‘å¯¹è±¡å®ä¾‹ï¼›å¦åˆ™å°±æ˜¯ä½œä¸ºæ™®é€šå‡½æ•°æ‰§è¡Œï¼ŒthisæŒ‡å‘ä¸€å¼€å§‹ä¼ è¿›æ¥çš„ä¸Šä¸‹æ–‡ã€‚è¿™ä¸€æ®µè¦å¥½å¥½æ¶ˆåŒ–ä¸€ä¸‹ï¼Œæ¯”è¾ƒç»•ã€‚ å†æ¥æ‰§è¡Œä¸Šé¢çš„æµ‹è¯•æ•°æ®ï¼Œå¤§åŠŸå‘Šæˆ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"HTTP å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜","slug":"æŠ€æœ¯/HTTP å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜","date":"2021-04-04T02:28:13.854Z","updated":"2021-04-04T02:41:02.125Z","comments":true,"path":"2021/04/04/æŠ€æœ¯/HTTP å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜/","link":"","permalink":"https://easyremember.cn/2021/04/04/æŠ€æœ¯/HTTP å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜/","excerpt":"","text":"è¿™é‡Œæˆ‘ä»¬è¯´çš„ç¼“å­˜ä¸»è¦æ˜¯æŒ‡HTTPè¯·æ±‚å¾—åˆ°çš„é™æ€èµ„æºï¼ˆimg/css/jsï¼‰ï¼Œä½¿ç”¨HTTPç¼“å­˜çš„å¥½å¤„æ˜¯å¯ä»¥å‡å°‘è¯·æ±‚æ—¶é—´ï¼ŒèŠ‚çœå¸¦å®½æµé‡ï¼Œå‡å°‘æœåŠ¡å™¨å‹åŠ›å¹¶ä¸”æå‡ç”¨æˆ·ä½“éªŒï¼Œå½“ç„¶å¹¶æ²¡æœ‰ç»å¯¹å®Œç¾çš„ä¸œè¥¿ï¼ŒHTTPç¼“å­˜ä¹Ÿå­˜åœ¨ä»–çš„ç¼ºé™·ï¼Œå¯èƒ½ä¼šé€ æˆæ•°æ®ä¸ä¸€è‡´ï¼Œå ç”¨å†…å­˜ç­‰ æˆ‘ä»¬å°†ç¼“å­˜åˆ†ä¸ºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ï¼Œä¸¤è€…çš„ä¸»è¦åŒºåˆ«æ˜¯ä½¿ç”¨æœ¬åœ°ç¼“å­˜çš„æ—¶å€™ï¼Œæ˜¯å¦éœ€è¦å‘æœåŠ¡å™¨éªŒè¯æœ¬åœ°ç¼“å­˜æ˜¯å¦ä¾æ—§æœ‰æ•ˆã€‚é¡¾åæ€ä¹‰ï¼Œåå•†ç¼“å­˜ï¼Œå°±æ˜¯éœ€è¦å’ŒæœåŠ¡å™¨è¿›è¡Œåå•†ï¼Œæœ€ç»ˆç¡®å®šæ˜¯å¦ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚ è¿™æ˜¯ç¼“å­˜è¿ä½œçš„ä¸€ä¸ªæ•´ä½“æµç¨‹å›¾ï¼šå›¾ç‰‡æ¥è‡ªHTTPç¼“å­˜ å¼ºç¼“å­˜å¼ºç¼“å­˜ä¸»è¦æœ‰ä¸¤ç§Cache-Controlå’ŒExpires Cache-ControlCache-Controlæ˜¯åœ¨http1.1ä¸­å‡ºç°çš„ï¼Œï¼ŒCache-Controlæœ‰å¦‚è®¾ç½®ï¼š max-ageï¼šå®ƒæ˜¯ä¸€ä¸ªç›¸å¯¹æ—¶é—´ï¼Œè¡¨ç¤ºç¼“å­˜çš„æœ‰æ•ˆæ—¶é—´ no-cacheï¼šä¸ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚éœ€è¦ä½¿ç”¨ç¼“å­˜åå•†ï¼Œå…ˆä¸æœåŠ¡å™¨ç¡®è®¤è¿”å›çš„å“åº”æ˜¯å¦è¢«æ›´æ”¹ï¼Œå¦‚æœä¹‹å‰çš„å“åº”ä¸­å­˜åœ¨ETagï¼Œé‚£ä¹ˆè¯·æ±‚çš„æ—¶å€™ä¼šä¸æœåŠ¡ç«¯éªŒè¯ï¼Œå¦‚æœèµ„æºæœªè¢«æ›´æ”¹ï¼Œåˆ™å¯ä»¥é¿å…é‡æ–°ä¸‹è½½ã€‚ no-storeï¼šç›´æ¥ç¦æ­¢æ¸¸è§ˆå™¨ç¼“å­˜æ•°æ®ï¼Œæ¯æ¬¡ç”¨æˆ·è¯·æ±‚è¯¥èµ„æºï¼Œéƒ½ä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæ¯æ¬¡éƒ½ä¼šä¸‹è½½å®Œæ•´çš„èµ„æºã€‚ publicï¼šå¯ä»¥è¢«æ‰€æœ‰çš„ç”¨æˆ·ç¼“å­˜ï¼ŒåŒ…æ‹¬ç»ˆç«¯ç”¨æˆ·å’ŒCDNç­‰ä¸­é—´ä»£ç†æœåŠ¡å™¨ã€‚ privateï¼šåªèƒ½è¢«ç»ˆç«¯ç”¨æˆ·çš„æµè§ˆå™¨ç¼“å­˜ï¼Œä¸å…è®¸CDNç­‰ä¸­ç»§ç¼“å­˜æœåŠ¡å™¨å¯¹å…¶ç¼“å­˜ã€‚ ExpiresExpiresæ˜¯http1.0çš„è§„èŒƒï¼Œå®ƒçš„å€¼æ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´çš„GMTæ ¼å¼çš„æ—¶é—´å­—ç¬¦ä¸²ã€‚è¿™ä¸ªæ—¶é—´ä»£è¡¨è¿™è¿™ä¸ªèµ„æºçš„å¤±æ•ˆæ—¶é—´ï¼Œåªè¦å‘é€è¯·æ±‚æ—¶é—´æ˜¯åœ¨Expiresä¹‹å‰ï¼Œé‚£ä¹ˆæœ¬åœ°ç¼“å­˜å§‹ç»ˆæœ‰æ•ˆï¼Œåˆ™åœ¨ç¼“å­˜ä¸­è¯»å–æ•°æ®ã€‚ cache-control:max-age=3600 expires:Fri Apr 02 2021 13:52:41 GMT Cache-Controlä¸Expireså¯ä»¥åœ¨æœåŠ¡ç«¯é…ç½®åŒæ—¶å¯ç”¨ï¼ŒåŒæ—¶å¯ç”¨çš„æ—¶å€™Cache-Controlä¼˜å…ˆçº§é«˜ã€‚ä¸Šé¢è¿™æ®µé…ç½®ä¸­ï¼Œå°±ä¼šæŒ‰ç…§max-ageæ¥ä½¿ç”¨ç¼“å­˜ åå•†ç¼“å­˜ETag/If-None-MatchETag/If-None-Match çš„å€¼æ˜¯ä¸€ä¸² hash ç ï¼Œä»£è¡¨çš„æ˜¯ä¸€ä¸ªèµ„æºçš„æ ‡è¯†ç¬¦ï¼Œå½“æœåŠ¡ç«¯çš„æ–‡ä»¶å˜åŒ–çš„æ—¶å€™ï¼Œå®ƒçš„ hashç ä¼šéšä¹‹æ”¹å˜ï¼Œé€šè¿‡è¯·æ±‚å¤´ä¸­çš„ If-None-Match å’Œå½“å‰æ–‡ä»¶çš„ hash å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰åˆ™è¡¨ç¤ºå‘½ä¸­åå•†ç¼“å­˜ã€‚ETag åˆæœ‰å¼ºå¼±æ ¡éªŒä¹‹åˆ†ï¼Œå¦‚æœ hash ç æ˜¯ä»¥ â€œW/â€œ å¼€å¤´çš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œè¯´æ˜æ­¤æ—¶åå•†ç¼“å­˜çš„æ ¡éªŒæ˜¯å¼±æ ¡éªŒçš„ï¼Œåªæœ‰æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶å·®å¼‚ï¼ˆæ ¹æ® ETag è®¡ç®—æ–¹å¼æ¥å†³å®šï¼‰è¾¾åˆ°èƒ½å¤Ÿè§¦å‘ hash å€¼åç¼€å˜åŒ–çš„æ—¶å€™ï¼Œæ‰ä¼šçœŸæ­£åœ°è¯·æ±‚èµ„æºï¼Œå¦åˆ™è¿”å› 304 å¹¶åŠ è½½æµè§ˆå™¨ç¼“å­˜ã€‚ Last-Modified/If-Modified-SinceLast-Modified/If-Modified-Since çš„å€¼ä»£è¡¨çš„æ˜¯æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡ç«¯ä¼šæŠŠèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´æ”¾åˆ° Last-Modified å“åº”å¤´ä¸­ï¼Œç¬¬äºŒæ¬¡å‘èµ·è¯·æ±‚çš„æ—¶å€™ï¼Œè¯·æ±‚å¤´ä¼šå¸¦ä¸Šä¸Šä¸€æ¬¡å“åº”å¤´ä¸­çš„ Last-Modified çš„æ—¶é—´ï¼Œå¹¶æ”¾åˆ° If-Modified-Since è¯·æ±‚å¤´å±æ€§ä¸­ï¼ŒæœåŠ¡ç«¯æ ¹æ®æ–‡ä»¶æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´å’Œ If-Modified-Since çš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰ï¼Œè¿”å› 304 ï¼Œå¹¶åŠ è½½æµè§ˆå™¨ç¼“å­˜ã€‚ ETagä½œç”¨Last-Modifiedä¸ETagæ˜¯å¯ä»¥ä¸€èµ·ä½¿ç”¨çš„ï¼ŒæœåŠ¡å™¨ä¼šä¼˜å…ˆéªŒè¯ETagï¼Œä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šç»§ç»­æ¯”å¯¹Last-Modifiedï¼Œæœ€åæ‰å†³å®šæ˜¯å¦è¿”å›304ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://easyremember.cn/tags/è®¡ç®—æœºç½‘ç»œ/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"reactç”Ÿå‘½å‘¨æœŸ","slug":"æŠ€æœ¯/reactç”Ÿå‘½å‘¨æœŸ","date":"2021-03-17T13:20:01.085Z","updated":"2021-03-17T13:21:01.082Z","comments":true,"path":"2021/03/17/æŠ€æœ¯/reactç”Ÿå‘½å‘¨æœŸ/","link":"","permalink":"https://easyremember.cn/2021/03/17/æŠ€æœ¯/reactç”Ÿå‘½å‘¨æœŸ/","excerpt":"","text":"å…ˆæ¥çœ‹ä¸€ä¸‹å®˜ç½‘çš„ç”Ÿå‘½å‘¨æœŸå›¾è°± è¿™æ˜¯åªæœ‰å¸¸ç”¨ç”Ÿå‘½å‘¨æœŸçš„å›¾è°± è¿™æ˜¯å¸¦æœ‰ä¸å¸¸ç”¨ç”Ÿå‘½å‘¨æœŸçš„å›¾è°± æ³¨æ„ï¼šæˆ‘ä»¬æ‰€è¯´çš„ç”Ÿå‘½å‘¨æœŸåªå­˜åœ¨äºç±»ç»„ä»¶ä¸­ï¼Œå‡½æ•°ç»„ä»¶ä¸­æ˜¯æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸçš„æ¦‚å¿µçš„ reactçš„ç”Ÿå‘½å‘¨æœŸå¤§è‡´åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šæŒ‚è½½ã€æ›´æ–°ã€å¸è½½ï¼Œä¸‹é¢æ¥çœ‹ä¸€ä¸‹æ¯ä¸ªéƒ¨åˆ†éƒ½æœ‰å“ªäº›ç”Ÿå‘½å‘¨æœŸ æŒ‚è½½æ—¶ static getDerivedStateFromProps()ï¼šä¼šåœ¨è°ƒç”¨ render æ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œå¹¶ä¸”åœ¨åˆå§‹æŒ‚è½½åŠåç»­æ›´æ–°æ—¶éƒ½ä¼šè¢«è°ƒç”¨ã€‚å®ƒåº”è¿”å›ä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–° stateï¼Œå¦‚æœè¿”å› null åˆ™ä¸æ›´æ–°ä»»ä½•å†…å®¹ã€‚ UNSAFE_componentWillMountï¼šå¼ƒç”¨ï¼›ç»„ä»¶æŒ‚è½½å‰æ‰§è¡Œ componentDidMountï¼šç»„ä»¶æŒ‚è½½ä¹‹åæ‰§è¡Œï¼Œå¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œæ­¤æ—¶DOMå…ƒç´ å·²ç»ç”Ÿæˆ æ›´æ–°æ—¶ static getDerivedStateFromProps()ï¼šä¼šåœ¨è°ƒç”¨ render æ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œå¹¶ä¸”åœ¨åˆå§‹æŒ‚è½½åŠåç»­æ›´æ–°æ—¶éƒ½ä¼šè¢«è°ƒç”¨ã€‚å®ƒåº”è¿”å›ä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–° stateï¼Œå¦‚æœè¿”å› null åˆ™ä¸æ›´æ–°ä»»ä½•å†…å®¹ã€‚ shouldComponentUpdate()ï¼šæ ¹æ®çš„è¿”å›å€¼ï¼Œåˆ¤æ–­ç»„ä»¶çš„è¾“å‡ºæ˜¯å¦å—å½“å‰ state æˆ– props æ›´æ”¹çš„å½±å“ï¼Œè¿”å›trueåˆ™ç»„ä»¶æ›´æ–°ï¼Œè¿”å›falseç»„ä»¶ä¸æ›´æ–°ã€‚è¿™é‡Œæ˜¯æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ä¹‹å¤„ï¼Œå¦‚æœä¸åœ¨è¿™é‡Œå¤„ç†ç»„ä»¶é»˜è®¤æ˜¯æ›´æ–°çš„ï¼Œçˆ¶ç»„ä»¶æ›´æ–°ä¹‹åï¼Œä¸è®ºå­ç»„ä»¶æ˜¯å¦å‘ç”Ÿå˜åŒ–éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚ getSnapshotBeforeUpdate()ï¼š åœ¨æœ€è¿‘ä¸€æ¬¡æ¸²æŸ“è¾“å‡ºï¼ˆæäº¤åˆ° DOM èŠ‚ç‚¹ï¼‰ä¹‹å‰è°ƒç”¨ï¼Œæ­¤ç”Ÿå‘½å‘¨æœŸçš„ä»»ä½•è¿”å›å€¼å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™ componentDidUpdate() componentDidUpdate()ï¼šæ›´æ–°åä¼šè¢«ç«‹å³è°ƒç”¨ã€‚é¦–æ¬¡æ¸²æŸ“ä¸ä¼šæ‰§è¡Œæ­¤æ–¹æ³•ã€‚ UNSAFE_componentWillUpdateï¼šå¼ƒç”¨ï¼›åœ¨æ›´æ–°å‘ç”Ÿä¹‹å‰æ‰§è¡Œå‡†å¤‡æ›´æ–°çš„æœºä¼šã€‚åˆå§‹æ¸²æŸ“ä¸ä¼šè°ƒç”¨æ­¤æ–¹æ³•ã€‚ UNSAFE_componentWillReceivePropsï¼šå¼ƒç”¨ï¼›ä¼šåœ¨å·²æŒ‚è½½çš„ç»„ä»¶æ¥æ”¶æ–°çš„ props ä¹‹å‰è¢«è°ƒç”¨ å¸è½½æ—¶ componentWillUnmount()ï¼šä¼šåœ¨ç»„ä»¶å¸è½½åŠé”€æ¯ä¹‹å‰ç›´æ¥è°ƒç”¨ï¼Œå¯ä»¥åœ¨æ­¤ç”Ÿå‘½å‘¨æœŸè§£é™¤å®šæ—¶å™¨ã€ç›‘å¬ç­‰ å‚è€ƒï¼šReactä¸­æ–‡æ–‡æ¡£ï¼ŒReact.component","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"react","slug":"react","permalink":"https://easyremember.cn/tags/react/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"require.contextå®ç°è‡ªåŠ¨åŒ–å¯¼å…¥","slug":"æŠ€æœ¯/require.contextå®ç°è‡ªåŠ¨åŒ–å¯¼å…¥","date":"2021-03-15T10:47:32.766Z","updated":"2021-03-15T10:54:28.098Z","comments":true,"path":"2021/03/15/æŠ€æœ¯/require.contextå®ç°è‡ªåŠ¨åŒ–å¯¼å…¥/","link":"","permalink":"https://easyremember.cn/2021/03/15/æŠ€æœ¯/require.contextå®ç°è‡ªåŠ¨åŒ–å¯¼å…¥/","excerpt":"","text":"APIæè¿°å…ˆçœ‹ä¸€çœ¼å®˜ç½‘æ–‡æ¡£ require.context( (directory: String), (includeSubdirs: Boolean) /* å¯é€‰çš„ï¼Œé»˜è®¤å€¼æ˜¯ true */, (filter: RegExp) /* å¯é€‰çš„ï¼Œé»˜è®¤å€¼æ˜¯ /^\\.\\/.*$/ï¼Œæ‰€æœ‰æ–‡ä»¶ */, (mode: String) /* å¯é€‰çš„ï¼Œ &#39;sync&#39; | &#39;eager&#39; | &#39;weak&#39; | &#39;lazy&#39; | &#39;lazy-once&#39;ï¼Œé»˜è®¤å€¼æ˜¯ &#39;sync&#39; */ ) require.context()æ–¹æ³•ä¸€å…±å¯ä»¥æ¥æ”¶4ä¸ªå‚æ•°ï¼š directoryï¼šè¦åŠ è½½çš„ç›®å½• includeSubdirsï¼šæ˜¯å¦éå†å­ç›®å½• filterï¼šè¦åŠ è½½çš„æ–‡ä»¶æ­£åˆ™åŒ¹é… modeï¼šæ¨¡å¼ï¼Œè§æ–‡æ¡£ æ–‡ä»¶ç›®å½•å¦‚å›¾ require.context()çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”è¯¥æ–¹æ³•å…·æœ‰ä¸‰ä¸ªå±æ€§ï¼Œidã€keysã€resolve ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œidå±æ€§çš„å€¼æ˜¯ç”±ç›¸å¯¹è·¯å¾„ã€æ¨¡å¼ã€ä»¥åŠæ­£åˆ™ç»„æˆçš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œkeyså’Œresolveå±æ€§éƒ½æ˜¯æ–¹æ³•ï¼Œåˆ†åˆ«æ¥æ‰§è¡Œä¸€ä¸‹ keysæ–¹æ³•è¿”å›çš„æ˜¯åŒ¹é…åˆ°çš„æ–‡ä»¶åç»„æˆçš„æ•°ç»„ï¼Œä»ä¸Šé¢æˆªå›¾å¯ä»¥çœ‹åˆ°resolveæ–¹æ³•éœ€è¦æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å†æ¥è°ƒç”¨ä¸€ä¸‹resolve console.log(&#39;resolve:&#39;, modulesFile.resolve(modulesFile.keys()[0])); console.log(&#39;resolve:&#39;, modulesFile.resolve(&#39;a&#39;)); å¯ä»¥çœ‹å‡ºresolveçš„ç»“æœæ˜¯keysä¸­è¿”å›ç»“æœçš„æŸä¸€é¡¹çš„ç›¸å¯¹è·¯å¾„ï¼Œå¹¶ä¸”ï¼Œå‚æ•°å¿…é¡»åŒ…å«åœ¨keysè¿”å›ç»“æœçš„æ•°ç»„ä¸­ï¼Œå¦åˆ™æŠ¥é”™ å‰é¢è¯´åˆ°ï¼Œrequire.context()è¿”å›å€¼çš„æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªæ–¹æ³•ä¹Ÿéœ€è¦æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œæ ¹æ®ä¸Šé¢çš„reqå‚æ•°æ¨æ–­ï¼Œè¿™ä¸ªå‚æ•°ä¹Ÿè¦åœ¨keysè¿”å›å€¼çš„ç»“æœä¹‹ä¸­ï¼Œå†æ¥æ‰§è¡Œä¸‹ è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œæ‰§è¡Œçš„ç»“æœæ˜¯ä¸€ä¸ªModuleå®ä¾‹ï¼ˆä½¿ç”¨.defaultè·å–å€¼ï¼‰ï¼Œå› ä¸ºæˆ‘åœ¨a.jsä¸­ä½¿ç”¨ES6 Moduleå¯¼å‡ºçš„ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ä¸€ä¸ªæ¨¡å—çš„å¼•ç”¨ï¼Œå¦‚æœè¿™é‡Œæˆ‘æ›´æ¢ä¸ºCommonJSçš„çš„å¯¼å‡º // export default { // from: &#39;a.js&#39; // } module.exports = { from: &#39;a.js&#39; } ç»“æœå°±ä¼šå˜æˆå€¼çš„æ‹·è´ åº”ç”¨åº”ç”¨åœºæ™¯å¤§å¤šæ˜¯åœ¨å¯¼å…¥åŒä¸€æ–‡ä»¶å¤¹ä¸‹çš„å¤šä¸ªæ–‡ä»¶ï¼Œä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šVuexåˆ†æ¨¡å—å¼•å…¥æ—¶ï¼Œå¯ä»¥é€šè¿‡require.contextæ¥åŠ¨æ€å¼•å…¥æ¨¡å—ï¼Œåªéœ€è¦ç¼–å†™ä¸€æ¬¡ä»£ç ï¼Œä¸å†éœ€è¦åæœŸè¿‡å¤šå¾—ç»´æŠ¤ const modulesFiles = require.context(&#39;./modules&#39;, false, /\\.js$/) const modules = modulesFiles.keys().reduce((modulesTemp, currentPath) =&gt; { // ä»æ–‡ä»¶åä¸­å»é™¤æ–‡ä»¶åç¼€ï¼Œå¦‚./a.js =&gt; a const temp = modulesTemp const moduleName = currentPath.replace(/^\\.\\/(.*)\\.\\w+$/, &#39;$1&#39;) const value = modulesFiles(currentPath) temp[moduleName] = value.default return temp }, {}) store = new Vuex.Store({ modules }) export default store","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"TypeScripté«˜çº§ä½¿ç”¨","slug":"ç¬”è®°/TypeScripté«˜çº§","date":"2021-02-20T01:00:21.569Z","updated":"2021-02-22T12:10:01.993Z","comments":true,"path":"2021/02/20/ç¬”è®°/TypeScripté«˜çº§/","link":"","permalink":"https://easyremember.cn/2021/02/20/ç¬”è®°/TypeScripté«˜çº§/","excerpt":"","text":"åœ¨ä¹‹å‰æœ‰è¿‡ä¸€ç¯‡TypeScriptçš„å…¥é—¨ç¬”è®°ï¼Œä»‹ç»äº†TSæœ€åŸºæœ¬çš„ç”¨æ³•ï¼Œç°åœ¨æ¥è¿›é˜¶ä¸€ä¸‹ æ·±å…¥TSç±»å‹è”åˆç±»å‹ä½¿ç”¨|æ“ä½œç¬¦å°†å˜é‡å¯èƒ½å‡ºç°çš„æ•°å€¼ç±»å‹è¿æ¥èµ·æ¥ï¼Œå°±æ˜¯è”åˆç±»å‹ function css(ele: Element, attr: string, value: string | number) { // valueå‚æ•°çš„ç±»å‹åªèƒ½æ˜¯stringæˆ–è€…number // ...... } äº¤å‰ç±»å‹ä½¿ç”¨&amp;æ“ä½œç¬¦å°†å¤šç§ç±»å‹åˆå¹¶åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ç§æ–°çš„ç±»å‹ type t1 = { name: string, age: number } type t2 = { sex: string } type t3 = t1 &amp; t2 function sayHi(person: t3) { console.log(`${person.name}ä»Šå¹´${person.age}å²ï¼Œæ€§åˆ«ï¼š${person.sex}`) } let king = { name: &#39;king&#39;, age: 12, sex: &#39;man&#39; } let ali = { name: &#39;king&#39;, sex: &#39;woman&#39; } sayHi(king) sayHi(ali) // æŠ¥é”™ è¿™é‡Œt1å’Œt2ä¸¤ä¸ªç±»å‹é€šè¿‡äº¤å‰åˆå¹¶ä¸ºä¸€ç§ç±»å‹ï¼Œè¦æ±‚å¿…é¡»å«æœ‰ä¸‰ä¸ªå±æ€§å¹¶ä¸”ç¬¦åˆæ•°æ®ç±»å‹é™å®šï¼Œä¸Šé¢çš„ä»£ç ä¸­æœ€åä¸€è¡Œä¼šæŠ›å‡ºé”™è¯¯ï¼Œå› ä¸ºå˜é‡aliä¸æ»¡è¶³t3ç±»å‹çš„è¦æ±‚ è¿™é‡Œéœ€è¦è¯´ä¸€ä¸‹interfaceå’Œtypeï¼Œéƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°ï¼Œinterfaceç”¨æ¥å®šä¹‰æ¥å£ï¼Œtypeå®šä¹‰ç±»å‹ï¼ŒäºŒè€…å¹¶ä¸æ˜¯äº’ç›¸ç‹¬ç«‹çš„ã€‚ è¿™é‡Œè¯´ä¸€ä¸‹äºŒè€…çš„åŒºåˆ«ï¼š typeå¯ä»¥ç›´æ¥é€šè¿‡è¿ç®—è·å¾—æ–°ç±»å‹ï¼Œè€Œinterfaceéœ€è¦ä½¿ç”¨extendsæ“ä½œç¬¦æ¥ç”Ÿæˆæ–°çš„æ¥å£ã€‚ type è¯­å¥ä¸­è¿˜å¯ä»¥ä½¿ç”¨ typeof è·å–å®ä¾‹çš„ç±»å‹è¿›è¡Œèµ‹å€¼ interface èƒ½å¤Ÿå£°æ˜åˆå¹¶ï¼Œå¤šä¸ªåŒåinterfaceå£°æ˜çš„ç±»å‹ä¼šè¢«åˆå¹¶åˆ°åŒä¸€æ¥å£ ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°interfaceä¹Ÿå¯ä»¥æ¥ç»§æ‰¿typeï¼Œå¹¶ä¸”å®ç°ç›¸åŒåŠŸèƒ½ å­—é¢é‡ç±»å‹TSç±»å‹é™å®šé™¤äº†åŸºæœ¬æ•°æ®ç±»å‹é™å®šä¹‹å¤–è¿˜å¯ä»¥è¿›è¡Œå…·ä½“å€¼çš„é™å®š type t1 = { name: string, sex: &#39;man&#39; | &#39;woman&#39; } let person: t1 = { name: &#39;å¼ ä¸‰&#39;, sex: &#39;middle&#39; // æŠ¥é”™ } å¦‚ä¸Šï¼Œä½¿ç”¨å­—ç¬¦ä¸²é™å®šä¹‹åsexçš„å€¼ä¹‹èƒ½æ˜¯manæˆ–è€…womanã€‚é™¤äº†å­—ç¬¦ä¸²ä»¥å¤–ï¼Œå…¶ä»–çš„åŸºæœ¬æ•°æ®ç±»å‹ä¹Ÿéƒ½å¯ä»¥é™åˆ¶ ç±»å‹åˆ«åå¯ä»¥ä½¿ç”¨typeæ“ä½œç¬¦å¯¹ä»»æ„ç±»å‹è·å–ç»„åˆç±»å‹èµ·åˆ«å ç±»å‹æ¨å¯¼æ¯æ¬¡éƒ½æ˜¾å¼æ ‡æ³¨ç±»å‹å¤ªéº»çƒ¦ï¼ŒTSæä¾›äº†ä¸€ç§æ–¹ä¾¿çš„ç‰¹æ€§â€”â€”ç±»å‹æ¨å¯¼ã€‚æ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨æ¨å¯¼å‡ºå¯¹åº”çš„ç±»å‹æ ‡æ³¨ï¼Œè¿‡ç¨‹å‘ç”Ÿåœ¨ï¼š åˆå§‹åŒ–å˜é‡ è®¾ç½®å‡½æ•°é»˜è®¤å‚æ•° è¿”å›å‡½æ•°å€¼ ç±»å‹æ–­è¨€æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´ç²¾ç¡®çš„æ ‡æ³¨ï¼Œæ¯”å¦‚ä½¿ç”¨document.querySelectoræ–¹æ³•è·å¾—çš„ç»“æœï¼ŒTSä¼šæ ¹æ®å‚æ•°åˆ¤æ–­è¿”å›å€¼çš„ç±»å‹ã€‚å¦‚æœæ˜¯ä¸€ä¸ªå›¾ç‰‡ï¼Œä»–æœ‰srcå±æ€§ï¼Œè€Œå¦‚æœæ˜¯ä¸€ä¸ªdivï¼Œä»–å°±æ²¡æœ‰srcå±æ€§ã€‚ ä½†æ˜¯TSå¹¶ä¸ä¼šçŸ¥é“æˆ‘ä»¬ä½¿ç”¨äº†ç±»é€‰æ‹©å™¨ä¹‹åçš„ç»“æœï¼Œæˆ‘ä»¬éœ€è¦æå‰å‘ŠçŸ¥ let ele = &lt;HTMLImageElement&gt;document.querySelector(&#39;.box&#39;) // æˆ–è€… let ele2 = document.querySelector(&#39;.box&#39;) as HTMLImageElement æ–­è¨€ä¹Ÿå¯ä»¥è”åˆç±»å‹å‚æ•°å¸¦æ¥çš„é—®é¢˜å—ï¼Œå¦‚æœå‚æ•°æ˜¯è”åˆç±»å‹ï¼Œæ¯”å¦‚string | string[]ï¼Œå‚æ•°æœ‰å¯èƒ½æ˜¯æ•°ç»„ä¹Ÿæœ‰å¯èƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæ— æ³•åˆ¤æ–­å‚æ•°æ˜¯å¦å…·æœ‰æŸä¸€æ–¹æ³•ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€æ¥è°ƒç”¨æ–¹æ³• ç±»å‹ä¿æŠ¤ä¸Šé¢è¯´çš„è”åˆç±»å‹å‚æ•°å¸¦æ¥çš„é—®é¢˜ä¹Ÿå¯å·²é€šè¿‡ç±»å‹ä¿æŠ¤æ¥è§£å†³ function fun(str: string | string[]) { if (typeof str === &#39;string&#39;) { str.split(&#39;&#39;) } else { // å½“å…¶ä»–ç±»å‹éƒ½åœ¨ifä¸­ç½—åˆ—ä¹‹åï¼Œå‰©ä½™çš„ä¸€ç§åœ¨elseä¸­ç”Ÿæ•ˆ str.push() } } intanceofä¹Ÿå¯ä»¥è§¦å‘ç±»å‹ä¿æŠ¤ ç±»å‹æ“ä½œç¬¦keyofå¯ä»¥è·å–ç±»å‹çš„é”®åç»„æˆçš„è”åˆç±»å‹ï¼Œä¸»è¦ç”¨é€”æ˜¯keyçš„åˆæ³•åŒ– type Person = { name: string; age: number; } type PersonKey = keyof Person; // PersonKeyå¾—åˆ°çš„ç±»å‹ä¸º &#39;name&#39; | &#39;age&#39; function getValue(p: Person, k: keyof Person) { return p[k]; } typeofè·å–ä¸€ä¸ªå¯¹è±¡/å®ä¾‹çš„ç±»å‹ï¼Œåªèƒ½ç”¨åœ¨å…·ä½“çš„å¯¹è±¡ä¸Š inåªèƒ½ç”¨åœ¨ç±»å‹çš„å®šä¹‰ä¸­ï¼Œå¯ä»¥å¯¹æšä¸¾ç±»å‹è¿›è¡Œéå† // è¿™ä¸ªç±»å‹å¯ä»¥å°†ä»»ä½•ç±»å‹çš„é”®å€¼è½¬åŒ–æˆnumberç±»å‹ type TypeToNumber&lt;T&gt; = { [key in keyof T]: number } æ³›å‹æ³›å‹åœ¨ä¹‹å‰çš„å…¥é—¨ä¸­ä¹Ÿæœ‰æ‰€æ¶‰åŠï¼Œä½†é‚£åªæ˜¯çš®æ¯›ä¸­çš„çš®æ¯›ï¼Œç°åœ¨æˆ‘ä»¬æ¥æ·±å…¥ä¸€ä¸‹æ³›å‹ï¼ŒåŸºæœ¬çš„æ³›å‹å®šä¹‰ä¸å†èµ˜è¿°ï¼Œå¯ä»¥å»çœ‹ä¸€ä¸‹TypeScriptçš„å…¥é—¨ç¬”è®° æ³›å‹æ¨å¯¼å¦‚åŒå‰é¢æ‰€è¯´çš„ç±»å‹æ¨å¯¼ä¸€æ ·ï¼Œæ³›å‹ä¹Ÿæœ‰æ¨å¯¼ï¼Œ type Dog&lt;T&gt; = { name: string, type: T } function doSth&lt;T&gt;(dog: Dog&lt;T&gt;) { return dog.type } let dog = { name: &#39;lucky&#39;, type: &#39;pug&#39; } // å¦‚æœæ²¡æœ‰æ³›å‹æ¨å¯¼ï¼Œå°±éœ€è¦å†™è¿™ä¹ˆå¤š // let dog: Dog&lt;string&gt; = { // name: &#39;lucky&#39;, // type: &#39;pug&#39; // } doSth(dog) // è°ƒç”¨å‡½æ•°æ—¶æ ¹æ®typeçš„ç±»å‹è‡ªåŠ¨æ¨å¯¼å‡ºäº†T ç±»å‹çº¦æŸæœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é™å®šç±»å‹ï¼Œè¿™æ—¶å€™ä½¿ç”¨extendså…³é”®å­— function sum&lt;T extends number&gt;(value: T[]) { let count = 0 value.forEach(v =&gt; count += v) return count } ä½¿ç”¨extendsé™å®šå‚æ•°ç±»å‹ä¸ºæ•°å­—æ•°ç»„ï¼Œå¦‚æœè°ƒç”¨æ—¶å‚æ•°å‡ºç°äº†å…¶ä»–ç±»å‹å°±ä¼šæŠ¥é”™ è¿˜å¯ä»¥é™åˆ¶å¤šä¸ªå‚æ•°ï¼Œå¦‚ function pick&lt;T, U extends keyof T&gt;(obj: T, proto: U) { console.log(obj[proto]); }; let person = { name: &#39;å¼ ä¸‰&#39;, age: 14 } pick(person, &#39;name&#39;) ç¬¬äºŒä¸ªå‚æ•°å¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ä¸­keysçš„å­é›†ï¼Œå¦åˆ™æŠ¥é”™ æ³›å‹æ¨æ–­ä½¿ç”¨inferå…³é”®å­—æ¥è¿›è¡Œæ³›å‹æ¨æ–­ type Per&lt;T&gt; = T extends { t: infer P } ? P : string type p = Per&lt;number&gt; // string type p1 = Per&lt;{ t: boolean }&gt; // boolean type p2 = Per&lt;{ t: number }&gt; // number å®šä¹‰Perçš„è¿‡ç¨‹ä¹Ÿå«æ³›å‹æ¡ä»¶ï¼Œé€šè¿‡ä¸‰ç›®è¿ç®—ç¬¦æ§åˆ¶æœ€ç»ˆåˆ†é…çš„ç±»å‹ã€‚æ ¹æ®ä¼ è¿›æ¥çš„æ³›å‹ç±»å‹Tæœ‰æ— tå±æ€§æ¥ç¡®å®šè¿”å›çš„ç±»å‹ï¼Œå¹¶å°†tçš„å±æ€§è¿”å› å¸¸ç”¨æ³›å‹å·¥å…·PartialPartialçš„ä½œç”¨æ˜¯å°†ä¼ å…¥çš„å±æ€§å˜æˆå¯é€‰é¡¹ï¼ŒåŸç†å°±æ˜¯ä½¿ç”¨keyofæ‹¿åˆ°æ‰€æœ‰å±æ€§åï¼Œç„¶åå†ä½¿ç”¨inéå†ï¼Œä½¿ç”¨?å°†å±æ€§è®¾ç½®ä¸ºå¯é€‰å±æ€§ï¼Œå…¶å®ç°æºç å¦‚ä¸‹ type Partial&lt;T&gt; = { [P in keyof T]?: T[p] } type person = { name: string, age: number } // ä½¿ç”¨Partialå¤„ç†åæ²¡æœ‰å…¨éƒ¨å±æ€§ä¸å†æŠ¥é”™ let a: Partial&lt;person&gt; = { name: &#39;1q23&#39; } RequiredRequiredå°†æ‰€æœ‰çš„å‚æ•°å˜ä¸ºå¿…é€‰é¡¹ï¼›å…¶åŸç†æ˜¯ä½¿ç”¨keyofæ‹¿åˆ°æ‰€æœ‰å±æ€§åï¼Œç„¶åå†ä½¿ç”¨inéå†ï¼Œå¯ä»¥ç†è§£ä¸ºä½¿ç”¨-?æŠµæ¶ˆæ‰? type Required&lt;T&gt; = { [P in keyof T]-?: T[P] } type person = { name: string, age: number } let b: Required&lt;person&gt; = { name: &#39;king&#39;, } RecordRecordä½œç”¨æ˜¯å°† K ä¸­æ‰€æœ‰å±æ€§å€¼è½¬åŒ–ä¸º T ç±»å‹ type Record&lt;K extends keyof any,T&gt; = { [key in K]: T } // keyof anyå¯¹åº”çš„ç±»å‹ä¸ºnumber | string | symbol,å°±æ˜¯å¯ä»¥åšç´¢å¼•çš„ç±»å‹é›†åˆ type person = { name: string, age: number } let c: Record&lt;number, string&gt; = { 1: 1, &#39;str&#39;: 123 } è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºä½¿ç”¨Recordå·¥å…·å°†æ‰€æœ‰çš„numberç±»å‹ä¸ºç´¢å¼•çš„å±æ€§å€¼ç±»å‹è®¾ç½®ä¸ºstringï¼Œæ•°å­—ç´¢å¼•çš„å±æ€§ä¸æ˜¯stringå°±ä¼šæŠ¥é”™ PickPickçš„ä½œç”¨æ˜¯å°† T ç±»å‹ä¸­çš„ K é”®åˆ—è¡¨æå–å‡ºæ¥ï¼Œç”Ÿæˆæ–°çš„å­é”®å€¼å¯¹ç±»å‹ type Pick&lt;T, K extends keyof T&gt; = { [P in K]: T[P] } type person = { name: string, age: number } let d: Pick&lt;person, &#39;name&#39;&gt; = { name: &#39;king&#39;, age: 12 // ä¸èƒ½å°†ç±»å‹â€œ{ name: string; age: number; }â€åˆ†é…ç»™ç±»å‹â€œPick&lt;person, &quot;name&quot;&gt;â€ã€‚å¯¹è±¡æ–‡å­—å¯ä»¥åªæŒ‡å®šå·²çŸ¥å±æ€§ï¼Œå¹¶ä¸”â€œageâ€ä¸åœ¨ç±»å‹â€œPick&lt;person, &quot;name&quot;&gt;â€ä¸­ } å› ä¸ºä½¿ç”¨Pickå·¥å…·ä»personç±»å‹ä¸­åªé€‰æ‹©äº†nameå±æ€§ï¼Œæ‰€ä»¥æ·»åŠ ageå±æ€§ä¹‹åä¼šæŠ¥é”™ ExcludeExcludeçš„ä½œç”¨æ˜¯å»é™¤ T ç±»å‹å’Œ U ç±»å‹çš„äº¤é›†ï¼Œè¿”å›å‰©ä½™çš„éƒ¨åˆ† type Exclude&lt;T, U&gt; = T extends U ? never : T type person = { name: string, age: number } type el = Exclude&lt;person | string, number | &#39;a&#39; | person&gt; // string let e: el = &#39;str&#39; OmitOmitç”¨äºé”®å€¼å¯¹å¯¹è±¡çš„ Excludeï¼Œå®ƒä¼šå»é™¤ç±»å‹ T ä¸­åŒ…å« K çš„é”®å€¼å¯¹ type Omit = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt; type person = { name: string, age: number } type oi = Omit&lt;person, &#39;age&#39;&gt; let f: oi = { name: &#39;king&#39; } ReturnTypeReturnTypeè·å– T ç±»å‹(å‡½æ•°)å¯¹åº”çš„è¿”å›å€¼ç±»å‹ï¼Œé€šè¿‡ä½¿ç”¨ infer æ¨æ–­è¿”å›å€¼ç±»å‹ï¼Œç„¶åè¿”å›æ­¤ç±»å‹ type ReturnType&lt;T extends (...args: any) =&gt; any&gt; = T extends (...args: any) =&gt; infer R ? R : any; type T0 = ReturnType&lt;() =&gt; string&gt;; // string type T1 = ReturnType&lt;(s: string) =&gt; void&gt;; // void","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"å‰ç«¯é˜²æŠ–å’ŒèŠ‚æµ","slug":"æŠ€æœ¯/é˜²æŠ–å’ŒèŠ‚æµ","date":"2021-02-16T08:31:34.714Z","updated":"2021-02-16T09:20:06.305Z","comments":true,"path":"2021/02/16/æŠ€æœ¯/é˜²æŠ–å’ŒèŠ‚æµ/","link":"","permalink":"https://easyremember.cn/2021/02/16/æŠ€æœ¯/é˜²æŠ–å’ŒèŠ‚æµ/","excerpt":"","text":"ä»€ä¹ˆæ˜¯é˜²æŠ–/èŠ‚æµ é˜²æŠ–(debounce)ï¼šè§¦å‘é«˜é¢‘äº‹ä»¶å n ç§’å†…å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœ n ç§’å†…é«˜é¢‘äº‹ä»¶å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´ï¼›æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„ç™¾åº¦æœç´¢æ¡†å°±ä½¿ç”¨äº†é˜²æŠ–æœºåˆ¶ï¼Œåªæœ‰åœ¨è¾“å…¥æ¡†ä¸å†è¾“å…¥å†…å®¹ä¸€æ®µæ—¶é—´ä¹‹åæ‰ä¼šå¼¹å‡ºå…³é”®è¯ç´¢å¼• èŠ‚æµ(thorttle)ï¼šé«˜é¢‘äº‹ä»¶è§¦å‘ï¼Œä½†åœ¨ n ç§’å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼›ä¾‹å¦‚æ»‘åŠ¨åˆ°åº•éƒ¨è‡ªåŠ¨åŠ è½½ä¸‹ä¸€é¡µï¼Œå°±å¯ä»¥é€šè¿‡èŠ‚æµæ¥æ§åˆ¶ åŒºåˆ«ï¼šé˜²æŠ–åªä¼šåœ¨æœ€ç»ˆæ‰§è¡Œä¸€æ¬¡ï¼›è€ŒèŠ‚æµæ˜¯æ¯éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œä¸€æ¬¡ï¼Œèµ·åˆ°ç¨€é‡Šæ“ä½œçš„ä½œç”¨ è¿™é‡Œå€Ÿç”¨ä¸€å¼ ç½‘ç»œä¸Šçš„å›¾ç‰‡ï¼Œå‰åŠéƒ¨åˆ†èŠ‚æµï¼Œåªä¼šåœ¨æŸä¸€æ—¶é—´ç‚¹è§¦å‘ï¼Œå¯ä»¥çœ‹è§aã€bã€cä¸‰ä¸ªç‚¹åœ¨æ—¶é—´çº¿ä¸Šéƒ½æ˜¯ä¸€æ ·çš„ï¼›ååŠéƒ¨åˆ†æ˜¯é˜²æŠ–ï¼Œaäº‹ä»¶è¿‡äº†ä¸€æ®µæ—¶é—´ä¹‹åè§¦å‘ï¼Œbã€cäº‹ä»¶ä¹‹é—´çš„é—´éš”æ²¡æœ‰è¾¾åˆ°é˜ˆå€¼ï¼Œcäº‹ä»¶å°±ä¼šè¦†ç›–bäº‹ä»¶ï¼Œæœ€ç»ˆåªæœ‰cäº‹ä»¶æ‰§è¡Œ ä¸ºä»€ä¹ˆè¦é˜²æŠ–/èŠ‚æµäº‹ä»¶æ— æ³•æ§åˆ¶è§¦å‘é¢‘ç‡ï¼Œä¼šä¸æ–­æ‰§è¡Œäº‹ä»¶é€ æˆæ€§èƒ½çš„æµªè´¹ï¼Œæ¯”å¦‚é¼ æ ‡ä½ç½®ã€é¡µé¢æ»šåŠ¨â€¦â€¦ç­‰ï¼Œä½¿ç”¨äº†é˜²æŠ–æˆ–èŠ‚æµå°±å¯ä»¥æœ‰æ•ˆçš„æ§åˆ¶ä¸å¯æ§äº‹ä»¶çš„è§¦å‘ï¼Œå¯ä»¥ä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼Œç”šè‡³å¯ä»¥ç¼“è§£æœåŠ¡å™¨å‹åŠ› æ€æ ·å®ç°é˜²æŠ–/èŠ‚æµé˜²æŠ–é€šè¿‡ä¸æ–­åœ°é‡ç½®è®¡æ—¶å™¨timeræ¥å®ç°æœ€ç»ˆåªæ‰§è¡Œä¸€æ¬¡ /** * @description: å‡½æ•°é˜²æŠ–ï¼Œåˆ©ç”¨é—­åŒ…è¿”å›é˜²æŠ–å‡½æ•° * @param {*} fun éœ€è¦é˜²æŠ–çš„å‡½æ•° * @param {*} wait ç­‰å¾…æ—¶é—´ï¼Œé»˜è®¤0.5ç§’ * @return {*} å®é™…åˆ°ç”¨çš„é˜²æŠ–å‡½æ•° */ function debounce(fun, wait = 500) { let timer = null return function (...args) { if (timer) { clearTimeout(timer) } timer = setTimeout(() =&gt; { fun.apply(this, args) }, wait) } } èŠ‚æµé€šè¿‡setTimeoutæ‰§è¡Œäº‹ä»¶æ¥è°ƒæ§çŠ¶æ€ä½ /** * @description: å‡½æ•°èŠ‚æµ * @param {*} fun éœ€è¦èŠ‚æµçš„å‡½æ•° * @param {*} wait ç­‰å¾…æ—¶é—´ï¼Œé»˜è®¤0.5ç§’ * @return {*} */ function throttle(fun, wait = 500) { let valid = true return function (...args) { if (!valid) { return false } // å·¥ä½œæ—¶é—´ï¼Œæ‰§è¡Œå‡½æ•°å¹¶ä¸”åœ¨é—´éš”æœŸå†…æŠŠçŠ¶æ€ä½è®¾ä¸ºæ— æ•ˆ valid = false setTimeout(() =&gt; { fun.apply(this, args) valid = true }, wait) } }","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}],"tags":[{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"https://easyremember.cn/tags/æ‚¦è¯»/"}],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}]},{"title":"çº¯æ‰‹å·¥æ­å»ºVue SSR","slug":"æŠ€æœ¯/çº¯æ‰‹å·¥æ­å»ºVue-SSR","date":"2021-02-15T02:44:36.951Z","updated":"2021-02-15T06:21:08.765Z","comments":true,"path":"2021/02/15/æŠ€æœ¯/çº¯æ‰‹å·¥æ­å»ºVue-SSR/","link":"","permalink":"https://easyremember.cn/2021/02/15/æŠ€æœ¯/çº¯æ‰‹å·¥æ­å»ºVue-SSR/","excerpt":"","text":"å‡†å¤‡å·¥ä½œé¦–å…ˆåˆ›å»ºä¸€ä¸ªvueé¡¹ç›® vue create ssr æ—¢ç„¶æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæœåŠ¡å™¨ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©expressï¼›æ­¤å¤–è¿˜éœ€è¦ä¸€ä¸ªåº“vue-server-renderer npm install vue-server-renderer express -D å¼€å§‹å¹²æ´»æœåŠ¡å™¨å¯åŠ¨è„šæœ¬const express = require(&#39;express&#39;) const Vue = require(&#39;vue&#39;) const app = express() // åˆ›å»ºæ¸²æŸ“å™¨ // createRenderer()æ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œä¼šæŸ“å›ä¸€ä¸ªæ¸²æŸ“å™¨ const renderer = require(&#39;vue-server-renderer&#39;).createRenderer() const page = new Vue({ template: `&lt;div&gt;hello ssr&lt;/div&gt;` }) // è®¾ç½®è·¯ç”± app.get(&#39;/&#39;, async (req, res) =&gt; { try { const html = await renderer.renderToString(page) res.send(html) } catch (error) { res.status(500).send(&#39;æœåŠ¡å™¨é”™é”™è¯¯&#39;) } }) app.listen(3000, () =&gt; { console.log(&#39;server listening port:3000&#39;); }) é€šè¿‡ç¼–è¯‘å™¨å¯ä»¥çœ‹è§renderToStringæ–¹æ³•æ¥æ”¶ä¸€ä¸ªVueç¤ºä¾‹ä½œä¸ºå‚æ•°ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢ç¼–å†™çš„page ä½ å¯èƒ½ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨æœåŠ¡ç«¯ç¼–å†™è·¯ç”±å¹¶ä¸æ˜¯éå¸¸çµæ´»ï¼Œè€Œä¸”ä¹Ÿä¸æ–¹ä¾¿æˆ‘ä»¬åç»­çš„spaï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦å°†è·¯ç”±çš„æ§åˆ¶æƒäº¤ç»™vue-router é…ç½®vue-routerimport Vue from &#39;vue&#39; import Router from &#39;vue-router&#39; import About from &#39;../pages/About&#39; import Index from &#39;../pages/Index&#39; Vue.use(Router) // ä½¿ç”¨å·¥å‚å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªè·¯ç”±çš„æ„é€ å™¨ï¼Œé˜²æ­¢æ±¡æŸ“ä¸åŒè®¿é—®è€…çš„è·¯ç”± export default function createRouter() { return new Router({ mode: &#39;history&#39;, routes: [ { path: &#39;/&#39;, component: Index }, { path: &#39;/about&#39;, component: About }, ], }) } è¿™é‡Œæ³¨æ„å‘å¤–æš´éœ²çš„ä¸å†æ˜¯ä¸€ä¸ªVueRouterå®ä¾‹ï¼Œè€Œæ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œå› ä¸ºä¸åŒçš„ç”¨æˆ·ä¼šå‘é€ä¸åŒçš„è¯·æ±‚ï¼Œå¦‚æœéƒ½è¿”å›åŒä¸€ä¸ªå®ä¾‹ï¼Œåˆ™ä¼šå¯¹å…¶ä»–ç”¨æˆ·é€ æˆå½±å“ è¿™é‡Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹æ„å»ºæµç¨‹ é€šè¿‡server-bundleæ„å»ºä¹‹åçš„htmlä¸å†åªæœ‰ä¸€ä¸ªæ ¹divï¼Œè€Œæ˜¯å·²ç»è¢«æ¸²æŸ“çš„htmlï¼Œå½“ç¬¬ä¸€æ¬¡è¯·æ±‚ç»“æŸæ—¶ï¼Œåˆä¼šå˜æˆä¸€ä¸ªspaï¼Œä¸åœ¨è·ŸæœåŠ¡ç«¯æœ‰è”ç³»ï¼Œè€Œæ˜¯é€šè¿‡ajaxç›´æ¥è®¿é—®apiæœåŠ¡å™¨ ç¼–å†™å…¥å£æ€»å…¥å£app.js import Vue from &#39;vue&#39; import App from &#39;./App&#39; import createRouter from &#39;./router/index&#39; export default function createApp() { const router = createRouter() const app = new Vue({ router, render: h =&gt; h(App) }) // è¿™é‡Œä¸éœ€è¦æŒ‚è½½åˆ°æ ¹èŠ‚ç‚¹ï¼Œå› ä¸ºæ²¡æœ‰æ ¹èŠ‚ç‚¹ return {app, router} } æœåŠ¡ç«¯å…¥å£server-entry.js import createApp from &#39;./app&#39; export default context =&gt; { return new Promise((resolve, reject) =&gt; { const { app, router } = createApp() // è¿›å…¥é¦–å± router.push(context.url) router.onReady(() =&gt; { resolve(app) }, reject) }) } å®¢æˆ·ç«¯å…¥å£client-entry.js // æŒ‚è½½æ¿€æ´»app import createApp from &#39;./app&#39; const { app, router } = createApp() router.onReady(() =&gt; { app.$mount(&#39;#app&#39;) }) è¿›è¡Œæ‰“åŒ…é…ç½®å®‰è£…ä¾èµ– npm install webpack-node-externals lodash.merge cross-env -D æ ¹ç›®å½•æ·»åŠ vue.config.js const VueSSRServerPlugin = require(&#39;vue-server-renderer/server-plugin&#39;) const VueSSRClientPlugin = require(&#39;vue-server-renderer/client-plugin&#39;) const nodeExternals = require(&#39;webpack-node-externals&#39;) const merge = require(&#39;lodash.merge&#39;) // å†³å®šå…¥å£æ˜¯æœåŠ¡ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯ const TARGET_NODE = process.env.WEBPACK_TARGET === &#39;node&#39; const target = TARGET_NODE ? &quot;server&quot; : &quot;client&quot; module.exports = { css: { extract: false }, outputDir: &#39;./dist&#39; + target, configureWebpack: () =&gt; ({ // æŒ‡å‘entryæ–‡ä»¶ entry: `./src/${target}-entry.js`, // å¯¹bundleæä¾›source-mapæ”¯æŒ devtool: &#39;source-map&#39;, target: TARGET_NODE ? &#39;node&#39; : &#39;web&#39;, node: TARGET_NODE ? undefined : false, output: { libraryTarget: TARGET_NODE ? &#39;commonjs2&#39; : undefined }, externals: TARGET_NODE ? nodeExternals({ allowlist: [/\\.css$/] }) : undefined, optimization: { splitChunks: TARGET_NODE ? false : undefined, }, plugins: [TARGET_NODE ? new VueSSRServerPlugin() : new VueSSRClientPlugin()] }), chainWebpack: config =&gt; { config.module .rule(&quot;vue&quot;) .use(&quot;vue-loader&quot;) .tap(options =&gt; { merge(options, { optimizeSSR: false }) }) } } ç„¶ååœ¨package.jsonä¸­æ·»åŠ è„šæœ¬ &quot;scripts&quot;: { &quot;serve&quot;: &quot;vue-cli-service serve&quot;, &quot;lint&quot;: &quot;vue-cli-service lint&quot;, &quot;build:server&quot;: &quot;vue-cli-service build&quot;, &quot;build:client&quot;: &quot;cross-env WEBPACK_TARGET=node vue-cli-service build --mode server&quot;, &quot;build&quot;: &quot;npm run build:server &amp;&amp; npm run build:client&quot; }, æ‰“åŒ…ä¹‹åå†æ¥ä¿®æ”¹æœåŠ¡å™¨å¯åŠ¨è„šæœ¬ const express = require(&#39;express&#39;) const fs = require(&#39;fs&#39;) // const Vue = require(&#39;vue&#39;) const app = express() const serverBundle = require(&#39;../dist/server/vue-ssr-server-bundle.json&#39;) const clientManifest = require(&#39;../dist/client/vue-ssr-client-manifest.json&#39;) // åˆ›å»ºæ¸²æŸ“å™¨ // createRenderer()æ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œä¼šæŸ“å›ä¸€ä¸ªæ¸²æŸ“å™¨ const { createBundleRenderer } = require(&#39;vue-server-renderer&#39;) const renderer = createBundleRenderer(serverBundle, { runInNewContext: false, // è®°å¾—æ–°å»ºä¸€ä¸ªæ¨¡æ¿ template: fs.readFileSync(&#39;../public/index.temp.html&#39;, &#39;utf-8&#39;), clientManifest }) app.use(express.static(&#39;../dist/client&#39;, {index: false})) // const page = new Vue({ // template: `&lt;div&gt;hello ssr&lt;/div&gt;` // }) // è®¾ç½®è·¯ç”± app.get(&#39;*&#39;, async (req, res) =&gt; { try { const context = { url: req.url, title: &#39;ssr test&#39; } const html = await renderer.renderToString(context) res.send(html) } catch (error) { res.status(500).send(&#39;æœåŠ¡å™¨é”™é”™è¯¯&#39;) } }) app.listen(3000, () =&gt; { console.log(&#39;server listening port:3000&#39;); }) å¤§åŠŸå‘Šæˆæ­¤æ—¶æˆ‘ä»¬å†å¯åŠ¨æœåŠ¡å™¨ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆæœäº† å¯ä»¥çœ‹åˆ°htmlæ–‡æ¡£ä¸­ä¸å†æ˜¯ä¸€ä¸ªappæ ¹å…ƒç´ äº† æ€»ç»“SSRï¼ˆserver side renderï¼‰è§£å†³äº†SEOå’Œé¦–å±æ¸²æŸ“æ…¢çš„é—®é¢˜ï¼Œé¦–å±åœ¨æœåŠ¡å™¨ç«¯è¿›æ¸²æŸ“ï¼Œç­‰å…¨éƒ¨æ–‡ä»¶åŠ è½½å®Œä¹‹ååœ¨æµè§ˆå™¨å†æ¿€æ´»mountå®ç°spa æºç å·²ç»ä¸Šä¼ ç äº‘ä»“åº“","categories":[],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/tags/æŠ€æœ¯/"}],"keywords":[]},{"title":"Vue2.xæ•°æ®ç»‘å®šåŸç†","slug":"æŠ€æœ¯/Vue2.xæ•°æ®ç»‘å®šåŸç†","date":"2021-02-14T13:25:47.791Z","updated":"2021-02-22T12:09:55.436Z","comments":true,"path":"2021/02/14/æŠ€æœ¯/Vue2.xæ•°æ®ç»‘å®šåŸç†/","link":"","permalink":"https://easyremember.cn/2021/02/14/æŠ€æœ¯/Vue2.xæ•°æ®ç»‘å®šåŸç†/","excerpt":"","text":"æ€»è§ˆVueæ˜¯ä¸€æ¬¾MVVMï¼ˆModel-View-ViewModelï¼‰å‰ç«¯æ¡†æ¶ï¼Œæ¡†æ¶å¸®æˆ‘ä»¬å®ç°äº†æ•°æ®å’Œè§†å›¾çš„åŒå‘ç»‘å®šï¼Œæˆ‘ä»¬ä¸åœ¨éœ€è¦æ“ä½œDOMï¼Œåªéœ€è¦å…³å¿ƒæ•°æ®çš„å˜åŒ–ï¼Œè§†å›¾å°±ä¼šè‡ªåŠ¨æ”¹å˜ï¼Œæˆ‘ä»¬å°±æ¥æ¢ç©¶ä¸€ä¸‹Vueçš„æ•°æ®ç»‘å®šåŸç† å…ˆæ¥è´´ä¸€å¼ å®˜æ–¹çš„æ•°æ®ç»‘å®šåŸç†çš„ä»‹ç»å›¾ï¼Œè¿˜æœ‰ä¸€æ®µå®˜ç½‘çš„ä»‹ç» å½“ä½ æŠŠä¸€ä¸ªæ™®é€šçš„ JavaScript å¯¹è±¡ä¼ å…¥ Vue å®ä¾‹ä½œä¸º data é€‰é¡¹ï¼ŒVue å°†éå†æ­¤å¯¹è±¡æ‰€æœ‰çš„ propertyï¼Œå¹¶ä½¿ç”¨ Object.defineProperty æŠŠè¿™äº› property å…¨éƒ¨è½¬ä¸º getter/setterã€‚ æ€»ä½“æ¥è¯´ï¼Œå°±æ˜¯å°†Vueä¸­çš„dataé€šè¿‡Observerè¿›è¡Œæ•°æ®è§‚å¯Ÿï¼Œåœ¨è¯»å–æ•°æ®å€¼çš„æ—¶å€™æ·»åŠ è®¢é˜…ï¼Œåœ¨å€¼è¿›è¡Œä¿®æ”¹æ—¶å‘å¸ƒé€šçŸ¥ï¼Œå‘Šè¯‰è¿™ä¸ªæ•°å€¼æ‰€æœ‰çš„è®¢é˜…è€…æ›´æ–°æ•°æ® æºç åˆ†æä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œä»£ç ä¸­æœ‰æ‰€çœç•¥ defineReactiveåŠ«æŒæ•°æ®ä¼—æ‰€å‘¨çŸ¥ï¼ŒVue2ä½¿ç”¨çš„æ˜¯Object.defineProperty()æ¥å®ç°çš„æ•°æ®åŠ«æŒï¼ŒdefineReactiveå°±æ˜¯å¯¹Object.defineProperty()è¿›è¡Œçš„ä¸€æ¬¡å°è£… export default function defineReactive(data,key,val){ // console.log(&#39;defineReactive&#39;,data,key) if(arguments.length == 2){ val = data[key] } //å­å…ƒç´ è¦è¿›è¡Œobserveï¼Œå½¢æˆé€’å½’ï¼Œå¤šä¸ªå‡½æ•°å¾ªç¯è°ƒç”¨ let childOb = observe(val) Object.defineProperty(data,key,{ //å¯æšä¸¾ enumerable:true, //å¯ä»¥è¢«é…ç½®,æ¯”å¦‚å¯ä»¥è¢«delete configurable:true, //getter get() { console.log(`æ‰“å¼€${key}å±æ€§`) return val }, //setter set(newValue) { console.log(`æ”¹å˜objçš„${key}å±æ€§`,newValue) if(val === newValue){ return } val = newValue childOb = observe(newValue) } }); } å°†defineReactiveæš´éœ²å‡ºå»ï¼Œå†éœ€è¦è¿›è¡Œæ•°æ®åŠ«æŒçš„æ—¶å€™ç›´æ¥å°±å¯ä»¥ç”¨è¿™ä¸ªå°è£…å¥½çš„æ–¹æ³• Observerç±»å¼€å§‹æˆ‘ä»¬è¯´äº†ï¼ŒVueä¸­çš„dataé€šè¿‡Observerè¿›è¡Œæ•°æ®è§‚æµ‹æ‰å¯ä»¥è¿›è¡ŒåŠ«æŒï¼Œé‚£ä¹ˆObserverçš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼ŸObserverä¸»è¦è´Ÿè´£å°†åŸºæœ¬æ•°æ®ç±»å‹è¿›è¡Œæˆ‘ä»¬ä¸Šé¢æ‰€å®šä¹‰çš„defineReactiveæ•°æ®åŠ«æŒï¼Œç„¶ååŒºåˆ†å¼•ç”¨ç±»å‹ï¼Œå°†å¯¹è±¡çš„å±æ€§é€’å½’åŠ«æŒï¼Œå¦‚æœæ˜¯æ•°ç»„ï¼Œå°±è¦æ”¹å†™æ•°ç»„çš„æ–¹æ³•æ¥å®ç°æ•°æ®åŠ«æŒï¼Œä¹‹åä¼šè¯¦ç»†ä»‹ç»ã€‚ Observerä½¿ç”¨æ—¶ä¼šåœ¨å¤–é¢è¿›è¡Œç±»å‹æ£€æµ‹ï¼Œå¦‚æœä¸æ˜¯å¼•ç”¨ç±»å‹ï¼Œç›´æ¥è¿”å›ï¼Œåªæœ‰å¼•ç”¨ç±»å‹æ‰è¿›è¡Œæ•°æ®ä¾¦æµ‹ï¼Œå¹¶å°†Observerå®ä¾‹è¿”å› // observe.js export default function(value){ //å¦‚æœvalueä¸æ˜¯å¯¹è±¡ï¼Œä»€ä¹ˆéƒ½ä¸åš if(typeof value != &#39;object&#39;) return; //å®šä¹‰ob var ob; // __ob__å°±æ˜¯å¯¹è±¡æ˜¯å¦çœŸæµ‹è¿‡çš„æ ‡è¯†ï¼Œå¦‚æœæ•°æ®è¢«Observerå¤„ç†è¿‡ï¼Œä»–çš„å±æ€§ä¸Šå°±ä¼šæœ‰__ob__ if(typeof value.__ob__ !== &#39;undefined&#39;){ ob = value.__ob__; }else{ ob = new Observer(value) } return ob; } // Observer.js export default class Observer { constructor(value) { //æ¯ä¸€ä¸ªObserverçš„å®ä¾‹èº«ä¸Šï¼Œéƒ½æœ‰ä¸€ä¸ªdepï¼ˆä¸‹ä¸€éƒ¨åˆ†ä¼šè¯´åˆ°ï¼‰ this.dep = new Dep(); //ç»™å®ä¾‹æ·»åŠ äº†__ob__å±æ€§ï¼Œå€¼æ˜¯è¿™ä¸ªnewçš„å®ä¾‹ def(value, &#39;__ob__&#39;, this, false) console.log(&#39;æˆ‘æ˜¯Observeræ„é€ å™¨&#39;, value) //Observerå°†ä¸€ä¸ªæ­£å¸¸çš„objectè½¬æ¢ä¸ºæ¯ä¸ªå±‚çº§çš„å±æ€§éƒ½æ˜¯å“åº”å¼(å¯ä»¥è¢«ä¾¦æµ‹çš„)object //æ£€æŸ¥å®ƒæ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ if (Array.isArray(value)) { //å¦‚æœæ˜¯æ•°ç»„ï¼Œå°±å°†è¿™ä¸ªæ•°ç»„çš„åŸå‹æŒ‡å‘arrayMethods(åé¢ä¼šä»‹ç») Object.setPrototypeOf(value, arrayMethods); //è®©è¿™ä¸ªæ•°ç»„å˜å¾—observe this.observeArray(value) } else { this.walk(value) } } //éå† walk(value) { for (let k in value) { defineReactive(value, k) } } //æ•°ç»„çš„ç‰¹æ®Šéå† observeArray(arr) { for (let i = 0, l = arr.length; i &lt; l; i++) { observe(arr[i]) } } } æ•°ç»„çš„å“åº”å¼ç”±äºé€šè¿‡ç´¢å¼•æ¥å®ç°ç»‘å®šå¤ªè¿‡æµªè´¹æ€§èƒ½ï¼Œæ‰€ä»¥ï¼ŒVueåœ¨å®ç°æ•°ç»„çš„å“åº”å¼æ—¶é‡å†™äº†7ä¸ªæ•°ç»„çš„APIï¼ˆä¸ºä»€ä¹ˆæ˜¯7ä¸ªï¼ŸArray.prototypeä¸Šå¯ä»¥æ”¹å˜åŸæ•°ç»„çš„APIåªæœ‰7ä¸ªï¼Œå…¶ä»–çš„ä¸ä¼šæ”¹å˜åŸæ•°ç»„ï¼‰ï¼Œåªè¦è°ƒç”¨äº†è¿™7ä¸ªAPIå°±é€šçŸ¥è§†å›¾è¿›è¡Œæ›´æ–° //å¾—åˆ°Array.prototype const arrayPrototype = Array.prototype; //ä»¥Array.prototypeä¸ºåŸå‹åˆ›å»ºarrayMethodså¯¹è±¡,å¹¶æš´éœ² export const arrayMethods = Object.create(arrayPrototype); //è¦è¢«æ”¹å†™çš„7ä¸ªæ•°ç»„æ–¹æ³• const methodsNeedChange = [ &#39;push&#39;, &#39;pop&#39;, &#39;shift&#39;, &#39;unshift&#39;, &#39;splice&#39;, &#39;sort&#39;, &#39;reverse&#39; ] methodsNeedChange.forEach(methodName =&gt;{ //å¤‡ä»½åŸæ¥çš„æ–¹æ³• const original = arrayPrototype[methodName]; def(arrayMethods,methodName,function(){ //æ¢å¤åŸæ¥çš„æ–¹æ³• const result = original.apply(this,arguments) //æŠŠç±»æ•°ç»„å¯¹è±¡å˜ä¸ºæ•°ç»„ const args = [...arguments] //æŠŠè¿™ä¸ªæ•°ç»„èº«ä¸Šçš„__ob__å–å‡ºæ¥ï¼Œ__ob__å·²ç»è¢«æ·»åŠ äº†ï¼Œå› ä¸ºæ•°ç»„è‚¯å®šä¸æ˜¯æœ€é«˜å±‚ï¼Œæ¯”å¦‚obj.gå±æ€§æ˜¯æ•°ç»„ï¼Œobjä¸èƒ½æ˜¯æ•°ç»„ï¼Œç¬¬ä¸€æ¬¡éå†objè¿™ä¸ªå¯¹è±¡çš„ç¬¬ä¸€å±‚çš„æ—¶å€™ï¼Œå·²ç»ç»™gå±æ€§(å°±æ˜¯è¿™ä¸ªæ•°ç»„)æ·»åŠ äº†__ob__å±æ€§ã€‚ const ob = this.__ob__; // è¦æŠŠæ’å…¥çš„æ–°é¡¹ä¹Ÿè¦å˜ä¸ºobserveçš„ let inserted = []; switch(methodName){ case &#39;push&#39;: case &#39;unshift&#39;: inserted = args break case &#39;splice&#39;: //spliceæ–°åŠ å…¥çš„å‚æ•°æ˜¯ä»ç¬¬ä¸‰é¡¹å¼€å§‹ inserted = args.slice(2) break } //åˆ¤æ–­æœ‰æ²¡æœ‰è¦æ’å…¥çš„æ–°é¡¹,è®©æ–°é¡¹ä¹Ÿå˜æˆå“åº”çš„ if(inserted){ ob.observeArray(inserted) } // è°ƒç”¨depçš„notifyæ–¹æ³•é€šçŸ¥æ›´æ–° ob.dep.notify() return result },false) }) ä¾èµ–æ”¶é›†ä¾èµ–æ”¶é›†çš„è¿‡ç¨‹å°±æ˜¯å°†watcherå®ä¾‹æ·»åŠ åˆ°Depçš„é˜Ÿåˆ—ä¸­çš„è¿‡ç¨‹ï¼ŒDepå®ä¾‹å­˜åœ¨ __ob__å±æ€§ä¸­ï¼Œä¹Ÿå°±æ˜¯ä¸Šæ–‡Observerä¸­çš„åˆ›å»ºDepå¯¹è±¡å®ä¾‹çš„é‚£ä¸€æ®µä»£ç ã€‚æ¯ä¸€ä¸ªDepå®ä¾‹ç»´æŠ¤ç€ä¸€ä¸ªwatcheré˜Ÿåˆ—ï¼Œå½“æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè§¦å‘notifyæ–¹æ³•é€šçŸ¥è§†å›¾æ›´æ–° var uid = 0; export default class Dep{ constructor(){ this.id = uid++; //ç”¨æ•°ç»„å­˜å‚¨è‡ªå·±çš„è®¢é˜…è€…ã€‚subsæ˜¯subscribesè®¢é˜…è€…çš„æ„æ€ this.subs = []; } //æ·»åŠ è®¢é˜… addSub(sub){ this.subs.push(sub) } //æ·»åŠ ä¾èµ– depend(){ //Dep.targetæˆ‘ä»¬è‡ªå·±æŒ‡å®šçš„å…¨å±€çš„ä½ç½®ï¼Œåªè¦æ˜¯å…¨å±€å”¯ä¸€æ²¡æœ‰æ­§ä¹‰å°±è¡Œ if(Dep.target){ this.addSub(Dep.target) } } //é€šçŸ¥æ›´æ–° notify(){ //æµ…å…‹éš†ä¸€ä»½ const subs = this.subs.slice(); //éå† for(let i = 0,l = subs.length;i&lt;l;i++){ subs[i].update(); } } } è¿™é‡Œé¢æ¯”è¾ƒéš¾ç†è§£çš„æ˜¯Dep.targetè¿™ä¸€ä¸ªä¸œè¥¿ï¼Œè¿™ä¸ªä¸œè¥¿å…¶å®å°±æ˜¯ä¸€ä¸ªå…¨å±€æ ‡è¯†ï¼Œå¦‚æœä½ æ„¿æ„ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨window.targetæˆ–è€…å…¶ä»–çš„å˜é‡åã€‚äº†è§£ä»–çš„ä½œç”¨ç»§ç»­çœ‹ä¸‹ä¸€æ®µ var uid = 0; export default class Watcher { constructor(target, expression, callback) { console.log(&#39;æˆ‘æ˜¯watcherçš„æ„é€ å™¨&#39;); this.id = uid++; this.target = target; this.getter = parsePath(expression); this.callback = callback; this.value = this.get(); } update() { this.run(); } get() { //è¿›å…¥ä¾èµ–æ”¶é›†é˜¶æ®µ.è®©å…¨å±€çš„Dep.targetè®¾ç½®ä¸ºWatcheræœ¬èº«ï¼Œé‚£ä¹ˆå°±æ˜¯è¿›å…¥ä¾èµ–æ”¶é›†é˜¶æ®µ Dep.target = this; const obj = this.target; var value; //åªè¦èƒ½æ‰¾ï¼Œå°±ä¸€ç›´æ‰¾ try { value = this.getter(obj); } finally { Dep.target = null; } return value; } run() { this.getAndInvoke(this.callback) } getAndInvoke(cb) { const value = this.get(); if (value !== this.value || typeof value == &#39;object&#39;) { const oldValue = this.value; cb.call(this.target, value, oldValue) } } } function parsePath(str) { var segments = str.split(&#39;.&#39;); return (obj) =&gt; { for (let i = 0; i &lt; segments.length; i++) { if (!obj) return; obj = obj[segments[i]] } return obj; } } åœ¨åˆ›å»ºWatcherå®ä¾‹çš„æ—¶å€™ï¼Œå°†Dep.targetæŒ‡å‘å½“å‰å®ä¾‹ï¼Œç„¶åè§¦å‘è¢«å¤„ç†è¿‡çš„å±æ€§çš„getæ–¹æ³•ï¼Œè°ƒç”¨depçš„dependæ–¹æ³•ï¼Œå°†è¿™ä¸ªwatcherå®ä¾‹æ·»åŠ åˆ°depçš„subsé˜Ÿåˆ—ä¸­ï¼Œè¿™æ—¶å€™defineReactiveæ–¹æ³•å°±è¦å‘ç”Ÿä¸€ç‚¹æ”¹å˜äº† export default function defineReactive(data,key,val){ const dep = new Dep(); if(arguments.length == 2){ val = data[key]; } //å­å…ƒç´ è¦è¿›è¡Œobserveï¼Œå½¢æˆé€’å½’ï¼Œå¤šä¸ªå‡½æ•°å¾ªç¯è°ƒç”¨ let childOb = observe(val); Object.defineProperty(data,key,{ enumerable:true, configurable:true, //getter get() { console.log(`æ‰“å¼€${key}å±æ€§`) //å¦‚æœç°åœ¨å¤„äºä¾èµ–æ”¶é›†é˜¶æ®µ if(Dep.target){ dep.depend(); if(childOb){ childOb.dep.depend() }; } return val; }, //setter set(newValue) { console.log(`æ”¹å˜objçš„${key}å±æ€§`,newValue) if(val === newValue){ return; } val = newValue; childOb = observe(newValue) dep.notify(); } }); } æ€»ç»“Vueæ•°æ®ç»‘å®šçš„è¿‡ç¨‹å¤§è‡´å°±æ˜¯å¦‚æ­¤äº†ï¼Œè¿˜æœ‰å¾ˆå¤šä¸å®Œå–„çš„åœ°æ–¹ï¼Œæ¯”å¦‚ç›´æ¥é€šè¿‡æ•°ç»„ç´¢å¼•æ”¹å˜æ•°ç»„é¡¹ä¸ä¼šè§¦å‘å“åº”å¼ï¼Œè¿™é‡Œå®˜æ–¹ä¹Ÿæ˜¯ä¸å»ºè®®ä½¿ç”¨ä¸‹æ ‡ç›´æ¥ä¿®æ”¹ï¼Œæ‰€ä»¥å®˜æ–¹æä¾›äº†$setè¿™ä¸ªAPIæ¥å®Œæˆæ“ä½œ ç»“æŸ~~~","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"å¸§åŠ¨ç”»animation","slug":"ç¬”è®°/å¸§åŠ¨ç”»animation","date":"2021-02-01T01:10:59.521Z","updated":"2021-02-05T08:51:23.462Z","comments":true,"path":"2021/02/01/ç¬”è®°/å¸§åŠ¨ç”»animation/","link":"","permalink":"https://easyremember.cn/2021/02/01/ç¬”è®°/å¸§åŠ¨ç”»animation/","excerpt":"","text":"æ²¡æœ‰ä¸­é—´å€¼è¿‡åº¦çš„å±æ€§æ— æ³•ä½¿ç”¨å¸§åŠ¨ç”» å®šä¹‰å…³é”®å¸§ä½¿ç”¨å…³é”®å­—@keyframesæ¥å£°æ˜å…³é”®å¸§ fromè¡¨ç¤ºå¼€å§‹ toè¡¨ç¤ºç»“æŸ ä½¿ç”¨ç™¾åˆ†æ•°è¡¨ç¤ºåŠ¨ç”»åˆ°ç™¾åˆ†ä¹‹å‡ çš„ä½ç½® å¦‚ï¼š @keyframes box { from { } to { } /* æˆ–è€… */ /* 0% { } 100%{ } */ } ä¸è®¾ç½®0%å’Œ100%æ—¶é»˜è®¤ä½¿ç”¨å…ƒç´ åˆå§‹æ ·å¼ï¼Œæ—¶é—´ç‚¹å¯ä»¥åŒæ—¶è®¾ç½®ï¼Œä¾‹å¦‚25%,75%{}å°±å¯ä»¥åœ¨ä¸¤ä¸ªæ—¶é—´ç‚¹åŒæ—¶ç”Ÿæ•ˆ ä½¿ç”¨å…³é”®å¸§ä½¿ç”¨åŠ¨ç”»å…ƒç´ å±æ€§ä¸­ä½¿ç”¨animation-nameå£°æ˜åŠ¨ç”»ï¼Œå¯ä»¥å£°æ˜å¤šä¸ªåŠ¨ç”»ï¼Œä½¿ç”¨é€—å·éš”å¼€ï¼›ä½¿ç”¨animation-durationå£°æ˜åŠ¨ç”»æ—¶é—´ï¼Œå¤šä¸ªæ—¶é—´å¹¶åˆ—ä¼šè‡ªåŠ¨å¯¹åº”ç›¸åº”çš„nameï¼Œå¦‚æœåŠ¨ç”»ä¸ªæ•°å¤šäºæ—¶é—´ä¸ªæ•°ï¼Œä¼šä»ç¬¬ä¸€ä¸ªæ—¶é—´å¼€å§‹ä¾æ¬¡ä½¿ç”¨ .class { animation-name: box, float-box; animation-duration: 6s, 3s; } å¦‚æœå¤šä¸ªåŠ¨ç”»å­˜åœ¨å±æ€§å†²çªï¼Œåå‡ºç°çš„æƒé‡é«˜ï¼Œå¦‚æœåå‡ºç°çš„æ‰§è¡Œå®Œäº†ï¼Œå…ˆè®¾ç½®çš„æ•ˆæœè¿˜æ²¡ç»“æŸï¼Œå°±ä¼šå†æ‰§è¡Œå…ˆè®¾ç½®çš„æ•ˆæœ é‡å¤åŠ¨ç”»ä½¿ç”¨animation-iteration-count è§„åˆ™è®¾ç½®åŠ¨ç”»é‡å¤æ‰§è¡Œæ¬¡æ•°ï¼Œè®¾ç½®å€¼ä¸º infinite è¡¨ç¤ºæ— é™å¾ªç¯æ‰§è¡Œï¼Œæ§åˆ¶å¤šä¸ªåŠ¨ç”»é‡å¤æ¬¡æ•°çš„è§„åˆ™è·Ÿæ—¶é—´æ§åˆ¶ä¸€æ · åŠ¨ç”»æ–¹å‘ä½¿ç”¨animation-directionè§„åˆ™è®¾ç½®åŠ¨ç”»çš„æ–¹å‘ normalâ€”â€”ä»0%åˆ°100%è¿è¡ŒåŠ¨ç”» reverseâ€”â€”ä»100%åˆ°0%è¿è¡ŒåŠ¨ç”» alternateâ€”â€”å…ˆä»0%åˆ°100%ï¼Œç„¶åä»100%åˆ°0% alternate-reverseâ€”â€”å…ˆä»100%åˆ°0%ï¼Œç„¶åä»0%åˆ°100% å»¶è¿ŸåŠ¨ç”»ä½¿ç”¨ animation-delay è§„åˆ™å®šä¹‰åŠ¨ç”»ç­‰å¾…å¤šé•¿æ—¶é—´åæ‰§è¡Œã€‚ åŠ¨ç”»é€Ÿç‡ å€¼ æè¿° linear è§„å®šä»¥ç›¸åŒé€Ÿåº¦å¼€å§‹è‡³ç»“æŸçš„è¿‡æ¸¡æ•ˆæœï¼ˆç­‰äº cubic-bezier(0,0,1,1)ï¼‰ã€‚ ease å¼€å§‹æ…¢ï¼Œç„¶åå¿«ï¼Œæ…¢ä¸‹æ¥ï¼Œç»“æŸæ—¶éå¸¸æ…¢ï¼ˆcubic-bezier(0.25,0.1,0.25,1)ï¼‰ ease-in å¼€å§‹æ…¢ï¼Œç»“æŸå¿«ï¼ˆç­‰äº cubic-bezier(0.42,0,1,1)ï¼‰ ease-out å¼€å§‹å¿«ï¼Œç»“æŸæ…¢ï¼ˆç­‰äº cubic-bezier(0,0,0.58,1)ï¼‰ ease-in-out ä¸­é—´å¿«ï¼Œä¸¤è¾¹æ…¢ï¼ˆç­‰äº cubic-bezier(0.42,0,0.58,1)ï¼‰ cubic-bezier(n,n,n,n) åœ¨ cubic-bezier å‡½æ•°ä¸­å®šä¹‰è‡ªå·±çš„å€¼ æ­¥è¿›åŠ¨ç”»é€šè¿‡ animation-timing-functionæ§åˆ¶æ­¥è¿›åŠ¨ç”»ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ é€‰é¡¹ è¯´æ˜ steps(n,start) è®¾ç½®nä¸ªæ—¶é—´ç‚¹ï¼Œç¬¬ä¸€æ—¶é—´ç‚¹å˜åŒ–çŠ¶æ€ steps(n,end) è®¾ç½®nä¸ªæ—¶é—´ç‚¹ï¼Œç¬¬ä¸€æ—¶é—´ç‚¹åˆå§‹çŠ¶æ€ step-start ç­‰äºsteps(1,start)ï¼Œå¯ä»¥ç†è§£ä¸ºä»ä¸‹ä¸€æ­¥å¼€å§‹ step-end ç­‰äºsteps(1,end)ï¼Œå¯ä»¥ç†è§£ä¸ºä»å½“å‰æ­¥å¼€å§‹ æ’­æ”¾çŠ¶æ€ä½¿ç”¨ animation-play-state å¯ä»¥æ§åˆ¶åŠ¨ç”»çš„æš‚åœä¸è¿è¡Œ pausedï¼šæš‚åœ runningï¼šè¿åŠ¨ å¯ä»¥åœ¨é¼ æ ‡æ‚¬æµ®æ—¶è¿åŠ¨æˆ–è€…æš‚åœ å¡«å……æ¨¡å¼animation-fill-mode ç”¨äºå®šä¹‰åŠ¨ç”»æ’­æ”¾ç»“æŸåçš„å¤„ç†æ¨¡å¼ï¼Œæ˜¯å›åˆ°åŸæ¥çŠ¶æ€è¿˜æ˜¯åœæ­¢åœ¨åŠ¨ç”»ç»“æŸçŠ¶æ€ã€‚ é€‰é¡¹ è¯´æ˜ none éœ€è¦ç­‰å»¶è¿Ÿç»“æŸï¼Œèµ·å§‹å¸§å±æ€§æ‰åº”ç”¨ backwards åŠ¨ç”»æ•ˆæœåœ¨èµ·å§‹å¸§ï¼Œä¸ç­‰å»¶è¿Ÿç»“æŸ forwards ç»“æŸååœç•™åŠ¨ç”»çš„æœ€åä¸€å¸§ both åŒ…å«backwardsä¸forwardsè§„åˆ™ï¼Œå³åŠ¨ç”»æ•ˆæœåœ¨èµ·å§‹å¸§ï¼Œä¸ç­‰å»¶è¿Ÿç»“æŸï¼Œå¹¶ä¸”åœ¨ç»“æŸååœæ­¢åœ¨æœ€åä¸€å¸§ ç»„åˆå®šä¹‰å¯ä»¥ä½¿ç”¨animationç»„åˆå®šä¹‰å¸§åŠ¨ç”»ã€‚animation å±æ€§æ˜¯ä¸€ä¸ªç®€å†™å±æ€§ï¼Œç”¨äºè®¾ç½®å…­ä¸ªåŠ¨ç”»å±æ€§ï¼š animation-name animation-duration animation-timing-function animation-delay animation-iteration-count animation-direction å¿…é¡»å­˜åœ¨ animation-durationå±æ€§ï¼Œå¦åˆ™è¿‡æ¸¡æ—¶é—´ä¸º0æ²¡æœ‰åŠ¨ç”»æ•ˆæœ","categories":[],"tags":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/tags/ç¬”è®°/"}],"keywords":[]},{"title":"Vueé¢è¯•é¢˜","slug":"éšæƒ³/Vueé¢è¯•é¢˜","date":"2021-01-19T13:33:03.945Z","updated":"2021-01-19T13:34:03.565Z","comments":true,"path":"2021/01/19/éšæƒ³/Vueé¢è¯•é¢˜/","link":"","permalink":"https://easyremember.cn/2021/01/19/éšæƒ³/Vueé¢è¯•é¢˜/","excerpt":"","text":"æ·±åº¦ç›‘å¬å¯¹è±¡æœ‰å¦‚ä¸‹æ•°æ®ï¼Œå®ç°å¯¹objçš„æ·±åº¦ç›‘å¬ data() { return { obj: { name: &#39;å¼ ä¸‰&#39;, age: 21, } } } ç»“åˆcomputed å°†è¦ç›‘å¬çš„å±æ€§ä½¿ç”¨computedè®¡ç®—å‡ºæ¥ï¼Œç„¶åç›‘å¬è¿™ä¸ªè®¡ç®—å±æ€§ï¼Œå¦‚ä¸‹ computed: { oName() { return this.obj.name } }, watch: { oName(newValue) { console.log(&#39;nameå€¼å˜ä¸º&#39;+newValue) } } æ·±åº¦ç›‘å¬ åˆ©ç”¨Vueè‡ªèº«çš„æ·±åº¦ç›‘å¬ï¼Œè®¾ç½®æ·±åº¦ç›‘å¬ä¸ºtrueï¼Œå¦‚ä¸‹ watch: { obj: { deep: true, handler: (newValue) =&gt; { console.log(&#39;nameå€¼å˜ä¸º&#39;+newValue) } } } ä»€ä¹ˆæ˜¯MVVMä¼ ç»Ÿçš„MVCï¼ˆModel-View-Controllerï¼‰ä¸­ï¼Œå½“æ•°æ®Modelå‘ç”Ÿå˜åŒ–æ—¶ç”±æ§åˆ¶å™¨Controlleræ§åˆ¶è§†å›¾Viewçš„æ›´æ–°ã€‚ éšç€å‰ç«¯é¡µé¢è¶Šæ¥è¶Šå¤æ‚ä»¥åŠå•é¡µåº”ç”¨çš„å‡ºç°ï¼ŒMVCæ¨¡å‹å·²ç»ä¸å†é€‚åº”å‰ç«¯çš„å¼€å‘ï¼ŒMVVMï¼ˆModel-View-ViewModelï¼‰åº”è¿è€Œç”Ÿ ï¼ŒMVVMä¸­Modelå’ŒViewæ²¡æœ‰ç›´æ¥è”ç³»ï¼Œé€šè¿‡ViewModelè¿›è¡Œäº¤äº’ï¼Œè€Œä¸”æ˜¯åŒå‘çš„ï¼Œè¿™æ ·å¼€å‘æ—¶å°±ä¸å†éœ€è¦å…³æ³¨Viewï¼Œåªéœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤„ç†å°±å¯ä»¥äº† å“åº”å¼æ•°æ®çš„åŸç†Vueåœ¨åˆå§‹åŒ–æ—¶ï¼Œä¼šç»™dataä¸­å±æ€§é€šè¿‡Object.defineProperty()é‡æ–°å®šä¹‰æ‰€æœ‰å±æ€§ï¼Œå½“é¡µé¢å–åˆ°å¯¹åº”çš„å±æ€§æ˜¯ä¼šè¿›è¡Œä¾èµ–æ”¶é›†ï¼Œå¦‚æœå±æ€§å‘ç”Ÿå˜åŒ–ä¼šé€šçŸ¥ç›¸å…³ä¾èµ–è¿›è¡Œæ›´æ–° Vueå¦‚ä½•æ£€æµ‹æ•°ç»„å˜åŒ– ä½¿ç”¨å‡½æ•°åŠ«æŒçš„æ–¹æ³•ï¼Œé‡å†™æ•°ç»„æ–¹æ³• Vueå°†dataä¸­çš„æ•°ç»„è¿›è¡Œäº†åŸå‹é“¾é‡å†™ï¼ŒæŒ‡å‘äº†è‡ªå·±é¡¶ä¸€ä¸ªæ•°ç»„åŸå‹é“¾æ–¹æ³•ï¼Œåœ¨è°ƒç”¨æ•°ç»„APIæ—¶ï¼Œå¯ä»¥é€šçŸ¥ä¾èµ–æ›´æ–°ï¼Œå¦‚æœæ•°ç»„ä¸­å­˜åœ¨å¼•ç”¨ç±»å‹ï¼Œï¼Œä¼šå¯¹å¼•ç”¨ç±»å‹å†æ¬¡è¿›è¡Œç›‘æ§ ä¸ºä»€ä¹ˆVueé‡‡ç”¨å¼‚æ­¥æ¸²æŸ“å¦‚æœä¸é‡‡ç”¨å¼‚æ­¥æ›´æ–°ï¼Œé‚£ä¹ˆæ¯æ¬¡æ•°æ®å˜åŒ–éƒ½ä¼šå¼•èµ·ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ï¼ŒVueä¼šåœ¨æœ¬è½®æ•°æ®æ›´æ–°åå†å»å¼‚æ­¥æ¸²æŸ“ nextTickåŸç†nextTick æ–¹æ³•ä¸»è¦æ˜¯ä½¿ç”¨äº†å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡,å®šä¹‰äº†ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•.å¤šæ¬¡è°ƒç”¨ nextTick ä¼šå°†æ–¹æ³•å­˜å…¥ é˜Ÿåˆ—ä¸­ï¼Œé€šè¿‡è¿™ä¸ªå¼‚æ­¥æ–¹æ³•æ¸…ç©ºå½“å‰é˜Ÿåˆ—ã€‚ æ‰€ä»¥è¿™ä¸ª nextTick æ–¹æ³•å°±æ˜¯å¼‚æ­¥æ–¹æ³• Computedå’ŒWatchçš„åŒºåˆ«Computedå’ŒWatchéƒ½æ˜¯watcherï¼ŒåŒºåˆ«åœ¨äºComputedå…·æœ‰ç¼“å­˜åŠŸèƒ½ Watchä¸­çš„deep: trueæ€ä¹ˆå®ç°çš„å½“ç”¨æˆ·æŒ‡å®šäº† watch ä¸­çš„deepå±æ€§ä¸º true æ—¶ï¼Œå¦‚æœå½“å‰ç›‘æ§çš„å€¼æ˜¯æ•°ç»„ç±»å‹ã€‚ä¼šå¯¹å¯¹è±¡ä¸­çš„æ¯ ä¸€é¡¹è¿›è¡Œæ±‚å€¼ï¼Œæ­¤æ—¶ä¼šå°†å½“å‰ watcher å­˜å…¥åˆ°å¯¹åº”å±æ€§çš„ä¾èµ–ä¸­ï¼Œè¿™æ ·æ•°ç»„ä¸­å¯¹è±¡å‘ç”Ÿå˜åŒ–æ—¶ä¹Ÿ ä¼šé€šçŸ¥æ•°æ®æ›´æ–° ç”Ÿå‘½å‘¨æœŸ ajaxè¯·æ±‚æ”¾åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸä¸­ åœ¨createdçš„æ—¶å€™ï¼Œè§†å›¾ä¸­çš„ dom å¹¶æ²¡æœ‰æ¸²æŸ“å‡ºæ¥ï¼Œæ‰€ä»¥æ­¤æ—¶å¦‚æœç›´æ¥å»æ“ dom èŠ‚ç‚¹ï¼Œæ— æ³•æ‰¾åˆ°ç›¸ å…³çš„å…ƒç´  åœ¨mountedä¸­ï¼Œç”±äºæ­¤æ—¶ dom å·²ç»æ¸²æŸ“å‡ºæ¥äº†ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æ“ä½œ dom èŠ‚ç‚¹ ï¼›ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ”¾åˆ° mounted ä¸­,ä¿è¯é€»è¾‘çš„ç»Ÿä¸€æ€§,å› ä¸ºç”Ÿå‘½å‘¨æœŸæ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œ ajax æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ æœåŠ¡ç«¯æ¸²æŸ“ä¸æ”¯æŒmountedæ–¹æ³•ï¼Œæ‰€ä»¥åœ¨æœåŠ¡ç«¯æ¸²æŸ“çš„æƒ…å†µä¸‹ç»Ÿä¸€æ”¾åˆ°createdä¸­ ä½•æ—¶éœ€è¦ä½¿ç”¨beforeDestroy å¯èƒ½åœ¨å½“å‰é¡µé¢ä¸­ä½¿ç”¨äº† $on æ–¹æ³•ï¼Œé‚£éœ€è¦åœ¨ç»„ä»¶é”€æ¯å‰è§£ç»‘ã€‚ æ¸…é™¤è‡ªå·±å®šä¹‰çš„å®šæ—¶å™¨ è§£é™¤äº‹ä»¶çš„ç»‘å®š scroll mousemove â€¦. Vueä¸­æ¨¡æ¿ç¼–è¯‘åŸç† ç¬¬ä¸€æ­¥æ˜¯å°† æ¨¡æ¿å­—ç¬¦ä¸² è½¬æ¢æˆ element ASTsï¼ˆè§£æå™¨ï¼‰ ç¬¬äºŒæ­¥æ˜¯å¯¹ AST è¿›è¡Œé™æ€èŠ‚ç‚¹æ ‡è®°ï¼Œä¸»è¦ç”¨æ¥åšè™šæ‹ŸDOMçš„æ¸²æŸ“ä¼˜åŒ–ï¼ˆä¼˜åŒ–å™¨ï¼‰ ç¬¬ä¸‰æ­¥æ˜¯ ä½¿ç”¨ element ASTs ç”Ÿæˆ render å‡½æ•°ä»£ç å­—ç¬¦ä¸²ï¼ˆä»£ç ç”Ÿæˆå™¨ï¼‰ Vueä¸­v-ifå’Œv-showçš„åŒºåˆ«v-if å¦‚æœæ¡ä»¶ä¸æˆç«‹ä¸ä¼šæ¸²æŸ“å½“å‰æŒ‡ä»¤æ‰€åœ¨èŠ‚ç‚¹çš„ dom å…ƒç´  v-show åªæ˜¯åˆ‡æ¢å½“å‰ dom çš„æ˜¾ç¤ºæˆ–è€…éšè—(display: none) ä¸ºä»€ä¹ˆV-forå’Œv-ifä¸èƒ½è¿ç”¨v-for ä¼šæ¯” v-if çš„ä¼˜å…ˆçº§é«˜ä¸€äº›,å¦‚æœè¿ç”¨çš„è¯ä¼šæŠŠ v-if ç»™æ¯ä¸ªå…ƒç´ éƒ½æ·»åŠ ä¸€ä¸‹,ä¼šé€ æˆæ€§èƒ½é—®é¢˜ å¦‚æœéœ€è¦è¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§ï¼Œå…ˆå¤„ç†è¦éå†çš„æ•°æ®ï¼Œç­›é€‰ä¹‹åå†éå† &lt;template&gt; &lt;ul&gt; &lt;li v-for=&quot;computeData&quot;&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/template&gt; &lt;script&gt; data() { return { initData: [ {flag: true, name: &#39;aaa&#39;}, {flag: false, name: &#39;bbb&#39;}, ] } }, computed: { computeData() { this.initData.map((item) =&gt; { return item.flag }) } } &lt;/script&gt; diffç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸¤ä¸ªæ ‘çš„å®Œå…¨çš„ diff ç®—æ³•æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(nÂ³) , Vue è¿›è¡Œäº†ä¼˜åŒ–O(nÂ³) å¤æ‚åº¦çš„é—®é¢˜è½¬æ¢æˆ O(n) å¤æ‚åº¦çš„é—®é¢˜(åªæ¯”è¾ƒåŒçº§ä¸è€ƒè™‘è·¨çº§é—®é¢˜) åœ¨å‰ç«¯å½“ä¸­ï¼Œ ä½ å¾ˆå°‘ä¼šè·¨è¶Šå±‚çº§åœ°ç§»åŠ¨Domå…ƒç´ ã€‚ æ‰€ ä»¥ Virtual Domåªä¼šå¯¹åŒä¸€ä¸ªå±‚çº§çš„å…ƒç´ è¿›è¡Œå¯¹æ¯” diffåŸç† å…ˆåŒçº§æ¯”è¾ƒï¼Œåœ¨æ¯”è¾ƒå­èŠ‚ç‚¹ å…ˆåˆ¤æ–­ä¸€æ–¹æœ‰å„¿å­ä¸€æ–¹æ²¡å„¿å­çš„æƒ…å†µ æ¯”è¾ƒéƒ½æœ‰å„¿å­çš„æƒ…å†µ é€’å½’æ¯”è¾ƒå­èŠ‚ç‚¹ v-forä¸­ä¸ºä»€ä¹ˆè¦æœ‰key ç»„ä»¶ä¸­çš„ dataä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°åŒä¸€ä¸ªç»„ä»¶è¢«å¤ç”¨å¤šæ¬¡ï¼Œä¼šåˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚è¿™äº›å®ä¾‹ç”¨çš„æ˜¯åŒä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¦‚æœ data æ˜¯ä¸€ä¸ªå¯¹è±¡çš„ è¯ã€‚é‚£ä¹ˆæ‰€æœ‰ç»„ä»¶éƒ½å…±äº«äº†åŒä¸€ä¸ªå¯¹è±¡ã€‚ä¸ºäº†ä¿è¯ç»„ä»¶çš„æ•°æ®ç‹¬ç«‹æ€§è¦æ±‚æ¯ä¸ªç»„ä»¶å¿…é¡»é€šè¿‡ data å‡½æ•° è¿”å›ä¸€ä¸ªå¯¹è±¡ä½œä¸ºç»„ä»¶çš„çŠ¶æ€ ä¸€ä¸ªç»„ä»¶è¢«ä½¿ç”¨å¤šæ¬¡ï¼Œç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ªæ„é€ å‡½æ•°ã€‚ä¸ºäº†ä¿è¯ç»„ä»¶çš„ä¸åŒçš„å®ä¾‹dataä¸å†²çªï¼Œè¦æ±‚ dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·ç»„ä»¶é—´ä¸ä¼šç›¸äº’å½±å“ Vueä¸­äº‹ä»¶ç»‘å®šçš„åŸç†Vue çš„äº‹ä»¶ç»‘å®šåˆ†ä¸ºä¸¤ç§ä¸€ç§æ˜¯åŸç”Ÿçš„äº‹ä»¶ç»‘å®šï¼Œè¿˜æœ‰ä¸€ç§æ˜¯ç»„ä»¶çš„äº‹ä»¶ç»‘å®š åŸç”Ÿ dom äº‹ä»¶çš„ç»‘å®š,é‡‡ç”¨çš„æ˜¯ addEventListener å®ç° ç»„ä»¶ç»‘å®šäº‹ä»¶é‡‡ç”¨çš„æ˜¯ $on æ–¹æ³• åŸç† Vueä¸­å¸¸è§æ€§èƒ½ä¼˜åŒ–1.ç¼–ç ä¼˜åŒ–: ä¸è¦å°†æ‰€æœ‰çš„æ•°æ®éƒ½æ”¾åœ¨dataä¸­ï¼Œdataä¸­çš„æ•°æ®éƒ½ä¼šå¢åŠ getterå’Œsetterï¼Œä¼šæ”¶é›†å¯¹åº”çš„ watcher vue åœ¨ v-for æ—¶ç»™æ¯é¡¹å…ƒç´ ç»‘å®šäº‹ä»¶éœ€è¦ç”¨äº‹ä»¶ä»£ç† SPA é¡µé¢é‡‡ç”¨keep-aliveç¼“å­˜ç»„ä»¶ æ‹†åˆ†ç»„ä»¶( æé«˜å¤ç”¨æ€§ã€å¢åŠ ä»£ç çš„å¯ç»´æŠ¤æ€§,å‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“ ) v-if å½“å€¼ä¸ºfalseæ—¶å†…éƒ¨æŒ‡ä»¤ä¸ä¼šæ‰§è¡Œ,å…·æœ‰é˜»æ–­åŠŸèƒ½ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ä½¿ç”¨v-ifæ›¿ä»£v-show key ä¿è¯å”¯ä¸€æ€§ ( é»˜è®¤ vue ä¼šé‡‡ç”¨å°±åœ°å¤ç”¨ç­–ç•¥ ) Object.freeze å†»ç»“æ•°æ® åˆç†ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½ã€å¼‚æ­¥ç»„ä»¶ å°½é‡é‡‡ç”¨runtimeè¿è¡Œæ—¶ç‰ˆæœ¬ æ•°æ®æŒä¹…åŒ–çš„é—®é¢˜ ï¼ˆé˜²æŠ–ã€èŠ‚æµï¼‰ 2.VueåŠ è½½æ€§èƒ½ä¼˜åŒ–:ç¬¬ä¸‰æ–¹æ¨¡å—æŒ‰éœ€å¯¼å…¥ ( babel-plugin-component ) æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸåŠ¨æ€åŠ è½½ å›¾ç‰‡æ‡’åŠ è½½ 3.ç”¨æˆ·ä½“éªŒ:app-skeleton éª¨æ¶å± app-shell appå£³ pwa serviceworker 4.SEOä¼˜åŒ–ï¼šé¢„æ¸²æŸ“æ’ä»¶ prerender-spa-plugin æœåŠ¡ç«¯æ¸²æŸ“ ssr 5.æ‰“åŒ…ä¼˜åŒ–:ä½¿ç”¨ cdn çš„æ–¹å¼åŠ è½½ç¬¬ä¸‰æ–¹æ¨¡å— å¤šçº¿ç¨‹æ‰“åŒ… happypack splitChunks æŠ½ç¦»å…¬å…±æ–‡ä»¶ sourceMap ç”Ÿæˆ 6.ç¼“å­˜ï¼Œå‹ç¼©å®¢æˆ·ç«¯ç¼“å­˜ã€æœåŠ¡ç«¯ç¼“å­˜ æœåŠ¡ç«¯ gzip å‹ç¼© å‚è€ƒèµ„æ–™Vueé¢è¯•é¢˜æ±‡æ€»ä¸€ Vueé¢è¯•é¢˜æ±‡æ€»äºŒ","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}],"tags":[{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"https://easyremember.cn/tags/æ‚¦è¯»/"}],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}]},{"title":"é‡å­¦flex","slug":"æŠ€æœ¯/é‡å­¦flex","date":"2021-01-05T07:03:32.209Z","updated":"2021-01-05T07:04:40.918Z","comments":true,"path":"2021/01/05/æŠ€æœ¯/é‡å­¦flex/","link":"","permalink":"https://easyremember.cn/2021/01/05/æŠ€æœ¯/é‡å­¦flex/","excerpt":"","text":"flexæŒ‡çš„æ˜¯å¼¹æ€§ç›’æ¨¡å‹ä¹Ÿå«å¼¹æ€§å¸ƒå±€ï¼Œä»»ä½•å®¹å™¨éƒ½å¯ä»¥è®¾ç½®ä¸ºflexï¼›flexå°†ä¼šæ˜¯æœªæ¥æœ€æµè¡Œçš„å¸ƒå±€æ–¹å¼ï¼Œä½†æ˜¯ç°åœ¨æµè§ˆå™¨çš„å…¼å®¹å¹¶ä¸æ˜¯å¾ˆå¥½ å±æ€§6ä¸ªå®¹å™¨å±æ€§ flex-direction flex-wrap flex-flow justify-content align-items align-content 6ä¸ªå…ƒç´ å±æ€§ order flex-grow flex-shrink flex-basis flex align-self flex-directionflex-directionç”¨äºè®¾ç½®ä¸»è½´çš„æ–¹å‘ï¼Œrowä»å·¦åˆ°å³ã€row-reverseä»å³å‘å·¦ã€columnä»ä¸Šåˆ°ä¸‹ã€column-reverseä»ä¸‹åˆ°ä¸Š flex-wrapflex-wrapç”¨äºè®¾ç½®æ¢è¡Œï¼Œå½“ä¸€æ¡ä¸»è½´ä¸Šæ’åˆ—ä¸å¼€æ—¶å¯ä»¥è®¾ç½®æ¢è¡Œ wrapï¼šæ¢è¡Œå—ï¼Œä»ç¬¬ä¸€è¡Œå¼€å§‹ï¼Œä¾æ¬¡å¾€ä¸‹æ’ wrap-reverseï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨æœ€ä¸‹é¢ï¼Œä¾æ¬¡å¾€ä¸Šæ’ nowrapï¼šä¸æ¢è¡Œï¼Œé»˜è®¤è®¾ç½® flex-flowflex-directionå’Œflex-wrapçš„ç®€å†™å±æ€§flex-flow: &lt;flex-direction&gt; || &lt;flex-wrap&gt;; ä¾‹å¦‚ .father { display: flex; flex-flow: row wrap; /*æ•ˆæœç›¸åŒ*/ /*flex-direction: row*/ /*flex-wrap: wrap;*/ } justify-contentjustify-contentç”¨äºè®¾ç½®å†…å®¹åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼ flex-startï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå·¦å¯¹é½ flex-endï¼šå³å¯¹é½ centerï¼š å±…ä¸­ space-betweenï¼šä¸¤ç«¯å¯¹é½ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”éƒ½ç›¸ç­‰ã€‚ space-aroundï¼šæ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚ align-itemsalign-itemså®šä¹‰å…ƒç´ åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼ flex-startï¼šäº¤å‰è½´çš„èµ·ç‚¹å¯¹é½ã€‚ flex-endï¼šäº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½ã€‚ centerï¼šäº¤å‰è½´çš„ä¸­ç‚¹å¯¹é½ã€‚ baseline: é¡¹ç›®çš„ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½ã€‚ stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå¦‚æœé¡¹ç›®æœªè®¾ç½®é«˜åº¦æˆ–è®¾ä¸ºautoï¼Œå°†å æ»¡æ•´ä¸ªå®¹å™¨çš„é«˜åº¦ã€‚ align-contentalign-contentå±æ€§å®šä¹‰å½“æœ‰å¤šæ ¹è½´çº¿æ—¶ï¼Œè½´çº¿çš„å¯¹é½æ–¹å¼ï¼Œä¸€æ ¹è½´çº¿æ—¶ä¸èµ·ä½œç”¨ flex-startï¼šä¸äº¤å‰è½´çš„èµ·ç‚¹å¯¹é½ã€‚ flex-endï¼šä¸äº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½ã€‚ centerï¼šä¸äº¤å‰è½´çš„ä¸­ç‚¹å¯¹é½ã€‚ space-betweenï¼šä¸äº¤å‰è½´ä¸¤ç«¯å¯¹é½ï¼Œè½´çº¿ä¹‹é—´çš„é—´éš”å¹³å‡åˆ†å¸ƒã€‚ space-aroundï¼šæ¯æ ¹è½´çº¿ä¸¤ä¾§çš„é—´éš”éƒ½ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œè½´çº¿ä¹‹é—´çš„é—´éš”æ¯”è½´çº¿ä¸è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚ stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šè½´çº¿å æ»¡æ•´ä¸ªäº¤å‰è½´ã€‚ orderorderå®šä¹‰å…ƒç´ çš„æ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0 flex-growflex-growå®šä¹‰å…ƒç´ çš„æ”¾å¤§æ¯”ä¾‹ flex-shrinkflex-shrinkå®šä¹‰äº†å…ƒç´ çš„ç¼©å°æ¯”ä¾‹ flex-basisflex-basiså®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ flexflexæ˜¯flex-grow,flex-shrinkå’Œflex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0 1 auto align-selfalign-selfå…è®¸å•ä¸ªå…ƒç´ æœ‰ä¸å…¶ä»–å…ƒç´ ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"css","slug":"css","permalink":"https://easyremember.cn/tags/css/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"reactç»„ä»¶ä¼ å€¼","slug":"æŠ€æœ¯/reactç»„ä»¶ä¼ å€¼","date":"2020-12-31T07:17:00.093Z","updated":"2020-12-31T07:18:24.013Z","comments":true,"path":"2020/12/31/æŠ€æœ¯/reactç»„ä»¶ä¼ å€¼/","link":"","permalink":"https://easyremember.cn/2020/12/31/æŠ€æœ¯/reactç»„ä»¶ä¼ å€¼/","excerpt":"","text":"çˆ¶-&gt;å­çˆ¶ç»„ä»¶å°†è¦ä¼ é€’çš„æ•°æ®æ”¾åˆ°å­ç»„ä»¶çš„å±æ€§ä¸Šï¼Œ // çˆ¶ç»„ä»¶ class Father extends Component { render() { &lt;Son message=&quot;msg from father&quot; /&gt; } } å­ç»„ä»¶é€šè¿‡propsè·å–è¿™ä¸ªå€¼ // å­ç»„ä»¶ class Son extends Component { constructor(props) { super(props) } render() { &lt;div&gt; {this.props.message} &lt;/div&gt; } } å­-&gt;çˆ¶å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼ä½¿ç”¨å›è°ƒå‡½æ•°ï¼Œçˆ¶ç»„ä»¶å…ˆå‘å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªå‡½æ•°ï¼Œ // çˆ¶ç»„ä»¶ sonHandler(msg) { this.setState({ message: msg }) } render() { return &lt;div&gt; {/*&lt;Redirect /&gt;*/} &lt;h2&gt;{this.state.message}&lt;/h2&gt; &lt;Son click={this.sonHandler.bind(this)} /&gt; &lt;/div&gt; } ç„¶åå­ç»„ä»¶ä¸­è§¦å‘è¿™ä¸ªå‡½æ•°ï¼Œå¹¶æºå¸¦å‚æ•°ï¼Œå°±å¯ä»¥å®ç°å°†å­ç»„ä»¶ä¸­çš„æ•°æ®ä¼ é€’åˆ°çˆ¶ç»„ä»¶ä¸­ callback = (msg) =&gt; { return () =&gt; { this.props.click(msg) } } render() { return &lt;div&gt; &lt;button onClick={this.callback(&#39;msg from son&#39;)}&gt;click&lt;/button&gt; &lt;/div&gt; } ç¥–å…ˆ-&gt;åä»£ç¥–å…ˆåˆ°åä»£ä¹‹é—´çš„ä¼ é€’æ–¹å¼æœ‰ä¸¤ç§ï¼šä¸­é—´å±‚é€å±‚propså’Œä½¿ç”¨contextå¯¹è±¡ã€‚é€å±‚ä¼ é€’åœ¨å±‚çº§è¾ƒæ·±æ—¶ä¼šå˜å¾—å¾ˆå¤æ‚ï¼Œæ‰€ä»¥æˆ‘ä»¬åªä½¿ç”¨contextæ–¹æ³•ã€‚ ä½¿ç”¨æ–¹æ³•ï¼šä¸Šçº§ç»„ä»¶å£°æ˜è‡ªå·±æ”¯æŒcontextï¼Œæä¾›ä¸€ä¸ªcontextå¯¹è±¡ï¼›å­çº§ç»„è·å–context // ä¸ºå½“å‰çš„ theme åˆ›å»ºä¸€ä¸ª contextï¼ˆâ€œlightâ€ä¸ºé»˜è®¤å€¼ï¼‰ã€‚ const ThemeContext = React.createContext(&#39;light&#39;); // çˆ¶ç»„ä»¶ class App extends React.Component { render() { return ( &lt;ThemeContext.Provider value=&quot;dark&quot;&gt; &lt;Toolbar /&gt; &lt;/ThemeContext.Provider&gt; ); } } // å­ç»„ä»¶ function Toolbar() { return ( &lt;div&gt; &lt;ThemedButton /&gt; &lt;/div&gt; ); } // å­™å­ç»„ä»¶ï¼ˆç±»ç»„ä»¶ï¼‰ class ThemedButton extends React.Component { static contextType = ThemeContext; render() { return &lt;Button theme={this.context} /&gt;; } } // å­™å­ç»„ä»¶ï¼ˆå‡½æ•°ç»„ä»¶ï¼‰ export default function ThemedButton() { return ( &lt;ThemeContext.Consumer&gt; {theme =&gt; ( &lt;Button theme={theme} /&gt; )} &lt;/ThemeContext.Consumer&gt; ) } APIReact.createContext åˆ›å»ºä¸€ä¸ªcontextå¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªProviderï¼Œå¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼Œå½“ç»„å»ºæ²¡æœ‰è¢«ProvideråŒ…è£¹æ—¶ï¼Œä¼šä½¿ç”¨é»˜è®¤å€¼ Context.Provider æ¥æ”¶ä¸€ä¸ªvalueå±æ€§ï¼Œä¼ é€’ç»™æ¶ˆè´¹ç»„ä»¶ï¼Œæœ‰å¤šå±‚ProvideråŒ…è£¹æ—¶ï¼Œæœ€å†…å±‚çš„ç»„ä»¶ä¼šè¦†ç›–å…¶ä»– Context.Consumer æ¥æ”¶contextçš„å€¼ï¼Œä¼ é€’ç»™å‡½æ•°çš„ value å€¼ç­‰åŒäºå¾€ä¸Šç»„ä»¶æ ‘ç¦»è¿™ä¸ª context æœ€è¿‘çš„ Provider æä¾›çš„ value å€¼ Class.contextType æŒ‚è½½åœ¨ class ä¸Šçš„ contextType å±æ€§ä¼šè¢«é‡èµ‹å€¼ä¸ºä¸€ä¸ªç”± React.createContext() åˆ›å»ºçš„ Context å¯¹è±¡ã€‚è¿™èƒ½è®©ä½ ä½¿ç”¨ this.context æ¥æ¶ˆè´¹æœ€è¿‘ Context ä¸Šçš„é‚£ä¸ªå€¼ã€‚ä½ å¯ä»¥åœ¨ä»»ä½•ç”Ÿå‘½å‘¨æœŸä¸­è®¿é—®åˆ°å®ƒï¼ŒåŒ…æ‹¬ render å‡½æ•°ä¸­ã€‚ class MyClass extends React.Component { componentDidMount() { let value = this.context; /* åœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåï¼Œä½¿ç”¨ MyContext ç»„ä»¶çš„å€¼æ¥æ‰§è¡Œä¸€äº›æœ‰å‰¯ä½œç”¨çš„æ“ä½œ */ } componentDidUpdate() { let value = this.context; /* ... */ } componentWillUnmount() { let value = this.context; /* ... */ } render() { let value = this.context; /* åŸºäº MyContext ç»„ä»¶çš„å€¼è¿›è¡Œæ¸²æŸ“ */ } } MyClass.contextType = MyContext;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"react","slug":"react","permalink":"https://easyremember.cn/tags/react/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Reduxç¬”è®°","slug":"ç¬”è®°/Reduxç¬”è®°","date":"2020-12-30T08:38:44.340Z","updated":"2021-03-01T01:34:24.959Z","comments":true,"path":"2020/12/30/ç¬”è®°/Reduxç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/12/30/ç¬”è®°/Reduxç¬”è®°/","excerpt":"","text":"reduxç®€ä»‹Redux æ˜¯ JavaScript çŠ¶æ€å®¹å™¨ï¼Œæä¾›å¯é¢„æµ‹åŒ–çš„çŠ¶æ€ç®¡ç†ã€‚Redux é™¤äº†å’Œ React ä¸€èµ·ç”¨å¤–ï¼Œè¿˜æ”¯æŒå…¶å®ƒç•Œé¢åº“ã€‚ å®‰è£…ä½¿ç”¨npmå®‰è£…npm install --save reduxæˆ–è€…ä½¿ç”¨yarnå®‰è£…yarn add redux redux flow ä¸‰å¤§åŸåˆ™ å”¯ä¸€æ•°æ®æº ä¿æŒåªè¯»çŠ¶æ€ æ•°æ®æ”¹å˜åªèƒ½é€šè¿‡çº¯å‡½æ•°æ¥æ‰§è¡Œ è¿™é‡Œçš„çº¯å‡½æ•°æŒ‡çš„å°±æ˜¯reducerï¼Œéšç€åº”ç”¨å˜å¤§ï¼Œå¯ä»¥æ‹†åˆ†æˆå¤šä¸ªreducer æ ¸å¿ƒActionactionè´Ÿè´£å°†æ•°æ®ä»åº”ç”¨ä¼ è¾“åˆ°storeï¼Œé€šè¿‡store.dispatch()å°†actionä¼ åˆ°storeï¼›actionæœ¬è´¨ä¸Šæ˜¯JavaScriptå¯¹è±¡ï¼Œé€šè¿‡é”®å€¼æ¥ä¼ é€’æ•°æ®ï¼Œè§„å®šå¿…é¡»è¦æœ‰typeå±æ€§ï¼Œé€šè¿‡typeæ¥æ ‡è¯†actionï¼Œæ­¤å¤–å¯ä»¥æ·»åŠ å…¶ä»–å±æ€§ï¼Œç»“æ„å¦‚ä¸‹ï¼š { type: &#39;ADD_ITEM&#39;, content: &#39;code review&#39; } Reducerreducerçš„ä¸»è¦åŠŸèƒ½æ˜¯å°†actionå‘é€åˆ°storeä»è€Œæ›´æ–°storeï¼Œ(previousState, action) =&gt; newStateï¼Œreducerå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯æ—§çš„stateï¼Œå¦ä¸€ä¸ªæ˜¯actionï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°çš„stateã€‚reduceré€šè¿‡actionçš„typeå±æ€§æ¥è¯†åˆ«ä¸åŒçš„æ“ä½œ reducerä¸€å®šè¦æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä¸è¦åœ¨reducerä¸­å‘ç”Ÿä»¥ä¸‹æ“ä½œï¼š ä¿®æ”¹ä¼ å…¥å‚æ•° è°ƒç”¨éçº¯å‡½æ•° æ‰§è¡Œæœ‰å‰¯ä½œç”¨çš„æ“ä½œ çº¯å‡½æ•°ï¼šå‡½æ•°çš„è¾“å‡ºç»“æœåªè·Ÿä¼ å…¥çš„å‚æ•°æœ‰å…³ï¼Œåªè¦å‚æ•°ä¸å˜ï¼Œè¾“å‡ºçš„ç»“æœæ°¸è¿œä¸ä¼šæ”¹å˜ è¿”å›å€¼çš„æ“ä½œï¼šä¸èƒ½ä¿®æ”¹åŸæœ‰çš„stateï¼Œå¯ä»¥ä½¿ç”¨Object.assign({}, state, {newProperty})å’Œ...ï¼ˆå±•å¼€è¿ç®—ç¬¦ï¼‰æ¥å¤„ç†è¿”å›ç»“æœï¼›é‡åˆ°æ— æ³•è¯†åˆ«çš„actionæ—¶è¦è¿”å›æ—§çš„state æ‹†åˆ†reducerï¼šå½“reducerå˜å¾—éå¸¸å¤æ‚æ—¶å¯ä»¥å°†å…¶æŒ‰ç…§åŠŸèƒ½æ‹†åˆ†ï¼Œå¤šä¸ªreduceré€šè¿‡combineReducerså‡½æ•°æ¥åˆå¹¶æˆ–è€…é€šè¿‡functionåŒ…è£…ï¼Œä¾‹å¦‚ // todoReducer const todoState = [ &#39;test&#39;, &#39;code&#39;, &#39;submit&#39;, ] function todoReducer(state = todoStateï¼Œ action) { switch(action.type) { case &#39;ADD_ITEM&#39;: state.push(action.value) return state default: return &#39;&#39; } } // roleReducer function roleReducer(state = &#39;SHOW_ALL&#39;, action) { switch (action.type) { case &#39;SET_VISIBILITY_FILTER&#39;: return action.filter default: return state } } // index import { combineReducers, createStore } from &#39;redux&#39; let reducer = combineReducers({ todoReducer, roleReducer }) let store = createStore(reducer) // æˆ–è€… export default function todoApp(state = {}, action) { return { todoReducer: todoReducer(state.todoReducer, action), roleReducer: roleReducer(state.roleReducer, action) } } Storereduxä¸­åªæœ‰ä¸€ä¸ªstoreï¼Œæ˜¯è´Ÿè´£å°†actionå’Œstateè”ç³»èµ·æ¥çš„å®¹å™¨ï¼Œæä¾›äº†æ›´æ–°stateçš„æ–¹æ³•dispatch()å’Œè·å–stateçš„æ–¹æ³•getState()ï¼Œé€šè¿‡subscribe()æ³¨å†Œç›‘å¬å™¨ä»¥åŠé”€æ¯ç›‘å¬å™¨ æš´éœ²storeï¼š åœ¨storeæ–‡ä»¶ä¸­å¼•å…¥reduxä¸­çš„createStoreæ–¹æ³•ï¼Œå¼•å…¥reducersï¼Œç„¶åæš´éœ²store import {createStore} from &#39;redux&#39; import reducer from &#39;./reducer&#39; let store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()) export default store createStore()çš„ç¬¬äºŒä¸ªå‚æ•°å¯é€‰ï¼Œå¡«å…¥è¿™æ®µä»£ç å¯ä»¥å¼€å¯redux devtoolsè¿›è¡Œè°ƒè¯• è®¢é˜…storeä»¥åŠè·å–stateï¼š ä½¿ç”¨store.getState()å¯ä»¥è·å–åˆ°storeä¸­çš„stateï¼Œåœ¨componentDidMountç”Ÿå‘½å‘¨æœŸä¸­æ·»åŠ è®¢é˜… constructor(props) { super(props); this.state = { ...store.getState(), } // ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œæ³¨å†Œ // store.subscribe(() =&gt; { // this.setState(store.getState()) // }) } componentDidMount() { store.subscribe(this.storeChange) } storeChange = () =&gt; { this.setState(store.getState()) } subscribe()çš„å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“storeä¸­æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶å¯ä»¥è§¦å‘æ–¹æ³• æ›´æ–°stateï¼š ä½¿ç”¨store.dispatch()æ–¹æ³•ï¼Œä¼ å…¥actionæ¥æ›´æ–°state addItem = () =&gt; { if (this.state.input) { const action = { type: &#39;ADD_ITEM&#39;, value: this.state.input } store.dispatch(action) this.setState({ input: &#39;&#39; }) } }","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"react","slug":"react","permalink":"https://easyremember.cn/tags/react/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"React-Routerç¬”è®°","slug":"ç¬”è®°/React-Routerç¬”è®°","date":"2020-12-16T08:46:15.780Z","updated":"2020-12-17T01:03:36.307Z","comments":true,"path":"2020/12/16/ç¬”è®°/React-Routerç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/12/16/ç¬”è®°/React-Routerç¬”è®°/","excerpt":"","text":"react-routerå…¥é—¨React-Routerç”±ç¤¾åŒºç»´æŠ¤å¹¶éå®˜æ–¹å‘å¸ƒçš„ï¼Œæœ‰ä¸‰ä¸ªéƒ¨åˆ† react-router æ ¸å¿ƒç»„ä»¶ react-router-dom åº”ç”¨äºæµè§ˆå™¨ç«¯çš„è·¯ç”±åº“ï¼ˆå•ç‹¬ä½¿ç”¨åŒ…å«äº†react-routerçš„æ ¸å¿ƒéƒ¨åˆ†ï¼‰ react-router-native åº”ç”¨äºnativeç«¯çš„è·¯ç”± æ‰€ä»¥æˆ‘ä»¬å°±åªéœ€è¦å¼•å…¥react-router-domå°±å¯ä»¥äº† React-Routerä¸­ä¸»è¦æœ‰ä¸‰éƒ¨åˆ†ï¼ŒRouterã€Routeå’ŒLinkï¼ŒRouterç”¨äºç®¡ç†Routeï¼ŒRouteç”¨æ¥åŒ¹é…ç»„ä»¶ï¼ŒLinkç”¨æ¥è·³è½¬Routeï¼Œå…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„å°ç¤ºä¾‹ &lt;Router&gt; &lt;ul&gt; &lt;li&gt;&lt;Link to=&quot;/&quot;&gt;é¦–é¡µ&lt;/Link&gt;&lt;/li&gt; &lt;li&gt;&lt;Link to=&quot;/list&quot;&gt;åˆ—è¡¨&lt;/Link&gt;&lt;/li&gt; &lt;/ul&gt; &lt;Route path=&quot;/&quot; exact component={Index}/&gt; &lt;Route path=&quot;/list&quot; component={List}/&gt; &lt;/Router&gt; Linkç”¨äºè·³è½¬ï¼Œåœ¨æ¸²æŸ“æ—¶ä¼šè¢«æ¸²æŸ“æˆ &lt;a href=&quot;/&quot;&gt;é¦–é¡µ&lt;/a&gt;çš„æ ·å¼ è·¯ç”±ä¼ å‚è·¯ç”±ä¼ å‚å¤§è‡´åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œä¸€ç§æ˜¯é€šè¿‡åŠ¨æ€è·¯ç”±ä¼ å‚ï¼Œä¸€ç§æ˜¯é€šè¿‡è·¯ç”±å±æ€§ä¼ é€’ï¼Œå°±æ˜¯paramså’Œquery &lt;Route path=&quot;/list/:id&quot; component={List}/&gt; // å£°æ˜è·¯ç”±æ—¶å®šä¹‰æ¥æ”¶çš„å‚æ•°ï¼Œç„¶ååœ¨ç»„ä»¶ä¸­é€šè¿‡props.match.paramsè·å–è¿™ä¸ªå€¼ &lt;Link to=&quot;/list/123&quot;&gt;åˆ—è¡¨&lt;/Link&gt; // è¿™ä¸ªlinkå°±å¯ä»¥å‘½ä¸­è·¯ç”±ï¼Œ123ä¹Ÿå°†ä½œä¸ºparamså±æ€§ä¼ é€’ // è¿˜æ˜¯ä¸Šé¢çš„è·¯ç”±å£°æ˜ï¼Œå°†toåšä¿®æ”¹ &lt;Link to={{pathname: \"/list/123\", query: {name: 'å¼ ä¸‰'}}}&gt;åˆ—è¡¨&lt;/Link&gt; // pathnameä½œä¸ºurlè·¯å¾„ï¼Œqueryå°†è¢«æºå¸¦åˆ°props.location.queryä¸­ åµŒå¥—è·¯ç”±reactçš„è·¯ç”±åµŒå¥—ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨ç»„ä»¶ä¸­å†å£°æ˜è·¯ç”±ï¼Œæ¯”å¦‚ä¸€çº§è·¯ç”±ä¸­å£°æ˜äº†ä¸€ä¸ª/listè·¯ç”±ï¼ŒæŒ‡å‘Listç»„ä»¶ï¼Œç„¶åListç»„ä»¶ä¸­å†å£°æ˜/list/newslistè·¯ç”±æŒ‡å‘å­ç»„ä»¶ï¼Œå°±å¯ä»¥è¾¾åˆ°äºŒçº§è·¯ç”±çš„æ•ˆæœ Switchç»„ä»¶Switchç”¨äºåªåŒ¹é…ä¸€ä¸ªç»„ä»¶ï¼Œæ¯”å¦‚/aboutå’Œ/:userè¿™ä¸¤ä¸ªè·¯ç”±ï¼Œå‘½ä¸­ç¬¬ä¸€ä¸ªå°±å¿…å®šä¼šå‘½ä¸­ç¬¬äºŒä¸ªï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨Switchå°†Routeå£°æ˜åŒ…è£¹ï¼Œå°±åªå‘½ä¸­1ä¸ªç»„ä»¶ï¼›æ­¤å¤–è¿˜å¯ä»¥åœ¨æ‰€æœ‰çš„è·¯ç”±éƒ½ä¸å‘½ä¸­æ—¶æ˜¾ç¤º404é¡µé¢ &lt;Switch&gt; &lt;Route exact path=&quot;/&quot; component={Home}/&gt; &lt;Route path=&quot;/about&quot; component={About}/&gt; &lt;Route component={NotFound}/&gt; &lt;/Switch&gt; Redirectç»„ä»¶Redirectç»„ä»¶ç”¨äºç»„ä»¶é‡å®šå‘ï¼Œæœ‰ä¸¤ç§æ–¹æ³•æ¥å®ç°é‡å®šå‘ ä½¿ç”¨Redirectæ ‡ç­¾å£°æ˜é‡å®šå‘ åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨this.props.history.push()å®ç°ç¼–ç¨‹å¼é‡å®šå‘ ä¾‹å¦‚å¯ä»¥åœ¨ä¸ªäººä¸­å¿ƒçš„é¡µé¢ä¸­ï¼Œé€šè¿‡åˆ¤å®šæ˜¯å¦ç™»é™†æ¥é‡å®šå‘åˆ°ç™»å½•é¡µé¢ // å£°æ˜å¼(è·¯ç”±å£°æ˜ç»„ä»¶) &lt;Route exact path=&quot;/person&quot; render={() =&gt; ( &#39;ç™»å½•åˆ¤å®šæ¡ä»¶&#39; ? ( &lt;Person /&gt; ) : ( &lt;Redirect to=&quot;/login&quot;/&gt; ) )}/&gt; // ç¼–ç¨‹å¼(ä¸ªäººä¸­å¿ƒç»„ä»¶) constructor(props) { super(props); this.state = {} if (&#39;æœªç™»å½•åˆ¤å®šæ¡ä»¶&#39;) { this.props.history.push(&#39;/login&#39;) } } react-routerè¿›é˜¶è¿™ç§å†™æ³•è™½ç„¶èƒ½å¤Ÿè¿è¡Œï¼Œä½†æ˜¯åæœŸçš„ç»´æŠ¤æˆæœ¬å¤ªé«˜ï¼Œæˆ‘ä»¬éœ€è¦å°†è·¯ç”±å°½å¯èƒ½çš„é…ç½®åˆ°ä¸€èµ·ï¼Œä»¥å‡å°‘åæœŸçš„ç»´æŠ¤æˆæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥å°†è·¯ç”±ä¿¡æ¯é…ç½®åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œç„¶åé€šè¿‡mapæ¥éå†æ•°ç»„ function AppRouter() { let routes = [ { path: &#39;/&#39;, exact: true, component: Person }, { path: &#39;/list/:id&#39;, exact: false, component: InputList }, ] return (&lt;Router&gt; &lt;ul&gt; &lt;li&gt;&lt;Link to=&quot;/&quot;&gt;é¦–é¡µ&lt;/Link&gt;&lt;/li&gt; &lt;li&gt;&lt;Link to={{pathname: \"/list/123\", query: {name: 'å¼ ä¸‰'}}}&gt;åˆ—è¡¨&lt;/Link&gt;&lt;/li&gt; &lt;/ul&gt; { routes.map((item) =&gt; { return (&lt;Route path={item.path} exact={item.exact} key={item.path} component={item.component}/&gt;) }) } &lt;/Router&gt;) } export default AppRouter è™½ç„¶è¿™æ ·æ¯”èµ·ä¹‹å‰å¥½äº†ä¸å°‘ï¼Œä½†æ˜¯è¿˜æ˜¯è¾¾ä¸åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ ç»ˆæè§£å†³æ–¹æ¡ˆreact-router-configè¿™é‡Œéœ€è¦é¢å¤–å®‰è£…ä¸€ä¸ªåŒ…react-router-configï¼Œå®‰è£…å®Œä¹‹åå°±å¯ä»¥å¼€å§‹é…ç½®è·¯ç”±äº† æ–°å»ºä¸€ä¸ªrouterçš„jsæ–‡ä»¶ export const routes = [ { path: &#39;/&#39;, exact: true, component: Person }, { path: &#39;/list/:id&#39;, component: InputList, routes: [ { path: &#39;/list/:id/h&#39;, component: News } ] } ] ç„¶åä¿®æ”¹AppRouteræ–‡ä»¶ï¼Œå°†Routeçš„mapéå†å£°æ˜æ”¹ä¸º{renderRoutes(routes)} function AppRouter() { return &lt;Router&gt; &lt;ul&gt; &lt;li&gt;&lt;Link to=&quot;/&quot;&gt;é¦–é¡µ&lt;/Link&gt;&lt;/li&gt; &lt;li&gt;&lt;Link to={{pathname: \"/list/123\", query: {name: 'å¼ ä¸‰'}}}&gt;åˆ—è¡¨&lt;/Link&gt;&lt;/li&gt; &lt;/ul&gt; {renderRoutes(routes)} &lt;/Router&gt; } export default AppRouter å­è·¯ç”±ä¹Ÿä¸€æ ·ï¼Œåœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨{renderRoutes(this.props.route.routes)}","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"react","slug":"react","permalink":"https://easyremember.cn/tags/react/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"Reactå…¥é—¨ç¬”è®°","slug":"ç¬”è®°/Reactå…¥é—¨ç¬”è®°","date":"2020-12-15T14:01:03.039Z","updated":"2021-02-27T09:49:17.214Z","comments":true,"path":"2020/12/15/ç¬”è®°/Reactå…¥é—¨ç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/12/15/ç¬”è®°/Reactå…¥é—¨ç¬”è®°/","excerpt":"","text":"æœ¬æ–‡å°†ä¼šä»¥ä¸Vueçš„å·®åˆ«æ¥è¿›è¡ŒReactçš„å­¦ä¹ ï¼Œæ‰€ä»¥åœ¨é˜…è¯»æœ¬æ–‡ä¹‹å‰æˆ‘å¸Œæœ›ä½ èƒ½å…·å¤‡ä»¥ä¸‹æŠ€èƒ½ å‰ç«¯ä¸‰å‰‘å®¢HTML+CSS+JavaScript äº†è§£Vueçš„ä½¿ç”¨ ä¹¦å†™å½¢å¼Reactåœ¨é‡‡ç”¨è‡ªåˆ›jsxè¯­æ³•ï¼Œå³HTML in JavaScriptï¼Œå°†UIä¸é€»è¾‘è€¦åˆåœ¨ä¸€èµ· import React from &#39;react&#39;; class item extends React.Component { constructor(props) { super(props); this.state = { } } render() { return &lt;div&gt; {/*è¦æ˜¾ç¤ºçš„å†…å®¹*/} &lt;/div&gt; } } Vueå¸¸è§„é‡‡ç”¨æ¨¡æ¿è¯­æ³•ï¼Œå°†HTMLæ–‡æ¡£ä¸JavaScripté€»è¾‘åˆ†ç¦»å¼€ï¼ŒVueä¹Ÿå¯ä»¥è®¾ç½®ä½¿ç”¨jsx &lt;template&gt; &lt;!--é¡µé¢å†…å®¹--&gt; &lt;/template&gt; &lt;script&gt; // é€»è¾‘éƒ¨åˆ† &lt;/script&gt; &lt;style&gt; /*cssæ ·å¼*/ &lt;/style&gt; ç»„ä»¶åŠä¼ é€’æ•°æ®äºŒè€…éƒ½é€šè¿‡å¯¼å…¥å¤–éƒ¨æ–‡ä»¶ç„¶åä½¿ç”¨HTMLæ ‡ç­¾çš„å½¢å¼åœ¨å¼•ç”¨ç»„ä»¶ï¼Œä¸åŒç‚¹åœ¨äºäºŒè€…çš„ç»„ä»¶æ¥æ”¶å½¢å¼ Reactä¸­é€šè¿‡æ„é€ å‡½æ•°æ¥æ¥æ”¶propsï¼Œ constructor(props) { super(props); this.state = {} } // é€šè¿‡æ„é€ å‡½æ•°æ¥æ”¶propsä¹‹åå°±å¯ä»¥ç›´æ¥é€šè¿‡this.propsæ¥è·å¾—å‚æ•° vueé€šè¿‡optionsæ¥æ¥æ”¶å‚æ•°ï¼Œå¯ä»¥è§„å®špropsçš„ç±»å‹åŠé»˜è®¤å€¼ &lt;script&gt; props: { message: { type: String, default: &#39;from father&#39; } } &lt;/script&gt; åœ¨reactä¸­ä¹Ÿå¯ä»¥è§„å®šç±»å‹åŠé»˜è®¤å€¼ï¼Œä½†æ˜¯éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹çš„åŒ…ï¼Œè¿™é‡Œå®˜ç½‘æ–‡æ¡£å·²ç»è¯´å¾—å¾ˆæ¸…æ¥šäº† ä»å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®æ—¶éƒ½æ˜¯é€šè¿‡è§¦å‘çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å›è°ƒå‡½æ•°æ¥å®ç° // Vue this.$emit(&#39;eventName&#39;, data) // React this.props.eventName(data) ä¿®æ”¹æ•°æ®åœ¨Reactä¸­æ•°æ®å­˜å‚¨åœ¨stateä¸­ï¼Œä¸å¯ä»¥ç›´æ¥ä¿®æ”¹ï¼Œç›´æ¥ä¿®æ”¹ä¸ä¼šè§¦å‘renderï¼Œè€ŒVueä¸­åˆ™å¯ä»¥ç›´æ¥ä¿®æ”¹dataä¸­çš„æ•°æ®ï¼Œå› ä¸ºVueå¯¹æ¯ä¸€ä¸ªæ•°æ®éƒ½è¿›è¡Œäº†æ•°æ®åŠ«æŒï¼Œå½“æ•°å€¼å‘ç”Ÿæ”¹å˜æ—¶éƒ½ä¼šè§¦å‘æ¸²æŸ“ åœ¨Reactä¸­æƒ³è¦ä¿®æ”¹æ•°æ®éœ€è¦ä½¿ç”¨APIâ€”â€”setState constructor(props) { super(props); this.state = { value: 12 } } changeValue() { this.setState({ value: 13 }) } äº‹ä»¶Vueä¸­é€šè¿‡v-onæ¥ç»‘å®šäº‹ä»¶ï¼Œå¯ä»¥ç®€å†™ä¸º@ &lt;button @click=&quot;eventHandler&quot;&gt; ç‚¹å‡» &lt;/button&gt; Reactä¸­è·Ÿä¼ ç»ŸHTMLç›¸ä¼¼ä½†åˆç•¥å¾®ä¸åŒ &lt;button onClick={this.eventHandler.bind(this)}&gt; ç‚¹å‡» &lt;/button&gt; åœ¨Reactä¸­å£°æ˜æ–¹æ³•thisæŒ‡å‘å¹¶ä¸æ˜¯ç»„ä»¶çš„thisï¼Œéœ€è¦æ”¹å˜å…¶thisæŒ‡å‘ï¼Œå¯ä»¥ä½¿ç”¨çš„æ–¹æ³•æœ‰ï¼š åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šï¼šthis.eventHandler = this.eventHandler.bind(this) åœ¨å£°æ˜æ–¹æ³•æ—¶ä½¿ç”¨eventHandler = () =&gt; {}çš„å½¢å¼ åœ¨è°ƒç”¨æ–¹æ³•æ—¶ç»‘å®šï¼šonClick={this.eventHandler.bind(this)}æˆ–è€…onClick={() =&gt; this.eventHandler()} æ¡ä»¶æ¸²æŸ“Vueä¸­çš„æ¡ä»¶æ¸²æŸ“ä½¿ç”¨v-ifã€v-else-ifã€v-elseã€v-showæ¥è¿›è¡Œæ¡ä»¶æ¸²æŸ“ï¼ŒåŒºåˆ«åœ¨äºv-ifä¸ä¼šæ¸²æŸ“åˆ°æ–‡æ¡£ä¸­ï¼Œv-showä¼šæ¸²æŸ“åˆ°æ–‡æ¡£ä¸­ï¼Œåªæ˜¯displayå˜ä¸ºnone &lt;div v-if=&quot;value&quot;&gt; {{value}} &lt;/div&gt; &lt;div v-else&gt; æš‚æ— æ•°æ® &lt;/div&gt; Reactä¸­çš„æ¡ä»¶æ¸²æŸ“æ˜¯é€šè¿‡jsçš„ifè¯­å¥æ§åˆ¶å˜é‡æˆ–è€…è¿ç®—ç¬¦æ¥æ§åˆ¶çš„ // å˜é‡æ§åˆ¶ let data; if(this.state.value) { data = &lt;div&gt;{this.state.value}&lt;/div&gt; } else { data = &lt;div&gt;æš‚æ— æ•°æ®&lt;/div&gt; } return( {data} ) // _______________________ // &amp;&amp;è¿ç®—ç¬¦ // å› ä¸ºåœ¨ JavaScript ä¸­ï¼Œtrue &amp;&amp; expression æ€»æ˜¯ä¼šè¿”å› expression // è€Œ false &amp;&amp; expression æ€»æ˜¯ä¼šè¿”å› false return ( &lt;div&gt; &lt;h1&gt;Hello!&lt;/h1&gt; {unreadMessages.length &gt; 0 &amp;&amp; &lt;h2&gt; You have {unreadMessages.length} unread messages. &lt;/h2&gt; } &lt;/div&gt; ); // ________________________ // ä¸‰ç›®è¿ç®—ç¬¦ return ( &lt;div&gt; The user is &lt;b&gt;{isLoggedIn ? &#39;currently&#39; : &#39;not&#39;}&lt;/b&gt; logged in. &lt;/div&gt; ); åˆ—è¡¨åœ¨Vueä¸­é€šè¿‡v-forå±æ€§æ¥ç”Ÿæˆåˆ—è¡¨ &lt;ul&gt; &lt;li v-for=&quot;(item, index) in list&quot; :key=&quot;index&quot;&gt;{{item}}&lt;/li&gt; &lt;/ul&gt; åœ¨Reactä¸­ä½¿ç”¨jsçš„éå†æ¥ç”Ÿæˆåˆ—è¡¨ &lt;ul&gt; list.map((item, index) =&gt; { return &lt;li key={index}&gt;{item}&lt;/li&gt; }) &lt;/ul&gt; å®é™…ä¸Šå¹¶ä¸å»ºè®®ä½¿ç”¨indexä½œä¸ºkeyå€¼ï¼Œæ¯ä¸ªkeyåº”è¯¥æ˜¯ç‹¬ä¸€æ— äºŒçš„ â€œåŒå‘ç»‘å®šâ€åœ¨Vueä¸­ä½¿ç”¨v-modelå±æ€§æ¥ç»‘å®šdataï¼Œè¿™æ˜¯çœŸæ­£çš„åŒå‘ç»‘å®šï¼Œç»‘å®šä¹‹åæˆ‘ä»¬ä¸å†éœ€è¦å…³å¿ƒå€¼çš„æ”¹å˜ï¼Œè€Œåœ¨Reactä¸­ï¼Œé‡æ–°èµ‹å€¼å°±éœ€è¦æˆ‘ä»¬æ¥æ‰‹åŠ¨æ“ä½œï¼Œå¦‚æœä¸æ‰‹åŠ¨ä¿®æ”¹ï¼Œé¡µé¢ä¸ä¼šé‡æ–°æ¸²æŸ“ï¼Œæ¯”å¦‚è¾“å…¥æ¡†ä¸­ä½¿ç”¨é”®ç›˜è¾“å…¥ä¸€ä¸²å­—ç¬¦ï¼Œå…¶å®ä»–å·²ç»æœ‰å€¼äº†ï¼Œä½†æ˜¯é¡µé¢ä¸Šçš„è¾“å…¥æ¡†è¿˜æ˜¯ä¼šæ˜¾ç¤ºç©ºç™½ inputHandler = (e) =&gt; { this.setState({ inputValue: e.target.value }) } render( return &lt;div&gt; &lt;input value={this.state.inputValue} onChange={this.inputHandler}/&gt; &lt;/div&gt; ) ç”Ÿå‘½å‘¨æœŸå…³äºç”Ÿå‘½å‘¨æœŸå·²ç»æœ‰å¾ˆå¤šè®²çš„ä¸é”™çš„æ–‡ç« äº†ï¼Œå¯ä»¥å»çœ‹ä¸€ä¸‹ é‡ç‚¹ä¸¤ä¸ªæ¯”è¾ƒéš¾æå¾—å°±æ˜¯shouldComponentUpdateå’ŒcomponentWillReceiveProps shouldComponentUpdate(nextProps, nextState)é€šè¿‡è¿”å›å€¼æ˜¯trueå’Œfalseæ¥æ§åˆ¶ç»„ä»¶æ˜¯å¦é‡æ–°æ¸²æŸ“ï¼ˆreactçˆ¶ç»„ä»¶å‘ç”Ÿæ”¹å˜æ—¶æ‰€æœ‰çš„å­ç»„ä»¶éƒ½ä¼šé‡æ–°renderï¼‰ï¼Œå¯ä»¥é€šè¿‡å¯¹æ¯”å‰åçš„propsæ¥å†³å®šæ˜¯å¦è¿›è¡Œé‡æ–°æ¸²æŸ“ï¼Œè¿™æ˜¯ä¸€ç§ä¼˜åŒ–æ‰‹æ®µï¼›åªåœ¨propsæˆ–è€…stateå‘ç”Ÿæ”¹å˜æ—¶æ‰§è¡Œ shouldComponentUpdate(nextProps, nextState, nextContext) { if(this.props.person === nextProps.person) { return false } else { return true } } componentWillReceivePropsåªåœ¨propså‘ç”Ÿæ”¹å˜æ—¶æ‰§è¡Œï¼Œå¯ä»¥åœ¨è¿™é‡Œé¢ä½¿ç”¨setStateï¼Œä¸ä¼šå¼•èµ·é¢å¤–çš„render è·å–DOMå…ƒç´ Vueä¸­è·å–DOMçš„æ–¹å¼æ˜¯é€šè¿‡ç»™å…ƒç´ æ·»åŠ refå±æ€§ï¼Œç„¶åé€šè¿‡$refsæ¥è·å–DOM &lt;template&gt; &lt;input ref=&quot;inputRef&quot; type=&quot;text&quot; /&gt; &lt;/template&gt; &lt;script&gt; mounted() { console.log(this.$refs[&#39;inputRef&#39;]) } &lt;/script&gt; åœ¨Reactä¸­æœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œå…¶ä¸­ä¸€ç§å°±è·ŸVueè¿™ç§å½¢å¼ä¸€æ ·ï¼Œä½†æ˜¯å·²ç»åºŸå¼ƒäº†ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹å…¶ä»–æ–¹æ³• React.createRef() åœ¨æ„é€ å‡½æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡å¹¶èµ‹å€¼React.createRef()ï¼Œç„¶ååœ¨å…ƒç´ ä¸ŠæŒ‚è½½refï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªå˜é‡æ¥è®¿é—®DOM constructor() { this.inputRef = React.createRef() } componentDidMount() { console.log(this.inputRef.current) // è¿™é‡Œæ³¨æ„ä½¿ç”¨createRefçš„æ–¹å¼éœ€è¦é€šè¿‡currentæ¥è·å– } render( return &lt;div&gt; &lt;input ref={this.inputRef} /&gt; &lt;/div&gt; ) å›è°ƒå‡½æ•° ç›´æ¥åœ¨å›è°ƒå‡½æ•°ä¸­å‘ç»„ä»¶ä¼ é€’DOM componentDidMount() { console.log(this.inputRef) // å›è°ƒå‡½æ•°çš„æ–¹å¼ç›´æ¥è·å– } render( return &lt;div&gt; &lt;input ref={(ul) =&gt; {this.inputRef = ul}} /&gt; &lt;/div&gt; ) å­ç»„ä»¶ref é€šè¿‡React.forward()æ¥åˆ›å»ºå­ç»„ä»¶ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°propsã€refï¼Œå°†å…ƒç´ ç»‘å®šæ¥æ”¶æ¥çš„refå°±å¯ä»¥åœ¨çˆ¶ç»„ä»¶ä¸­è·å–å­ç»„ä»¶çš„DOMäº† // å­ç»„ä»¶ const InputComponent = React.forwardRef((props,ref)=&gt;( &lt;input type=&quot;text&quot; ref={ref} /&gt; )); // çˆ¶ç»„ä»¶ï¼Œä½¿ç”¨createRefå£°æ˜this.InputRefå˜é‡ &lt;InputComponent ref={this.InputRef} /&gt;","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"react","slug":"react","permalink":"https://easyremember.cn/tags/react/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"reacté…ç½®axios","slug":"æŠ€æœ¯/reacté…ç½®axios","date":"2020-12-14T05:29:32.642Z","updated":"2020-12-14T05:40:31.720Z","comments":true,"path":"2020/12/14/æŠ€æœ¯/reacté…ç½®axios/","link":"","permalink":"https://easyremember.cn/2020/12/14/æŠ€æœ¯/reacté…ç½®axios/","excerpt":"","text":"reacté…ç½®axiosé…ç½®axiosä¹‹å‰è®¾ç½®ä¸€ä¸‹ä»£ç†ï¼Œå¯ä»¥ç”¨æ¥è§£å†³è·¨åŸŸé—®é¢˜ åœ¨package.jsonä¸­æ·»åŠ ä¸€è¡Œä»£ç†è®¾ç½®ï¼Œåœ¨æ–°ç‰ˆçš„reactä¸­ï¼Œproxyä¸å†æ˜¯å¯¹è±¡å½¢å¼ï¼Œå˜æˆäº†stringå½¢å¼ï¼Œå¦‚æœæŒ‰ç…§ä¹‹å‰çš„å†™æ³•å°±ä¼šæŠ¥é”™ æ–°ç‰ˆå†™æ³• &quot;proxy&quot;: &quot;https://192.168.1.1/api&quot; ç„¶åå°±æ˜¯axiosçš„é…ç½® åŸå‹ç›¸æ¯”äºå¸¸è§çš„å¼•å…¥å†™æ³•æˆ‘ä¸ªäººæ¯”è¾ƒä¹ æƒ¯å°†axiosæŒ‚è½½åˆ°åŸå‹ä¸Šæ¥ä½¿ç”¨ï¼ˆVueä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ï¼Œä½†æ˜¯åœ¨reactä¸­ä¸æ˜¯ç›´æ¥å‘ReactåŸå‹æŒ‚è½½è€Œæ˜¯æƒ³React.componentçš„åŸå‹ä¸ŠæŒ‚è½½ åœ¨index.jsä¸­è¿›è¡Œå¦‚ä¸‹é…ç½® import axios from &#39;axios&#39; // é…ç½®axios axios.defaults.baseURL = &#39;/api&#39; // é…ç½®è¯·æ±‚æ‹¦æˆª axios.interceptors.request.use( config =&gt; { config.headers.Authorization = window.localStorage.getItem(&#39;token&#39;) return config; }, err =&gt; { return Promise.reject(err); } ); // æ·»åŠ å“åº”æ‹¦æˆªå™¨ axios.interceptors.response.use( function (response) { console.log(response); return response; }, function (error) { // å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ return Promise.reject(error); } ); React.Component.prototype.$http = axios åœ¨ä½¿ç”¨æ—¶ï¼Œåªè¦æ˜¯ç»§æ‰¿Componentåˆ›å»ºçš„ç»„ä»¶éƒ½å¯ä»¥ç›´æ¥é€šè¿‡this.$httpæ¥ä½¿ç”¨axiosçš„æ–¹æ³•ï¼Œå¦‚ getList() { this.$http.get(&#39;/wbbr/bgeda&#39;).then(res =&gt; { console.log(res) }).catch(err =&gt; { console.log(err) }) } componentDidMount() { this.getList() } åœ¨componentDidMountç”Ÿå‘½å‘¨æœŸè°ƒç”¨è¯·æ±‚æ•°æ®çš„æ–¹æ³• å¯¼å…¥è¿˜æœ‰æ¯”è¾ƒç»å…¸çš„æ–¹æ³•å°±æ˜¯é€šè¿‡ä¸€ä¸ªjsæ–‡ä»¶æ¥å°ä½axiosï¼Œç„¶åå¯¼å‡ºHTTPæ–¹æ³•ï¼Œéœ€è¦è¯·æ±‚çš„æ—¶å€™å¯¼å…¥æ–¹æ³• import axios from &quot;axios&quot;; axios.defaults.timeout = 100000; axios.defaults.baseURL = &quot;http://test.mediastack.cn/&quot;; /** * http request æ‹¦æˆªå™¨ */ axios.interceptors.request.use( (config) =&gt; { config.data = JSON.stringify(config.data); config.headers = { &quot;Content-Type&quot;: &quot;application/json&quot;, }; return config; }, (error) =&gt; { return Promise.reject(error); } ); /** * http response æ‹¦æˆªå™¨ */ axios.interceptors.response.use( (response) =&gt; { return response; }, (error) =&gt; { console.log(&quot;è¯·æ±‚å‡ºé”™ï¼š&quot;, error); } ); /** * å°è£…getæ–¹æ³• * @param url è¯·æ±‚url * @param params è¯·æ±‚å‚æ•° * @returns {Promise} */ export function get(url, params = {}) { return new Promise((resolve, reject) =&gt; { axios.get(url, { params: params, }).then((response) =&gt; { landing(url, params, response.data); resolve(response.data); }) .catch((error) =&gt; { reject(error); }); }); } /** * å°è£…postè¯·æ±‚ * @param url * @param data * @returns {Promise} */ export function post(url, data) { return new Promise((resolve, reject) =&gt; { axios.post(url, data).then( (response) =&gt; { //å…³é—­è¿›åº¦æ¡ resolve(response.data); }, (err) =&gt; { reject(err); } ); }); } /** * å°è£…patchè¯·æ±‚ * @param url * @param data * @returns {Promise} */ export function patch(url, data = {}) { return new Promise((resolve, reject) =&gt; { axios.patch(url, data).then( (response) =&gt; { resolve(response.data); }, (err) =&gt; { msag(err); reject(err); } ); }); } /** * å°è£…putè¯·æ±‚ * @param url * @param data * @returns {Promise} */ export function put(url, data = {}) { return new Promise((resolve, reject) =&gt; { axios.put(url, data).then( (response) =&gt; { resolve(response.data); }, (err) =&gt; { msag(err); reject(err); } ); }); } åœ¨ä½¿ç”¨æ—¶ import {get} from &#39;../http.js&#39; getList() { get(&#39;/wbbr/bgeda&#39;).then(res =&gt; { console.log(res) }).catch(err =&gt; { console.log(err) }) } componentDidMount() { this.getList() }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"react","slug":"react","permalink":"https://easyremember.cn/tags/react/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"å‰ç«¯é¢è¯•ç»å…¸é—®é¢˜","slug":"éšæƒ³/å‰ç«¯é¢è¯•ç»å…¸é—®é¢˜","date":"2020-12-07T07:55:46.825Z","updated":"2021-02-22T12:11:38.882Z","comments":true,"path":"2020/12/07/éšæƒ³/å‰ç«¯é¢è¯•ç»å…¸é—®é¢˜/","link":"","permalink":"https://easyremember.cn/2020/12/07/éšæƒ³/å‰ç«¯é¢è¯•ç»å…¸é—®é¢˜/","excerpt":"","text":"BFC BFC(Block formatting context)ç›´è¯‘ä¸ºâ€å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡â€ã€‚å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸï¼Œåªæœ‰Block-level boxå‚ä¸ï¼Œ å®ƒè§„å®šäº†å†…éƒ¨çš„Block-level Boxå¦‚ä½•å¸ƒå±€ï¼Œå¹¶ä¸”ä¸è¿™ä¸ªåŒºåŸŸå¤–éƒ¨æ¯«ä¸ç›¸å¹²ã€‚ BFCæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¸ƒå±€ç¯å¢ƒï¼Œå…¶ä¸­çš„å…ƒç´ å¸ƒå±€æ˜¯ä¸å—å¤–ç•Œçš„å½±å“ï¼Œå¹¶ä¸”åœ¨ä¸€ä¸ªBFCä¸­ï¼Œå—ç›’ä¸è¡Œç›’ï¼ˆè¡Œç›’ç”±ä¸€è¡Œä¸­æ‰€æœ‰çš„å†…è”å…ƒç´ æ‰€ç»„æˆï¼‰éƒ½ä¼šå‚ç›´çš„æ²¿ç€å…¶çˆ¶å…ƒç´ çš„è¾¹æ¡†æ’åˆ—ã€‚ BFCå¸ƒå±€è§„åˆ™ï¼š Boxå‚ç›´æ–¹å‘çš„è·ç¦»ç”±marginå†³å®šï¼ŒåŒä¸€ä¸ªBFCå†…éƒ¨ä¼šå‡ºç°marginå¡Œé™·ç°è±¡ BFCçš„åŒºåŸŸä¸ä¼šä¸float boxé‡å  æµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—BFCé«˜åº¦ åˆ›å»ºBFC floatçš„å€¼ä¸æ˜¯noneã€‚ positionçš„å€¼ä¸æ˜¯staticæˆ–è€…relativeã€‚ displayçš„å€¼æ˜¯inline-blockã€table-cellã€flexã€table-captionæˆ–è€…inline-flex overflowçš„å€¼ä¸æ˜¯visible ä½œç”¨ï¼šè§£å†³marginå¡Œé™·ã€ä¸ä¼šè¢«æµ®åŠ¨å…ƒç´ è¦†ç›–ã€è§£å†³æµ®åŠ¨å…ƒç´ æ— æ³•æ’‘èµ·çˆ¶çº§å…ƒç´  é—­åŒ…å…ˆæ¥çœ‹ä¸€æ®µä»£ç  function f() { var book = &#39;JavaScripté«˜çº§&#39; } console.log(book); è¿™ä¸€æ®µä»£ç çš„æ‰§è¡Œç»“æœå½“ç„¶æ˜¯æŠ¥é”™ï¼Œå› ä¸ºbookçš„ä½œç”¨åŸŸæ˜¯åœ¨få‡½æ•°å†…éƒ¨ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®ï¼Œå‡½æ•°æ‰§è¡Œæ—¶ç”Ÿæˆä¸€ä¸ªè‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆæ‰§è¡Œç¯å¢ƒï¼‰ï¼Œæ‰§è¡Œå®Œæ¯•æ—¶æ‰§è¡Œä¸Šä¸‹æ–‡é”€æ¯ ä½œç”¨åŸŸé“¾ ä½œç”¨åŸŸé“¾ä¸­ä¿å­˜ç€å½“å‰å˜é‡å¯¹è±¡å’Œæ‰€æœ‰çˆ¶çº§å˜é‡å¯¹è±¡ function f() { var book = &#39;JavaScripté«˜çº§&#39; return function () { console.log(book); } } var newF = f() newF() æ‰§è¡Œfå‡½æ•°ï¼Œå°†è¿”å›å€¼èµ‹å€¼ç»™newFå‡½æ•°ï¼Œè¿™ä¸ªè¿”å›å€¼æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œè¿™å…¶å®å°±æ˜¯é—­åŒ…ï¼Œåœ¨è¿™ä¸ªåŒ¿åå‡½æ•°ä¸­ä¿ç•™ç€fçš„ä½œç”¨åŸŸï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥æ‰“å°å‡ºbookçš„å€¼ ç»å…¸é¢è¯•é¢˜forå¾ªç¯å»¶æ—¶æ‰“å° for (var i = 0; i &lt; 5; i++) { setTimeout(function () { console.log(i); },1000) } // 5 5 5 5 5 ç»“æœä¸ºä»€ä¹ˆä¼šæ˜¯5ä¸ª5å‘¢ï¼Œè¿™é‡Œç‰µæ‰¯åˆ°äº†ä¸€ç‚¹å¼‚æ­¥è½®è¯¢ï¼ŒsetTimeoutå±äºå¼‚æ­¥æ–¹æ³•ï¼Œä¼šåœ¨å…¨å±€ä¸Šä¸‹æ–‡æ‰§è¡Œå®Œæ¯•ä¹‹åå†ä¹‹æ‰§è¡Œ æ‰§è¡Œè¿‡ç¨‹ä¸ºï¼šforå¾ªç¯éå†5æ¬¡ï¼Œæ·»åŠ 5ä¸ªå®šæ—¶å™¨ï¼Œæ­¤æ—¶i=5ï¼Œå®šæ—¶å™¨æ—¶é—´åˆ°äº†ä¹‹åï¼Œæ‰“å°çš„æ˜¯içš„å€¼ï¼Œä¹Ÿå°±æ˜¯5 é‚£ä¹ˆæ€ä¹ˆæ‰“å°0-4å‘¢ï¼Ÿ ä½¿ç”¨letå£°æ˜iï¼Œletæ˜¯å—çº§å˜é‡ ä½¿ç”¨é—­åŒ…ï¼Œé—­åŒ…å‡½æ•°æœ‰è‡ªå·±çš„ä½œç”¨åŸŸå¯ä»¥åœ¨è®¾ç½®å®šæ—¶å™¨æ—¶ä¿ç•™içš„å€¼ letå°±ä¸è¯´äº†ï¼Œè¯´ä¸€ä¸‹é—­åŒ…è§£å†³è¿™ä¸ªé—®é¢˜ for (var i = 0; i &lt; 5; i++) { (function (j) { setTimeout(function () { console.log(j); }, 1000) })(i) } // 0 1 2 3 4 åœ¨ä¹ˆè¯è®¾ç½®å®šæ—¶å™¨æ—¶ï¼Œæ¯æ¬¡ä¼ è¿›å»çš„å˜é‡éƒ½ä¸ä¸€æ ·ï¼Œæ¯ä¸ªå®šæ—¶å™¨ä¿ç•™ç€ç€ä¸åŒçš„ä½œç”¨åŸŸï¼Œæ‰€ä»¥ç»“æœæ˜¯0 1 2 3 4 å¼Šç«¯ é—­åŒ…è™½å¥½ï¼Œä½†ä¹Ÿæœ‰å¼Šç«¯â€”â€”å®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ æ ¹æ®jsçš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œæ²¡æœ‰å¼•ç”¨çš„å˜é‡å°†ä¼šè‡ªåŠ¨å›æ”¶ï¼Œè€Œå¦‚æœä½¿ç”¨é—­åŒ…çš„å½¢å¼é€šè¿‡å‡½æ•°è¡¨è¾¾å¼èµ‹å€¼ç»™å…¨å±€ä½œç”¨åŸŸä¸­çš„ä¸€ä¸ªå˜é‡ï¼Œå°±å¯èƒ½ä¼šé€ æˆæ— æ³•å›æ”¶ åŸå‹å…ˆæ¥çœ‹å‡ ä¸ªæ¦‚å¿µ åŸå‹â€”â€”æ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå¯¹è±¡å±æ€§ï¼ŒæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œprototypeå°±æ˜¯è°ƒç”¨æ„é€ å‡½æ•°æ‰€åˆ›å»ºçš„é‚£ä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹ åŸå‹é“¾â€”â€”æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª__proto__å±æ€§ï¼Œç”¨äºæŒ‡å‘åˆ›å»ºå®ƒçš„å‡½æ•°å¯¹è±¡çš„åŸå‹å¯¹è±¡ï¼Œé€šè¿‡__proto__æŠŠå¯¹è±¡å±æ€§è¿æ¥èµ·æ¥å°±å«åŸå‹é“¾ å¦‚æœè¿˜æœ‰äº›è®¸ç–‘æƒ‘ï¼Œé‚£ä¹ˆçœ‹ä»£ç å§ function Person(name) { this.name = name this.sayHi = function() { console.log(&#39;Hi&#39;); } } Person.prototype.sayName = function () { console.log(this.name); } const p = new Person(&#39;å¼ ä¸‰&#39;) p.sayHi() p.sayName() console.log(p.__proto__ === Person.prototype); ç¬¬ä¸€æ®µä»£ç æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæ·»åŠ äº†ä¸€ä¸ªå±æ€§å’Œä¸€ä¸ªæ–¹æ³•ï¼›ç¬¬äºŒæ®µä»£ç æ˜¯å¾€Personçš„åŸå‹ä¸Šæ·»åŠ æ–¹æ³•ï¼›ç¬¬ä¸‰æ®µä»£ç æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡å®ä¾‹pï¼Œä»–çš„çˆ¶ç±»æ˜¯Personï¼Œç„¶åæ‰§è¡Œçˆ¶ç±»çš„æ–¹æ³•ï¼Œæœ€åä¸€è¡Œè¯´æ˜äº†pçš„__proto__å°±æ˜¯Personçš„prototypeï¼Œå¯¹è±¡å®ä¾‹å¯ä»¥ä½¿ç”¨åŸå‹é“¾ä¸Šçš„çš„æ–¹æ³• ç»§æ‰¿ ç»§æ‰¿æœ‰å¾ˆå¤šç§æ–¹æ³• åŸå‹é“¾ç»§æ‰¿ function Animals() { this.say = function () { console.log(&#39;Hi&#39;); } } function Cat() { } Cat.prototype = new Animals() é€šè¿‡æŠŠAnimalsçš„åŸå‹å¯¹è±¡æ·»åŠ åˆ°Catçš„åŸå‹å¯¹è±¡ä¸Šï¼Œå®ç°ç»§æ‰¿ æ„é€ å‡½æ•°ç»§æ‰¿ function Animals() { this.say = function () { console.log(&#39;Hi&#39;); } } function Cat() { Animals.call(this) } const c = new Cat() c.say() ç”¨.call()å’Œ.apply()å°†çˆ¶ç±»æ„é€ å‡½æ•°å¼•å…¥å­ç±»å‡½æ•°ï¼ˆåœ¨å­ç±»å‡½æ•°ä¸­åšäº†çˆ¶ç±»å‡½æ•°çš„è‡ªæ‰§è¡Œï¼ˆå¤åˆ¶ï¼‰ï¼‰ ç»„åˆç»§æ‰¿ function Animals(name) { this.name = name this.say = function () { console.log(&#39;Hi&#39;); } } function Cat() { Animals.call(this, &#39;king&#39;) } Cat.prototype = new Animals() const c = new Cat() c.say() å°†å‰é¢ä¸¤ç§ç»§æ‰¿æ–¹å¼ç»„åˆèµ·æ¥ï¼Œè§£å†³äº†åŸå‹é“¾ç»§æ‰¿ä¸èƒ½ä¼ å‚å’Œæ„é€ å‡½æ•°ç»§æ‰¿ä¸èƒ½å¤ç”¨çš„é—®é¢˜ï¼Œä½†æ˜¯æ¶ˆè€—å†…å­˜ï¼Œå­ç±»çš„æ„é€ å‡½æ•°ä¼šä»£æ›¿åŸå‹ä¸Šçš„é‚£ä¸ªçˆ¶ç±»æ„é€ å‡½æ•° åŸå‹å¼ï¼ˆå®ä¾‹ï¼‰ç»§æ‰¿ function Animals(name) { this.name = name this.say = function () { console.log(&#39;Hi&#39;); } } function content(obj) { function F() { } F.prototype = obj return new F() } var animal = new Animals() var cat = content(animal) é€šè¿‡å¯¹è±¡å®ä¾‹æ¥å®ç°ç»§æ‰¿ï¼Œä½†æ˜¯æ— æ³•å¤ç”¨ å¯„ç”Ÿç»„åˆç»§æ‰¿ function Animals(name) { this.name = name this.say = function () { console.log(&#39;Hi&#39;); } } function content(obj) { function F() { } F.prototype = obj return new F() } var proto = content(Animals.prototype) function Cat() { Animals.call(this) } Cat.prototype = proto // ç»§æ‰¿å®ä¾‹ proto.constructor = Cat // ä¿®å¤å®ä¾‹ const c = new Cat() c.say() è§£å†³äº†ç»„åˆç»§æ‰¿çš„é—®é¢˜ æ’ä¸€å˜´newçš„åŸç† var new1 = function (Class) { var newObj = Object.create(Class.prototype); var returnObj = Class.call(newObj); return typeof returnObj === &#39;object&#39; ? returnObj : newObj } var s = new1(String) console.log(s instanceof String); // true é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç„¶åé€šè¿‡æ„é€ å‡½æ•°ç»§æ‰¿çš„æ–¹å¼ï¼Œå°†è¦å®ä¾‹åŒ–å¯¹è±¡çš„åŸå‹æ·»åŠ åˆ°åˆ›å»ºçš„å¯¹è±¡ä¸Š HTTPè¯·æ±‚æ–¹æ³•GET è¯·æ±‚URLæŒ‡å®šçš„èµ„æº POST ä¼ è¾“å®ä½“ä¸»ä½“ PUT PUTæ–¹æ³•ç”¨æ¥ä¼ è¾“æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥å®ç°ä¸postç›¸åŒçš„æ•ˆæœ POSTå’ŒPUTçš„åŒºåˆ«ï¼šPUTå…·æœ‰å¹‚ç­‰æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´å¤šæ¬¡PUTæ“ä½œå¯¹æœåŠ¡å™¨å½±å“æ˜¯ä¸€æ ·çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœå‘å¸ƒä¸€ç¯‡æ–‡ç« ï¼Œå‘é€äº†ä¸¤ä¸ªè¯·æ±‚ï¼Œå¦‚æœä½¿ç”¨POSTä¼šäº§ç”Ÿä¸¤ç¯‡ç›¸åŒçš„å¸–å­ï¼Œä½¿ç”¨PUTåªä¼šäº§ç”Ÿä¸€ä¸ª DELETE ç”¨æ¥åˆ é™¤æ–‡ä»¶ï¼Œæ˜¯PUTçš„ç›¸åæ–¹æ³•ã€‚ HEAD è·å–æŠ¥æ–‡é¦–éƒ¨ï¼Œå’ŒGETæ–¹æ³•ä¸€æ ·ï¼Œåªæ˜¯ä¸è¿”å›æŠ¥æ–‡ä¸»ä½“éƒ¨åˆ† OPTIONS æŸ¥è¯¢é’ˆå¯¹è¯·æ±‚URLæŒ‡å®šçš„èµ„æºæ”¯æŒçš„æ–¹æ³• TRACE è®©WebæœåŠ¡å™¨ç«¯å°†ä¹‹å‰çš„è¯·æ±‚é€šä¿¡ç¯å›ç»™å®¢æˆ·ç«¯æ–¹æ³• CONNECT è¦æ±‚åœ¨ä¸ä»£ç†æœåŠ¡å™¨é€šä¿¡æ—¶å»ºç«‹éš§é“ï¼Œå®ç°ç”¨éš§é“åè®®è¿›è¡ŒTCPé€šä¿¡ã€‚ thisçš„æŒ‡å‘ä¸€å¥è¯æ¥è¯´å°±æ˜¯ï¼šè°è°ƒç”¨æŒ‡å‘è°ï¼ˆä¸ªåˆ«æƒ…å†µé™¤å¤–ï¼‰ æ”¹å˜thisæŒ‡å‘ï¼Œå¯ä»¥çœ‹ä¹‹å‰çš„ä¸€ç¯‡åšå®¢ æ­£å¸¸æƒ…å†µä¸‹ this æŒ‡å‘è°ƒç”¨ä»–çš„ä¸Šä¸‹æ–‡ ç®­å¤´å‡½æ•°çš„ this æŒ‡å‘ä»–çš„çˆ¶ä½œç”¨åŸŸçš„ thisï¼ˆé™æ€ä½œç”¨åŸŸã€é™æ€ä½œç”¨åŸŸã€é™æ€ä½œç”¨åŸŸï¼‰ new ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œthis æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œè¯¦æƒ…å¯ä»¥è‡ªè¡Œäº†è§£ new callã€bindã€apply ä¼šæ”¹å˜ this çš„æŒ‡å‘ï¼Œè¯¦æƒ…è‡ªè¡Œäº†è§£ å¼‚æ­¥å¼‚æ­¥è½®è¯¢ PromiseåŸç† å…ƒç´ å‚ç›´æ°´å¹³å±…ä¸­ çˆ¶çº§å…ƒç´ displayè®¾ç½®ä¸ºtableï¼Œå­å…ƒç´ displayè®¾ç½®ä¸ºtable-cellï¼Œå­å…ƒç´ vertical-align: middle; åˆ©ç”¨ç»å¯¹å®šä½ï¼Œçˆ¶çº§è®¾ç½®positionä¸ºrelativeï¼Œå­çº§è®¾ç½®positionä¸ºabsoluteï¼Œè·ç¦»é¡¶éƒ¨50%å·¦ä¾§50%ï¼Œç„¶ååˆ©ç”¨transformï¼Œtranslateï¼ˆ-50%ï¼Œ -50%ï¼‰ï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨margin-topå’Œmargin-leftä¸ºè´Ÿå€¼ åˆ©ç”¨flexï¼Œå°†çˆ¶çº§displayè®¾ç½®ä¸ºflexï¼Œç„¶åjustify-content: center; align-items: center; åˆ©ç”¨çˆ¶çº§ä¼ªç±»æˆ–å­çº§ç©ºå…ƒç´ ï¼Œdisplayè®¾ç½®ä¸ºinline-blockï¼Œç„¶åè®¾ç½®vertical-align: middle; æ¸…é™¤æµ®åŠ¨ æµ®åŠ¨å…ƒç´ åæ·»åŠ ç©ºæ ‡ç­¾ï¼Œæ ‡ç­¾æ ·å¼clear: both; çˆ¶çº§å…ƒç´ è®¾ç½®overflow: hidden;è§¦å‘BFCï¼Œå¦‚æœæœ‰å®šä½è°¨æ…ä½¿ç”¨ afterä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨ï¼Œæµ®åŠ¨å…ƒç´ çˆ¶çº§æ·»åŠ ä¼ªå…ƒç´ ï¼Œè®¾ç½®å±æ€§clear: both; ç›’å­æ¨¡å‹ç›’å­æ¨¡å‹åŒ…å«marginï¼ˆå¤–è¾¹è·ï¼‰ã€paddingï¼ˆå†…è¾¹è·ï¼‰ã€borderï¼ˆè¾¹æ¡†ï¼‰ã€contentï¼ˆå†…å®¹ï¼‰å››éƒ¨åˆ† å…³äºç›’å­æ¨¡å‹å­˜åœ¨ä¸¤å¥—æ ‡å‡† æ ‡å‡†ç›’æ¨¡å‹ï¼ˆW3Cï¼‰ ç›’å­å®½åº¦width=content æ€ªå¼‚ç›’æ¨¡å‹ï¼ˆIEï¼‰ ç›’å­å®½åº¦width=border+padding+content è¿™ä¸¤ä¸ªæ¨¡å‹å¯ä»¥é€šè¿‡box-sizingæ¥è½¬æ¢ï¼Œconten-boxæ˜¯æ ‡å‡†ç›’æ¨¡å‹ï¼Œborder-boxæ˜¯æ€ªå¼‚ç›’æ¨¡å‹ æ•°æ®ç±»å‹JSä¸­æœ‰ä¸¤å¤§ç±»æ•°æ®ç±»å‹ï¼ŒåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ åŸºæœ¬ç±»å‹â€”â€”Numberã€Stringã€Booleanã€Nullã€Undefinedä»¥åŠæ–°åŠ å…¥çš„Symbol å¼•ç”¨ç±»å‹â€”â€”æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºå°†æ•°æ®å’ŒåŠŸèƒ½ç»„ç»‡åœ¨ä¸€èµ·ï¼Œå¸¸è§çš„æœ‰Objectç±»å‹ï¼ŒArrayç±»å‹ï¼ŒDateç±»å‹ï¼ŒRegExpç±»å‹ï¼ˆæ­£åˆ™ï¼‰ï¼ŒFunctionç±»å‹ åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ« åŸºæœ¬ç±»å‹æ˜¯æŒ‰å€¼è®¿é—®çš„ï¼Œå› ä¸ºå¯ä»¥ç›´æ¥æ“ä½œä¿å­˜åœ¨å˜é‡ä¸­çš„å®é™…å€¼ï¼Œä¿å­˜åœ¨æ ˆä¸­ï¼›è€Œå¼•ç”¨ç±»å‹å¤§å°æ˜¯ä¸å›ºå®šçš„ï¼Œå­˜å‚¨åœ¨å †å†…å­˜ä¸­ï¼Œä¸å¯ä»¥ç›´æ¥è®¿é—®å’Œæ“ä½œå¯¹å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥åªèƒ½åœ¨æ ˆä¸­æ“ä½œå¼•ç”¨åœ°å€ ä¾‹å¦‚ åŸºæœ¬ç±»å‹åœ¨èµ‹å€¼æ—¶æ˜¯å°†å€¼é‡æ–°æ·»åŠ åˆ°äº†bï¼Œæ­¤æ—¶æ”¹å˜açš„å€¼ï¼Œbçš„å€¼ä¸å—å½±å“ï¼ˆä¼ å€¼ï¼‰ è€Œåœ¨å¼•ç”¨ç±»å‹ä¸­ åœ¨èµ‹å€¼æ—¶ï¼Œä¼ é€’çš„æ˜¯å¼•ç”¨çš„åœ°å€ï¼Œæ‰€ä»¥å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶æ‰€æœ‰çš„å¼•ç”¨éƒ½ä¼šæ”¹å˜ï¼ˆä¼ å€ï¼‰ æ ˆ(stack)ä¼šè‡ªåŠ¨åˆ†é…å†…å­˜ç©ºé—´ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚å †(heap)åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œå¤§å°ä¸å®šä¹Ÿä¸ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œéœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨é‡Šæ”¾ï¼Œå¦‚æœä¸é‡Šæ”¾å°±ä¼šç”±OSåœ¨ç¨‹åºç»“æŸè¿è¡Œæ—¶é‡Šæ”¾ã€‚ æ­¤å¤–æ³¨æ„ï¼Œåœ¨å‡½æ•°ä¼ å‚æ—¶ï¼Œå¼•ç”¨ç±»å‹ä¼ å‚ä¹Ÿæ˜¯ä¼ çš„åœ°å€ï¼Œå½¢å‚çš„æ“ä½œä¼šå½±å“åˆ°åŸæ¥çš„æ•°æ® letã€constå’Œvarçš„åŒºåˆ«varå­˜åœ¨å˜é‡æå‡ï¼Œletå’Œconstæ²¡æœ‰ å˜é‡æå‡æ„å‘³ç€å¯ä»¥å…ˆä½¿ç”¨å†å£°æ˜ï¼Œä¸Šä»£ç  è€Œå—çº§ä½œç”¨åŸŸä¼šæŠ¥é”™ è¿™å°±ç‰µæ‰¯åˆ°äº†æš‚æ—¶æ€§æ­»åŒº æš‚æ—¶æ€§æ­»åŒºï¼šåªè¦ä½œç”¨åŸŸå†…ä½¿ç”¨letå£°æ˜äº†å˜é‡ï¼Œå˜é‡å°±ç»‘å®šäº†è¿™ä¸ªä½œç”¨åŸŸï¼Œå³ä½¿å­˜åœ¨å…¨å±€å˜é‡ä¸ä¼šç”Ÿæ•ˆã€‚ä½¿ç”¨letå‘½ä»¤å£°æ˜å˜é‡ä¹‹å‰ï¼Œè¯¥å˜é‡éƒ½æ˜¯ä¸å¯ç”¨çš„ï¼Œè¿™å°±å«æš‚æ—¶æ€§æ­»åŒºã€‚ letå’Œconstæ˜¯å—çº§å˜é‡ letå’Œconstéƒ½åªä¼šåœ¨å£°æ˜æ‰€åœ¨çš„ä½œç”¨åŸŸå—ä¸­ç”Ÿæ•ˆï¼Œletå’Œconstçš„åŒºåˆ«æ˜¯ï¼Œconstå£°æ˜æ—¶å¿…é¡»èµ‹å€¼ï¼Œè€Œä¸”ä¸€æ—¦èµ‹å€¼ä¸å¯æ”¹å˜ åŒä¸€ä½œç”¨åŸŸä¸‹constå’Œletä¸èƒ½é‡å¤å£°æ˜ äº‹ä»¶å§”æ‰˜äº‹ä»¶å§”æ‰˜ä¸»è¦åˆ©ç”¨äº†å†’æ³¡åŸç†å®ç°ï¼Œä»æœ€æ·±çš„ç»“ç‚¹å¼€å§‹ï¼Œå‘å¤–å±‚ä¼ é€’äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åªç»™çˆ¶çº§æ·»åŠ äº‹ä»¶ï¼Œç„¶åé€šè¿‡targetæ¥è§¦å‘äº‹ä»¶ ä¾‹å¦‚åœ¨ul&gt;liä¸­ï¼Œå¦‚æœæ·»åŠ äº‹ä»¶ä¸€èˆ¬æ˜¯åœ¨æ¯ä¸ªliä¸Šæ·»åŠ äº‹ä»¶ï¼Œå¦‚ &lt;ul id=&quot;ul&quot;&gt; &lt;li id=&quot;li1&quot;&gt;ç¬¬ä¸€ä¸ª&lt;/li&gt; &lt;li id=&quot;li2&quot;&gt;ç¬¬äºŒä¸ª&lt;/li&gt; &lt;li id=&quot;li2&quot;&gt;ç¬¬ä¸‰ä¸ª&lt;/li&gt; &lt;li id=&quot;li2&quot;&gt;ç¬¬å››ä¸ª&lt;/li&gt; &lt;/ul&gt; &lt;script&gt; var liNodes = document.querySelectorAll(&#39;li&#39;) for(let i =0; i &lt; liNodes.length; i++) { liNodes[i].onclick = function() { console.log(liNodes[i].innerText); } } &lt;/script&gt; è¿™æ ·å†æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½åŠ ä¸Šç›‘å¬ä¼šå½±å“æ€§èƒ½ï¼Œè¿™æ—¶å€™å°±å¯ä»¥åˆ©ç”¨äº‹ä»¶å§”æ‰˜åœ¨è¿™äº›å…ƒç´ çš„çˆ¶çº§å…ƒç´ ä¸Šæ·»åŠ ç›‘å¬äº‹ä»¶ äº‹ä»¶å§”æ‰˜ &lt;ul id=&quot;ul&quot;&gt; &lt;li id=&quot;li1&quot;&gt;ç¬¬ä¸€ä¸ª&lt;/li&gt; &lt;li id=&quot;li2&quot;&gt;ç¬¬äºŒä¸ª&lt;/li&gt; &lt;li id=&quot;li2&quot;&gt;ç¬¬ä¸‰ä¸ª&lt;/li&gt; &lt;li id=&quot;li2&quot;&gt;ç¬¬å››ä¸ª&lt;/li&gt; &lt;/ul&gt; &lt;script&gt; var ulNode = document.getElementById(&#39;ul&#39;) ulNode.onclick = function(e) { console.log(e.target.innerText); } &lt;/script&gt; å°±å¯ä»¥å®ç°ç›¸åŒçš„æ•ˆæœ ES6å’ŒCommonJSæ¨¡å—åŒ–åŒºåˆ«ï¼š CommonJSæ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ CommonJSæ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ ES6 ä½¿ç”¨exportå…³é”®å­—å¯¼å‡ºå˜é‡æˆ–æ–¹æ³•ï¼Œä½¿ç”¨importå…³é”®å­—å¯¼å…¥æ¨¡å—ï¼› æ­¤å¤–è¿˜æœ‰é»˜è®¤å¯¼å‡ºexport defaultï¼Œåªèƒ½é»˜è®¤å¯¼å‡ºä¸€æ¬¡ï¼› exportå¯¼å‡ºçš„å†…å®¹ä¼šè¢«æ”¾åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œå¯¼å…¥æ—¶ä½¿ç”¨{}æ¥è§£æ„å–å€¼ï¼Œexport defaultå¯¼å‡ºçš„æ˜¯ä»€ä¹ˆå¯¼å…¥å°±æ˜¯ä»€ä¹ˆ CommonJS ä½¿ç”¨module.exportså…³é”®å­—å¯¼å‡ºæ¨¡å—ï¼Œä½¿ç”¨requireå…³é”®å­—å€’å…¥æ¨¡å— å¯ä»¥ä½¿ç”¨è§£æ„æˆ–è€….å±æ€§åæ¥æŒ‰éœ€å¼•å…¥å¦‚ // å¯¼å‡º module.exports = { obj: { name: &#39;å¼ ä¸‰&#39;, age: 14, out() { console.log(this.age); } } } // å¯¼å…¥ const obj = require(&#39;./1&#39;).obj // æˆ–è€… const {obj} = require(&#39;./1&#39;) æ··ç”¨ module.exportså¯ä»¥çœ‹åšä¸€ä¸ªexport defaultï¼Œå¯ä»¥ç›´æ¥import ä½¿ç”¨requireå¯¼å…¥export defaultæ—¶éœ€è¦å†™æˆrequire().default ä»è¾“å…¥urlåˆ°æ˜¾ç¤ºå†…å®¹å‘ç”Ÿäº†ä»€ä¹ˆè¾“å…¥ç½‘å€ åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥url æŸ¥æ‰¾åŸŸåIPåœ°å€ é¦–å…ˆä»æœ¬åœ°hostsæ–‡ä»¶ä¸­å¯»æ‰¾å¯¹åº”çš„ipï¼Œå¦‚æœç”±ç›´æ¥ä½¿ç”¨ï¼Œæ²¡æœ‰çš„è¯å‘å‡ºDNSè¯·æ±‚åˆ°æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œæœ¬åœ°DNSå…ˆæŸ¥æ‰¾ç¼“å­˜ï¼Œå¦‚æœæœ‰è¿”å›ç›®æ ‡ipï¼Œå¦‚æœè¿˜æ²¡æœ‰æ‰¾åˆ°ï¼Œæœ¬åœ°DNSå°±ä¼šåˆ°DNSæ ¹æœåŠ¡å™¨æŸ¥æ‰¾ï¼Œå¦‚æœæ ¹DNSæ²¡æœ‰è®°å½•åŸŸåå’ŒIPçš„å¯¹åº”å…³ç³»å°±ä¼šå‘Šè¯‰æœ¬åœ°DNSå»åŸŸæœåŠ¡å™¨æŸ¥æ‰¾ï¼Œç„¶åæœ¬åœ°DNSå†è¯·æ±‚åŸŸæœåŠ¡å™¨ï¼ŒåŸŸæœåŠ¡å™¨å†å‘Šè¯‰æœ¬åœ°DNSå¯¹åº”çš„è§£ææœåŠ¡å™¨åœ°å€ï¼Œæœ€åæœ¬åœ°DNSå‘è§£ææœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œç„¶åè·å–åˆ°åŸŸåå¯¹åº”çš„IPï¼Œå¹¶ä¸”ç¼“å­˜ä¸‹æ¥ å»ºç«‹TCPè¿æ¥ è·å–åˆ°å¯¹åº”çš„IPä¹‹åï¼Œå‘ç›®æ ‡æœåŠ¡å™¨å‘èµ·TCPè¿æ¥è¯·æ±‚ï¼Œç»è¿‡ä¸‰æ¬¡æ¡æ‰‹ä¹‹åå»ºç«‹è¿æ¥ å‘é€HTTPè¯·æ±‚ å»ºç«‹å¥½TCPè¿æ¥ä¹‹åï¼Œå‘èµ·HTTPè¯·æ±‚ æœåŠ¡å™¨å¤„ç† æœåŠ¡å™¨æ¥æ”¶åˆ°æµè§ˆå™¨å‘æ¥çš„HTTPè¯·æ±‚ä¹‹åï¼Œå¤„ç†ç›¸åº”çš„äº‹åŠ¡ï¼Œå°†æ‰€éœ€è¦çš„èµ„æºè¿”å›ç»™æµè§ˆå™¨ å…³é—­TCPè¿æ¥ ä¸ºäº†é¿å…èµ„æºå ç”¨ï¼Œåœ¨èµ„æºä¼ è¾“å®Œæˆä¹‹åå°†TCPè¿æ¥æ–­å¼€ï¼Œç»è¿‡å››æ¬¡æŒ¥æ‰‹ä¹‹åè¿æ¥ä¸­æ–­ æµè§ˆå™¨è§£æèµ„æºæ¸²æŸ“ è§£æè¿‡ç¨‹å¦‚ä¸‹ï¼ˆæ¥è‡ªç½‘ç»œï¼Œä¾µæƒè”ç³»åˆ é™¤ï¼‰ æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„ åŸºäºinstanceof åŸºäºconstructor åŸºäºObject.prototype.isPrototypeOf åŸºäºgetPrototypeOf åŸºäºObject.prototype.toString åŸºäºArray.isArray var a = [] a instanceof Array; a.constructor === Array; Array.prototype.isPrototypeOf(a); Object.getPrototypeOf(a) === Array.prototype; Object.prototype.toString.apply(a) === &#39;[object Array]&#39;; Array.isArray(a)","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}],"tags":[{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"https://easyremember.cn/tags/æ‚¦è¯»/"}],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}]},{"title":"Tokenæ— ç—›åˆ·æ–°","slug":"æŠ€æœ¯/tokenæ— ç—›åˆ·æ–°","date":"2020-12-01T09:23:38.519Z","updated":"2020-12-16T06:38:50.604Z","comments":true,"path":"2020/12/01/æŠ€æœ¯/tokenæ— ç—›åˆ·æ–°/","link":"","permalink":"https://easyremember.cn/2020/12/01/æŠ€æœ¯/tokenæ— ç—›åˆ·æ–°/","excerpt":"","text":"ä»Šå¤©è¢«é—®åˆ°ä¸€ä¸ªå¾ˆå®ç”¨çš„é—®é¢˜ï¼š å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œå°†ç”¨æˆ·çš„tokenæœ‰æ•ˆæœŸè®¾ç½®å¾—æ—¶é—´å¾ˆçŸ­ï¼Œæ€ä¹ˆèƒ½ä¿è¯ç”¨æˆ·åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ä½“éªŒå‘¢ ç„¶é¹…ï¼Œæˆ‘æ²¡ç­”ä¸Šæ¥ï¼ï¼ï¼ èµ¶ç´§æŸ¥ä¸€ä¸‹è§£å†³æ–¹æ¡ˆï¼Œç»ˆäºæ‰¾åˆ°äº†è§£å†³åŠæ³• å…ˆæ¥è¯´ä¸€ä¸‹åŸæ¥çš„å›¾æœ‰ç‚¹ä¸‘ï¼Œå°†å°±ç€çœ‹ é¦–å…ˆåœ¨é¡µé¢ä¸­è§¦å‘ä¸€ä¸ªäº‹ä»¶å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œåç«¯æ£€æµ‹åˆ°tokenä¸åˆæ³•ï¼Œè¿”å›å“åº”ï¼ŒçŠ¶æ€ç 401ï¼Œaxiosçš„å“åº”æ‹¦æˆªå™¨æ•è·åˆ°äº†errorï¼Œç›´æ¥æ¸…é™¤tokenï¼Œå°†é¡µé¢è·³è½¬åˆ°é¦–é¡µ å¦‚æœç”¨æˆ·åœ¨åˆšå¡«å®Œä¸€ä¸ªå¾ˆé•¿çš„è¡¨å•ï¼Œåˆšæäº¤ï¼Œç»“æœæ¥äº†è¿™ä¹ˆä¸€å‡ºï¼Œé‚£ä½“éªŒè‡ªç„¶æ˜¯å¾ˆå·®çš„ï¼Œæ‰€ä»¥æœ‰äº†ä¸‹é¢çš„æ–¹æ¡ˆ æ— ç—›åˆ·æ–°éœ€è¦åç«¯æä¾›æ”¯æŒï¼Œtokené™¤äº†è®¾ç½®è¿‡æœŸæ—¶é—´ä¹‹å¤–ï¼Œè¿˜è¦æœ‰ä¸€ä¸ªåˆ·æ–°æ—¶é—´ï¼ˆåˆ·æ–°æ—¶é—´&gt;è¿‡æœŸæ—¶é—´ï¼‰ï¼Œå½“tokenè¿‡æœŸä¹‹ååªè¦æ²¡æœ‰è¶…è¿‡åˆ·æ–°æ—¶é—´ï¼Œå°±å¯ä»¥æ°¸ä¹…çš„tokenæ¢å–æ–°çš„tokenï¼Œä»¥ä¿æŒå‰ç«¯æ— æ„Ÿ æ³¨æ„çš„ä¸€ç‚¹æ˜¯è¦å†å‘é€ä¸€æ¬¡åŸæ¥çš„è¯·æ±‚ï¼Œåç«¯è¿”å›æ•°æ®å¯ä»¥åœ¨é”™è¯¯å“åº”ä¸­åŠ å…¥è¯·æ±‚åœ°å€ï¼Œï¼ˆä¼ªç ï¼‰ è¿™æ˜¯ä¸€ä¸ªé”™è¯¯å“åº”çš„æˆªå›¾ï¼Œé‡Œé¢æœ‰configé¡¹ï¼Œå¯ä»¥ç”¨æ¥è®¿é—®åŸæ¥çš„è¯·æ±‚ const {token} = await getNewToken() localStroage.setItem(&#39;token&#39;, token) const res = axios.request(error.response.config) return res æ³¨æ„å…ˆåé¡ºåºï¼Œè¦å…ˆè·å–åˆ°tokenä¹‹åå†å»è®¿é—®è¯·æ±‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"uni-appåœ¨çº¿é¢„è§ˆPDF","slug":"æŠ€æœ¯/uni-appåœ¨çº¿é¢„è§ˆPDF","date":"2020-11-29T04:10:32.740Z","updated":"2020-11-29T04:30:42.297Z","comments":true,"path":"2020/11/29/æŠ€æœ¯/uni-appåœ¨çº¿é¢„è§ˆPDF/","link":"","permalink":"https://easyremember.cn/2020/11/29/æŠ€æœ¯/uni-appåœ¨çº¿é¢„è§ˆPDF/","excerpt":"","text":"uni-appåœ¨çº¿é¢„è§ˆPDFéœ€æ±‚æ–‡ä»¶ä¸å¯ä»¥é€šè¿‡æ–‡ä»¶åœ°å€ç›´æ¥è®¿é—®ï¼Œè¦é€šè¿‡æ–‡ä»¶æµçš„å½¢å¼åœ¨çº¿é¢„è§ˆ å·¥å…·åŸºäºpdfjså°è£…çš„ç»„ä»¶ï¼ˆåˆ«äººå°è£…çš„ï¼‰ï¼Œç”¨webviewè®¿é—®æœ¬åœ°ç½‘é¡µ é‡åˆ°çš„é—®é¢˜ å¼€å§‹çš„æ—¶å€™ä»¥ä¸ºä»–å¯ä»¥è‡ªå·±è·å–æ–‡ä»¶æµå¹¶å¤„ç†ï¼Œæ‰€ä»¥ç›´æ¥å°†è¯·æ±‚åœ°å€ä¼ è¿›å»äº† æ„è¯†åˆ°ä»–ä¸èƒ½å¤„ç†blobï¼Œæ‰‹åŠ¨å¤„ç†ï¼Œå°†blobè½¬ä¸ºurl æ­£å¸¸å¤„ç†äº†blobï¼Œå¤„ç†åçš„urlä¼ è¿›å»ï¼Œé¡µæ•°æ˜¾ç¤ºæ­£å¸¸ï¼Œä½†å†…å®¹ä¸ºç©º è¸©å‘çš„è¿‡ç¨‹å…ˆçœ‹ä¸€ä¸‹æ–‡ä»¶è·¯å¾„ï¼Œèµ„æºä¼šåœ¨æ–‡æœ«åˆ†äº« 1 åˆ›å»ºwebviewè®¿é—®è¿™ä¸ªviewer.html&lt;template&gt; &lt;view style=&quot;width: 100%;&quot; &gt; &lt;web-view :src=&quot;allUrl&quot;&gt;&lt;/web-view&gt; &lt;/view&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { allUrl:&#39;&#39;, viewerUrl: &#39;/hybrid/html/web/viewer.html&#39;, // æ ¼å¼åŒ–æ–‡ä»¶æµçš„ä¸€ä¸ªjs æ–‡ä»¶ æ–‡æœ«ä¼šåˆ†äº«å‡ºæ¥ } }, onLoad(options) { let {url, title} = options uni.setNavigationBarTitle({ title: title }) this.allUrl = this.viewerUrl + url } &lt;/script&gt; ä¼ è¿›æ¥çš„urlæ˜¯/read/tryread?bookId=${this.bookId}ï¼Œä½†æ˜¯pdfjsé»˜è®¤æ˜¯ä¸èƒ½å¤„ç†è¿™ç§å½¢å¼çš„urlçš„ 2 å…ˆè·å–äºŒè¿›åˆ¶æµï¼Œè½¬urlåœ¨è¿™ä¸ªé¡µé¢è¯·æ±‚æ•°æ®ï¼Œç„¶åè½¬urlä¼ åˆ°pdfjsä¸­ï¼Œç„¶åæ”¹è¿›ä»£ç  &lt;template&gt; &lt;view style=&quot;width: 100%;&quot; &gt; &lt;web-view :src=&quot;allUrl&quot;&gt;&lt;/web-view&gt; &lt;/view&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { allUrl:&#39;&#39;, viewerUrl: &#39;/hybrid/html/web/viewer.html&#39;, // æ ¼å¼åŒ–æ–‡ä»¶æµçš„ä¸€ä¸ªjs æ–‡ä»¶ æ–‡æœ«ä¼šåˆ†äº«å‡ºæ¥ } }, methods: { getFile(url) { uni.request({ url: this.$photoHeader + &#39;api&#39; + url, header: { &#39;Content-Type&#39;: &#39;application/pdf&#39;, &#39;authorization&#39;: this.$store.getters.getToken }, success: (res) =&gt; { // â†“â†“â†“â†“æ³¨æ„ä¸‹é¢è¿™é‡Œ const fileUrl = this.transBlobToUrl(res.data) this.allUrl = this.viewerUrl + &#39;?file=&#39; + fileUrl console.log(this.allUrl); }, }); }, transBlobToUrl(file) { // å°†è·å–çš„blobè½¬åŒ–ä¸ºurl // console.log(file); let url = null; if (window.createObjectURL != undefined) { // basic url = window.createObjectURL(file); } else if (window.webkitURL != undefined) { // webkit or chrome try { url = window.webkitURL.createObjectURL(file); } catch (error) { console.log(error) } } else if (window.URL != undefined) { // mozilla(firefox) try { url = window.URL.createObjectURL(file); } catch (error) { console.log(1); console.log(error) } } return url; }, }, onLoad(options) { let {url, title} = options uni.setNavigationBarTitle({ title: title }) this.getFile(decodeURIComponent(url)) } } &lt;/script&gt; è¿™åº”è¯¥å¯ä»¥è·å–åˆ°urläº†ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸è¡Œï¼Œçœ‹åˆ°getFileä¸­æ ‡è®°çš„åœ°æ–¹äº†å—ï¼Œé—®é¢˜å°±åœ¨è¿™ï¼Œä»–è¿™é‡Œæ‹¿åˆ°çš„æ•°æ®æˆäº†stringï¼Œéœ€è¦å°†stringè½¬ä¸ºblobæ ¼å¼ å°†è·å–urlçš„è¯­å¥æ”¹ä¸º const fileUrl = this.transBlobToUrl(new Blob([res.data])) æœ€åä¸€æ­¥ï¼Œä¸´é—¨ä¸€è„šè¿™æ—¶å€™æ•°æ®æ‹¿åˆ°äº†ï¼Œä¹Ÿè½¬æˆurläº†ï¼Œå†å›åˆ°é¡µé¢ä¸­ï¼Œï¼ï¼ï¼ç™½å±ï¼Œä½†æ˜¯é¡µæ•°æ­£å¸¸ æŸ¥äº†å¥½ä¹…ä¹‹åå‘ç°ï¼Œéœ€è¦å°†å“åº”æ ¼å¼å£°æ˜ä¸ºarraybufferï¼Œä¹Ÿå°±æ˜¯è¿™æ · ç„¶åå†çœ‹é¡µé¢ï¼Œå®Œç¾ï¼ æ’ä»¶åœ°å€ï¼šé“¾æ¥: https://pan.baidu.com/s/1xTTQPVWfJEVnY0hWlj7gdg æå–ç : t8mn","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"nestjså­¦ä¹ ç¬”è®°","slug":"ç¬”è®°/NestJSå­¦ä¹ ç¬”è®°","date":"2020-11-27T13:02:04.459Z","updated":"2020-12-05T11:42:36.328Z","comments":true,"path":"2020/11/27/ç¬”è®°/NestJSå­¦ä¹ ç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/11/27/ç¬”è®°/NestJSå­¦ä¹ ç¬”è®°/","excerpt":"","text":"ä»£ç å·²ä¸Šä¼ ç äº‘ 1 å¼€å§‹1.1 ç®€ä»‹ Nest.jsæ˜¯ä¸€ä¸ªæ¸è¿›çš„Node.jsæ¡†æ¶ï¼Œå¯ä»¥åœ¨TypeScriptå’ŒJavaScript (ES6ã€ES7ã€ES8)ä¹‹ä¸Šæ„å»ºé«˜æ•ˆã€å¯ä¼¸ç¼©çš„ä¼ä¸šçº§æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯æä¾›äº†ä¸€ä¸ªå±‚ä¸å±‚ç›´æ¥çš„è€¦åˆåº¦æå°ã€æŠ½è±¡åŒ–æé«˜çš„ä¸€ä¸ªæ¶æ„ä½“ç³» Nestæ¡†æ¶åº•å±‚HTTPå¹³å°é»˜è®¤æ˜¯åŸºäºExpress å®ç°çš„ï¼Œæ‰€ä»¥æ— éœ€æ‹…å¿ƒç¬¬ä¸‰æ–¹åº“çš„ç¼ºå¤±ã€‚é»˜è®¤é›†æˆäº†mongooseã€TypeOrmã€Redisã€Graphqlã€Socket.ioï¼Œå¾®æœåŠ¡ç­‰æ¨¡å—ã€‚NeståŸºäºTypeScriptç¼–å†™å¹¶ä¸”ç»“åˆäº†OOPï¼ˆé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼‰ï¼ŒFPï¼ˆå‡½æ•°å¼ç¼–ç¨‹ï¼‰å’Œ FRPï¼ˆå‡½æ•°å¼å“åº”ç¼–ç¨‹ï¼‰çš„ç›¸å…³ç†å¿µï¼Œä¸ºnode.jsä¸–ç•Œå¸¦æ¥è®¾è®¡æ¨¡å¼å’Œæˆç†Ÿçš„è§£å†³æ–¹æ¡ˆã€‚ 1.2 å®‰è£…ä¸å¯åŠ¨ å…¨å±€å®‰è£…nestâ€”â€” npm install @nest/cli -g åˆ›å»ºé¡¹ç›®â€”â€” nest new app-name åˆ›å»ºè¿‡ç¨‹ä¸­ä¼šè®©ä½ é€‰æ‹©åŒ…ç®¡ç†å™¨ï¼Œnpmæˆ–è€…yarn è¿›å…¥é¡¹ç›®â€”â€” cd app-name å¯åŠ¨é¡¹ç›®â€”â€” npm run start é¡¹ç›®é»˜è®¤ä½¿ç”¨3000ç«¯å£ï¼Œæ‰“å¼€æµè§ˆå™¨è¾“å…¥http://localhost:3000ï¼Œå°±å¯ä»¥çœ‹åˆ°é»˜è®¤çš„æ•°æ®äº† 1.3 å…¥å£æ–‡ä»¶åŠæ–‡ä»¶ç»“æ„ æ•´ä¸ªé¡¹ç›®çš„å…¥å£æ–‡ä»¶æ˜¯main.tsï¼Œåªæœ‰8è¡Œï¼Œåˆ©ç”¨äº†nestjsçš„å·¥å‚åˆ›å»ºäº†å®ä¾‹ï¼Œç›‘å¬3000ç«¯å£ ä¸€èˆ¬æˆ‘ä»¬çš„åˆ†åŒ…çš„æ–¹å¼éƒ½æ˜¯ç›¸åŒèŒè´£çš„æ–‡ä»¶æ”¾åœ¨ä¸€èµ·ï¼ˆæ¯”å¦‚Egg.jsï¼‰ï¼Œæ¯”å¦‚controlleråŒ…ä¸‹é¢éƒ½æ˜¯controllerï¼ŒserviceåŒ…ä¸‹é¢éƒ½æ˜¯serviceï¼Œä½†æ˜¯åœ¨nestjsä¸­ï¼Œè¿™ç§æ–¹å¼ä¸å¦‚æŒ‰ç…§åŠŸèƒ½åˆ†åŒ…æ¥çš„æ–¹ä¾¿ï¼ˆloginåŒ…ä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶éƒ½ä¸loginåŠŸèƒ½ç›¸å…³ï¼‰ â”œâ”€ app â”‚ â”œâ”€ dist // æ‰“åŒ…ç›®å½• â”‚ â”œâ”€ src // æºç  â”‚ â”‚ â”œâ”€ main.ts // å…¥å£ â”‚ â”‚ â”œâ”€ modules // ä¸šåŠ¡é€»è¾‘ä»£ç  â”‚ â”‚ â”‚ â””â”€ login // è·Ÿloginç›¸å…³çš„ä»£ç ï¼ˆcontrollerã€serviceã€moduleç­‰ï¼‰ â”‚ â”‚ â””â”€ app.module.ts // æ€»çš„æ¨¡å—ç»„è£…æ–‡ä»¶ â”‚ â””â”€ test // æµ‹è¯•ç›¸å…³ 1.4 åŠŸèƒ½DemoControllerä¸­ä½¿ç”¨Serviceä¸­çš„åŠŸèƒ½ä¸å†éœ€è¦newä¸€ä¸ªServiceç¤ºä¾‹ï¼Œé‚£æ ·æ—¢æµªè´¹å†…å­˜ï¼Œåˆä¸å®¹æ˜“ç»´æŠ¤ã€‚åœ¨NestJSä¸­ï¼Œä½¿ç”¨ç±»ä¼¼Spring IoCçš„æ–¹å¼ï¼Œå°†serviceæ³¨å…¥åˆ°Controllerä¸­ ä»¥HelloåŠŸèƒ½ä¸ºä¾‹è¿›è¡Œä»£ç æ¼”ç¤ºï¼š åœ¨åŠŸèƒ½åŒ…ä¸‹çš„module.tsä¸­å®ç°æ³¨å…¥è¿™ä¸€æ“ä½œ import { Module } from &#39;@nestjs/common&#39;; import { HelloController } from &#39;./hello.controller&#39;; import { HelloService } from &#39;./hello.service&#39;; @Module({ imports: [], controllers: [HelloController], providers: [HelloService], }) export class HelloModule {} åœ¨Controllerä¸­ç¼–å†™æ§åˆ¶å™¨ä»£ç  import { Controller, Get, Query } from &#39;@nestjs/common&#39;; import { HelloService } from &#39;./hello.service&#39;; @Controller(&#39;/hello&#39;) export class HelloController { constructor(private readonly helloService: HelloService) {} @Get() hi(@Query() { id }): string { console.log(id); return this.helloService.getHi() + id; } } å¯ä»¥çœ‹åˆ°åœ¨controllerä¸­æ²¡æœ‰å‡ºç°ä»»ä½•newçš„å­—æ ·ï¼Œè¿™æ—¶å€™è¿è¡Œä»£ç ä½ ä¼šå‘ç° ä»ç„¶æ‰¾ä¸åˆ°ï¼Œå› ä¸ºæ²¡æœ‰åœ¨app.module.tsä¸­è¿›è¡Œç»„è£…ï¼Œæ¯ä¸€ä¸ªåŠŸèƒ½å°±åƒä¸€ä¸ªå™¨å®˜ï¼Œéœ€è¦åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­è¿›è¡Œæ‹¼è£…æ‰èƒ½æ­£å¸¸å·¥ä½œ åˆ°è¿™é‡Œç­”é¢˜çš„æµç¨‹å·²ç»å·®ä¸å¤šçœ‹å®Œäº†ï¼Œä¸‹é¢å¼€å§‹è¯¦ç»†ä»‹ç» 2 æ§åˆ¶å™¨2.1 åˆ›å»ºControllerè¿è¡Œå‘½ä»¤ nest g controller helloï¼Œå¯ä»¥ä½¿ç”¨nestè‡ªåŠ¨åˆ›å»ºcontrolleræ–‡ä»¶ 2.2 è·¯ç”±é€šè¿‡@Controlleræ³¨è§£æ¥åˆ›å»ºä¸€çº§è·¯ç”±ï¼Œåœ¨Controllerå†…éƒ¨ä½¿ç”¨@Getã€@Postç­‰æ–¹æ³•è£…é¥°å™¨æ¥åˆ›å»ºä¸åŒhttpæ–¹æ³•çš„å­è·¯ç”±ï¼Œä¾‹å¦‚ @Controller(&#39;/hello&#39;) export class HelloController { constructor(private readonly helloService: HelloService) {} @Get(&#39;hi&#39;) hi(): string { return this.helloService.getHi(); } } è¿™æ®µä»£ç ç”Ÿæˆçš„è·¯ç”±å°±æ˜¯/hello/hiï¼Œä½¿ç”¨GETè¯·æ±‚è®¿é—® 2.3 å‚æ•°2.3.1 QueryGETè¯·æ±‚ä¸­ä¸€èˆ¬ä½¿ç”¨@Query()æ³¨è§£æ¥ä¿®é¥°æ–¹æ³•ä¸­çš„å‚æ•° @Controller(&#39;/hello&#39;) export class HelloController { constructor(private readonly helloService: HelloService) {} @Get(&#39;hi&#39;) hi(@Query() { id }): string { return this.helloService.getHi() + &#39;â€”â€”&#39; + id; } } é€šè¿‡queryçš„å½¢å¼æºå¸¦å‚æ•° 2.3.2 Bodyåœ¨POSTè¯·æ±‚ä¸­ä¸€èˆ¬ä½¿ç”¨@Body()æ³¨è§£æ¥è·å–æ•°æ® @Post() save(@Body() { message }): string { return &#39;æ¥æ”¶åˆ°æ¶ˆæ¯:&#39; + message; } ä½¿ç”¨httpå·¥å…·å‘é€postè¯·æ±‚æ¥æµ‹è¯•ä¸€ä¸‹ 2.3.3 Headersä½¿ç”¨@Headers()æ³¨è§£æ¥è·å–requestHeaderä¸­çš„æ•°æ® @Get(&#39;hi&#39;) hi(@Query() { id }, @Headers() header): string { console.log(header); return this.helloService.getHi() + &#39;â€”â€”&#39; + id; } è¿˜å¯ä»¥è·å–æŸä¸€ç‰¹å®šçš„è¯·æ±‚å¤´ï¼Œæ¯”å¦‚è·å–è¯·æ±‚ä¸­çš„UA @Get(&#39;hi&#39;) hi(@Query() { id }, @Headers(&#39;user-agent&#39;) UA: string): string { console.log(UA); return this.helloService.getHi() + &#39;â€”â€”&#39; + id; } 2.3.4 Param@Param()ä¸€èˆ¬ç”¨åœ¨åŠ¨æ€è·¯ç”±ï¼Œå½¢å¦‚ï¼šhttp://localhost:3000/hello/id/123ï¼Œåé¢çš„123æ˜¯åŠ¨æ€çš„ï¼Œå¯ä»¥æ˜¯å…¶ä»–æ•°æ® @Get(&#39;id/:id&#39;) getId(@Param() { id }): string { return &#39;æ¥æ”¶åˆ°IDï¼š&#39; + id; } 2.4 é›†æˆswaggeræ–‡æ¡£swaggerAPIæ–‡æ¡£ è¿è¡Œå‘½ä»¤å®‰è£…swagger npm install @nestjs/swagger swagger-ui-express --save åœ¨main.tsä¸­è¿›è¡Œé…ç½® import { NestFactory } from &#39;@nestjs/core&#39;; import { SwaggerModule, DocumentBuilder } from &#39;@nestjs/swagger&#39;; import { AppModule } from &#39;./app.module&#39;; async function bootstrap() { const app = await NestFactory.create(AppModule); const options = new DocumentBuilder() .setTitle(&#39;Nest RESTful API&#39;) .setDescription(&#39;æ¥å£æ–‡æ¡£&#39;) .setVersion(&#39;1.0&#39;) .addBearerAuth() .build(); const document = SwaggerModule.createDocument(app, options); SwaggerModule.setup(&#39;doc&#39;, app, document); await app.listen(3000); } bootstrap(); ç„¶åå°±å¯ä»¥é€šè¿‡è®¾ç½®çš„è·¯å¾„å»è®¿é—®äº† å…·ä½“çš„ä½¿ç”¨æ–¹æ³•è§å®˜ç½‘æ–‡æ¡£ 3 æœåŠ¡3.1 åˆ›å»ºæœåŠ¡å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»ºæœåŠ¡ nest g service user è¿è¡Œå‘½ä»¤åï¼Œnestä¼šè‡ªåŠ¨åˆ›å»ºç›¸å…³æ–‡ä»¶ï¼Œå¹¶å¯ä»¥è‡ªåŠ¨æ³¨å†Œåœ¨moduleä¸­ ç”±åˆ›å»ºHelloServiceæœåŠ¡æ¥ç¤ºä¾‹ï¼Œé¦–å…ˆæ–°å»ºhello.service.tsæ–‡ä»¶ï¼Œç„¶åå°†å…¶å®šä¹‰ä¸ºproviderï¼Œä½¿ç”¨@Injectable()æ¥ä¿®é¥° import { Injectable } from &#39;@nestjs/common&#39;; @Injectable() export class HelloService { getHi(): string { return &#39;Hi&#39;; } } @Injectable({scope: Scope.REQUEST})é€‰æ‹©ä½œç”¨åŸŸ scopeåç§° è¯´æ˜ SINGLETON å•ä¾‹æ¨¡å¼ï¼Œæ•´ä¸ªåº”ç”¨å†…åªå­˜åœ¨ä¸€ä»½å®ä¾‹ REQUEST æ¯ä¸ªè¯·æ±‚åˆå§‹åŒ–ä¸€æ¬¡ TRANSIENT æ¯æ¬¡æ³¨å…¥éƒ½ä¼šå®ä¾‹åŒ– 3.2 ä¾èµ–æ³¨å…¥åœ¨Controllerçš„æ„é€ å‡½æ•°ä¸­é€šè¿‡constructor(private readonly helloService: HelloService) {}æ¥å°†Serviceæ³¨å…¥åˆ°Controllerä¸­ ä¹æ‰€æœ‰çš„ä¸œè¥¿éƒ½å¯ä»¥è¢«å½“ä½œæä¾›è€…(Provider),æ¯”å¦‚ï¼š service, repository, factory, helperï¼Œä»–ä»¬éƒ½å¯ä»¥é€šè¿‡constructor æ³¨å…¥ä¾èµ–å…³ç³» å¯é€‰çš„ä¾èµ–é¡¹ é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¾èµ–æ³¨å…¥çš„å¯¹è±¡ä¸å­˜åœ¨ä¼šæç¤ºé”™è¯¯ï¼Œä¸­æ–­åº”ç”¨è¿è¡Œï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨@Optional()æ¥æŒ‡æ˜é€‰æ‹©æ€§æ³¨å…¥ï¼Œä½†ä¾èµ–æ³¨å…¥çš„å¯¹è±¡ä¸å­˜åœ¨æ—¶ä¸ä¼šå‘ç”Ÿé”™è¯¯ã€‚ @Controller(&#39;users&#39;) export class UserController { constructor(@Optional() private readonly userService:UserService){} } åŸºäºå±æ€§çš„æ³¨å…¥ ç±»ä¼¼äºspringbootçš„serviceæ³¨å…¥ï¼Œä¸åœ¨æ„é€ å‡½æ•°ä¸­æ³¨å…¥ï¼Œè€Œæ˜¯ä½œä¸ºä¸€ä¸ªå±æ€§ @Controller(&#39;users&#39;) export class UserController { @Inject() private readonly userService:UserService; } 3.3 æ³¨å†Œproviderç¼–å†™å®Œçš„serviceéœ€è¦åœ¨moduleä¸­è¿›è¡Œæ³¨å†Œproviders: []ï¼Œå¦åˆ™æ— æ³•ç”Ÿæ•ˆ 3.4 å¯¼å‡ºå¦‚æœmoduleä¸­çš„éƒ¨åˆ†æ–‡ä»¶éœ€è¦è¢«å…¶ä»–æ–‡ä»¶ä¾èµ–ï¼Œä½¿ç”¨exports: []å¯¼å‡º 4 ä¸­é—´ä»¶ Nest ä¸­é—´ä»¶å®é™…ä¸Šç­‰ä»·äº express ä¸­é—´ä»¶ã€‚ ä¸­é—´ä»¶å‡½æ•°å¯ä»¥æ‰§è¡Œä»¥ä¸‹ä»»åŠ¡: æ‰§è¡Œä»»ä½•ä»£ç ã€‚ å¯¹è¯·æ±‚å’Œå“åº”å¯¹è±¡è¿›è¡Œæ›´æ”¹ã€‚ ç»“æŸè¯·æ±‚-å“åº”å‘¨æœŸã€‚ è°ƒç”¨å †æ ˆä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ã€‚ å¦‚æœå½“å‰çš„ä¸­é—´ä»¶å‡½æ•°æ²¡æœ‰ç»“æŸè¯·æ±‚-å“åº”å‘¨æœŸ, å®ƒå¿…é¡»è°ƒç”¨next()å°†æ§åˆ¶ä¼ é€’ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ã€‚å¦åˆ™, è¯·æ±‚å°†è¢«æŒ‚èµ·ã€‚ 4.1 è‡ªå®šä¹‰ä¸­é—´ä»¶ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰ä¸­é—´ä»¶ç”¨æ¥æ‰“å°æ¯ä¸ªè¯·æ±‚çš„æ–¹æ³• import { Injectable, NestMiddleware } from &#39;@nestjs/common&#39;; import { Request, Response } from &#39;express&#39;; @Injectable() export class LoggerMiddleware implements NestMiddleware { use(req: Request, res: Response, next: () =&gt; void) { console.log(req.method); next(); } } ç„¶ååœ¨app.module.tsä¸­æŒ‚è½½ä¸­é—´ä»¶ @Module({ imports: [HelloModule], controllers: [AppController], providers: [AppService], }) export class AppModule { configure(consumer: MiddlewareConsumer) { consumer .apply(LoggerMiddleware) // åº”ç”¨ä¸­é—´ä»¶ .exclude({ path: &#39;hello&#39;, method: RequestMethod.POST }) // å“ªäº›è·¯ç”±å’Œå“ªäº›æ–¹æ³•ä¸ç»è¿‡ä¸­é—´ä»¶ .forRoutes(&#39;hello&#39;); // ä¸­é—´ä»¶æœåŠ¡çš„è·¯ç”± } } 5 å¼‚å¸¸è¿‡æ»¤ å†…ç½®çš„å¼‚å¸¸å±‚è´Ÿè´£å¤„ç†æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰æŠ›å‡ºçš„å¼‚å¸¸ã€‚å½“æ•è·åˆ°æœªå¤„ç†çš„å¼‚å¸¸æ—¶ï¼Œæœ€ç»ˆç”¨æˆ·å°†æ”¶åˆ°å‹å¥½çš„å“åº”ã€‚ 5.1 ç¼–å†™è¿‡æ»¤å™¨éœ€è¦ç»§æ‰¿ExceptionFilterï¼Œè¿›å»çœ‹ä¸€ä¸‹æ¥å£çš„ç»“æ„ éœ€è¦å®ç°catchæ–¹æ³•ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šå¼‚å¸¸å’Œå‚æ•°ä¸»æœºï¼Œç„¶åæ¥ç¼–ç å®ç°è¿™ä¸ªæ¥å£ import { ArgumentsHost, Catch, ExceptionFilter, HttpException, } from &#39;@nestjs/common&#39;; @Catch(HttpException) export class HttpExceptionFilter implements ExceptionFilter&lt;HttpException&gt; { catch(exception: HttpException, host: ArgumentsHost) { const ctx = host.switchToHttp(); const response = ctx.getResponse(); const request = ctx.getRequest(); const status = exception.getStatus(); console.log(exception); const exceptionRes: any = exception.getResponse(); const { error, message } = exceptionRes; response.status(status).json({ status, timestamp: new Date().toISOString(), path: request.url, error, message, }); } } 5.2 æŒ‚è½½å…¨å±€ä½¿ç”¨ åœ¨main.tsä¸­é€šè¿‡ app.useGlobalFilters(new HttpExceptionFilter()); æ¥å…¨å±€æŒ‚è½½è¿‡æ»¤å™¨ å±€éƒ¨ä½¿ç”¨ åœ¨ä¸åŒæ¨¡å—çš„Controllerä¸­é€šè¿‡æ³¨è§£æ·»åŠ  @UseFilters(new HttpExceptionFilter()) @Controller(&#39;/hello&#39;) export class HelloController { constructor(private readonly helloService: HelloService) {} /** * ä¼ å…¥IDè·å–æ•°æ® * @param id ID * @param UA user-agent */ @Get(&#39;hi&#39;) @ApiQuery({ name: &#39;id&#39;, required: true }) @ApiResponse({ status: 200, description: &#39;get...&#39;, type: Hello, }) hi(@Query() { id }, @Headers(&#39;user-agent&#39;) UA): string { console.log(UA); if (!id) throw new HttpException( { status: HttpStatus.BAD_REQUEST, message: &#39;å‚æ•°å¿…å¡«&#39;, error: &#39;id is must&#39;, }, HttpStatus.BAD_REQUEST, ); return this.helloService.getHi() + &#39;â€”â€”&#39; + id; } } ç„¶åå†å»è®¿é—®è¿™ä¸ªè·¯ç”±ï¼Œå°±å¯ä»¥è·å¾—æ ¼å¼åŒ–çš„å¼‚å¸¸ 6 ç®¡é“6.1 å†…ç½®ç®¡é“é€šè¿‡è·¯ç”±è·å–å‚æ•°æ—¶ï¼Œè·å–åˆ°çš„å€¼éƒ½ä¼šæ˜¯stringç±»å‹ï¼Œå°±åƒä¸‹é¢ä»£ç ä¸­ @Get(&#39;id/:id&#39;) @ApiParam({ name: &#39;id&#39;, required: true }) getId(@Param(&#39;id&#39;) id: number): string { console.log(typeof id); return &#39;æ¥æ”¶åˆ°IDï¼š&#39; + id; } å³ä½¿å£°æ˜äº†idæ˜¯numberï¼Œé€šè¿‡typeofæ£€æµ‹ä»ç„¶æ‰“å°string è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨å†…ç½®ç®¡é“æ¥è§£å†³ï¼Œå°†ä»£ç åšå¦‚ä¸‹ä¿®æ”¹ @Get(&#39;id/:id&#39;) @ApiParam({ name: &#39;id&#39;, required: true }) getId(@Param(&#39;id&#39;, new ParseIntPipe()) id: number): string { console.log(typeof id); return &#39;æ¥æ”¶åˆ°IDï¼š&#39; + id; } å°±å¯ä»¥å°†è·¯ç”±ä¸­è·å–çš„å‚æ•°è½¬æ¢ä¸ºnumberç±»å‹ ç®¡é“ä¹Ÿå¯ä»¥å…¨å±€ä½¿ç”¨ï¼Œä¹Ÿæ˜¯åœ¨main.tsä¸­ä½¿ç”¨useGlobalPipe()æ¥æŒ‚è½½å…¨å±€ç®¡é“ 7 å®ˆå« å®ˆå«æ˜¯ä¸€ä¸ªä½¿ç”¨@Injectable()è£…é¥°å™¨çš„ç±»ã€‚ å®ˆå«åº”è¯¥å®ç°CanActivateæ¥å£ã€‚ 7.1 å®šä¹‰å®ˆå«ä½¿ç”¨æ³¨è§£ä¿®é¥°ç„¶åå®ç°æ¥å£æ–¹æ³• import { Injectable, CanActivate, ExecutionContext } from &#39;@nestjs/common&#39;; import { Reflector } from &#39;@nestjs/core&#39;; // åå°„å™¨ @Injectable() export class Guard implements CanActivate { constructor(private readonly reflector: Reflector) {} canActivate(context: ExecutionContext): boolean { // ä½¿ç”¨åå°„è·å–åˆ°è‡ªå®šä¹‰è£…é¥°å™¨rolesä¸­ä¼ å…¥çš„roles const roles = this.reflector.get&lt;string[]&gt;(&#39;roles&#39;, context.getHandler()); // å¦‚æœæ²¡æœ‰è·å–åˆ°rolesï¼Œè¯´æ˜ä¸éœ€è¦å®ˆå« if (!roles) { return true; } const request = context.switchToHttp().getRequest(); const { user } = request.query; return !!roles.find((role) =&gt; role === user); } } è‡ªå®šä¹‰è£…é¥°å™¨roles import { SetMetadata } from &#39;@nestjs/common&#39;; // å®ˆå«ä¸­é€šè¿‡åå°„è·å–è¿™é‡Œä¼ å…¥çš„å€¼ export const Roles = (...roles: string[]) =&gt; SetMetadata(&#39;roles&#39;, roles); 7.2 æŒ‚è½½å®ˆå«å±€éƒ¨æŒ‚è½½ ä½¿ç”¨æ³¨è§£@UseGuards()å¯¹æŸä¸€ControlleræŒ‚è½½å®ˆå«ï¼Œåœ¨éœ€è¦è¿›è¡Œå®ˆå«çš„æ–¹æ³•ä¸Šä½¿ç”¨è‡ªå®šä¹‰è£…é¥°å™¨ä¼ å…¥å¼€æ”¾æƒé™çš„è§’è‰² @UseFilters(new HttpExceptionFilter()) @UseGuards(RolesGuard) @Controller(&#39;/hello&#39;) export class HelloController { constructor(private readonly helloService: HelloService) {} /** * ä¼ å…¥IDè·å–æ•°æ® * @param id ID * @param UA user-agent */ @Get(&#39;hi&#39;) @ApiQuery({ name: &#39;id&#39;, required: true }) @ApiResponse({ status: 200, description: &#39;get...&#39;, type: Hello, }) @Roles(&#39;admin&#39;) hi(@Query() { id }, @Headers(&#39;user-agent&#39;) UA): string { console.log(UA); if (!id) throw new HttpException( { status: HttpStatus.BAD_REQUEST, message: &#39;å‚æ•°å¿…å¡«&#39;, error: &#39;id is must&#39;, }, HttpStatus.BAD_REQUEST, ); return this.helloService.getHi() + &#39;â€”â€”&#39; + id; } } æŒ‚åœ¨å®ˆå«ä¹‹ååªæœ‰userçš„å€¼ä¸ºadminæ—¶æ‰ä¼šè·å–åˆ°æ•°æ® æ­£å¸¸çš„ä¸šåŠ¡ä¸­ä¸å¯èƒ½ä½¿ç”¨æ˜æ–‡æ¥åˆ¤æ–­æƒé™ å…¨å±€æŒ‚è½½ app.useGlobalGuards(new RolesGuard()); 8 é…ç½®æ–‡ä»¶é›†ä¸­ç®¡ç†8.1 é‚®ä»¶æœåŠ¡çš„é…ç½®é›†ä¸­ç®¡ç† ä½¿ç”¨åˆ°çš„npmåŒ…ï¼š@nestjs-modules/mailer nodemailer ï¼ï¼ï¼æ³¨æ„æ˜¯@nestjs-modulesï¼Œ@nest-modulesä¼šæŠ¥é”™ å‡†å¤‡å·¥ä½œï¼šè·å–é‚®ç®±æˆæƒç ï¼ŒQQé‚®ç®±ç¤ºä¾‹ 8.1.1 ç¼–å†™é‚®ä»¶æœåŠ¡email.controller.ts @Controller(&#39;/email&#39;) @UseFilters(new HttpExceptionFilter()) export class EmailController { constructor(private readonly emailService: EmailService) {} @Get(&#39;send&#39;) @ApiTags(&#39;email&#39;) @ApiQuery({ name: &#39;email&#39;, required: true }) send(@Query(&#39;email&#39;) email: string): string { if (!email) { throw new HttpException( { status: HttpStatus.BAD_REQUEST, message: &#39;å‚æ•°å¿…å¡«&#39;, error: &#39;email is must&#39;, }, HttpStatus.BAD_REQUEST, ); } this.emailService.sendEmail(email); return &#39;ok&#39;; } } email.service.ts @Injectable() export class EmailService { constructor(private readonly mailerService: MailerService) {} sendEmail(email: string): void { this.mailerService.sendMail({ to: email, from: &#39;1984779164@qq.com&#39;, subject: &#39;email test&#39;, template: &#39;welcome&#39;, // html: &#39;&lt;h1&gt;Welcome&lt;/h1&gt;&#39;, }); } } è¿™é‡Œé¢çš„htmlæ˜¯ç›´æ¥å‘é€çš„ï¼Œtemplateéœ€è¦ç¼–è¯‘ï¼Œåœ¨æ‰“åŒ…ä¹‹åçš„distç›®å½•ä¸‹å¯èƒ½ä¼šæ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œéœ€è¦åœ¨nest-cli.jsonæ–‡ä»¶ä¸­æ·»åŠ é…ç½®é¡¹ { &quot;collection&quot;: &quot;@nestjs/schematics&quot;, &quot;sourceRoot&quot;: &quot;src&quot;, &quot;compilerOptions&quot;: { &quot;assets&quot;: [&quot;template/**/*&quot;] } } email.module.ts @Module({ imports: [], controllers: [EmailController], providers: [EmailService], }) export class EmailModule {} app.module.ts @Module({ imports: [ MailerModule.forRootAsync({ useFactory: () =&gt; ({ transport: &#39;smtps://1984779164@qq.com:XXXXX@smtp.qq.com&#39;, // XXXX-&gt;é‚®ç®±æˆæƒç  defaults: { from: &#39;&quot;nest-modules&quot; &lt;modules@nestjs.com&gt;&#39;, }, template: { dir: path.join(__dirname, &#39;./template/email&#39;), adapter: new PugAdapter(), options: { strict: true, }, }, }), }), HelloModule, EmailModule, ], controllers: [AppController], providers: [AppService], }) export class AppModule {} åœ¨swaggerä¸­æµ‹è¯• ç„¶åå°±å¯ä»¥æ”¶åˆ°é‚®ä»¶äº† 8.1.2 æå–é…ç½®é¡¹è™½ç„¶åŠŸèƒ½å®ç°äº†ï¼Œä½†æ˜¯é…ç½®ç›´æ¥æ”¾åœ¨ä»£ç ä¸­ä¸ä»…ä¼šæ˜¾å¾—ç‰¹åˆ«è‡ƒè‚¿ï¼ˆè¿˜æœ‰å…¶ä»–çš„é…ç½®å¦‚æ•°æ®åº“ç­‰ï¼‰ï¼Œè€Œä¸”ä¸æ˜“äºç®¡ç†ï¼Œé‚£ä¹ˆä¸‹é¢æˆ‘ä»¬å°±æ¥æå–é…ç½®é¡¹æ¥é›†ä¸­ç®¡ç† éœ€è¦ä½¿ç”¨çš„åŒ…ï¼šnestjs-config å®‰è£…å®ŒnpmåŒ…ä¹‹åï¼Œåœ¨app.module.tsåŒçº§ç›®å½•ä¸‹åˆ›å»ºconfigæ–‡ä»¶å¤¹ï¼Œä¸€å®šè¦åœ¨åŒçº§ç›®å½•ï¼Œç„¶åæ–°å»ºemail.tsæ–‡ä»¶ï¼Œå°†åˆšæ‰app.modules.tsä¸­çš„æœ‰å…³é‚®ä»¶çš„é…ç½®ä¿¡æ¯å¤åˆ¶è¿‡æ¥ export default { transport: &#39;smtps://1984779164@qq.com:qwwsvgcvmjuedhbj@smtp.qq.com&#39;, defaults: { from: &#39;&quot;nest-modules&quot; &lt;modules@nestjs.com&gt;&#39;, }, template: { dir: join(__dirname, &#39;../template/email&#39;), adapter: new PugAdapter(), options: { strict: true, }, }, }; å°†app.module.tsä¸­çš„é…ç½®åšå¦‚ä¸‹ä¿®æ”¹ @Module({ imports: [ ConfigModule.load(resolve(__dirname, &#39;config&#39;, &#39;**/!(*.d).{ts,js}&#39;)), MailerModule.forRootAsync({ useFactory: (config: ConfigService) =&gt; config.get(&#39;email&#39;), inject: [ConfigService], }), HelloModule, EmailModule, ], controllers: [AppController], providers: [AppService], }) export class AppModule {} å¯¼å…¥ConfigModuleæ¨¡å—ï¼Œç„¶åå‘MailerModuleä¸­æ³¨å…¥ConfigServiceï¼Œç„¶åä½¿ç”¨ä¼ å…¥çš„serviceæ¥è·å–é…ç½®æ–‡ä»¶ å¤§åŠŸå‘Šæˆï¼ï¼ï¼ 8.2 æ•°æ®åº“é…ç½®é›†ä¸­ç®¡ç†nestæä¾›äº†ormæ˜ å°„ ä½¿ç”¨åˆ°çš„åŒ…ï¼š @nestjs/typeorm typeorm mysql é¦–å…ˆéœ€è¦åœ¨app.module.tsä¸­æ³¨å†ŒTypeOrmModuleï¼Œå·²ç»æœ‰äº†ä¸Šé¢çš„ä¾‹å­ï¼Œè¿™æ¬¡æˆ‘ä»¬ç›´æ¥åˆ›å»ºé…ç½®æ–‡ä»¶database.ts export default { type: &#39;mysql&#39;, host: &#39;localhost&#39;, port: 3306, username: &#39;liuhao&#39;, password: &#39;123456&#39;, database: &#39;nest&#39;, entities: [join(__dirname, &#39;../&#39;, &#39;**/**.entity{.ts,.js}&#39;)], synchronize: true, }; ç„¶ååœ¨app.module.tsä¸­æ·»åŠ é…ç½® TypeOrmModule.forRootAsync({ useFactory: (config: ConfigService) =&gt; config.get(&#39;database&#39;), inject: [ConfigService], }), ç„¶åç¼–å†™controller @Controller(&#39;users&#39;) @ApiTags(&#39;users&#39;) export class UsersController { constructor(private readonly usersService: UsersService) {} @Get(&#39;all&#39;) getAll() { return this.usersService.findAll(); } @Post(&#39;save&#39;) async createOne(@Body() user: User) { await this.usersService.create(user); return true; } } è¿˜æœ‰service @Injectable() export class UsersService { constructor( @InjectRepository(UsersEntity) private readonly usersRepository: Repository&lt;UsersEntity&gt;, private connection: Connection, ) { /** * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ· */ async findAll(): Promise&lt;UsersEntity[]&gt; { return await this.usersRepository.find(); } /** * åˆ›å»ºç”¨æˆ· * @param user ç”¨æˆ·å®ä½“ */ async create(user): Promise&lt;UsersEntity[]&gt; { const { username } = user; const u = await getRepository(UsersEntity).findOne({ where: { username } }); if (u) { throw new HttpException( { message: &#39;Input data validation faild&#39;, error: &#39;name must unique&#39;, }, HttpStatus.BAD_REQUEST, ); } return await this.usersRepository.save(user); } } userçš„å®ä½“ä¹Ÿéœ€è¦æˆ‘ä»¬æ¥é…ç½®ï¼Œç”¨å®ä½“æ¥å¯¹åº”æ•°æ®åº“çš„è¡¨ç»“æ„â€”â€”TypeORMæ–‡æ¡£ @Entity() export class UsersEntity { @PrimaryGeneratedColumn() id: number; @Column({ length: 255 }) username: string; @Column({ length: 255 }) password: string; } æœ€åä¸€æ­¥æˆ‘ä»¬éœ€è¦åœ¨moduleä¸­æ³¨å…¥serviceå’Œentity @Module({ imports: [TypeOrmModule.forFeature([UsersEntity])], providers: [UsersService], exports: [UsersService], controllers: [UsersController], }) export class UsersModule {} ç„¶åå°±å¯ä»¥åœ¨swaggerä¸­æµ‹è¯•æˆ‘ä»¬çš„ä»£ç  ç„¶ååœ¨æ•°æ®åº“å¯è§†åŒ–ç•Œé¢çœ‹ä¸€ä¸‹ ä¸€ä¸ªç®€å•çš„æ•°æ®åº“æ“ä½œå°±å®Œæˆäº† 9 ç®€æ˜“æœåŠ¡ç›‘æ§ ä½¿ç”¨åˆ°çš„npmåŒ…ï¼šnest-status-monitor @nestjs/platform-socket.io å®‰è£…å®Œä¹‹ååœ¨configç›®å½•ä¸‹åˆ›å»ºstatus.tsæ–‡ä»¶ export default { pageTitle: &#39;Nest.js Monitoring Page&#39;, port: 3000, path: &#39;/status&#39;, ignoreStartsWith: &#39;/health/alive&#39;, spans: [ { interval: 1, // Every second retention: 60, // Keep 60 datapoints in memory }, { interval: 5, // Every 5 seconds retention: 60, }, { interval: 15, // Every 15 seconds retention: 60, }, ], chartVisibility: { cpu: true, mem: true, load: true, responseTime: true, rps: true, statusCodes: true, }, healthChecks: [], }; åœ¨app.module.tsä¸­å¼•å…¥é…ç½®æ–‡ä»¶ï¼Œç”±äºè¯¥åŒ…æœªå®ç°æ³¨å…¥ï¼Œæ‰€ä»¥ç›´æ¥æ·»åŠ å°±è¡Œäº† StatusMonitorModule.setUp(statusMonitorConfig), StatusMonitorModuleæ˜¯ä»åŒ…ä¸­å¯¼å…¥çš„æ–¹æ³•ï¼ŒstatusMonitorConfigæ˜¯æˆ‘ä»¬å†™çš„é…ç½®æ–‡ä»¶ 10 JWTï¼ˆjson web tokenï¼‰ ç”¨åˆ°çš„åŒ…ï¼š@nestjs/passport passport passport-local @nestjs/jwt passport-jwt æœ¬ç¤ºä¾‹ä»…æ˜¯æ¨¡ä»¿ç™»å½•ï¼ŒçœŸæ­£çš„ç™»å½•ä¸šåŠ¡éœ€è¦é…åˆæ•°æ®åº“ å…ˆçœ‹ä¸€ä¸‹è¦ç”¨åˆ°çš„æ–‡ä»¶ ä»£ç å°±ä¸åœ¨è¿™è´´å‡ºæ¥äº†ï¼Œä¸»è¦è¯´ä¸€ä¸‹é€»è¾‘ é¦–å…ˆä»controllerå¼€å§‹çœ‹ controllerä¸­æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯ç™»å½•ï¼Œå¦ä¸€ä¸ªæ˜¯ç™»é™†ä¹‹åè·å–ä¿¡æ¯ï¼Œä¸¤ä¸ªæ–¹æ³•ç”¨åˆ°äº†ä¸¤ä¸ªä¸åŒçš„å®ˆå«ï¼ˆç­–ç•¥æ¨¡å¼ï¼‰ï¼Œä¸€ä¸ªæ˜¯æœªç™»å½•æ—¶è·å–tokenï¼Œå¦ä¸€ä¸ªæ˜¯ç™»é™†ä¹‹åé€šè¿‡tokenè·å–æ•°æ® è¿™ä¸¤ä¸ªç­–ç•¥ä¸­ï¼ˆå·¦è¾¹æ˜¯localï¼Œå³è¾¹æ˜¯jwtï¼‰ 1.localç­–ç•¥åšçš„äº‹æ˜¯è·å–åˆ°ç”¨æˆ·åå¯†ç ï¼Œé€šè¿‡æ³¨å…¥çš„authServiceä¸­çš„éªŒè¯æ–¹æ³•æ¥éªŒè¯ç”¨æˆ·åæ˜¯å¦å­˜åœ¨å’Œç”¨æˆ·åå¯†ç æ˜¯å¦åŒ¹é…ï¼ŒéªŒè¯é€šè¿‡åè¿”å›userå®ä½“ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸ï¼› authService controllerä¸­å†ä½¿ç”¨è·å–åˆ°çš„userå®ä½“è°ƒç”¨authServiceä¸­çš„loginæ–¹æ³•æ³¨å†Œä¸€ä¸ªtokenç„¶åè¿”å› åœ¨auth.module.tsä¸­è¿›è¡Œæ³¨å†Œtokençš„é…ç½® 2.jwtç­–ç•¥åšçš„äº‹æ˜¯ä»requestçš„headerä¸­è·å–tokenå€¼ï¼Œç„¶åæ£€éªŒtokençš„åˆæ³•æ€§ï¼Œå†ä»tokenä¸­è§£æä¿¡æ¯è¿”å›","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"node","slug":"node","permalink":"https://easyremember.cn/tags/node/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"JavaScriptä¸­çš„æ•°ç»„éå†æ–¹æ³•","slug":"æŠ€æœ¯/JavaScriptä¸­çš„æ•°ç»„éå†æ–¹æ³•","date":"2020-11-23T00:08:47.874Z","updated":"2020-11-23T00:10:09.402Z","comments":true,"path":"2020/11/23/æŠ€æœ¯/JavaScriptä¸­çš„æ•°ç»„éå†æ–¹æ³•/","link":"","permalink":"https://easyremember.cn/2020/11/23/æŠ€æœ¯/JavaScriptä¸­çš„æ•°ç»„éå†æ–¹æ³•/","excerpt":"","text":"forEachå¯¹æ•°ç»„å…ƒç´ è¿›è¡ŒæŒ‡å®šæ“ä½œï¼Œä¸æ”¹å˜æ•°ç»„ const arr = [1, 2, 3, 5, 4] arr.forEach((item) =&gt; { console.log(item+1); }) mapè¿”å›æ“ä½œåçš„æ–°æ•°ç»„ï¼ˆä¸ä¼šæ”¹å˜åŸæ•°ç»„ï¼‰ const arr = [1, 2, 3, 5, 4] const arr2 = arr.map((item) =&gt; { return item * 2 }) console.log(arr2); sortæ ¹æ®æŒ‡å®šè§„åˆ™è¿›è¡Œæ•°ç»„é¡¹çš„æ’åºï¼ˆä¼šæ”¹å˜åŸæ•°ç»„ï¼‰ const arr = [1, 2, 3, 5, 4] arr.sort((a, b) =&gt; { return a - b }) console.log(arr); reduceå½’å¹¶ï¼Œå°†æ•°ç»„çš„æ‰€æœ‰å…ƒç´ æŒ‰ç…§æŒ‡å®šè§„åˆ™è®¡ç®—å‡ºä¸€ä¸ªå€¼ const arr = [1, 2, 3, 5, 4] const sum = arr.reduce((a, b) =&gt; { return a + b }) console.log(sum); ç¬¬ä¸€æ¬¡éå†æ—¶aæ˜¯æ•°ç»„çš„ç¬¬ä¸€é¡¹ï¼Œbæ˜¯æ•°ç»„ç¬¬äºŒé¡¹ï¼Œç¬¬äºŒæ¬¡éå†å¼€å§‹ï¼Œaå°±å˜æˆäº†ä¸Šä¸€æ¬¡éå†çš„è¿”å›å€¼ everyæµ‹è¯•æ‰€æœ‰çš„æ•°ç»„å…ƒç´ æ˜¯å¦å¯ä»¥é€šè¿‡æŒ‡å®šçš„æµ‹è¯• const arr = [1, 2, 3, 5, 4] const isNotZero = arr.every((item) =&gt; { return item !== 0 }) console.log(isNotZero); filterä»æ•°ç»„ä¸­è¿‡æ»¤å‡ºç¬¦åˆè¦æ±‚çš„æ•°ç»„é¡¹ const arr = [1, 2, 3, 5, 4] const bigThanThree = arr.filter((item) =&gt; { return item &gt; 3 }) console.log(bigThanThree);","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"è®°ä¸€æ¬¡æ–‡ä»¶ä¸Šä¼ çš„æ›²æŠ˜å†å²","slug":"æŠ€æœ¯/è®°ä¸€æ¬¡æ–‡ä»¶ä¸Šä¼ ","date":"2020-11-08T02:25:12.454Z","updated":"2020-11-08T02:28:00.840Z","comments":true,"path":"2020/11/08/æŠ€æœ¯/è®°ä¸€æ¬¡æ–‡ä»¶ä¸Šä¼ /","link":"","permalink":"https://easyremember.cn/2020/11/08/æŠ€æœ¯/è®°ä¸€æ¬¡æ–‡ä»¶ä¸Šä¼ /","excerpt":"","text":"è®°ä¸€æ¬¡æ–‡ä»¶ä¸Šä¼ çš„æ›²æŠ˜å†å²å·¥å…· Vue element-UI spark-md5 axios éœ€æ±‚ä¸Šä¼ pdfæ–‡ä»¶ï¼Œä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œå¯¹æ–‡ä»¶è¿›è¡Œåˆ‡ç‰‡å¤„ç†ï¼Œå¯¹ä¸Šä¼ è¿›åº¦è¿›è¡Œç›‘æ§ï¼ˆè¿™é‡ŒæŒºæœ‰è¶£ï¼‰ å®ç°è¿‡ç¨‹1 æ–‡ä»¶åˆ‡ç‰‡æ€è·¯ï¼šä½¿ç”¨äº†File.slice()å¯¹æ–‡ä»¶è¿›è¡Œåˆ‡ç‰‡å¤„ç†ï¼Œå°†æ¯ä¸€ä»½åˆ‡ç‰‡æ”¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œç„¶åä½¿ç”¨Array.map()æ–¹æ³•é…åˆaxioså°†æ¯ä¸€æ®µåˆ‡ç‰‡ä¸Šä¼ è‡³æœåŠ¡å™¨ HTMLä¸»ä½“ï¼ˆpugï¼‰ el-upload( ref=&quot;resource&quot;, drag :file-list=&quot;resourcefileList&quot;, :before-upload=&quot;resourceBeforeUpload&quot;, accept=&quot;.pdf&quot;, :limit=&quot;1&quot;, action=&quot;&quot;, :http-request=&quot;customUpload&quot;, :on-remove=&quot;removeList&quot; ) i.el-icon-upload .el-upload__text å°†æ–‡ä»¶æ‹–åˆ°æ­¤å¤„ï¼Œæˆ– em ç‚¹å‡»ä¸Šä¼  ä½¿ç”¨element-uiçš„uploadç»„ä»¶ï¼Œä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶ http-requestï¼Œåœ¨customUploadä¸­å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œ customUpload(content) { // è¦†ç›–é»˜è®¤ä¸Šä¼ äº‹ä»¶ let file = content.file if (!file) return // å°†åˆ‡ç‰‡å›ºå®šæˆ10åˆ†ï¼Œä¹Ÿå¯ä»¥å›ºå®šå¤§å°ä¸Šä¼  let axiosArray = [] let chunkList = [] let chunkSize = file.size / 10 let current = 0 let fileName = this.formData.identity + &#39;.pdf&#39; while (current &lt; 10) { chunkList.push({ chunk: file.slice(current * chunkSize, (current + 1) * chunkSize), fileName: current + &quot;-&quot; + fileName }) current++ } // åˆå§‹åŒ–æ•°æ® this.percentage = [0,0,0,0,0,0,0,0,0,0] this.uploadOver = false this.progressVisable = true // åˆ‡ç‰‡å¹¶å‘ä¼ ç»™åç«¯ï¼Œè¦æ³¨æ„åˆ‡ç‰‡ä¸Šä¼ æ—¶è¯·æ±‚å¤´æ˜¯ multipart/form-data åˆå¹¶åˆ‡ç‰‡æ—¶è¯·æ±‚å¤´æ˜¯x-www-form-urlencodedï¼Œåªèƒ½ä¸Šä¼ é”®å€¼å¯¹ chunkList.map((item) =&gt; { const index = parseInt(item.fileName.split(&#39;-&#39;)[0]) let form = new FormData() form.append(&quot;file&quot;, item.chunk, item.fileName) form.append(&quot;fileName&quot;, this.formData.identity) axiosArray.push( this.$http.post(&quot;/upload/part&quot;, form, { headers: { &quot;Content-Type&quot;: &quot;multipart/form-data&quot; }, }).then(res=&gt; { res // this.percentage += 10 }) ) }) // æ‰€æœ‰åˆ‡ç‰‡ä¸Šä¼ æˆåŠŸååˆå¹¶ Promise.all(axiosArray).then(res =&gt; { res this.$http.get(`/upload/merge?fileName=${this.formData.identity}`).then(res =&gt; { if(res) { // console.log(res); // this.progressVisable = false this.formData.resource = res.data.obj this.uploadOver = true this.overContent = &#39;ä¸Šä¼ æˆåŠŸï¼Œæ„Ÿè°¢æ”¯æŒ&#39; } }).catch(err =&gt; { err this.uploadOver = true this.overContent = &#39;ä¼ è¾“å¤±è´¥ï¼Œè¯·é‡è¯•&#39; }) }) }, è¿™æ®µä»£ç åº”è¯¥å¾ˆæ¸…æ¥šæ˜ç™½äº†ï¼Œä»£ç ä¸­çš„identityæ˜¯æ–‡ä»¶çš„MD5å€¼ï¼Œåˆ©ç”¨spark-md5è®¡ç®—ï¼Œç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢é‡å¤æ–‡ä»¶çš„ä¸Šä¼ ï¼Œè®¡ç®—æ–¹æ³•å¦‚ä¸‹ computeMd5(file) { // è®¡ç®—æ–‡ä»¶MD5 const fread = new FileReader() const spark = new SparkMD5.ArrayBuffer() return new Promise((resolve, reject) =&gt; { if(!file) { reject(&#39;no file&#39;) } fread.readAsArrayBuffer(file) fread.onload = (e) =&gt; { spark.append(e.target.result) const md5 = spark.end() resolve(md5) } }) }, è¿™é‡Œæœ‰ä¸€ä¸ªå°æ’æ›²ï¼Œfread.onloadæ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œæ‰€ä»¥åœ¨è®¡ç®—md5å€¼çš„æ—¶å€™ä¼šå‡ºç°nullçš„æƒ…å†µï¼Œè¿™é‡Œè¿”å›ä¸€ä¸ªPromiseï¼Œé…åˆè°ƒç”¨æ—¶çš„async/awaitå®ç°åŒæ­¥æ“ä½œ 2 è¿›åº¦æ¡å®ç°åŸå§‹æ€è·¯ï¼šä¸€å…±åˆ†äº†10ç‰‡ï¼Œæ¯ä¸€ç‰‡ä¸Šä¼ æˆåŠŸåå°†è¿›åº¦+10ï¼Œæ‰€æœ‰æ–‡ä»¶ä¸Šä¼ å®Œæˆä¹‹åå°±æ˜¯100%äº†ï¼ˆä½ å¯èƒ½ä¸€çœ¼çœ‹å‡ºäº†è¿™é‡Œé¢çš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘è¯´çš„åŸæ˜¯æ€è·¯ï¼‰ é—®é¢˜åˆ†æï¼šç”±äºhttpè¯·æ±‚æ˜¯å¹¶è¡Œçš„ï¼Œæ‰€ä»¥ï¼Œçœ‹å›¾ ä¸Šä¸€ç§’æ‰€æœ‰çš„éƒ½æ²¡å®Œæˆï¼Œè¿›åº¦ä¸€ç›´å¡åœ¨0%ï¼Œä¸‹ä¸€ç§’æ‰€æœ‰çš„è¯·æ±‚åŒæ—¶å®Œæˆï¼Œç¬é—´è¿›åº¦100%ï¼Œè¿›åº¦æ¡ä¿¨ç„¶æˆäº†æ‘†è®¾ æ–°æ€è·¯ï¼šåˆ©ç”¨axiosçš„onUploadProgressæ–¹æ³•ï¼Œåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º10çš„è¿›åº¦æ•°ç»„ï¼Œç„¶åæ›´æ”¹å¯¹åº”çš„è¿›åº¦æ•°æ®ï¼Œåˆ©ç”¨computedè®¡ç®—å±æ€§è¿”å›10ä¸ªåˆ†ç‰‡è¿›åº¦çš„å’Œ ä»£ç å®ç°ï¼š chunkList.map((item) =&gt; { const index = parseInt(item.fileName.split(&#39;-&#39;)[0]) let form = new FormData() form.append(&quot;file&quot;, item.chunk, item.fileName) form.append(&quot;fileName&quot;, this.formData.identity) axiosArray.push( this.$http.post(&quot;/upload/part&quot;, form, { headers: { &quot;Content-Type&quot;: &quot;multipart/form-data&quot; }, onUploadProgress: (e) =&gt; { this.$set(this.percentage, index , e.loaded / e.total * 10 | 0) } }) ) }) è¿™é‡Œæ³¨æ„ï¼Œcomputedå¹¶ä¸èƒ½ç›´æ¥ç›‘å¬æ•°ç»„çš„å“åº”å¼ï¼Œéœ€è¦ä½¿ç”¨$setè¿™ä¸ªAPIæ¥è®¾ç½®å…ƒç´ çš„å€¼ï¼Œå‚æ•°æ˜¯ï¼ˆæ•°ç»„ï¼Œä¸‹æ ‡ï¼Œæ–°çš„å€¼ï¼‰ ä¸Šé¢è®¡ç®—çš„MD5å€¼å‡ºäº†ç”¨äºé‰´åˆ«é‡å¤æ–‡ä»¶è¿˜å¯ä»¥ç”¨æ¥å®ç°ç§’ä¼ åŠŸèƒ½ï¼Œä¸¤ä¸ªæ–‡ä»¶çš„MD5ç›¸åŒé‚£å°±è¡¨ç¤ºæ˜¯åŒä¸€ä¸ªæ–‡ä»¶ï¼Œç›´æ¥å‘Šè¯‰ç”¨æˆ·ä¸Šä¼ å®Œæˆï¼Œå…¶å®å°±æ˜¯â€œæ¬ºéª—ç”¨æˆ·â€","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"uni-appå­¦ä¹ ç¬”è®°ï¼ˆå…¥é—¨ï¼‰","slug":"ç¬”è®°/uni-appå­¦ä¹ ç¬”è®°","date":"2020-11-06T08:42:39.312Z","updated":"2020-11-23T00:27:59.626Z","comments":true,"path":"2020/11/06/ç¬”è®°/uni-appå­¦ä¹ ç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/11/06/ç¬”è®°/uni-appå­¦ä¹ ç¬”è®°/","excerpt":"","text":"1 uni-appuni-app æ˜¯ä¸€ä¸ªä½¿ç”¨ Vue.js å¼€å‘æ‰€æœ‰å‰ç«¯åº”ç”¨çš„æ¡†æ¶ï¼Œå¼€å‘è€…ç¼–å†™ä¸€å¥—ä»£ç ï¼Œå¯å‘å¸ƒåˆ°iOSã€Androidã€Webï¼ˆå“åº”å¼ï¼‰ã€ä»¥åŠå„ç§å°ç¨‹åºï¼ˆå¾®ä¿¡/æ”¯ä»˜å®/ç™¾åº¦/å¤´æ¡/QQ/é’‰é’‰/æ·˜å®ï¼‰ã€å¿«åº”ç”¨ç­‰å¤šä¸ªå¹³å°ã€‚ 1.1 åˆ›å»ºé¡¹ç›®å®‰è£…HBuildX IDEï¼Œæ–‡ä»¶-&gt;æ–°å»º-&gt;é¡¹ç›®ï¼Œç„¶åé€‰æ‹©uni-appé¡¹ç›®å³å¯ è¦æ‰“åŒ…å°ç¨‹åºæˆ–APPç­‰éœ€è¦å®‰è£…ç›¸åº”çš„å¼€å‘è€…å·¥å…·ï¼Œä¸å¤šä»‹ç»ï¼Œç™¾åº¦å³å¯ 1.2 é¡¹ç›®ç›®å½• 1.3 pages.jsonpageså­—æ®µä¸‹é…ç½®é¡µé¢ï¼Œç¬¬ä¸€é¡¹ä¸ºå¯åŠ¨é¡µ pathï¼šé¡µé¢æ–‡ä»¶è·¯å¾„ styleï¼šé…ç½®é¡µé¢çª—å£è¡¨ç° globalStyleé…ç½®å…¨å±€æ ‡é¢˜æ ·å¼ï¼ˆpageä¸­çš„æ ·å¼ä¼˜å…ˆäºå…¨å±€ï¼‰ å‚è€ƒå®˜ç½‘ä»‹ç» tabBaræŒ‡å®š tab æ çš„è¡¨ç° listï¼šæ•°ç»„ï¼Œtab çš„åˆ—è¡¨ï¼Œè¯¦è§ list å±æ€§è¯´æ˜ï¼Œæœ€å°‘2ä¸ªã€æœ€å¤š5ä¸ª tab æ ·å¼ç­‰è®¾ç½®è§æ–‡æ¡£ conditionç›´è¾¾æ¨¡å¼ï¼ˆä»…ç”¨äºå¼€å‘æ¨¡å¼ï¼‰ ç›¸å½“äºå¾®ä¿¡å¼€å‘å·¥å…·ä¸­çš„è‡ªå®šä¹‰ç¼–è¯‘æ¨¡å¼ 1.4 uni-appç”Ÿå‘½å‘¨æœŸåº”ç”¨ç”Ÿå‘½å‘¨æœŸ åº”ç”¨ç”Ÿå‘½å‘¨æœŸä»…å¯åœ¨App.vueä¸­ç›‘å¬ï¼Œåœ¨å…¶å®ƒé¡µé¢ç›‘å¬æ— æ•ˆã€‚ é¡µé¢ç”Ÿå‘½å‘¨æœŸ 2 æ¨¡æ¿è¯­æ³•Vueçš„è¯­æ³•ï¼Œåœ¨æ­¤ä¸èµ˜è¿° 3 uni-appç»„ä»¶3.1 åŸºç¡€ç»„ä»¶viewï¼šç›¸å½“äºHTMLä¸­çš„div scroll-viewï¼šæ— é™æ»šåŠ¨ç»„ä»¶ swiperï¼šæ»‘å—è§†å›¾å®¹å™¨ï¼Œæ¯”å¦‚è½®æ’­å›¾ 3.2 è¡¨å•ç»„ä»¶å®˜ç½‘æ–‡æ¡£ï¼Œè¡¨å•ç»„ä»¶ 3.3 å¯¼èˆªä¸ä¼ å‚navigatorï¼Œè¿›è¡Œé¡µé¢è·³è½¬ å±æ€§å ç±»å‹ é»˜è®¤å€¼ è¯´æ˜ url String åº”ç”¨å†…çš„è·³è½¬é“¾æ¥ï¼Œå€¼ä¸ºç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ï¼Œå¦‚ï¼šâ€../first/firstâ€ï¼Œâ€/pages/first/firstâ€ï¼Œæ³¨æ„ä¸èƒ½åŠ  .vue åç¼€ open-type String navigate è·³è½¬æ–¹å¼ delta Number å½“ open-type ä¸º â€˜navigateBackâ€™ æ—¶æœ‰æ•ˆï¼Œè¡¨ç¤ºå›é€€çš„å±‚æ•° animation-type String pop-in/out å½“ open-type ä¸º navigateã€navigateBack æ—¶æœ‰æ•ˆï¼Œçª—å£çš„æ˜¾ç¤º/å…³é—­åŠ¨ç”»æ•ˆæœï¼Œè¯¦è§ï¼šçª—å£åŠ¨ç”» animation-duration Number 300 å½“ open-type ä¸º navigateã€navigateBack æ—¶æœ‰æ•ˆï¼Œçª—å£æ˜¾ç¤º/å…³é—­åŠ¨ç”»çš„æŒç»­æ—¶é—´ã€‚ hover-class String navigator-hover æŒ‡å®šç‚¹å‡»æ—¶çš„æ ·å¼ç±»ï¼Œå½“hover-class=â€noneâ€æ—¶ï¼Œæ²¡æœ‰ç‚¹å‡»æ€æ•ˆæœ hover-stop-propagation Boolean false æŒ‡å®šæ˜¯å¦é˜»æ­¢æœ¬èŠ‚ç‚¹çš„ç¥–å…ˆèŠ‚ç‚¹å‡ºç°ç‚¹å‡»æ€ hover-start-time Number 50 æŒ‰ä½åå¤šä¹…å‡ºç°ç‚¹å‡»æ€ï¼Œå•ä½æ¯«ç§’ hover-stay-time Number 600 æ‰‹æŒ‡æ¾å¼€åç‚¹å‡»æ€ä¿ç•™æ—¶é—´ï¼Œå•ä½æ¯«ç§’ target String self åœ¨å“ªä¸ªå°ç¨‹åºç›®æ ‡ä¸Šå‘ç”Ÿè·³è½¬ï¼Œé»˜è®¤å½“å‰å°ç¨‹åºï¼Œå€¼åŸŸself/miniProgram open-typeï¼š navigateï¼šä¿ç•™å½“å‰é¡µé¢ï¼Œè·³è½¬é¡µé¢ redirectï¼šå…³é—­å½“å‰é¡µé¢ï¼Œè·³è½¬é¡µé¢ switchTabï¼šè·³è½¬åˆ°tabBaré¡µé¢ reLaunchï¼šå…³é—­æ‰€æœ‰é¡µé¢ï¼Œæ‰“å¼€ç›®æ ‡ navigateBackï¼šè¿”å›ä¸Šå±‚ exitï¼šé€€å‡ºå°ç¨‹åºï¼Œtarget=â€miniProgramâ€æ—¶ç”Ÿæ•ˆ ä¼ å‚é€šè¿‡urlä¸­çš„request.queryæ–¹æ³•ä¼ é€’å‚æ•°ï¼ˆswitchTabæ— æ³•ä½¿ç”¨ï¼‰ 4 API4.1 ç½‘ç»œuni.request()ï¼Œå‘é€httpè¯·æ±‚ï¼Œæ¥æ”¶ä¸€ä¸ªå¯¹è±¡å‚æ•°ï¼ŒåŒ…æ‹¬urlï¼Œè¯·æ±‚æ–¹å¼ï¼Œå‘é€çš„æ•°æ®ï¼ŒæˆåŠŸçš„å“åº”ç­‰ ç¤ºä¾‹ uni.request({ url: &#39;https://www.example.com/request&#39;, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®æ¥å£åœ°å€ã€‚ data: { text: &#39;uni.request&#39; }, header: { &#39;custom-header&#39;: &#39;hello&#39; //è‡ªå®šä¹‰è¯·æ±‚å¤´ä¿¡æ¯ }, success: (res) =&gt; { console.log(res.data); this.text = &#39;request success&#39;; } }); 4.2 é¡µé¢è·³è½¬ä¸è·¯ç”±ä¸navigatorç»„ä»¶ä¸­çš„æ¯ä¸ªmodeåŠŸèƒ½å¯¹åº”ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å®ç°è·¯ç”±è·³è½¬ï¼ˆä½¿ç”¨navigatorç»„ä»¶å’Œè§¦å‘äº‹ä»¶ï¼‰ uni.navigateTo uni.redirectTo uni.reLaunch uni.switchTab uni.navigateBack uni.preloadPage 4.3 æ•°æ®ç¼“å­˜å¸¦æœ‰syncçš„æ˜¯åŒæ­¥æ¥å£ï¼Œæ¥æ”¶é”®å€¼å¯¹ï¼›å¼‚æ­¥æ¥å£æ¥æ”¶çš„æ˜¯Objectï¼Œé™¤äº†é”®å€¼ä¹‹å¤–è¿˜åŒ…æ‹¬æˆåŠŸçš„å›è°ƒå‡½æ•°ï¼Œå¤±è´¥çš„å›è°ƒå‡½æ•°ï¼Œè°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•° uni.setStorageï¼ˆè®¾ç½®ç¼“å­˜ï¼‰ uni.setStorageSync uni.getStorageï¼ˆè¯»å–ç¼“å­˜ï¼‰ uni.getStorageSync uni.getStorageInfoï¼ˆè·å–æ‰€æœ‰çš„ç¼“å­˜ï¼‰ uni.getStorageInfoSync uni.removeStorageï¼ˆç§»é™¤æŸä¸ªç¼“å­˜ï¼‰ uni.removeStorageSync uni.clearStorageï¼ˆæ¸…é™¤æ‰€æœ‰ç¼“å­˜ï¼‰ uni.clearStorageSync 4.4 åª’ä½“ç›¸å…³å›¾ç‰‡å±æ€§è¯´æ˜ ç¤ºä¾‹ä»£ç  readImage() { uni.chooseImage({ success(res) { uni.getImageInfo({ src: res.tempFilePaths[0], success(img) { console.log(img.width, img.height); } }) } }) } ä»£ç ä¸­ä½¿ç”¨äº†ä¸¤ä¸ªapiç»„åˆï¼Œé€‰æ‹©å›¾ç‰‡å’Œè·å–å›¾ç‰‡ä¿¡æ¯ï¼Œé€‰æ‹©å›¾ç‰‡æˆåŠŸè¿”å›çš„ç»“æœæ˜¯ä¸¤ä¸ªæ•°ç»„ï¼Œæœ¬åœ°æ–‡ä»¶è·¯å¾„åˆ—è¡¨å’Œæœ¬åœ°æ–‡ä»¶åˆ—è¡¨ï¼Œæ¯ä¸€é¡¹æ˜¯ä¸€ä¸ªFile ç‚¹å‡»é€‰æ‹©å›¾ç‰‡ï¼Œé€‰ä¸­å›¾ç‰‡ç‚¹å‡»ç¡®è®¤ ç„¶åå°±å¯ä»¥çœ‹åˆ°å®½é«˜ä¿¡æ¯","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºè¯„è®ºæ¡†ç‚¹å‡»å…¶ä»–éƒ¨ä½éšè—","slug":"éšæƒ³/ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºè¯„è®ºæ¡†ç‚¹å‡»å…¶ä»–éƒ¨ä½éšè—","date":"2020-10-19T03:52:21.818Z","updated":"2020-10-19T03:53:29.368Z","comments":true,"path":"2020/10/19/éšæƒ³/ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºè¯„è®ºæ¡†ç‚¹å‡»å…¶ä»–éƒ¨ä½éšè—/","link":"","permalink":"https://easyremember.cn/2020/10/19/éšæƒ³/ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºè¯„è®ºæ¡†ç‚¹å‡»å…¶ä»–éƒ¨ä½éšè—/","excerpt":"","text":"ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºè¯„è®ºæ¡†ç‚¹å‡»å…¶ä»–éƒ¨ä½éšè—1. ä½¿ç”¨çº¯ç‚¹å‡»äº‹ä»¶ï¼ˆé€‚åˆå¤šä¸ªè¾“å…¥æ¡†ï¼‰ç‚¹å‡»æŒ‰é’®è§¦å‘æ˜¾ç¤ºäº‹ä»¶ï¼Œä¿®æ”¹è¾“å…¥æ¡†çš„çŠ¶æ€ä¸ºæ˜¾ç¤ºï¼›åœ¨æœ€å¤–å±‚divæ·»åŠ å…³é—­äº‹ä»¶ï¼Œç‚¹å‡»å…¶ä»–éƒ¨ä½è§¦å‘å…³é—­äº‹ä»¶ï¼ˆéœ€è¦ä½¿ç”¨é˜»æ­¢å†’æ³¡æ¥ä¸­æ–­ï¼‰ .review(@click=&quot;hiddenForm&quot;) el-button(type=&#39;submit&#39;, @click.stop=&quot;showForm&quot;) æ˜¾ç¤º .red(v-if=&quot;isShowForm&quot;,@click.stop=&quot;showForm&quot;) el-input æ˜¾ç¤ºéšè—æ–¹æ³•å¦‚ä¸‹ï¼ˆisShowFormæ˜¯æ˜¾ç¤ºéšè—æ ‡è®°ï¼‰ methods: { showForm() { // æ˜¾ç¤ºè¯„è®ºæ¡† this.isShowForm = true }, hiddenForm() { // éšè—è¯„è®ºæ¡† this.isShowForm = false } }, hiddenFormæ–¹æ³•åœ¨çœŸæ­£ä½¿ç”¨ä¸­ éœ€è¦ç»‘å®šåˆ°æœ€å¤–å±‚appï¼Œå¦åˆ™åªä¼šåœ¨å½“æœŸåŒºåŸŸç”Ÿæ•ˆï¼Œå¦‚ä¸‹æ•ˆæœå›¾ä¸­å½“é¼ æ ‡ç‚¹å‡»å…¶ä»–éƒ¨ä½æ—¶ä¸ä¼šè§¦å‘éšè—äº‹ä»¶ 2. ä½¿ç”¨ç„¦ç‚¹è§¦å‘éšè—ï¼ˆé€‚åˆå•ä¸ªè¾“å…¥æ¡†ï¼‰è§¦å‘æ˜¾ç¤ºäº‹ä»¶æ—¶èšç„¦åˆ°è¾“å…¥æ¡†ï¼Œå½“å¤±å»ç„¦ç‚¹æ—¶è§¦å‘éšè—äº‹ä»¶ï¼ˆå¥½å¤„æ˜¯ä¸éœ€è¦åœ¨æœ€å¤–å±‚ç»‘å®šéšè—äº‹ä»¶ï¼Œä½†æ˜¯éœ€è¦é˜»æ­¢å¤±å»ç„¦ç‚¹ï¼‰ .review el-button(type=&#39;submit&#39;, @click.stop=&quot;showForm&quot;) æ˜¾ç¤º .red(v-if=&quot;isShowForm&quot;, @mousedown.prevent) el-input(ref=&quot;in&quot;, @blur=&quot;hiddenForm&quot;, @mousedown.stop) el-button(@click=&quot;submit&quot;) click æ˜¾ç¤ºéšè—äº‹ä»¶ showForm() { // æ˜¾ç¤ºè¯„è®ºæ¡† if(!this.isShowForm) { this.isShowForm = true this.$nextTick(() =&gt; { this.$refs.in.focus() }) } }, hiddenForm() { // éšè—è¯„è®ºæ¡† this.isShowForm = false }, submit() { console.log(1); this.$refs.in.blur() } ç‚¹å‡»å½“å‰divä¸å¤±å»ç„¦ç‚¹ï¼Œç‚¹å‡»æŒ‰é’®æ‰§è¡Œäº‹ä»¶å¹¶éšè—è¾“å…¥æ¡†","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}]},{"title":"å³é”®åœ¨æ­¤æ‰“å¼€ç»ˆç«¯","slug":"èµ„æº/æ·»åŠ å³é”®èœå•","date":"2020-10-07T05:28:25.937Z","updated":"2020-10-07T05:31:27.345Z","comments":true,"path":"2020/10/07/èµ„æº/æ·»åŠ å³é”®èœå•/","link":"","permalink":"https://easyremember.cn/2020/10/07/èµ„æº/æ·»åŠ å³é”®èœå•/","excerpt":"","text":"åœ¨æ–‡ä»¶å¤¹ä¸­æ‰“å¼€ç»ˆç«¯è‡³å½“å‰ä½ç½®æœ€å¿«æ·çš„æ–¹æ³•æ˜¯æŒ‰ä½shiftç‚¹å‡»é¼ æ ‡å³é”®ï¼Œä½†æ˜¯ç¨‹åºå‘˜éƒ½æ˜¯æ‡’çš„ï¼Œæˆ‘å°±ä¸æƒ³æŒ‰ä½shiftï¼Œäºæ˜¯æˆ‘æƒ³åˆ°äº†é€šè¿‡æ³¨å†Œè¡¨æ·»åŠ å³é”®èœå• å…ˆçœ‹ä¸‹æ•ˆæœ ä¸‹é¢å¼€å§‹å¹²æ´» æ·»åŠ æ³¨å†Œè¡¨é€‰é¡¹æŒ‰ä¸‹ç»„åˆé”®Win+Rï¼Œè¾“å…¥regeditï¼Œå›è½¦ ç„¶åæ‰¾åˆ°è¿™ä¸ªç›®å½• HKEY_CLASSES_ROOT\\Directory\\Background\\shellï¼Œç„¶åå³é”®shellæ–‡ä»¶æ–°å»ºé¡¹ï¼Œå‘½åâ€œåœ¨æ­¤æ‰“å¼€Terminalâ€ï¼ˆè¿™ä¸ªéšæ„ï¼Œæ ¹æ®ä¸ªäººå–œå¥½ï¼‰ï¼Œç„¶ååœ¨åˆšæ‰æ–°å»ºçš„é¡¹ä¸Šé¢å†æ–°å»ºé¡¹ï¼Œå‘½åâ€œcommandâ€ï¼ˆè¿™ä¸ªä¸èƒ½éšæ„äº†ï¼‰ ç‚¹å‡»â€œcommandâ€çœ‹åˆ°å³è¾¹æœ‰ä¸€ä¸ªâ€œé»˜è®¤â€ï¼Œå³é”®é€‰æ‹©ä¿®æ”¹ï¼Œæ·»åŠ æ•°æ®ä¸º cmd /c set CURRENT_PATH=&quot;%V&quot; &amp; start C:\\Users\\åˆ˜æµ©\\AppData\\Local\\Microsoft\\WindowsApps\\wt.exe æ³¨æ„è¿™é‡Œï¼Œåé¢çš„è·¯å¾„è¦æ˜¯ä½ ç”µè„‘ä¸Šçš„terminalè·¯å¾„ ç¡®å®šä¹‹åå»çœ‹ä¸€ä¸‹ä½ çš„å³é”®å°±ä¼šå‘ç°å·²ç»æœ‰äº†è¿™ä¸ªèœå•é¡¹ çˆ±ç¾ä¹‹å¿ƒâ€”â€”å›¾æ ‡å¦‚æœä½ ä¸æ»¡è¶³äºæ­¤ï¼Œæƒ³å¸¦ä¸Šå›¾æ ‡ï¼Œé‚£ä¹Ÿæ˜¯å¯ä»¥å®ç°æ»´ï¼Œé¦–å…ˆå‡†å¤‡ä¸€ä¸ªæœ€å°32*32çš„icoå›¾æ ‡æ–‡ä»¶ ç‚¹å‡»åˆšæ‰å‡ºåˆ›å»ºçš„èœå•é¡¹â€œåœ¨æ­¤æ‰“å¼€Terminalâ€ï¼ˆä¸æ˜¯æœ€ä¸‹é¢çš„commandï¼‰ï¼Œå³é”®æ–°å»ºå­—ç¬¦ä¸²å€¼ï¼Œå‘½åIconï¼Œå€¼å°±æ˜¯ä½ åˆšæ‰å‡†å¤‡å¥½çš„å›¾æ ‡åœ°å€ï¼ˆå»ºè®®æ”¾åœ¨ä¸ä¼šè¢«æ¸…ç†æ‰çš„åœ°æ–¹ï¼‰ï¼Œç„¶åå†å»çœ‹ä¸€ä¸‹ä½ çš„å³é”®èœå•ï¼ŒçœŸé¦™","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/tags/å·¥å…·/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"JavaScriptè‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶â€”â€”Jest","slug":"ç¬”è®°/å‰ç«¯æµ‹è¯•å·¥å…·Jest","date":"2020-09-27T07:24:18.018Z","updated":"2020-09-28T02:06:52.639Z","comments":true,"path":"2020/09/27/ç¬”è®°/å‰ç«¯æµ‹è¯•å·¥å…·Jest/","link":"","permalink":"https://easyremember.cn/2020/09/27/ç¬”è®°/å‰ç«¯æµ‹è¯•å·¥å…·Jest/","excerpt":"","text":"å¼€å§‹å®‰è£…è¿è¡Œå‘½ä»¤å®‰è£…Jest npm install --save-dev jest # æˆ– yarn add --dev jest ç®€å•çš„ç¤ºä¾‹sum.js function sum(x, y) { return x + y; } module.exports = sum; sum.test.js const sum = require(&#39;../code/sum&#39;); test(&#39;adds 1 + 2 to equal 3&#39;, () =&gt; { expect(sum(1, 2)).toBe(3); }); åœ¨package.jsonä¸­æ·»åŠ è„šæœ¬å‘½ä»¤ &quot;scripts&quot;: { &quot;test&quot;: &quot;jest&quot; }, ç„¶åè¿è¡Œ npm run test æµ‹è¯•é€šè¿‡ï¼Œå®é™…ç»“æœè·Ÿé¢„æœŸç»“æœç›¸åŒï¼Œç„¶åæŠŠé¢„æœŸç»“æœä¿®æ”¹ä¸€ä¸‹å†æ¥çœ‹ æç¤ºæœŸæœ›å€¼è·Ÿå®é™…å€¼ä¸ç›¸ç¬¦ã€‚ç°åœ¨å·²ç»å†™å®Œäº†ç¬¬ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ è¿è¡Œå•ä¸ªæµ‹è¯•æ–‡ä»¶æ˜¯ä½¿ç”¨jest /path/code.test.jsï¼Œæ³¨æ„è¿™é‡Œæ–œæ çš„æ–¹å‘ï¼Œä¸èƒ½æ˜¯åæ–œæ  è®©Jestæ”¯æŒES6Jeståªæ”¯æŒCommenJSæ¨¡å—åŒ–è¯­æ³•ï¼Œä½¿ç”¨Babelè®©Jestæ”¯æŒES6è¯­æ³• npm install @babel/core @babel/preset-env --save-dev ç„¶ååˆ›å»ºbabelé…ç½®æ–‡ä»¶.babelrc { &quot;presets&quot;: [ [ &quot;@babel/preset-env&quot;, { &quot;targets&quot;: { &quot;node&quot;: &quot;current&quot; } } ] ] } åŒ¹é…å™¨é€šç”¨åŒ¹é…å™¨æµ‹è¯•å€¼çš„æœ€ç®€å•æ–¹æ³•æ˜¯å®Œå…¨ç›¸ç­‰ï¼Œå°±åƒä¸Šé¢çš„å°ç¤ºä¾‹ä¸€æ ·ã€‚toBeç”¨äºæµ‹è¯•åŸºç¡€ç±»å‹å®Œå…¨ç›¸ç­‰ï¼Œæ£€æŸ¥å¯¹è±¡çš„å€¼éœ€è¦ä½¿ç”¨toEqualæ¥é€’å½’æ£€æŸ¥æ¯ä¸ªå­—æ®µ test(&#39;equal object&#39;, () =&gt; { const data = {one: 1}; data[&#39;two&#39;] = 2; expect(data).toEqual({ a: 1, b: 2 }) }) ä½¿ç”¨notæ¥æµ‹è¯•ä¸ç­‰äº test(&#39;adds 1 + 2 is not 3&#39;, () =&gt; { expect(sum(1, 2)).not.toBe(4); }); çœŸç†ä½¿ç”¨çœŸç†æµ‹è¯•underfinedã€nullå’Œfalse toBeNullä»…åŒ¹é…null toBeUndefinedä»…åŒ¹é…undefined toBeDefinedæ˜¯ç›¸åçš„toBeUndefined toBeTruthyåŒ¹é…ä»»ä½•è¯­å¥è§†ä¸º true çš„è¯­å¥if toBeFalsyåŒ¹é…ä»»ä½•è¯­å¥è§†ä¸ºé”™è¯¯çš„å†…å®¹if ä¾‹å¦‚ test(&#39;null&#39;, () =&gt; { const n = null; expect(n).toBeNull(); }); æ•°å­—æ¯”è¾ƒæ•°å­—çš„åŒ¹é…å™¨æ–¹æ³• toBeGreaterThanå¤§äº toBeGreaterThanOrEqualå¤§äºç­‰äº toBeLessThanå°äº toBeLessThanOrEqualå°äºç­‰äº toBeç­‰äº toEqualç­‰äº toBeCloseToç­‰äºï¼ˆç”¨äºæµ®ç‚¹æ•°ï¼Œæ¯”å¦‚0.1+0.2ï¼‰ test(&#39;adds 1 + 2&#39;, () =&gt; { expect(sum(1, 2)).toBeGreaterThan(2); expect(sum(1, 2)).toBeGreaterThanOrEqual(3); expect(sum(1, 2)).toBeLessThan(4); expect(sum(1, 2)).toBeLessThanOrEqual(3); }); å­—ç¬¦ä¸²ä½¿ç”¨toMatchåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ test(&#39;match str&#39;, () =&gt; { const str = &#39;zhangsan@qq.com&#39; expect(str).toMatch(/^(([^&lt;&gt;()[\\]\\\\.,;:\\s@&quot;]+(\\.[^&lt;&gt;()[\\]\\\\.,;:\\s@&quot;]+)*)|(&quot;.+&quot;))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/) }) æ•°ç»„ä½¿ç”¨toContainæ¥æ£€æŸ¥æ•°ç»„æ˜¯å¦åŒ…å«ç‰¹å®šé¡¹ test(&#39;array&#39;, () =&gt; { const arr = [&#39;zhangsan&#39;, &#39;lisi&#39;, &#39;wangwu&#39;] expect(arr).toContain(&#39;lisi&#39;) }) å¼‚å¸¸ä½¿ç”¨toThrowæ¥æµ‹è¯•å‡½æ•°è°ƒç”¨æ—¶æ˜¯å¦ä¼šå¼•å‘é”™è¯¯ function compileAndroidCode() { throw new Error(&#39;have error&#39;); } test(&#39;compiling android goes as expected&#39;, () =&gt; { expect(compileAndroidCode).toThrow(Error); }); æ›´å¤šè¯¦ç»†APIè§å®˜ç½‘æ–‡æ¡£ æµ‹è¯•å¼‚æ­¥ä»£ç æœ‰ä¸‰ç§å½“æ—¶æµ‹è¯•å¼‚æ­¥ä»£ç ï¼Œå›è°ƒã€promiseå’Œç­‰å¾…ï¼ˆasync/awaitï¼‰ callbackå¼‚æ­¥æ“ä½œå¦‚ä¸‹ function asyncFun(callback) { const str = &#39;test&#39; setTimeout(() =&gt; { callback(str) }, 1000) } æµ‹è¯•ä»£ç å¦‚ä¸‹ test(&#39;async function&#39;, (done) =&gt; { function callback(data) { try { expect(data).toBe(&#39;test&#39;); done(); } catch (error) { done(error); } } asyncFun(callback) }) å°†æµ‹è¯•ä»£ç ä½œä¸ºå›è°ƒå‡½æ•°ä¼ å…¥è¢«æµ‹ç¨‹åºï¼Œå½“å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆæ—¶è°ƒç”¨callbackæ¥æµ‹è¯• promisepromiseçš„ä¸€éƒ¨æµ‹è¯•è¾ƒä¸ºç®€å•åªéœ€è¦ç”¨.thenæˆ–è€….catchæ¥æ•è·å¼‚æ­¥è¿”å›å€¼å³å¯ // async.js function asyncFun() { return Promise.resolve(&#39;test&#39;) } module.exports = asyncFun; // async.test.js test(&#39;promise test&#39;, () =&gt; { return asyncFun().then(data =&gt; { expect(data).toBe(&#39;test&#39;) }) }); promiseå¿…é¡»è¦è¿”å›ï¼Œå¦åˆ™æµ‹è¯•å°†åœ¨è§£æpromiseä¹‹å‰å®Œæˆï¼›å¦‚æœè¦æµ‹è¯•æ‹’ç»çš„ç»“æœä½¿ç”¨catchä»£æ›¿then async/awaitå¦‚åŒåœ¨jsä»£ç ä¸­ä½¿ç”¨async/awaitç»„åˆä¸€æ ·ï¼Œå£°æ˜å‡½æ•°asyncï¼Œç„¶åèµ‹å€¼æ—¶ä½¿ç”¨awaitä¿®é¥°ï¼Œå‡è®¾æœ‰ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡asyFunè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²this is a async functionï¼Œåˆ™æµ‹è¯•ä»£ç å¯ä»¥è¿™æ ·å†™ test(&#39;test asyFun&#39;, async () =&gt; { const data = await asyFun(); expect(data).toBe(&#39;this is a async function&#39;); }); ä½¿ç”¨é¢„æœŸæ–­è¨€ï¼ˆexpect.assertions(number)ï¼‰æ¥éªŒè¯æ˜¯å¦å®Œæˆäº†ä¸€å®šæ•°é‡çš„å¼‚æ­¥ä»£ç æµ‹è¯• ç”Ÿå‘½å‘¨æœŸé’©å­ beforeAll()ï¼šæ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œä¹‹å‰ beforeEach()ï¼šæ¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œä¹‹å‰ afterAll()ï¼šæ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œå®Œæˆä¹‹å afterEach()ï¼šæ¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œå®Œæˆä¹‹å æ¥çœ‹å…·ä½“æµ‹è¯•ä»£ç ï¼Œä¸€çœ‹å°±æ‡‚ beforeAll(() =&gt; { console.log(&#39;æµ‹è¯•å¼€å§‹ä¹‹å‰&#39;); }) afterAll(() =&gt; { console.log(&#39;æ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œå®Œæˆ&#39;); }) beforeEach(() =&gt; { console.log(&#39;é©¬ä¸Šå¼€å§‹æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹&#39;); }) afterEach(() =&gt; { console.log(&#39;æ‰§è¡Œå®Œä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹&#39;); }) test(&#39;promise test&#39;, () =&gt; { return asyncFun().then(data =&gt; { console.log(`æµ‹è¯•ç”¨ä¾‹çš„data:${data}`); expect(data).toBe(&#39;test&#39;) }) }); test(&#39;promise test not â€˜devâ€™&#39;, () =&gt; { return asyncFun().then(data =&gt; { console.log(`æµ‹è¯•ç”¨ä¾‹çš„data:${data}`); expect(data).not.toBe(&#39;dev&#39;) }) }); è¿è¡Œç»“æœ","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"node","slug":"node","permalink":"https://easyremember.cn/tags/node/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"Sasså­¦ä¹ ç¬”è®°","slug":"ç¬”è®°/Sasså­¦ä¹ ç¬”è®°","date":"2020-09-23T09:24:16.818Z","updated":"2020-09-23T09:25:20.131Z","comments":true,"path":"2020/09/23/ç¬”è®°/Sasså­¦ä¹ ç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/09/23/ç¬”è®°/Sasså­¦ä¹ ç¬”è®°/","excerpt":"","text":"sassè·ŸscssåŸºæœ¬ç›¸åŒï¼ŒåŒºåˆ«åœ¨äºsasså»æ‰äº†åˆ†å·å’Œå¤§æ‹¬å·ï¼Œç”¨ç¼©è¿›æ¥åŒºåˆ†æ ·å¼è¡¨ï¼Œè€Œscssä¿ç•™äº†å¤§æ‹¬å·å’Œåˆ†å· ä¸ºäº†ä¾¿äºé˜…è¯»ï¼Œæœ¬ç¯‡ä½¿ç”¨scsså½¢å¼ 1 å˜é‡1-1 å£°æ˜å˜é‡&amp;å¼•ç”¨å˜é‡ä½¿ç”¨$æ¥å£°æ˜å˜é‡ï¼Œå¼•ç”¨æ—¶ç›´æ¥å¡«å…¥å£°æ˜çš„å˜é‡åï¼Œå¦‚ $titlefont-size: 20px; .title{ font-size: $titlefont-size } // ç¼–è¯‘å .title { font-size: 20px; } 2 åµŒå¥—è§„åˆ™æŒ‰ç…§htmlæ–‡æ¡£å†…å®¹çš„å±‚çº§å…³ç³»æ¥ç¼–å†™æ ·å¼è¡¨ï¼Œä¸lessè¯­æ³•ä¸€è‡´ï¼Œæ¯”å¦‚æœ‰å¦‚ä¸‹çš„htmlæ–‡æ¡£ &lt;div class=&quot;article&quot;&gt; &lt;div class=&quot;title&quot;&gt; &lt;h2&gt;&lt;/h2&gt; &lt;/div&gt; &lt;div class=&quot;content&quot;&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; å¦‚æœç›´æ¥å¯¹h2æˆ–pçš„æ ·å¼ç›´æ¥ä¿®æ”¹ï¼Œä¼šå½±å“åˆ°å…¨éƒ¨çš„h2å’Œpæ ‡ç­¾æ ·å¼ï¼Œå¦‚æœæŒ‰ç…§å±‚çº§å»ç¼–å†™å°±ä¼šåµŒå¥—å¾ˆé•¿çš„é€‰æ‹©å™¨ï¼Œåœ¨sassä¸­ .article { .title { h2 { color: red; } } .content { p { font-size: 17px; } } } å°±å¯ä»¥è‡ªåŠ¨ç¼–è¯‘å‡ºåµŒå¥—çš„é€‰æ‹©å™¨ 2-1 çˆ¶å…ƒç´ é€‰æ‹©å™¨ä½¿ç”¨&amp;é€‰æ‹©çˆ¶å…ƒç´ ï¼Œè·Ÿlessä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä¸»è¦ç”¨äºä¼ªç±»é€‰æ‹©å™¨ .father { p { color: red; } &amp;:hover { cursor: pointer; } } // å¯ä»¥å°†ä¼ªç±»é€‰æ‹©å™¨ç›´æ¥è¿½åŠ åˆ°çˆ¶ç±»é€‰æ‹©å™¨åé¢ .father p { color: red; } .father:hover { cursor: pointer; } 2-2 ç¾¤ç»„é€‰æ‹©å™¨ä½¿ç”¨,è¿›è¡Œç¾¤ç»„åµŒå¥—ï¼Œå¦‚ .container { h1, h2, h3 { color: red; } } // ä¼šæŠŠå†…å®¹å±•å¼€åˆ†åˆ«åµŒå¥— .container h1, .container h2, .container h3 { color: red; } 2-3 å­ç»„åˆï¼ŒåŒå±‚ç»„åˆé€‰æ‹©å™¨ä½¿ç”¨&gt;é€‰æ‹©å…ƒç´ çš„ç›´æ¥å­å…ƒç´ ï¼Œä½¿ç”¨+é€‰æ‹©ç´§è·Ÿåœ¨å¯¹ç…§é€‰æ‹©å™¨åé¢çš„ç›®æ ‡é€‰æ‹©å™¨ï¼Œä½¿ç”¨~é€‰æ‹©åŒå±‚å…¨ä½“ .father { &gt; .son { color: red; } + father2 { color: yellow; } ~ fathers { color: black; } } 2-4 å±æ€§åµŒå¥—å¯ä»¥ä½¿ç”¨-æ¥ç»„åˆå±æ€§ï¼Œå¦‚ section { border: { style: solid; width: 1px; color: red; } } // ç¼–è¯‘åå¦‚ä¸‹ section { border-style: solid; border-width: 1px; border-color: red; } ä½ å¯èƒ½ä¼šè§‰å¾—è¿™æ²¡æœ‰ä»€ä¹ˆï¼Œç›´æ¥ä½¿ç”¨borderå±æ€§å¯ä»¥ç»„åˆä¸‰ç§å±æ€§ï¼Œåˆ«æ€¥ï¼Œç»§ç»­çœ‹ï¼Œä»–è¿˜èƒ½è¿™ä¹ˆç»„åˆ section { border: solid 1px red { left: 0; right: 0; } } // ç¼–è¯‘å section { border: solid 1px red; border-left: 0; border-right: 0; } 3 å¯¼å…¥æ–‡ä»¶ä½¿ç”¨@importå¯¼å…¥å¯¼å…¥å¤–éƒ¨æ ·å¼ï¼Œsasså’Œscssåç¼€åå¯çœç•¥ 3-1 é»˜è®¤å˜é‡é‡å¤å£°æ˜ä¸€ä¸ªå˜é‡åè¾¹çš„èµ‹å€¼ä¼šè¦†ç›–å‰é¢çš„å˜é‡ï¼Œåœ¨å¯¼å…¥æ–‡ä»¶æ—¶å¯èƒ½ä¼šè¢«å®šä¹‰çš„æ ·å¼è¦†ç›–ï¼Œå¯ä»¥ä½¿ç”¨é»˜è®¤å˜é‡å€¼!defaultå£°æ˜å˜é‡ 3-2 åµŒå¥—å¯¼å…¥.blue-theme {@import &quot;blue-theme&quot;} //ç”Ÿæˆçš„ç»“æœè·Ÿscssæ–‡ä»¶çš„å†…å®¹å®Œå…¨ä¸€æ · .blue-theme { aside { background: blue; color: #fff; } } 4 æ³¨é‡Šæœ‰ä¸¤ç§æ³¨é‡Šæ–¹å¼ï¼Œä¸€ç§ä¼šç¼–è¯‘åˆ°cssæ–‡ä»¶ï¼Œä¸€ç§ä¸ä¼šè¢«ç¼–è¯‘ body { color: #333; // è¿™ç§æ³¨é‡Šå†…å®¹ä¸ä¼šå‡ºç°åœ¨ç”Ÿæˆçš„cssæ–‡ä»¶ä¸­ padding: 0; /* è¿™ç§æ³¨é‡Šå†…å®¹ä¼šå‡ºç°åœ¨ç”Ÿæˆçš„cssæ–‡ä»¶ä¸­ */ } 5 æ··åˆä½¿ç”¨@mixinå£°æ˜ä¸€æ®µä»£ç ï¼Œç„¶åä½¿ç”¨@includeæ¥æå–è¿™æ®µä»£ç  6 ç»§æ‰¿ä½¿ç”¨@extendç»§æ‰¿ä¸€æ®µå·²ç»å†™å¥½çš„cssæ ·å¼","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"css","slug":"css","permalink":"https://easyremember.cn/tags/css/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ä¹‹æŸ¯é‡ŒåŒ–","slug":"æŠ€æœ¯/å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ä¹‹æŸ¯é‡ŒåŒ–","date":"2020-09-20T08:33:44.542Z","updated":"2020-09-20T08:34:46.790Z","comments":true,"path":"2020/09/20/æŠ€æœ¯/å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ä¹‹æŸ¯é‡ŒåŒ–/","link":"","permalink":"https://easyremember.cn/2020/09/20/æŠ€æœ¯/å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ä¹‹æŸ¯é‡ŒåŒ–/","excerpt":"","text":"æ¥ä¸‹æ¥é©¬ä¸Šå¼€å§‹WWHï¼ˆwhatï¼Œwhyï¼Œhowï¼‰ Wâ€”â€”ä»€ä¹ˆæ˜¯æŸ¯é‡ŒåŒ– åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰æ˜¯æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°(æœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°)çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°ä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚è¿™ä¸ªæŠ€æœ¯ç”± Christopher Strachey ä»¥é€»è¾‘å­¦å®¶ Haskell Curry å‘½åçš„ï¼Œå°½ç®¡å®ƒæ˜¯ Moses Schnfinkel å’Œ Gottlob Frege å‘æ˜çš„ã€‚ â€”â€”ç™¾åº¦ç™¾ç§‘ã€ŠæŸ¯é‡ŒåŒ–ã€‹ ä¸‹é¢è¯´ä¸€ç‚¹äººè¯ ç”¨cfn(1)(2)(3)æ¥å®ç°fn(1,2,3)çš„æ•ˆæœ Wâ€”â€”ä¸ºä»€ä¹ˆè¦æŸ¯é‡ŒåŒ– æŠŠä¸€ä¸ªæŠ½è±¡å‡½æ•°ï¼ˆå³åªçŸ¥é“å‚æ•°åˆ—è¡¨å’Œè¿”å›ç±»å‹çš„å‡½æ•°æ¨¡ç‰ˆï¼‰ä½œä¸ºå‚æ•°é€ç»™å¦ä¸€ä¸ªå‡½æ•°ã€‚è¿™æ ·å®ç°äº†è°ƒç”¨å’Œå®ç°çš„åˆ†ç¦» è§£å†³äº†æŸäº›æ–¹æ³•åªæ¥å—ä¸€ä¸ªå‚æ•°çš„é—®é¢˜ Hâ€”â€”æ€ä¹ˆå®ç°æŸ¯é‡ŒåŒ–é‡å¤´æˆå¼€å§‹ å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„äºŒå…ƒå‡½æ•°è½¬ä¸€å…ƒå‡½æ•°çš„ç¤ºä¾‹ // æ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªæŸ¯é‡ŒåŒ–çš„å‡½æ•° function curry(fn) { return function (x) { return function (y) { return fn(x, y) } } } function add(x, y) { return x + y } const cAdd = curry(add) console.log(&#39;addæ–¹æ³•-&#39; + add(1, 2)); console.log(&#39;cAddæ–¹æ³•-&#39; + cAdd(1)(2)); ç±»ä¼¼äºåœ¨z=x+yä¸­ï¼Œå…ˆç¡®å®šäº†xçš„å€¼ï¼Œç„¶åä¸‹ä¸€æ­¥æŠŠyå¸¦å…¥ï¼Œè®¡ç®—å‡ºç»“æœ å†æ¥çœ‹ä¸€ä¸ªå®é™…ä¸€ç‚¹çš„ç”¨æ³• const arr = [ { name: &#39;zhangsan&#39;, age: 12 }, { name: &#39;lisi&#39;, age: 12 }, { name: &#39;wangwu&#39;, age: 12 }, ] const getObj = (name, item) =&gt; { return item.name === name } const cfn = curry(getObj) // console.log(cfn(&#39;lisi&#39;).toString()); let result = arr.filter(cfn(&#39;lisi&#39;)) console.log(result); è¿™æ®µä»£ç ä¸­é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œç„¶åä½¿ç”¨æ•°ç»„çš„filteræ–¹æ³•æ¥è·å–æŸä¸ªå¯¹è±¡ï¼ŒgetObjæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªbooleanå€¼ï¼ŒæŸ¯é‡ŒåŒ–ä¹‹ååªéœ€è¦æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå› ä¸ºæ˜¯åœ¨filterå‡½æ•°çš„å›è°ƒå‡½æ•°ä¸­ï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨å°†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ä½œä¸ºå‚æ•°æ‰§è¡Œå›è°ƒå‡½æ•° è¿™é‡Œå¯èƒ½ä¼šå¾ˆéš¾ç»•å‡ºæ¥ï¼Œæ‰“å°ä¸€ä¸‹cfn(&#39;lisi&#39;)çœ‹ä¸€ä¸‹ å¯ä»¥çœ‹åˆ°cfn(&#39;lisi&#39;)å°±åªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‚æ•°yå°±æ˜¯filteréå†æ—¶çš„item è¿™åªæ˜¯äºŒå…ƒæŸ¯é‡ŒåŒ–ï¼Œé‚£æˆ‘è¦æ˜¯å¥½å¤šå‚æ•°æ€ä¹ˆåŠï¼Œå†å†™ä¸€ä¸ªï¼Ÿå‡ ä¸ªå‚æ•°å¥—å‡ å±‚é—­åŒ…ï¼Ÿ å½“ç„¶æœ‰ä¸€åŠ³æ°¸é€¸çš„æ–¹æ³• function curry(fn) { const length = fn.length; const curryFn = (args) =&gt; (arg) =&gt; { const curryArgs = args.concat(arg); if (curryArgs.length === length) { return fn(...curryArgs); } return curryFn(curryArgs); } return curryFn([]); } è¯•ä¸€ä¸‹ GOODï¼ï¼ï¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"é‡æ–°è®¤è¯†replace","slug":"æŠ€æœ¯/replaceï¼šé‡æ–°è®¤è¯†ä¸€ä¸‹å‘—","date":"2020-09-19T06:48:45.777Z","updated":"2020-09-19T06:56:45.931Z","comments":true,"path":"2020/09/19/æŠ€æœ¯/replaceï¼šé‡æ–°è®¤è¯†ä¸€ä¸‹å‘—/","link":"","permalink":"https://easyremember.cn/2020/09/19/æŠ€æœ¯/replaceï¼šé‡æ–°è®¤è¯†ä¸€ä¸‹å‘—/","excerpt":"","text":"åºè¨€ä»¥å‰ä»æ¥æ²¡æœ‰å‘ç°replaceçš„å¼ºå¤§ä¹‹å¤„ï¼Œå¶ç„¶é—´å‘ç°äº†è¿™ä¸ªâ€œå®è—APIâ€ï¼Œå†™ä¸€ç¯‡æ¥â€œçºªå¿µâ€ä¸€ä¸‹ ï¼ˆå…¶å®æ˜¯è„‘å­ä¸å¥½ä½¿æ€•å¿˜äº†ï¼‰ å¾ªåºæ¸è¿›ï¼Œå…ˆæ¥ æ™®é€šçš„å­—ç¬¦ä¸²æ™®é€šå­—ç¬¦ä¸²å°±é€šè¿‡ç®€å•åœ°åŒ¹é…è¿›è¡Œæ›¿æ¢å°±å¯ä»¥äº†ï¼Œæˆ‘åŸæœ¬ä»¥ä¸ºreplaceå°±æ˜¯è¿™ä¸ªç”¨å¤„ const str = &#39;Hello world&#39; const newStr = str.replace(/Hello/, &#39;Hi&#39;) console.log(newStr); $æ ‡è®° å˜é‡å ä»£è¡¨çš„å€¼ $$ æ’å…¥ä¸€ä¸ª â€œ$â€ã€‚ $&amp; æ’å…¥åŒ¹é…çš„å†…å®¹ã€‚ $` æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å·¦è¾¹çš„å†…å®¹ã€‚ $â€™ æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹ã€‚ $n å‡å¦‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ RegExpå¯¹è±¡ï¼Œå¹¶ä¸” n æ˜¯ä¸ªå°äº100çš„éè´Ÿæ•´æ•°ï¼Œé‚£ä¹ˆæ’å…¥ç¬¬ n ä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚æç¤ºï¼šç´¢å¼•æ˜¯ä»1å¼€å§‹ $nï¼šè¡¨ç¤ºä»å·¦åˆ°å³ï¼Œæ­£åˆ™å­è¡¨è¾¾å¼ï¼ˆç»„ï¼‰åŒ¹é…åˆ°çš„æ–‡æœ¬ const str = &#39;import Vue from &quot;vue&quot;&#39; const newStr = str.replace(/ from [&#39;|&quot;]([^&#39;&quot;]+)[&#39;|&quot;]/, ` from &quot;/@modules/${&#39;$1&#39;}&quot;`) console.log(newStr); å‡½æ•°replaceçš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯å‡½æ•°ï¼Œè¿™æ˜¯æœ€â€œéªšâ€çš„åœ°æ–¹ const str = &#39;abcde&#39; const newStr = str.replace(/(a)(b)(c)/, (s1, s2, s3, s4, s5) =&gt; { console.log(s1); console.log(s2); console.log(s3); console.log(s4); console.log(s5); return s4+s3+s2 }) console.log(newStr); è§£è¯»ä¸€ä¸‹ï¼šreplaceç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£åˆ™å¼ï¼ŒåŒ¹é…åˆ°äº†a,b,cï¼Œç„¶åç¬¬äºŒä¸ªå‡½æ•°çš„å‚æ•°åˆ†åˆ«æ˜¯ï¼š å‡è®¾ä¸€å…±åŒ¹é…äº†nä¸ªå­ä¸² param 1ï¼šåŒ¹é…åˆ°çš„å­—ç¬¦ä¸² param 2ï¼šåŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªå­ä¸² param 3ï¼šåŒ¹é…åˆ°çš„ç¬¬äºŒä¸ªå­ä¸² Â·Â·Â·Â·Â·Â· param n+1ï¼šåŒ¹é…åˆ°çš„ç¬¬nä¸ªå­ä¸² param n+2ï¼šåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²çš„ä½ç½® param n+3ï¼šåŸå§‹å­—ç¬¦ä¸²","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"viteè¿è¡ŒåŸç†","slug":"æŠ€æœ¯/viteè¿è¡ŒåŸç†","date":"2020-09-19T05:02:52.481Z","updated":"2020-09-19T05:05:11.631Z","comments":true,"path":"2020/09/19/æŠ€æœ¯/viteè¿è¡ŒåŸç†/","link":"","permalink":"https://easyremember.cn/2020/09/19/æŠ€æœ¯/viteè¿è¡ŒåŸç†/","excerpt":"","text":"ç°ä»£çš„æµè§ˆå™¨éƒ½æ”¯æŒes6çš„importäº†ï¼Œæ‰§è¡Œimport XX from &#39;./xxx&#39;ï¼ˆscriptæ ‡ç­¾type=â€moduleâ€ï¼‰ä¼šå‘èµ·ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œviteæ‹¦æˆªè¿™ä¸ªè¯·æ±‚å»åšvueå»ç¼–è¯‘ã€è§£æã€‚å®ç°æŒ‰éœ€åŠ è½½ï¼Œä¸ç”¨æ‰“åŒ…ï¼Œå¯åŠ¨æ—¶é—´å’Œæ›´æ–°å¤§å¤§ç¼©çŸ­ ä¸vue-cliçš„åŒºåˆ«ï¼š vue-cliåŸºäºwebpackï¼›viteåŸºäºrollup toy-viteåŠ è½½htmlç¬¬ä¸€æ­¥é¦–å…ˆå¼€å¯ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œä½¿ç”¨expresså’Œkoaéƒ½è¡Œï¼Œè¿™é‡Œé€‰æ‹©ä½¿ç”¨koa npm install koa --save ç„¶åå¼€å¯ç›‘å¬ï¼ŒåŠ è½½html const fs = require(&#39;fs&#39;) const path = require(&#39;path&#39;) const Koa = require(&#39;koa&#39;) const app = new Koa() app.use(ctx =&gt; { const { request: { url, query } } = ctx if (url === &#39;/&#39;) { // æ ¹ç›®å½•åŠ è½½html let content = fs.readFileSync(&#39;./index.html&#39;, &#39;utf-8&#39;) ctx.type = &#39;text/html&#39; ctx.body = content } else if (url.endsWith(&#39;.js&#39;)) { // æ‹¦æˆª.jsè¯·æ±‚ const p = path.resolve(__dirname, url.slice(1)) ctx.type = &#39;application/javascript&#39; const content = fs.readFileSync(p, &#39;utf-8&#39;) ctx.body = content } }) app.listen(9000, () =&gt; { console.log(&#39;listened to 9000&#39;); }) ä½¿ç”¨nodemonæ¥çƒ­éƒ¨ç½²è¿™ä¸ªserverï¼ˆéœ€è¦å…¨å±€å®‰è£…nodemon npm install nodemon -gï¼‰ è¿™æ—¶è®¿é—®localhost:9000ä¼šå‡ºç°ä¸€ä¸ªæŠ¥é”™ï¼Œ å› ä¸ºæ²¡æœ‰./ã€../ï¼Œå¼•å…¥çš„åŒ…æ¥è‡ªnode_modulesï¼Œè¦å°†è¿™äº›å€¼æ ‡è®°ä¸ºnpmåŒ… æ”¯æŒnode_modulesçš„import è¿™æ—¶æ­£ç»Ÿviteæ‰“åŒ…ä¹‹åçš„main.jsä¸­å¼•å…¥çš„vueï¼Œé‚£è¿™æ—¶æˆ‘ä»¬åº”è¯¥å°±æœ‰äº†äº›è®¸æƒ³æ³•ï¼šæŠŠimport XX from &#39;xx&#39;æ›¿æ¢ä¸ºimport XX from &#39;@modules/xx&#39; æœ€ç®€å•æš´åŠ›çš„åŠæ³•â€”â€”ä½¿ç”¨æ­£åˆ™æ›¿æ¢ï¼Œå®šä¹‰ä¸€ä¸ª function rewriteImport(content) { return content.replace(/ from [&#39;|&quot;]([^&#39;&quot;]+)[&#39;|&quot;]/g, function (s0, s1) { if (s1[0] !== &#39;.&#39; &amp;&amp; s1[1] !== &#39;/&#39;) { return ` from &quot;/@modules/${s1}&quot;` } else { return s0 } }) } å°†åŸæ¥çš„contentç”¨rewriteImportæ–¹æ³•åŒ…è£¹ä¸€ä¸‹ï¼Œè¿™æ—¶å€™å·²ç»æ›¿æ¢æˆåŠŸäº†ï¼Œç„¶åå†å°†è¿™äº›è¯·æ±‚ä»node_modulesä¸­æŸ¥æ‰¾ å†è¿½åŠ ä¸€æ®µä»£ç ï¼Œè®©å…¶èƒ½å¤Ÿåœ¨node_modulesä¸­è¿›è¡ŒæŸ¥æ‰¾ else if (url.startsWith(&#39;/@modules/&#39;)) { const prefix = path.resolve(__dirname, &#39;node_modules&#39;, url.replace(&#39;/@modules/&#39;, &#39;&#39;)) const module = require(prefix + &#39;/package.json&#39;).module const p = path.resolve(prefix, module) console.log(p); } å·²ç»å¯ä»¥æˆåŠŸçš„æ‹¿åˆ°äº†åœ°å€ æ”¯æŒ.vueæ–‡ä»¶çš„importnpmåŒ…å·²ç»æ‹¿åˆ°äº†ï¼Œç°åœ¨å°±è¦å†æ¥å¤„ç†.vueå•æ–‡ä»¶ç»„ä»¶ï¼Œtemplateæ¨¡æ¿=&gt;renderå‡½æ•° ä½¿ç”¨å®˜æ–¹åº“@vue/compilerè¿›è¡Œå•æ–‡ä»¶è§£æ else if (url.indexOf(&#39;.vue&#39;) &gt; -1) { // è§£æå•æ–‡ä»¶ const p = path.resolve(__dirname, url.split(&#39;?&#39;)[0].slice(1)) // ä½¿ç”¨å®˜æ–¹åº“è§£æå•æ–‡ä»¶ const { descriptor } = compilerSfc.parse(fs.readFileSync(p, &#39;utf-8&#39;)) console.log(descriptor); } å¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°å·²ç»è·å–äº†templateå¯¹è±¡ å†æ¥çœ‹ä¸€çœ¼viteè§£æä¹‹åçš„Vue å†æŒ‰ç…§è¿™ä¸ªæ ¼å¼å»æ­£åˆ™æ›¿æ¢ if (!query.type) { ctx.type = &#39;application/javascript&#39; ctx.body = ` ${rewriteImport(descriptor.script.content.replace(&#39;export default&#39;, &#39;const __script = &#39;))} import { render as __render } from ${url}?type=template __script.render = __render export default __script ` } ç„¶åå†å°†templateå˜æˆrenderå‡½æ•° else if (query.type == &quot;template&quot;) { const template = descriptor.template const render = compilerDom.compile(template.content, { mode: &quot;module&quot; }).code ctx.type = &#39;application/javascript&#39; ctx.body = rewriteImport(render) } åˆ°è¿™é‡Œå°±å·®ä¸å¤šå®Œæˆäº† æ•ˆæœå±•ç¤ºtoy-vite vite ä»£ç å·²ä¸Šä¼ ç äº‘","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Vue3çš„åŸºç¡€APIå˜åŒ–","slug":"æŠ€æœ¯/Vue3APIå˜åŒ–","date":"2020-09-19T00:33:27.474Z","updated":"2020-09-19T00:35:04.864Z","comments":true,"path":"2020/09/19/æŠ€æœ¯/Vue3APIå˜åŒ–/","link":"","permalink":"https://easyremember.cn/2020/09/19/æŠ€æœ¯/Vue3APIå˜åŒ–/","excerpt":"","text":"setupä¹‹å‰å·²ç»äº†è§£è¿‡äº†setupï¼Œæ˜¯composition-apiç”¨æ¥è¿”å›æ•°æ®çš„ï¼Œä»–å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°setup(props, context)ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Vue2ä¸­çš„propsï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨Vue2ä¸­çš„thisä¸Šçš„æ–¹æ³•ï¼ˆsetupä¸­è®¿é—®ä¸åˆ°thisï¼‰ å“åº”å¼æ•°æ®åŸºç¡€æ•°æ®ä½¿ç”¨refï¼Œå¼•ç”¨ç±»å‹ä½¿ç”¨reactiveè·å¾—å“åº”å¼ï¼Œä¸Šä¸€ç¯‡å·²ç»è¯´è¿‡äº†ï¼Œæœ¬ç¯‡ä¸å†èµ˜è¿° è¯´ä¸€ä¸‹ä¹‹å‰æ²¡æœ‰æåˆ°çš„å‡ ä¸ªAPI unrefå¦‚æœå‚æ•°æ˜¯refäº§ç”Ÿçš„å“åº”å¼æ•°æ®ï¼Œè¿”å›è¿™ä¸ªå‚æ•°çš„.valueï¼Œå¦‚æœä¸æ˜¯è¿”å›è¿™ä¸ªå‚æ•°æœ¬èº« isRefæ£€æŸ¥å‚æ•°æ˜¯å¦æ˜¯refå¯¹è±¡ toRefå°†reactiveåˆ›å»ºçš„å“åº”å¼å¯¹è±¡çš„æŸä¸ªå±æ€§æ‹¿å‡ºæ¥ï¼Œèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œæ•ˆæœç±»ä¼¼äºrefåˆ›å»ºäº†ä¸€ä¸ªå“åº”å¼æ•°æ® æ¯”å¦‚ let data = reactive({ name: &quot;å¼ ä¸‰&quot;, age: 13, }); let ageRef = toRef(data, &quot;age&quot;); // ageRef.valueå’Œdata.ageè®¿é—®çš„æ˜¯åŒä¸€å±æ€§ï¼Œæ”¹å˜ä»–ä»¬çš„å€¼éƒ½ä¼šäº’ç›¸å½±å“ å¦‚æœ const dom = ref(null)ï¼Œé‚£ä¹ˆå˜é‡domå°†ä¼šæ˜¯ä¸€ä¸ªDOMå…ƒç´ çš„å¼•ç”¨ï¼ˆonMountedä¹‹åæ‰å¯ä»¥è·å–ï¼‰ï¼Œdom.value = document è®¡ç®—å±æ€§ç±»ä¼¼äºVue2çš„è®¡ç®—å±æ€§ï¼Œcomposition-apiä¸­ä¼ å…¥ä¸€ä¸ªå‡½æ•°è·å¾—ä¸€ä¸ªåˆ¶åº¦çš„è®¡ç®—å±æ€§ let count = ref(1) const countPro = computed(() =&gt; { return &#39;count:&#39; + count.value }) {{countPro}} // count:1 ä¼ å…¥getå’Œsetæ–¹æ³•è·å¾—ä¸€ä¸ªå¯è¯»å¯å†™çš„è®¡ç®—å±æ€§ let count = ref(1) const countPro = computed({ get: () =&gt; count.value + 1, set: val =&gt; { count.value = val - 1 } }) countPro.value = 1 console.log(count.value) // 0 ç›‘å¬å™¨ç›‘å¬refç±»å‹æ•°æ®let count = ref(1); watch(count, (count, prevCount) =&gt; { console.log(&#39;new:&#39;+count); console.log(&#39;old:&#39;+prevCount); }); refç±»å‹æ•°æ®watchæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦ç›‘å¬çš„æ•°æ®ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–°çš„å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ—§çš„å€¼ ç›‘å¬å¤šä¸ªæ•°æ®æºwatch([count1,count2], ([count1, count2], [prevCount1, prevCount2]) =&gt; { console.log(count1); console.log(count2); console.log(&#39;---------&#39;); console.log(prevCount1); console.log(prevCount2); }) ç›‘å¬reactiveç±»å‹æ•°æ®let data = reactive({ name: &quot;å¼ ä¸‰&quot;, age: 13, }); watch(() =&gt; data.age, (age, prevAge) =&gt; { console.log(&quot;new:&quot; + age); console.log(&quot;old:&quot; + prevAge); }) reactiveç±»å‹æ•°æ®watchæ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œè¿”å›reactiveå“åº”å¯¹è±¡ç›‘å¬çš„å¯¹è±¡ ç›‘å¬å¤šä¸ªæ•°æ®æºwatch([ () =&gt; data.name, () =&gt; data.age], ([name, age], [prevName, prevAge]) =&gt; { console.log(name); console.log(age); console.log(&#39;---------&#39;); console.log(prevName); console.log(prevAge); }) æ¸…é™¤ç›‘è§†è°ƒç”¨watchçš„è¿”å›å€¼å¯ä»¥æ¸…é™¤ç›‘è§†å™¨ // æ³¨å†Œç›‘å¬å™¨ const stop = watch(xx, (xx. prevxx) =&gt; { /** XXXX*/ }) // å–æ¶ˆç›‘å¬ stop() ç”Ÿå‘½å‘¨æœŸé’©å­æ–°ç‰ˆçš„ç”Ÿå‘½å‘¨æœŸåªèƒ½åœ¨setup()å‡½æ•°ä¸­ä½¿ç”¨ï¼Œå˜åŒ–æ˜¯å°†beforeCreateå’Œcreatedåˆå¹¶ä¸ºsetupï¼Œå…¶ä»–çš„ç”Ÿå‘½å‘¨æœŸå‰é¢åŠ ä¸Šonï¼Œä½¿ç”¨æ–¹æ³•ï¼šå‘å‡½æ•°å†…éƒ¨ä¼ ç®­å¤´å‡½æ•° provide/injectå¯ä»¥ä¸é™å±‚çº§ä¼ é€’æ•°æ®ï¼ŒåŒVue2ä¸­ä¸€æ ·ï¼Œcomposition-apiä¸­ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼ˆåªèƒ½åœ¨setupå‡½æ•°ä¸­ä½¿ç”¨ï¼‰ // çˆ¶ç»„ä»¶ provide(&#39;æ•°æ®key&#39;, &#39;æ•°æ®value&#39;) // valueå¯ä»¥æ˜¯refæ•°æ® // å­ç»„ä»¶ const getData = inject(&#39;æ•°æ®key&#39;)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Vue3åˆä½“éªŒ","slug":"æŠ€æœ¯/Vue3åˆä½“éªŒ","date":"2020-09-18T04:21:58.577Z","updated":"2020-09-18T04:23:04.218Z","comments":true,"path":"2020/09/18/æŠ€æœ¯/Vue3åˆä½“éªŒ/","link":"","permalink":"https://easyremember.cn/2020/09/18/æŠ€æœ¯/Vue3åˆä½“éªŒ/","excerpt":"","text":"å®‰è£…Vue3åŸºäºviteå®ç°å·¥ç¨‹åŒ–ï¼Œé¦–å…ˆå®‰è£…vite # å®‰è£…ç”Ÿæˆå™¨ npm install -g create-vite-app # åˆ›å»ºVue3é¡¹ç›® create-vite-app vue3-camp # å®‰è£…ä¾èµ– npm install å·®å¼‚å…¥å£æ–‡ä»¶Vue2new Vue(render() {}).$mount() Vue3// â†“--App.vue createApp(App).mount(&#39;#app&#39;) APIï¼ˆä¸¤ç§APIå¯ä»¥æ··ç”¨ï¼‰ Vue2option-apiï¼Œæ¯æ¬¡æ–°æ·»åŠ æ•°æ®éœ€è¦ä»dataç­‰é‡Œé¢æ–°å¢æ•°æ®ï¼Œéœ€è¦æ¥å›ç¿»åŠ¨ï¼ˆåŒä¸€é¢œè‰²ä¸ºåŒä¸€åŠŸèƒ½æ‰€éœ€æ•°æ®ï¼‰ export default { data() { return { number: 1 } }, methods: { add() { this.number++ } }, } Vue3ä»€ä¹ˆæ˜¯composition-apicomposition-apiï¼Œå°†åŒä¸€åŠŸèƒ½çš„æ•°æ®æ”¾åœ¨åŒä¸€å—å†… ä¸ºä»€ä¹ˆè¦ç”¨composition-apiç»´æŠ¤å¤§å‹ç»„ä»¶æ—¶ä¸å†éœ€è¦ä¸Šä¸‹ç¿»åŠ¨ æ€ä¹ˆä½¿ç”¨composition-api// ä½¿ç”¨refå¯ä»¥å°†åŸºæœ¬æ•°æ®ç±»å‹å˜ä¸ºå“åº”å¼ï¼Œå¼•ç”¨ç±»å‹ä½¿ç”¨reactive import { ref, reactive, toRefs } from &#39;vue&#39; export default { setup() { let number = ref(1) function add() { number.value++ } return { number, add } } } è¿™è¿˜ä¸è¶³ä»¥çœ‹å‡ºcomposition-apiçš„ä¼˜åŠ¿ï¼Œå†æ¥çœ‹ä¸€ä¸ªtodoç¤ºä¾‹ï¼Œç›´æ¥å°†ä¸åŒçš„åŠŸèƒ½æ¨¡å—æ”¾åœ¨ä¸åŒçš„æ–¹æ³•ä¸­ import { reactive, toRefs } from &quot;vue&quot;; export default { setup() { let { addTodos, state } = todoDemo(); return { addTodos, ...toRefs(state) }; // å“åº”å¼å¯¹è±¡éœ€è¦state.valï¼Œä½¿ç”¨toRefså°†æ•°ç»„è§£æ„ï¼Œå¯ä»¥ç›´æ¥val }, }; // ä¹Ÿå¯ä»¥åœ¨å•ç‹¬çš„jsæ–‡ä»¶ä¸­ function todoDemo() { let state = reactive({ todos: [ { id: 0, name: &quot;å­¦ä¹ &quot; }, { id: 1, name: &quot;ç©æ¸¸æˆ&quot; }, ], val: &quot;&quot;, }); function addTodos() { state.todos.push({ id: state.todos.length, name: state.val }) state.val = &#39;&#39; } return { addTodos, state }; } æ›´å¤šAPIä¸åœ¨æ­¤å¤šè¯´ï¼Œå®˜ç½‘æ–‡æ¡£","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"filterè¿‡æ»¤å™¨","slug":"æŠ€æœ¯/filterè¿‡æ»¤å™¨","date":"2020-09-15T11:53:27.165Z","updated":"2020-09-15T12:13:09.646Z","comments":true,"path":"2020/09/15/æŠ€æœ¯/filterè¿‡æ»¤å™¨/","link":"","permalink":"https://easyremember.cn/2020/09/15/æŠ€æœ¯/filterè¿‡æ»¤å™¨/","excerpt":"","text":"è¿‡æ»¤å™¨ï¼ˆfilterï¼‰æ˜¯è¾“é€ä»‹è´¨ç®¡é“ä¸Šä¸å¯ç¼ºå°‘çš„ä¸€ç§è£…ç½®ï¼Œé€šå¸¸å®‰è£…åœ¨å‡å‹é˜€ã€æ³„å‹é˜€ã€å®šæ°´ä½é˜€ ï¼Œæ–¹å·¥è¿‡æ»¤å™¨å…¶å®ƒè®¾å¤‡çš„è¿›å£ç«¯è®¾å¤‡ã€‚ â€”â€”ç™¾åº¦ç™¾ç§‘ã€Šè¿‡æ»¤å™¨ã€‹ è¿™æ˜¯ç™¾åº¦ç™¾ç§‘çš„ä»‹ç»ï¼Œæ­£å·§Vueä¸­è¿‡æ»¤å™¨çš„ä½¿ç”¨å°±æ˜¯é€šè¿‡ç®¡é“ç¬¦å·|ï¼Œä¸çŸ¥é“æ˜¯æœ‰æ„è®¾è®¡è¿˜æ˜¯å·§åˆ é—²è¯å°‘è¯´ï¼Œå¼€å§‹ä¸»é¢˜ ä»€ä¹ˆæ˜¯è¿‡æ»¤å™¨è¿‡æ»¤å™¨ç”¨äºæ”¹å˜æ¸²æŸ“ç»“æœ ç°åœ¨çš„è¿‡æ»¤å™¨ç»è¿‡ä¸€ç•ªä¿®æ”¹åªèƒ½ä½œç”¨äºæ’å€¼è¡¨è¾¾å¼çš„æ•°æ®æ¸²æŸ“äº† æ¥çœ‹ä¸€ä¸‹å®˜ç½‘çš„ç¤ºä¾‹ Vue.filter(&#39;capitalize&#39;, function (value) { if (!value) return &#39;&#39; value = value.toString() return value.charAt(0).toUpperCase() + value.slice(1) }) è¿™ä¸ªè¿‡æ»¤å™¨çš„åŠŸèƒ½æ˜¯è·å–å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬æ¢ä¸ºå¤§å†™ï¼Œé€šè¿‡ä½¿ç”¨è¿‡æ»¤å™¨ ä¸ºä»€ä¹ˆè¦ç”¨è¿‡æ»¤å™¨å½“æœ‰äº›æ•°æ®éœ€è¦éœ€è¦æ¸²æŸ“å‡ºæ¥æ‰èƒ½çœ‹å¾—æ‡‚ï¼ˆæ¯”å¦‚æ—¶é—´æˆ³ï¼‰æ—¶ï¼Œä½¿ç”¨è¿‡æ»¤å™¨å¯ä»¥è·å¾—æ›´å¥½çš„å±•ç¤ºæ•ˆæœ æ€ä¹ˆä½¿ç”¨è¿‡æ»¤å™¨è¿‡æ»¤å™¨æœ‰ä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯å±€éƒ¨è¿‡æ»¤å™¨ï¼Œå®šä¹‰åœ¨ç»„ä»¶ä¸­ï¼Œå¯ä»¥åœ¨å•ä¸ªç»„ä»¶ä¸­ä½¿ç”¨ï¼›å¦ä¸€ç§æ˜¯å…¨å±€è¿‡æ»¤å™¨ï¼Œåœ¨åˆ›å»ºVueå®ä¾‹ä¹‹å‰å®šä¹‰ï¼Œå¯ä»¥åœ¨ä»»ä½•ç»„ä»¶ä¸­ä½¿ç”¨ã€‚å½“å…¨å±€è¿‡æ»¤å™¨å’Œå±€éƒ¨è¿‡æ»¤å™¨é‡åæ—¶ï¼Œä¼šé‡‡ç”¨å±€éƒ¨è¿‡æ»¤å™¨ ä½¿ç”¨æ—¶é—´æˆ³è¿‡æ»¤å™¨æ¥åšç¤ºä¾‹ï¼Œåœ¨main.jsä¸­æ·»åŠ å¦‚ä¸‹ä»£ç  // å…¨å±€æŒ‚è½½è¿‡æ»¤å™¨ Vue.filter(&#39;formatDate&#39;, function (date) { const n = new Date(date) return n.getFullYear() + &#39;-&#39; + (n.getMonth() + 1) + &#39;-&#39; + n.getDate() + &#39; &#39; + n.getHours() + &#39;:&#39; + n.getMinutes() + &#39;:&#39; + n.getSeconds() }) ç„¶ååœ¨æŸä¸€ä¸ªéœ€è¦è½¬æ¢æ—¶é—´æˆ³çš„ç»„ä»¶ä¸­ä½¿ç”¨ .info .time i.el-icon-time {{article.createAt | formatDate}} ç„¶åå¯ä»¥çœ‹åˆ°é¡µé¢ä¸­çš„æ¸²æŸ“æ•ˆæœå¦‚ä¸‹ è¿˜æ˜¯è¿™ä¸ªè¿‡æ»¤çš„å±€éƒ¨å®šä¹‰æ–¹æ³•ä¸º filter: { formatDate: function(date) { const n = new Date(date) return n.getFullYear() + &#39;-&#39; + (n.getMonth() + 1) + &#39;-&#39; + n.getDate() + &#39; &#39; + n.getHours() + &#39;:&#39; + n.getMinutes() + &#39;:&#39; + n.getSeconds() } } è¿‡æ»¤å™¨å¯ä»¥ä¸²è”ä½¿ç”¨ {{message | filter1 | filter2}} // å°†filter1æ¸²æŸ“ç»“æœä½œä¸ºfilter2çš„å‚æ•°","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"elementUIè¸©å‘è®°å½•","slug":"æŠ€æœ¯/elementUIè¸©å‘","date":"2020-09-13T11:58:37.724Z","updated":"2020-10-19T04:11:13.233Z","comments":true,"path":"2020/09/13/æŠ€æœ¯/elementUIè¸©å‘/","link":"","permalink":"https://easyremember.cn/2020/09/13/æŠ€æœ¯/elementUIè¸©å‘/","excerpt":"","text":"å¯¼èˆªæ ä¸è·¯ç”±ä¸åŒ¹é…é—®é¢˜æè¿°ä½¿ç”¨Element-UI Vueç»„ä»¶æ¡†æ¶æ—¶ï¼Œä½¿ç”¨å¯¼èˆªèœå•NavMenuæ—¶ï¼Œç‚¹å‡»å¯ä»¥æ›´æ”¹é€‰ä¸­çŠ¶æ€ï¼Œä½†æ˜¯ï¼Œå½“è·¯ç”±æ”¹å˜ä¸æ˜¯é€šè¿‡å¯¼èˆªèœå•æ”¹å˜æ—¶ï¼Œé€‰ä¸­çŠ¶æ€æ˜¯ä¸æ”¹å˜çš„ ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åœ¨ç‚¹å‡»å¯¼èˆªæ æŸä¸€é¡¹æ—¶é€‰ä¸­çŠ¶æ€æ‰ä¼šæ”¹å˜ï¼Œå¦‚å›¾ï¼Œåœ¨ç‚¹å‡»æµè§ˆåŒºè¿”å›é”®ä¹‹åé€‰ä¸­çŠ¶æ€ä¾æ—§æ²¡æœ‰æ”¹å˜ è§£å†³åŠæ³•é€šè¿‡è®¡ç®—å±æ€§å°†è·¯ç”±å’Œé€‰ä¸­çŠ¶æ€ç»‘å®šï¼Œä½¿ç”¨$route.pathè·å–å½“å‰è·¯ç”± &lt;template lang=&quot;pug&quot;&gt; .my-nav el-menu.el-menu( :default-active=&quot;route&quot;, mode=&quot;horizontal&quot;, active-text-color=&quot;#409eff&quot;, router ) el-menu-item(index=&quot;/&quot;) é¦–é¡µ el-menu-item(index=&quot;/class&quot;) åˆ†ç±» el-menu-item(index=&quot;/hot-user&quot;, disabled) åäººå ‚ el-menu-item(index=&quot;/collection&quot;) è—å“å±•ç¤º &lt;/template&gt; &lt;script&gt; export default { computed: { route() { return &#39;/&#39; + this.$route.path.replace(&quot;/&quot;, &quot;&quot;); }, }, }; &lt;/script&gt; å°†è·¯ç”±è·¯å¾„ç¬¬ä¸€ä¸ª/ä¹‹åçš„å†…å®¹æ›¿æ¢ä¸ºï¼Œç„¶åä¸default-activeç»‘å®šï¼Œæ¯ä¸€æ¬¡è·¯ç”±æ”¹å˜éƒ½ä¼šæ›´æ”¹è¿™ä¸ªå€¼ï¼Œä»è€Œå®ç°åŒæ­¥æ”¹å˜ æ•ˆæœå›¾ æ­¥éª¤æ¡é—®é¢˜æè¿°æ­¥éª¤æ¡æ–‡å­—ä¸å›¾æ ‡ä¸å¯¹åº” è§£å†³åŠæ³•æ­¥éª¤æ¡æ ·å¼æ·»åŠ  text-align: left; é”®ç›˜äº‹ä»¶é—®é¢˜æè¿°æ·»åŠ é”®ç›˜äº‹ä»¶ç›‘å¬æ— æ³•ç”Ÿæ•ˆ è§£å†³åŠæ³•æ·»åŠ .nativeä¿®é¥°ç¬¦ `@keyup.delete.native=â€KeyUpDeleteâ€` Dialogå¯¹è¯æ¡†é—®é¢˜æè¿°ç‚¹å‡»ç©ºç™½å¤„ä¸å…³é—­ç­‰é»˜è®¤å±æ€§æ— æ³•æ”¹å˜ è§£å†³åŠæ³•ä¿®æ”¹å¼•å…¥elementç»„ä»¶çš„é»˜è®¤é…ç½® import Vue from &#39;vue&#39; import Element from &#39;element-ui&#39; import &#39;element-ui/lib/theme-chalk/index.css&#39; Element.Dialog.props.closeOnClickModal.default = false Element.Dialog.props.showClose.default = false Vue.use(Element) uploadä¸Šä¼ ç»„ä»¶é—®é¢˜æè¿° é€šè¿‡actionå±æ€§å‘é€è¯·æ±‚å‡ºç°è·¨åŸŸé—®é¢˜ ä¸è¢«è¯·æ±‚æ‹¦æˆªå™¨æ‹¦æˆªæ— æ³•æ·»åŠ token è§£å†³åŠæ³• é…ç½®ä»£ç†ï¼Œç›´æ¥ä½¿ç”¨ä»£ç†å‘é€è¯·æ±‚ï¼Œå¦‚ä¸‹ æ·»åŠ tokenè¯·æ±‚å¤´ï¼Œä½¿ç”¨:headerså±æ€§æ·»åŠ è¯·æ±‚å¤´ï¼Œåœ¨dataä¸­æ·»åŠ tokenå˜é‡ ä¸è¦å¯¹ä¸Šä¼ ç»„ä»¶æ ·å¼è¿›è¡Œscopedé™åˆ¶ï¼Œä¼šä¸¢å¤±æ ·å¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"VueåŠ¨æ€ç»„ä»¶","slug":"æŠ€æœ¯/åŠ¨æ€ç»„ä»¶","date":"2020-09-13T03:13:24.458Z","updated":"2020-09-13T03:14:11.933Z","comments":true,"path":"2020/09/13/æŠ€æœ¯/åŠ¨æ€ç»„ä»¶/","link":"","permalink":"https://easyremember.cn/2020/09/13/æŠ€æœ¯/åŠ¨æ€ç»„ä»¶/","excerpt":"","text":"è®©å¤šä¸ªç»„ä»¶ä½¿ç”¨åŒä¸€ä¸ªæŒ‚è½½ç‚¹ï¼Œå¹¶åŠ¨æ€åˆ‡æ¢ï¼Œè¿™å°±æ˜¯åŠ¨æ€ç»„ä»¶ã€‚ å¸¸è§„å®ç°æ–¹æ¡ˆä½¿ç”¨v-ifæ¥å®ç°å­ç»„ä»¶ä¹‹é—´çš„åˆ‡æ¢ï¼Œä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ§åˆ¶ï¼Œå½“ç´¢å¼•åŒ¹é…æˆåŠŸæ—¶ç»„ä»¶æ˜¾ç¤ºï¼ˆä½¿ç”¨v-showä¹Ÿå¯ä»¥ï¼‰ v-ifï¼šv-if æ§åˆ¶å…ƒç´ æ˜¾ç¤ºæˆ–éšè—æ˜¯æŠŠdomå…ƒç´ æ•´ä¸ªçš„æ¸²æŸ“æˆ–è€…åˆ é™¤ v-showï¼šæ”¹å˜cssæ ·å¼displayæ§åˆ¶æ˜¾ç¤ºéšè— å›åˆ°æ­£é¢˜ï¼Œå¼•å…¥ä¸‰ä¸ªç»„ä»¶ï¼Œç„¶åä½¿ç”¨v-ifæ§åˆ¶æ˜¾ç¤ºéšè— &lt;template lang=&quot;pug&quot;&gt; .steps el-steps(:active=&quot;active&quot;, finish-status=&quot;success&quot;) el-step(title=&quot;æ­¥éª¤ 1&quot;) el-step(title=&quot;æ­¥éª¤ 2&quot;) el-step(title=&quot;æ­¥éª¤ 3&quot;) .son(v-if=&quot;active === 1&quot;) component1 .son(v-if=&quot;active === 2&quot;) component2 .son(v-if=&quot;active === 3&quot;) component3 el-button(style=&quot;margin-top: 12px;&quot;, @click=&quot;next&quot;) ä¸‹ä¸€æ­¥ el-button(style=&quot;margin-top: 12px;&quot;, @click=&quot;pre&quot;, v-if=&quot;active &gt; 0&quot;) ä¸Šä¸€æ­¥ &lt;/template&gt; &lt;script&gt; import component1 from &#39;../components/component1&#39; import component2 from &#39;../components/component2&#39; import component3 from &#39;../components/component3&#39; export default { components: { component1, component2, component3, }, data() { return { active: 0, }; }, methods: { next() { if (this.active++ &gt; 2) this.active = 0; }, pre() { if (this.active-- &lt; 1) this.active = 0; }, }, }; &lt;/script&gt; æ•ˆæœ å†…ç½®ç»„ä»¶componentè¯•è¿‡ç»„ä»¶idæ¥æ§åˆ¶æ˜¾ç¤ºå“ªä¸ªç»„ä»¶ï¼Œå…ˆå°†ç»„ä»¶åæ”¾åœ¨æ•°ç»„ä¸­ï¼Œé€šè¿‡ç´¢å¼•è·å–æ•°ç»„ä¸­çš„ç»„ä»¶åæ¥ç»‘å®šç»„ä»¶ï¼Œä½¿ç”¨è®¡ç®—å±æ€§ç›‘å¬ï¼Œå½“ç´¢å¼•å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§çš„å€¼éšä¹‹æ”¹å˜ çœ‹ä»£ç  &lt;template lang=&quot;pug&quot;&gt; .steps h2 component el-steps(:active=&quot;active&quot;, finish-status=&quot;success&quot;) el-step(title=&quot;æ­¥éª¤ 1&quot;) el-step(title=&quot;æ­¥éª¤ 2&quot;) el-step(title=&quot;æ­¥éª¤ 3&quot;) component(:is=&quot;componentId&quot;) el-button(style=&quot;margin-top: 12px;&quot;, @click=&quot;next&quot;) ä¸‹ä¸€æ­¥ el-button(style=&quot;margin-top: 12px;&quot;, @click=&quot;pre&quot;, v-if=&quot;active &gt; 0&quot;) ä¸Šä¸€æ­¥ &lt;/template&gt; &lt;script&gt; import component1 from &#39;../components/component1&#39; import component2 from &#39;../components/component2&#39; import component3 from &#39;../components/component3&#39; export default { components: { component1, component2, component3, }, data() { return { active: 0, componentArr: [&#39;component1&#39;, &#39;component2&#39;, &#39;component3&#39;] }; }, computed: { componentId() { return this.componentArr[this.active] } }, methods: { next() { if (this.active++ &gt; 2) this.active = 0; }, pre() { if (this.active-- &lt; 1) this.active = 0; }, }, }; &lt;/script&gt; &lt;/style&gt; æ•ˆæœ å¯ä»¥çœ‹å‡ºä¸¤ç§æ–¹å¼å®ç°çš„æ•ˆæœåŸºæœ¬æ— å·®å¼‚ï¼Œå¦‚æœåŠ¨æ€ç»„ä»¶æ¶‰åŠè¡¨å•ï¼Œå¯ä»¥ä½¿ç”¨keep-aliveç¼“å­˜è¡¨å•å†…å®¹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"createdå’Œmountedçš„åŒºåˆ«","slug":"æŠ€æœ¯/createdå’Œmountedçš„åŒºåˆ«","date":"2020-09-11T09:02:04.381Z","updated":"2020-09-11T09:03:21.632Z","comments":true,"path":"2020/09/11/æŠ€æœ¯/createdå’Œmountedçš„åŒºåˆ«/","link":"","permalink":"https://easyremember.cn/2020/09/11/æŠ€æœ¯/createdå’Œmountedçš„åŒºåˆ«/","excerpt":"","text":"å…ˆæ¥ä¸¢ä¸€å¼ å®˜ç½‘ç”Ÿå‘½å‘¨æœŸ å¯ä»¥ä»è¿™å¼ ç¤ºæ„å›¾ä¸­çœ‹å‡ºï¼Œmountä¸»è¦æ˜¯æŒ‚è½½elä¹Ÿå°±æ˜¯DOMï¼Œmountç»“æŸä¹‹å‰è·ŸDOMæœ‰å…³çš„æ“ä½œæ— æ³•æ‰§è¡Œï¼Œæ¯”å¦‚getElementById createé˜¶æ®µæ˜¯æ³¨å…¥æ•°æ®ï¼Œè¿™æ—¶å€™å¯ä»¥è¿›è¡Œajaxè¯·æ±‚ç­‰ä¸æ¶‰åŠdomçš„æ“ä½œ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Vue2åŒå‘ç»‘å®šåŸç†","slug":"æŠ€æœ¯/definepropertyä¸Vue2","date":"2020-09-11T08:31:24.962Z","updated":"2020-09-11T09:02:40.373Z","comments":true,"path":"2020/09/11/æŠ€æœ¯/definepropertyä¸Vue2/","link":"","permalink":"https://easyremember.cn/2020/09/11/æŠ€æœ¯/definepropertyä¸Vue2/","excerpt":"","text":"å…ˆä¸Šæ•ˆæœå›¾ Vueçš„åŒå‘ç»‘å®šé‡‡ç”¨æ•°æ®åŠ«æŒé…åˆå‘å¸ƒè€…â€”â€”è®¢é˜…è€…æ¨¡å¼ï¼Œé€šè¿‡Object.defineproperty()åŠ«æŒå„ä¸ªå±æ€§getterå’Œsetterï¼Œæ•°æ®å˜åŠ¨æ—¶,å‘å¸ƒæ¶ˆæ¯ç»™ä¾èµ–æ”¶é›†å™¨Depï¼Œç„¶åé€šçŸ¥è§‚å¯Ÿè€…ï¼Œåšå‡ºå¯¹åº”çš„å›è°ƒï¼Œæ›´æ–°è§†å›¾ åœ¨æ¡ˆä¾‹ä¸­MyVueä½œä¸ºå…¥å£ï¼Œæ•´åˆObserverï¼ŒCompileï¼ŒWatcherï¼Œé€šè¿‡Observeræ¥ç›‘å¬æ•°æ®å˜åŒ–é€šè¿‡Compileæ¥ç¼–è¯‘æ¨¡æ¿ï¼Œåˆ©ç”¨Watcheræ¥è¿æ¥Compileå’ŒObserverï¼Œæ¥å®ç°åŒå‘ç»‘å®š MyVueä½œä¸ºå…¥å£ï¼Œç»è¿‡Compileè§£æä¹‹åæ¸²æŸ“åˆ°é¡µé¢ï¼ŒåŒæ—¶æ·»åŠ è§‚å¯Ÿè€…Observeræ¥ç›‘å¬æ•°æ®å˜åŒ–ï¼Œå½“æ•°æ®å˜åŒ–æ—¶é€šçŸ¥ä¾èµ–æ”¶é›†å™¨Depï¼Œå°†å˜åŒ–åˆ†å‘ç»™watcherç„¶åå†æ¸²æŸ“è§†å›¾ æ•°æ®åŠ«æŒç¤ºä¾‹ä»£ç  const obj = {}; function property(obj, key, value) { Object.defineProperty(obj, key, { enumerable: true, configurable: false, get() { return &#39;å§“åï¼š&#39; + value; }, set(newVal) { value = newVal; console.log(&#39;ä¿®æ”¹äº†æ•°æ®&#39;); } }) } property(obj, &#39;name&#39;, &#39;å¼ ä¸‰&#39;); console.log(obj.name); è¿è¡Œå›¾ å½“æ•°æ®è¯»å–æ—¶ä¼šåŠ ä¸Šâ€œå§“åï¼šâ€ï¼Œæ•°æ®ä¿®æ”¹æ—¶ä¼šæç¤ºä¿®æ”¹æ•°æ®ï¼Œæ­¤æ—¶å¯¹è±¡objé™¤äº†nameä¹‹å¤–ï¼Œè¿˜æœ‰nameçš„getterå’Œsetterä¸¤ä¸ªæ–¹æ³• ä»£ç å…¥å£class MyVue { constructor(options) { this.$el = options.el; this.$data = options.data; this.$options = options; if (this.$el) { // è§‚å¯Ÿè€… new Observer(this.$data); // æŒ‡ä»¤è§£æå™¨ new Compile(this.$el, this) } } CompileæŒ‡ä»¤è§£æå™¨ï¼Œè§£æç½‘é¡µå…ƒç´ ä¸­çš„åŒå¤§æ‹¬å·ã€v-modelã€v-onâ€¦â€¦ç­‰å…ƒç´ ã€‚å¯¹æŒ‡ä»¤èŠ‚ç‚¹è¿›è¡Œåˆ¤æ–­ï¼Œç„¶åéå†å…¶æ‰€æœ‰å±æ€§ï¼Œçœ‹æ˜¯å¦æœ‰åŒ¹é…çš„æŒ‡ä»¤çš„å±æ€§ã€‚é¦–å…ˆè¦è·å¾—domå…ƒç´ ï¼Œç„¶åå¯¹å«æœ‰domå…ƒç´ ä¸Šå«æœ‰æŒ‡ä»¤çš„èŠ‚ç‚¹è¿›è¡Œå¤„ç†ï¼Œå»ºä¸€ä¸ªfragmentç‰‡æ®µï¼Œå°†éœ€è¦è§£æçš„domå…ƒç´ å­˜åˆ°fragmentç‰‡æ®µä¸­åœ¨åšå¤„ç†ï¼Œæ¥ä¸‹æ¥éœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œå¯¹å«æœ‰æŒ‡ä»¤çš„èŠ‚ç‚¹è¿›è¡Œç‰¹æ®Šçš„å¤„ç† class Compile { constructor(el, vm) { // èµ‹å€¼/è·å–èŠ‚ç‚¹ this.el = this.isElementNode(el) ? el : document.querySelector(el); this.vm = vm; // è·å–å­å…ƒç´ æ–‡æ¡£ç¢ç‰‡ const frag = this.fragment(this.el); // console.log(frag); // ç¼–è¯‘æ¨¡æ¿ this.compile(frag); // è¿½åŠ å­å…ƒç´ åˆ°æ ¹å…ƒç´  this.el.appendChild(frag); } compile(fragment) { const children = fragment.childNodes; [...children].forEach(child =&gt; { if (this.isElementNode(child)) { // å…ƒç´ èŠ‚ç‚¹ this.compileElement(child); } else { // æ–‡æœ¬èŠ‚ç‚¹ this.complieText(child); } if (child.childNodes &amp;&amp; child.childNodes.length) { this.compile(child) } }); } complieText(text) { const content = text.textContent; if(/\\{\\{(.+?)\\}\\}/.test(content)) { compileUtil[&#39;text&#39;](text, content, this.vm); } } compileElement(node) { const attributes = node.attributes; [...attributes].forEach(attribute =&gt; { const { name, value } = attribute; if (this.isDire(name)) { const [, dirctive] = name.split(&#39;-&#39;); const [dirName, eventName] = dirctive.split(&#39;:&#39;); // æ›´æ–°è§†å›¾ compileUtil[dirName](node, value, this.vm, eventName); // åˆ é™¤æŒ‡ä»¤ node.removeAttribute(&#39;v-&#39; + dirctive); } else if(this.isEventName(name)) {// åˆ¤æ–­@ç¬¦å· let [, eventName] = name.split(&#39;@&#39;); compileUtil[&#39;on&#39;](node, value, this.vm, eventName); } else if(this.isBindName(name)) { let [, attr] = name.split(&#39;:&#39;); compileUtil[&#39;bind&#39;](node, value, this.vm, attr); } }) } isBindName(name) { return name.startsWith(&#39;:&#39;) } isEventName(name) { return name.startsWith(&#39;@&#39;) } isDire(name) { return name.startsWith(&#39;v-&#39;) } fragment(el) { // åˆ›å»ºæ–‡æ¡£ç¢ç‰‡ const nodeFrag = document.createDocumentFragment(); while (el.firstChild) { nodeFrag.appendChild(el.firstChild); } return nodeFrag; } isElementNode(node) { return node.nodeType === 1; } } Observeréå†å¾ªç¯å¯¹æ‰€æœ‰å±æ€§å€¼è¿›è¡Œç›‘å¬ï¼Œå¹¶å¯¹å…¶è¿›è¡Œæ•°æ®åŠ«æŒã€‚é€šè¿‡observe()æ–¹æ³•è¿›è¡Œéå†å‘ä¸‹æ‰¾åˆ°æ‰€æœ‰çš„å±æ€§ï¼Œå¹¶é€šè¿‡defineReactive()æ–¹æ³•è¿›è¡Œæ•°æ®åŠ«æŒç›‘å¬ã€‚çŸ¥é“ç›‘å¬å™¨Observeræ˜¯åœ¨getå‡½æ•°ä¸­æ‰§è¡Œäº†æ·»åŠ è®¢é˜…è€…çš„æ“ä½œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦åœ¨è®¢é˜…è€…Watcheråœ¨åˆå§‹åŒ–æ—¶è§¦å‘ç›¸å¯¹åº”çš„getå‡½æ•°æ¥æ‰§è¡Œæ·»åŠ è®¢é˜…è€…çš„æ“ä½œï¼Œå€ŸåŠ©ä¾èµ–æ”¶é›†å™¨ class Observer { constructor(data) { this.observer(data); } observer(data) { if(data &amp;&amp; typeof data === &#39;object&#39;) { Object.keys(data).forEach(key =&gt; { this.defineReactive(data, key, data[key]); }) } } defineReactive(data, key, value) { this.observer(value); const depend = new Dep(); // åŠ«æŒ Object.defineProperty(data, key, { enumerable: true, configurable: false, get() { // æ•°æ®åˆå§‹åŒ–çš„æ—¶å€™æ·»åŠ è®¢é˜… Dep.target &amp;&amp; depend.addSub(Dep.target) return value; }, set: (newValue) =&gt; { this.observer(newValue); if(newValue !== value) { value = newValue; } // é€šçŸ¥Depå˜åŒ– depend.notify(); } }) } } Depä¾èµ–æ”¶é›†å™¨ï¼Œä¸»è¦è´Ÿè´£æ·»åŠ è®¢é˜…ä»¥åŠå‘å¸ƒé€šçŸ¥ class Dep { // æ”¶é›†watcher,é€šçŸ¥watcher constructor() { this.subs = []; } // æ”¶é›†watcher addSub(watcher) { this.subs.push(watcher); } // é€šçŸ¥watcheræ›´æ–° notify() { console.log(&quot;è§‚å¯Ÿè€…&quot;, this.subs); this.subs.forEach(watcher =&gt; { watcher.update() }) } } Watcherå°†Compileå’ŒObserverå…³è”èµ·æ¥ class Watcher { constructor(vm, express, callback) { this.vm = vm; this.express = express; this.callback = callback; // ä¿å­˜æ—§å€¼ this.oldValue = this.getOldValue(); } getOldValue() { Dep.target = this; let old = compileUtil.getValue(this.express, this.vm); Dep.target = null; return old; } update() { const newValue = compileUtil.getValue(this.express, this.vm); if(newValue !== this.oldValue) { this.callback(newValue); } } } ä¸Šé¢å›¾ä¸­çš„updateræ”¾åœ¨äº†compileUtilä¸­ const compileUtil = { // è·å–dataä¸­çš„å¯¹è±¡å€¼ getValue(express, vm) { return express.split(&#39;.&#39;).reduce((data, currentVal) =&gt; { // console.log(currentVal); return data[currentVal] }, vm.$data) }, setValue(express, vm, inputValue) { return express.split(&#39;.&#39;).reduce((data, currentVal) =&gt; { data[currentVal] = inputValue; }, vm.$data) }, // åŒºåˆ†å¼€{{}}--{{}} getContentValue(express, vm) { return express.replace(/\\{\\{(.+?)\\}\\}/g, (...args) =&gt; { return this.getValue(args[1], vm); }) }, // v-text text(node, express, vm) { let value; if(express.indexOf(&#39;{{') !== -1) { // {{msg}} value = express.replace(/\\{\\{(.+?)\\}\\}/g, (...args) =&gt; { // ç»‘å®šè§‚å¯Ÿè€… new Watcher(vm, args[1], (newValue) =&gt; { this.updater.textUpdater(node, this.getContentValue(express, vm)); }) return this.getValue(args[1], vm); }) } else { value = this.getValue(express, vm); } this.updater.textUpdater(node, value); }, // v-html html(node, express, vm) { let value = this.getValue(express, vm); new Watcher(vm, express, (newValue) =&gt; { this.updater.htmlUpdater(node, newValue); }); this.updater.htmlUpdater(node, value); }, // v-model model(node, express, vm) { // æ•°æ®-è§†å›¾ const value = this.getValue(express, vm); new Watcher(vm, express, (newValue) =&gt; { this.updater.modelUpdater(node, newValue); }); // è§†å›¾-æ•°æ®-è§†å›¾ node.addEventListener(&#39;input&#39;, e =&gt; { this.setValue(express, vm, e.target.value); }) this.updater.modelUpdater(node, value); }, // v-on on(node, express, vm, event) { const f = vm.$options.methods &amp;&amp; vm.$options.methods[express]; node.addEventListener(event, f.bind(vm), false); }, bind(node, express, vm, attribute) { const value = this.getValue(express, vm); this.updater.bindUpdater(node, attribute, value); }, updater: { textUpdater(node, value) { node.textContent = value; }, htmlUpdater(node, value) { node.innerHTML = value; }, modelUpdater(node, value) { node.value = value; }, bindUpdater(node, attribute, value) { node.setAttribute(attribute, value); } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"gitå…¥é—¨æ“ä½œ","slug":"æŠ€æœ¯/gitåŸºæœ¬æ“ä½œ","date":"2020-09-10T06:49:07.044Z","updated":"2020-09-10T06:50:35.752Z","comments":true,"path":"2020/09/10/æŠ€æœ¯/gitåŸºæœ¬æ“ä½œ/","link":"","permalink":"https://easyremember.cn/2020/09/10/æŠ€æœ¯/gitåŸºæœ¬æ“ä½œ/","excerpt":"","text":"åŸºæœ¬æ“ä½œæœ€å¸¸ç”¨çš„æ“ä½œéƒ½åœ¨è¿™å¼ æµç¨‹å›¾ä¸­ git addï¼šå°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº git commitï¼šå°†æš‚å­˜åŒºæ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ git pushï¼šå°†æœ¬åœ°ä»“åº“æ¨é€åˆ°è¿œç¨‹ä»“åº“ git pullï¼šä»è¿œç¨‹ä»“åº“æ‹‰å–å¹¶åˆå¹¶ git cloneï¼šå…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°ï¼ˆä¹Ÿå°±æ˜¯ä¸‹è½½ï¼‰ git checkoutï¼šè§ä¸‹æ–¹ å…¶ä»–å‘½ä»¤éƒ½å¾ˆç®€å•ï¼Œå±•å¼€è¯´ä¸€ä¸‹checkout æœªæ·»åŠ ç¼“å­˜æ—¶æ’¤é”€æ–‡ä»¶ä¿®æ”¹ï¼ˆæ²¡æœ‰addï¼Œå·²æ·»åŠ ç¼“å­˜ä½¿ç”¨reseté€€å›ï¼‰ æ”¾å¼ƒå•ä¸ªæ–‡ä»¶ä¿®æ”¹ï¼šgit checkout -- filepathname æ”¾å¼ƒå…¨éƒ¨æ–‡ä»¶ä¿®æ”¹ï¼šgit checkout . åˆ‡æ¢æˆ–æ–°å»ºåˆ†æ”¯ï¼Œä½¿ç”¨git checkout -b branchNameæ¥åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œå¦‚å›¾ æ’ä¸€å¥ï¼šåˆå¹¶åˆ†æ”¯git merge gitignoreå¸¸ç”¨çš„è¿‡æ»¤è§„åˆ™ /list/ï¼šè¿‡æ»¤æ•´ä¸ªæ–‡ä»¶å¤¹ *.zipï¼šè¿‡æ»¤æ‰€æœ‰çš„.zipæ–‡ä»¶ /list/a.docï¼šè¿‡æ»¤æ–‡ä»¶å¤¹ä¸‹çš„ç‰¹å®šæ–‡ä»¶ ä½¿ç”¨!è¡¨ç¤ºä¸è¿‡æ»¤ï¼Œå¦‚!/list/ä¸è¿‡æ»¤è¿™ä¸ªæ–‡ä»¶å¤¹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/tags/å·¥å…·/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"webpackå·¥ä½œåŸç†","slug":"æŠ€æœ¯/webpackå·¥ä½œåŸç†","date":"2020-09-09T11:51:27.685Z","updated":"2020-09-09T11:52:27.276Z","comments":true,"path":"2020/09/09/æŠ€æœ¯/webpackå·¥ä½œåŸç†/","link":"","permalink":"https://easyremember.cn/2020/09/09/æŠ€æœ¯/webpackå·¥ä½œåŸç†/","excerpt":"","text":"å·¥ä½œæµç¨‹å›¾ä¸»è¦ä»‹ç»å·¥ä½œåŸç†ï¼ŒwebpackåŸºç¡€ä¸å†èµ˜è¿° æµç¨‹å¤§è‡´ä¸ºï¼Œè½¬è½½è‡ª åˆå§‹åŒ–å‚æ•°ï¼šä»é…ç½®æ–‡ä»¶å’ŒShellè¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°ï¼Œå¾—å‡ºæœ€ç»ˆçš„å‚æ•°ï¼› å¼€å§‹ç¼–è¯‘ï¼š ç”¨ä¸Šä¸€æ­¥å¾—åˆ°çš„å‚æ•°åˆå§‹åŒ–Complierå¯¹è±¡ï¼ŒåŠ è½½æ‰€æœ‰é…ç½®çš„æ’ä»¶ï¼Œæ‰§è¡Œå¯¹è±¡çš„runæ–¹æ³•å¼€å§‹æ‰§è¡Œç¼–è¯‘ï¼› ç¡®å®šå…¥å£ï¼š æ ¹æ®é…ç½®ä¸­çš„entryæ‰¾å‡ºæ‰€æœ‰å…¥å£æ–‡ä»¶ï¼› ç¼–è¯‘æ¨¡å—ï¼šä»å…¥å£æ–‡ä»¶å‡ºå‘ï¼Œè°ƒç”¨æ‰€æœ‰é…ç½®çš„Loaderå¯¹æ¨¡å—è¿›è¡Œç¿»è¯‘ï¼Œå†æ‰¾å‡ºè¯¥æ¨¡å—ä¾èµ–çš„æ¨¡å—ï¼Œå†é€’å½’æœ¬æ­¥éª¤çŸ¥é“æ‰€æœ‰å…¥å£ä¾èµ–çš„æ–‡ä»¶éƒ½ç»è¿‡äº†æœ¬æ­¥éª¤çš„å¤„ç†ï¼› å®Œæˆæ¨¡å—ç¼–è¯‘ï¼š åœ¨ç»è¿‡ç¬¬4æ­¥ä½¿ç”¨Loaderç¿»è¯‘å®Œæ‰€æœ‰æ¨¡å—åï¼Œå¾—åˆ°äº†æ¯ä¸ªæ¨¡å—è¢«ç¿»è¯‘åçš„æœ€ç»ˆå†…å®¹ä»¥åŠä»–ä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼› è¾“å‡ºèµ„æºï¼šæ ¹æ®å…¥å£å’Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç»„è£…æˆä¸€ä¸ªä¸ªåŒ…å«å¤šä¸ªæ¨¡å—çš„Chunkï¼Œå†æŠŠæ¯ä¸ªChunkè½¬æ¢æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶åŠ å…¥åˆ°è¾“å‡ºåˆ—è¡¨ï¼Œè¿™æ­¥æ˜¯å¯ä»¥ä¿®æ”¹è¾“å‡ºå†…å®¹çš„æœ€åæœºä¼šï¼› è¾“å‡ºå®Œæˆï¼š åœ¨ç¡®å®šå¥½è¾“å‡ºå†…å®¹åï¼Œæ ¹æ®é…ç½®ç¡®å®šè¾“å‡ºçš„è·¯å¾„å’Œæ–‡ä»¶åï¼ŒæŠŠæ–‡ä»¶å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿã€‚ æ‰‹åŠ¨å®ç°åˆ†æå…¥å£æ–‡ä»¶const fs = require(&#39;fs&#39;) module.exports = class Webpack{ constructor(options) { console.log(options); const {entry, output} = options; this.entry = entry this.output = output } run() { console.log(&#39;webpack run&#39;); this.parse(this.entry) } parse(entryFile) { // åˆ†æå…¥å£æ–‡ä»¶ const content = fs.readFileSync(entryFile, &#39;utf-8&#39;) console.log(content); } } è§£æä¾èµ–å…³ç³»ä¸æ¨èä½¿ç”¨å­—ç¬¦ä¸²æˆªå–ï¼Œä½¿ç”¨@babel/parseræ¥è§£æå†…éƒ¨è¯­æ³•ï¼Œéœ€è¦å®‰è£…npmåŒ… ä½¿ç”¨parserè§£æè¯»å–åˆ°çš„æ–‡ä»¶å†…å®¹ parse(entryFile) { // åˆ†æå…¥å£æ–‡ä»¶ const content = fs.readFileSync(entryFile, &#39;utf-8&#39;) console.log(content); // åˆ†æä¾èµ–åŠä»¥æ¥çš„è·¯å¾„ // ä½¿ç”¨parseræŠŠå†…å®¹æŠ½è±¡æˆè¯­æ³•æ ‘ const ast = parser.parse(content, { sourceType: &#39;module&#39; }) console.log(ast); } è¿è¡Œç»“æœå¦‚ä¸‹ å¯ä»¥å‘ç°é‡Œé¢æŠ˜å äº†3ä¸ªNodeç»“ç‚¹ï¼Œæ‰“å¼€æ¥çœ‹ä¸€ä¸‹ ä»€ä¹ˆï¼Ÿçœ‹æ‡‚äº†ï¼ï¼ï¼å¤§ç¥æ”¶ä¸‹è†ç›–ï¼Œä¸è¿‡ç›¸ä¿¡å¾ˆå¤šäººè·Ÿæˆ‘ä¸€æ ·ç¬¬ä¸€çœ¼çœ‹åˆ°æ—¶è’™é€¼çš„å§ï¼Œä¸æ…Œï¼Œå†å¥½å¥½çœ‹çœ‹ æ‰“å¼€index.jsçš„æ—¶å€™ä½ å¯èƒ½ä¼šå‘ç°ç‚¹ä»€ä¹ˆ 3è¡Œä»£ç ï¼Œ3ä¸ªç»“ç‚¹ï¼Œåˆ«å¤ªæ—©ä¸‹ç»“è®ºï¼Œæ¥éªŒè¯ä¸€ä¸‹ å†åŠ ç‚¹ä¸œè¥¿ import {add} from &#39;./expo.js&#39; import {minus} from &#39;./expo.js&#39; add(1,2) minux(3,2) console.log(&#39;hello webpack&#39;); ç„¶åå†çœ‹è§£æç»“æœï¼ˆç»ˆç«¯æ”¾ä¸å¼€ï¼Œæ‰¾äº†ä¸ªå·¥å…·ç››ä¸€ä¸‹ï¼‰ è¿™ä¸‹ç¨³äº† ImportDeclarationè¡¨ç¤ºå¼•å…¥ä¾èµ–ï¼ŒExpressionStatementè¡¨ç¤ºè¡¨è¾¾å¼ ç„¶åå†æ¥æ ¹æ®åˆ†æç»“æœï¼Œéå†å¼•å…¥çš„ä¾èµ–ï¼Œä½¿ç”¨@babel/traverseï¼Œéœ€è¦å®‰è£…npmåŒ… const dependencies = [] traverse(ast, { ImportDeclaration({node}) { // å¯ä»¥åˆ†æè¡¨è¾¾å¼ const finalName = path.join(path.dirname(entryFile), node.source.value) // æ‹¼æ¥è·¯å¾„ // console.log(finalName); dependencies.push(finalName) } }) console.log(dependencies); æ‰“å°ä¸€ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»è·å–åˆ°äº†å¼•å…¥çš„ä¾èµ– ç„¶åå°±æ˜¯å°†ES6ç­‰è¯­æ³•è½¬æ¢ä¸ºæµè§ˆå™¨å¯ä»¥æ‰§è¡Œçš„ä»£ç ï¼Œä½¿ç”¨@babel/coreå’Œ@babel/preset-envå·¥å…· const {code} = transformFromAst(ast, null, { presets: [&#39;@babel/preset-env&#39;] }) console.log(code); å¯ä»¥çœ‹åˆ°å·²ç»å°†es6çš„importè½¬æ¢æˆäº†requireã€‚åˆ°è¿™é‡Œä¾èµ–çš„åˆ†æå·²ç»å®Œæˆäº†ï¼Œå°†è§£æåˆ°çš„ç»“æœä½œä¸ºä¸€ä¸ªå¯¹è±¡è¿”å›å‡ºå» return { entryFile, dependencies, code } ç„¶åæˆ‘ä»¬æ‹¿åˆ°äº†è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿ ç„¶åè¿˜è¦è§£æä¾èµ–ä¸­æ˜¯å¦å­˜åœ¨ä¾èµ–ã€‚ã€‚ã€‚ run() { const info = this.parse(this.entry) // console.log(info); // å¤„ç†å…¶ä»–æ¨¡å—ï¼Œç„¶åæ±‡æ€» this.modules.push(info) for(let i = 0; i &lt; this.modules.length; i++) { const item = this.modules[i] const {dependencies} = item if(dependencies) { for(let j in dependencies) { this.modules.push(this.parse(dependencies[j])) } } } console.log(this.modules); } å¦‚æœä½ çœ‹è¿‡webpackæ‰“åŒ…çš„ä»£ç ï¼Œä½ ä¼šå‘ç°ï¼Œæ‰“åŒ…å‡ºæ¥çš„ä»£ç éƒ½æ˜¯ä»¥å¯¹è±¡å½¢å¼å­˜åœ¨çš„ï¼Œæˆ‘ä»¬è¿˜è¦ç»§ç»­å¤„ç† ç”Ÿæˆæ–‡ä»¶è§£æå®Œæˆäº†å°±è¦æŠŠè§£æå¥½çš„ä»£ç è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ file(code) { // ç”Ÿæˆæ–‡ä»¶ const filePath = path.join(this.output.path, this.output.filename) const newCode = JSON.parse(code) const bundle = `(function() { })(${newCode})` fs.writeFileSync(filePath, bundle, &#39;utf-8&#39;) } æ–°å»ºä¸€ä¸ªdistç›®å½•ï¼Œç„¶åè¿è¡Œï¼Œä¼šçœ‹åˆ°å·²ç»è‡ªåŠ¨ç”Ÿæˆäº†ä¸€ä¸ªmain.js è¿™æ—¶å…¶å®æ˜¯æœ‰é—®é¢˜çš„ï¼Œè·¯å¾„è¿˜æ˜¯åŸæ¥çš„å¼•ç”¨è·¯å¾„ï¼Œä½†æ˜¯æ–‡ä»¶åˆ°äº†distç›®å½•ä¸‹ï¼Œéœ€è¦å¯¹è·¯å¾„è¿›è¡Œå¤„ç† å› ä¸ºåœ¨å¯¹è±¡ä¸­æœ‰ç»å¯¹åœ°å€ï¼Œæ‰€ä»¥ç›´æ¥è¯»å–å‡ºæ¥ function localRequire(relativePath) { return require(graph[module].dependencies[relativePath]) } ç„¶åå°±æ¥åˆ°äº†webpackçš„æ ¸å¿ƒrequireï¼Œä»–æ¨¡ä»¿äº†Nodeä¸­çš„requireæ“ä½œï¼Œæ˜¯ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œæ‰€ä»¥æ–‡ä»¶èƒ½ç›´æ¥åœ¨æµè§ˆå™¨è¿è¡Œ file(code) { // ç”Ÿæˆæ–‡ä»¶ const filePath = path.join(this.output.path, this.output.filename) const newCode = JSON.stringify(code) const bundle = `(function(graph) { function require(module){ function localRequire(relativePath) { return require(graph[module].dependencies[relativePath]) } var exports = {}; (function(require, exports, code) { eval(code) })(localRequire, exports, graph[module].code) return exports } require(&#39;${this.entry}&#39;) })(${newCode})` fs.writeFileSync(filePath, bundle, &#39;utf-8&#39;) } ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"node","slug":"node","permalink":"https://easyremember.cn/tags/node/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"hexoåšå®¢SEOä¼˜åŒ–","slug":"èµ„æº/hexoåšå®¢SEOä¼˜åŒ–","date":"2020-09-09T03:24:28.983Z","updated":"2020-09-09T03:28:10.410Z","comments":true,"path":"2020/09/09/èµ„æº/hexoåšå®¢SEOä¼˜åŒ–/","link":"","permalink":"https://easyremember.cn/2020/09/09/èµ„æº/hexoåšå®¢SEOä¼˜åŒ–/","excerpt":"","text":"hexoåšå®¢SEOä¼˜åŒ–ä¼—æ‰€å‘¨çŸ¥ï¼Œè‡ªå·±å†™çš„æ–‡ç« åŸºæœ¬ä¸ä¼šè¢«ç™¾åº¦æ”¶å½•ï¼Œè¦ä¸»å‘ç™¾åº¦æ¨é€è‡ªå·±çš„åœ°å€ æ¯å†™ä¸€ç¯‡æ–‡ç« éƒ½è¦å‘ç™¾åº¦æ¨é€ä¸€æ¬¡åœ°å€å½“ç„¶ä¸æ˜¯æˆ‘çš„é£æ ¼ï¼Œå¿…é¡»æœ‰ä¸€ç§ä¸€åŠ³æ°¸é€¸çš„æ–¹æ³•â€”â€”é€šè¿‡sitemapè‡ªåŠ¨æŠ“å–åœ°å€ ç”Ÿæˆsitemapå®‰è£…æ’ä»¶ npm install hexo-generator-sitemap --save npm install hexo-generator-baidu-sitemap --save ç„¶åå…¨å±€ç¼–è¯‘ä¸€ä¸‹ï¼Œè®¿é—®http://127.0.0.1:4000/sitemap.xml å¦‚æœèƒ½æ­£å¸¸çœ‹åˆ°xmlæ•°æ®å°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥äº†ï¼ˆå‘å¸ƒä¸€ä¸‹ï¼‰ï¼Œè¿™é‡Œæœ‰ä¸ªå‘ï¼Œå¦‚æœä½ é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ æ£€æŸ¥ä¸€ä¸‹æ–‡ç« æ–‡ä»¶åæœ‰æ²¡æœ‰&amp;ï¼Œå¦‚æœæœ‰çš„è¯æ”¹æ‰å®ƒ æ³¨å†Œç™¾åº¦ç«™é•¿ç™¾åº¦æœç´¢â€œç™¾åº¦ç«™é•¿â€ï¼Œç™»å½•ä¹‹åæ·»åŠ ç½‘ç«™ æ¯ä¸€æ­¥éƒ½æœ‰è¯´æ˜ï¼Œä¸å†èµ˜è¿°ï¼Œæœ€åä¸€æ­¥éªŒè¯å»ºè®®ä½¿ç”¨htmléªŒè¯ï¼Œåªéœ€è¦åŠ ä¸€ä¸ªæ ‡ç­¾å°±è¡Œäº† æ·»åŠ å®Œç½‘ç«™ä¹‹åæ·»åŠ æ”¶å½• æäº¤è‡ªå·±åˆšæ‰çš„xmlåœ°å€å°±å®Œäº‹äº†ï¼Œç­‰å¾…æ”¶å½•","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/tags/å·¥å…·/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"webpackç¬”è®°","slug":"ç¬”è®°/webpack","date":"2020-09-08T11:14:28.126Z","updated":"2021-02-23T06:51:21.853Z","comments":true,"path":"2020/09/08/ç¬”è®°/webpack/","link":"","permalink":"https://easyremember.cn/2020/09/08/ç¬”è®°/webpack/","excerpt":"","text":"1 ç®€ä»‹1.1 webpack äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ1.1.1 Entryå…¥å£ï¼ŒæŒ‡ç¤ºwebpackä»¥å“ªä¸ªæ–‡ä»¶ä¸ºå…¥å£èµ·ç‚¹å¼€å§‹æ‰“åŒ…ï¼Œåˆ†ææ„å»ºå†…éƒ¨ä¾èµ–å›¾ 1.1.2 Outputè¾“å‡ºï¼ŒæŒ‡ç¤ºwebpackæ‰“åŒ…åçš„èµ„æºbundlesè¾“å‡ºåˆ°å“ªé‡Œå»ï¼Œä»¥åŠæ€ä¹ˆå‘½å 1.1.3 LoaderåŠ è½½å™¨ï¼Œå¯ä»¥è®©webpackèƒ½å¤Ÿå»å¤„ç†éjsæ–‡ä»¶ï¼ˆwebpackè‡ªèº«ä¹‹ç†è§£javascriptï¼‰ 1.1.4 Pluginsæ’ä»¶ï¼Œå¯ä»¥ç”¨äºæ‰§è¡Œæ›´å¹¿èŒƒå›´çš„ä»»åŠ¡ï¼Œæ’ä»¶çš„èŒƒå›´åŒ…æ‹¬ä»æ‰“åŒ…ä¼˜åŒ–å’Œå‹ç¼©ä¸€ç›´åˆ°é‡æ–°å®šä¹‰ç¯å¢ƒå˜é‡ç­‰ 1.1.5 Modeæ¨¡å¼ï¼ŒæŒ‡ç¤ºwebpackä½¿ç”¨ç›¸åº”æ¨¡å¼çš„é…ç½® developmentï¼šèƒ½è®©ä»£ç æœ¬åœ°è°ƒè¯•è¿è¡Œçš„ç¯å¢ƒ productionï¼šèƒ½è®©ä»£ç ä¼˜åŒ–ä¸Šçº¿çš„è¿è¡Œç¯å¢ƒ 2 webpack åˆä½“éªŒ2.1 åˆ›å»ºä¸€ä¸ªwebpacké¡¹ç›® åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œåˆå§‹åŒ–åŒ…ç®¡ç† npm init è¿è¡Œå‘½ä»¤npm install webpack webpack-cli -D æ–°å»ºsrcæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾ä»£ç ï¼Œæ–°å»ºbuildæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾æ‰“åŒ…å¥½çš„æ–‡ä»¶ ç¼–è¾‘ä»£ç  è¿è¡Œå‘½ä»¤ï¼ˆå¼€å‘ç¯å¢ƒï¼‰ webpack ./src/index.js -o ./build/build.js --mode=development é»˜è®¤åªèƒ½å¤„ç†js/jsonæ–‡ä»¶ 2.2 æ‰“åŒ…cssæ ·å¼èµ„æº æ–°å»ºcssæ–‡ä»¶style.css åœ¨index.jsä¸­å¼•å…¥ import &#39;style.css&#39; åˆ›å»ºwebpack.config.jsæ–‡ä»¶æ¥é…ç½®webpackï¼ˆä½¿ç”¨commentJSï¼‰ const { resolve } = require(&#39;path&#39;); module.exports = { mode: &#39;development&#39;, // æ¨¡å¼ï¼Œä¸èƒ½åŒæ—¶å­˜åœ¨ // mode: &#39;production&#39; entry: &#39;./src/index.js&#39;, // å…¥å£æ–‡ä»¶ output: { filename: &#39;built.js&#39;, // è¾“å‡ºæ–‡ä»¶å path: resolve(__dirname, &#39;build&#39;) // è¾“å‡ºè·¯å¾„ }, module: { // loaderé…ç½® rules: [{ test: /\\.css$/,// cssç»“å°¾çš„æ–‡ä»¶ use: [// æ‰§è¡Œé¡ºåºï¼šä»å³åˆ°å·¦ï¼Œä»ä¸‹åˆ°ä¸Šï¼Œä¾æ¬¡æ‰§è¡Œ &#39;style-loader&#39;,// åˆ›å»ºçˆ±ä½ styleæ ‡ç­¾ï¼Œå°†jsä¸­çš„æ ·å¼èµ„æºæ’å…¥ï¼Œæ·»åŠ åˆ°head &#39;css-loader&#39;,// å°†cssæ–‡ä»¶å˜æˆcommentjsæ¨¡å—åŠ è½½jsä¸­ï¼Œå†…å®¹æ˜¯å­—ç¬¦ä¸² ] }] }, plugins: [ // æ’ä»¶é…ç½® ], } å®‰è£…æ‰€éœ€è¦çš„loader è¿è¡Œå‘½ä»¤ webpack ä½¿ç”¨lessã€scssç­‰é¢„ç¼–è¯‘è¯­æ³•éœ€è¦ä¸‹è½½å¯¹åº”çš„loaderï¼Œé…ç½®æ–¹å¼åŒä¸Šï¼Œå†æ·»åŠ ä¸€ä¸ªruleå¯¹è±¡ 2.3 æ‰“åŒ…HTMLæ–‡ä»¶ å®‰è£…æ‰“åŒ…htmlçš„æ’ä»¶ npm install html-webpack-plugin-D åœ¨webpack.config.jsä¸­å¼•å…¥å¹¶æ·»åŠ é…ç½® const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); Â·Â·Â· plugins: [ // æ’ä»¶é…ç½® // html-webpack-plugin // åŠŸèƒ½ï¼š åˆ›å»ºä¸€ä¸ªç©ºçš„htmlæ–‡ä»¶å¼•å…¥æ‰“åŒ…ä¹‹åçš„æ‰€æœ‰èµ„æº new HtmlWebpackPlugin({ // èµ‹å€¼ç›®æ ‡æ–‡ä»¶å¹¶å¼•å…¥æ‰“åŒ…çš„èµ„æº template: &#39;./src/index.html&#39; }) ], åœ¨åˆ›å»ºhtmlæ¨¡æ¿çš„æ—¶å€™ä¸è¦å¼•å…¥èµ„æº 2.4 æ‰“åŒ…å›¾ç‰‡æ–‡ä»¶å›¾ç‰‡æ·»åŠ ç•¥è¿‡ï¼Œåªç»™å‡ºé…ç½®æ–¹å¼ module: { // loaderé…ç½® rules: [{ test: /\\.(jpg|png|gif|jpeg)$/, // åªæœ‰ä¸€ä¸ªloaderçš„æ—¶å€™å¯ä»¥ç›´æ¥loader+loaderå loader: &#39;url-loader&#39;,// ä¸‹è½½æ—¶éœ€è¦ä¸‹è½½url-loaderå’Œfile-loader options: { /** * é™åˆ¶å¤§å°ï¼Œå°äºé™åˆ¶å°±ä¼šè¢«base64å¤„ç† * ä¼˜ç‚¹å‡å°‘è¯·æ±‚æ•°é‡ï¼Œå‡è½»æœåŠ¡å™¨å‹åŠ› * ç¼ºç‚¹å›¾ç‰‡ä¼šæ›´å¤§ï¼Œæ–‡ä»¶è¯·æ±‚é€Ÿåº¦ä¼šå˜æ…¢ */ limit: 200 * 1024 } }] }, å¦‚æœhtmlæ¨¡æ¿ä¸­æ·»åŠ äº†å›¾ç‰‡ï¼Œæ·»åŠ ä¸€ä¸ªé¢å¤–çš„loaderæ¥è§£æ { test: /\\.html$/, loader: &#39;html-withimg-loader&#39; // å¤„ç†htmlä¸­çš„å›¾ç‰‡ } ä½†æ˜¯ï¼Œå› ä¸ºurl-loaderé»˜è®¤ä½¿ç”¨es6æ¨¡å—åŒ–è§£æï¼Œè€Œhtml-loaderå¼•å…¥å›¾ç‰‡æ˜¯commentjs è§£ææ—¶ä¼šå‡ºç°[object Module] è§£å†³åŠæ³•ï¼šå…³é—­ur-loaderçš„ES6è§£æï¼Œåœ¨url-loaderçš„optionsä¸­æ·»åŠ  esModule: false 2.5 æ‰“åŒ…å…¶ä»–èµ„æº{ exclude: /\\.(css|html|jpg|png|gif|jpeg)$/, loader: &#39;file-loader&#39; } é™¤äº†è¿™åŒ¹é…åˆ°çš„åç¼€æ–‡ä»¶ä¹‹å¤–ï¼Œå…¶ä»–çš„æ–‡ä»¶ç”¨file-loaderæ‰“åŒ… 2.6 ä½¿ç”¨devServerå¼€å‘æœåŠ¡å™¨ï¼šç”¨æ¥è‡ªåŠ¨ç¼–è¯‘ï¼Œçƒ­æ›´æ–°ç­‰ åœ¨å†…å­˜ä¸­ç¼–è¯‘æ‰“åŒ…ï¼Œä¸ä¼šæœ‰ä»»ä½•è¾“å‡º è¿è¡Œï¼šwebpack-dev-server è¿è¡Œnpm install webpack-dev-server -Då®‰è£… webpack.config.jsä¸­æ·»åŠ é…ç½® devServer: { contentBase: resolve(__dirname, &#39;build&#39;),// é¡¹ç›®æ„å»ºåçš„è·¯å¾„ compress: true,// å¯åŠ¨gzipå‹ç¼© port: 3000,// ç«¯å£å· open: true,// æ‰“å¼€é»˜è®¤æµè§ˆå™¨ } è¿è¡Œwebpack-dev-server 3 å¼€å‘ç¯å¢ƒé…ç½®const { resolve } = require(&#39;path&#39;); const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); module.exports = { mode: &#39;development&#39;, // mode: &#39;production&#39; entry: &#39;./src/index.js&#39;, output: { filename: &#39;built.js&#39;, path: resolve(__dirname, &#39;build&#39;) }, module: { rules: [{ test: /\\.css$/, use: [ &#39;style-loader&#39;, &#39;css-loader&#39;, ] },{ test: /\\.(jpg|png|gif|jpeg)$/, loader: &#39;url-loader&#39;, options: { limit: 200 * 1024, esModule: false } },{ test: /\\.html$/, loader: &#39;html-loader&#39; }] }, plugins: [ new HtmlWebpackPlugin({ template: &#39;./src/index.html&#39; }) ], devServer: { contentBase: resolve(__dirname, &#39;build&#39;), compress: true, port: 3000, open: true, } } 4 ç”Ÿäº§ç¯å¢ƒæ­å»º4.1 æå–cssæˆå•ç‹¬æ–‡ä»¶ å®‰è£…æ’ä»¶ npm install mini-css-extract-plugin -D ä¿®æ”¹webpack.config.jsé…ç½®æ–‡ä»¶ const MiniCssExtractPlugin = require(&#39;mini-css-extract-plugin&#39;); Â·Â·Â· module: { rules: [{ test: /\\.css$/, use: [ // &#39;style-loader&#39;, MiniCssExtractPlugin.loader,// æ›¿æ¢style-loaderï¼Œæå–cssæˆå•ç‹¬æ–‡ä»¶ &#39;css-loader&#39;, ] }, Â·Â·Â·] }, plugins: [ Â·Â·Â· new MiniCssExtractPlugin({ filename: &#39;css/style.css&#39; }) ], è¿è¡Œæ‰“åŒ…å‘½ä»¤ 4.2 csså…¼å®¹æ€§å¤„ç†ä½¿ç”¨åˆ°postcss è¿è¡Œ npm install postcss-loader postcss-preset-env -D ä¿®æ”¹webpack.config.jsçš„cssç›¸å…³éƒ¨åˆ†é…ç½® { test: /\\.css$/, use: [ MiniCssExtractPlugin.loader, &#39;css-loader&#39;, { loader: &#39;postcss-loader&#39;, options: { ident: &#39;postcss&#39;, plugins: () =&gt; [ require(&#39;postcss-preset-env&#39;)() ] } } ] } åœ¨package.jsonä¸­æ·»åŠ æµè§ˆå™¨ç‰ˆæœ¬æ§åˆ¶ &quot;browerslist&quot;: { &quot;development&quot;: [ &quot;last 1 chrome version&quot;, &quot;last 1 firefox version&quot;, &quot;last 1 safair version&quot; ], &quot;production&quot;: [ &quot;&gt;0.2%&quot;, &quot;not dead&quot;, &quot;not op_mini all&quot; ] } è¿è¡Œæ‰“åŒ… 4.3 å‹ç¼©cssä½¿ç”¨æ’ä»¶ optimize-css-assets-webpack-plugin è¿è¡Œnpm install optimize-css-assets-webpack-plugin -D webpack.config.jsä¸­å¼•å…¥ const OptimizeCssAssetsWebpackPlugin = require(&#39;optimize-css-assets-webpack-plugin&#39;); Â·Â·Â· plugins: [ Â·Â·Â· new OptimizeCssAssetsWebpackPlugin() ] 4.4 jsè¯­æ³•æ£€æŸ¥ä½¿ç”¨eslintï¼Œä½¿ç”¨airbnbè§„åˆ™æ£€æŸ¥jsè¯­æ³• è¿è¡Œ npm install eslint-loader eslint eslint-config-airbnb-base eslint-plugin-import -Då®‰è£…æ‰€éœ€çš„ä¾èµ–å’Œæ’ä»¶ åœ¨package.jsonä¸­è®¾ç½®eslintConfigï¼Œç»§æ‰¿airbnb &quot;eslintConfig&quot;: { &quot;extends&quot;: &quot;airbnb-base&quot; } webpack.config.jsä¸­æ·»åŠ rules { test: /\\.js$/, exclude: /node_modules/,// åªæ£€æŸ¥è‡ªå·±çš„ä»£ç ï¼Œä¸æ£€æŸ¥ç¬¬ä¸‰æ–¹åº“ä¸­çš„ä»£ç  loader: &#39;eslint-loader&#39;, options: { fix: true// è‡ªåŠ¨ä¿®å¤eslinté”™è¯¯ } } ä½¿ç”¨ // eslint-disable-next-lineæ§åˆ¶ä¸‹ä¸€è¡Œä¸è¿›è¡Œæ£€æŸ¥ 4.5 jså…¼å®¹æ€§å¤„ç†ä½¿ç”¨babel-loaderè¿›è¡Œå…¼å®¹æ€§å¤„ç† è¿è¡Œ npm install babel-loader @babel/core @babel/preset-env @babel/polyfill -D æ·»åŠ webpack.config.jsçš„rules { test: /\\.js$/, exclude: /node_modules/, loader: &#39;babel-loader&#39;, options: { presets: [&#39;@babel/preset-env&#39;] } }, @babel/polyfillå±äºé«˜çº§è¯­æ³•æ”¯æŒï¼Œåœ¨éœ€è¦å…¼å®¹çš„jsæ–‡ä»¶ä¸­å¼•å…¥å³å¯ import â€˜@babel/polyfillâ€™ @babel/polyfillå±äºæš´åŠ›æ”¯æŒï¼Œå›äº‹æ‰“åŒ…æ–‡ä»¶å˜çš„éå¸¸å¤§ï¼Œæ‰€ä»¥ä¸€èˆ¬é‡‡ç”¨æŒ‰éœ€åŠ è½½çš„æ–¹å¼ï¼šcore.js è¿è¡Œ npm install corejs -D ä¿®æ”¹ä¹‹å‰çš„å…¼å®¹æ€§é…ç½®è§„åˆ™ { test: /\\.js$/, exclude: /node_modules/, loader: &#39;babel-loader&#39;, options: { presets: [ [ &#39;@babel/preset-env&#39;, { useBuiltIns: &#39;usage&#39;,// æŒ‰éœ€åŠ è½½ corejs: { version: 3 }, targets: {// åˆ¶å®šå…¼å®¹æµè§ˆå™¨ç‰ˆæœ¬ chrome: &#39;60&#39;, firefox: &#39;50&#39;, ie: &#39;9&#39;, safari: &#39;10&#39; } } ] ] } }, 4.6 HTMLå’Œjså‹ç¼©4.6.1 jså‹ç¼©å°†æ¨¡å¼è°ƒæ•´ä¸ºproductionå³å¯å®ç°jsä»£ç å‹ç¼© 4.6.2 HTMLå‹ç¼©åœ¨htmlçš„æ’ä»¶ä¸­æ·»åŠ è®¾ç½® new HtmlWebpackPlugin({ // å¤åˆ¶ç›®æ ‡æ–‡ä»¶å¹¶å¼•å…¥æ‰“åŒ…çš„èµ„æº template: &#39;./src/index.html&#39;, minify: { // ç§»é™¤ç©ºæ ¼ collapseWhitespace: true, // ç§»é™¤æ³¨é‡Š removeComments: true } }), 5 ç”Ÿäº§ç¯å¢ƒé…ç½®const { resolve } = require(&#39;path&#39;); const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); const MiniCssExtractPlugin = require(&#39;mini-css-extract-plugin&#39;); const OptimizeCssAssetsWebpackPlugin = require(&#39;optimize-css-assets-webpack-plugin&#39;); module.exports = { entry: &#39;./src/index.js&#39;, output: { filename: &#39;js/built.js&#39;, path: resolve(__dirname, &#39;build&#39;) }, module: { // loaderé…ç½® rules: [{ test: /\\.css$/, use: [ MiniCssExtractPlugin.loader, &#39;css-loader&#39;, { loader: &#39;postcss-loader&#39;, options: { ident: &#39;postcss&#39;, plugins: () =&gt; [ require(&#39;postcss-preset-env&#39;)() ] } } ] }, { test: /\\.(jpg|png|gif|jpeg)$/, loader: &#39;url-loader&#39;, options: { limit: 200 * 1024, esModule: false } }, { test: /\\.html$/, loader: &#39;html-loader&#39; }, { test: /\\.js$/, exclude: /node_modules/, enforce: &#39;pre&#39;,// ä¼˜å…ˆæ‰§è¡Œ loader: &#39;eslint-loader&#39;, options: { fix: true } }, { test: /\\.js$/, exclude: /node_modules/, loader: &#39;babel-loader&#39;, options: { presets: [ [ &#39;@babel/preset-env&#39;, { useBuiltIns: &#39;usage&#39;, corejs: { version: 3 }, targets: { chrome: &#39;60&#39;, firefox: &#39;50&#39;, ie: &#39;9&#39;, safari: &#39;10&#39; } } ] ] } }, ] }, plugins: [ new HtmlWebpackPlugin({ template: &#39;./src/index.html&#39;, minify: { collapseWhitespace: true, removeComments: true } }), new MiniCssExtractPlugin({ filename: &#39;css/style.css&#39; }), new OptimizeCssAssetsWebpackPlugin() ], devServer: { contentBase: resolve(__dirname, &#39;build&#39;), compress: true, port: 3000, open: true, }, // mode: &#39;development&#39;, mode: &#39;production&#39;, } babelå’Œeslintå¯èƒ½ä¼šäº§ç”Ÿå†²çªä½¿ç”¨enforce: â€˜preâ€™è®©eslintå…ˆæ‰§è¡Œ 6 æ€§èƒ½ä¼˜åŒ–ç¯‡6.1 å¼€å‘ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–6.1.1 ä¼˜åŒ–æ‰“åŒ…æ„å»ºé€Ÿåº¦6.1.1.1HMRâ€”â€”hot module replacementï¼ˆæ¨¡å—çƒ­æ›¿æ¢ï¼‰åªä¼šé‡æ–°æ‰“åŒ…è¿™ä¸€ä¸ªæ¨¡å—ï¼Œä¸ä¼šé‡æ–°æ‰“åŒ… é…ç½®devServer devServer: { contentBase: resolve(__dirname, &#39;build&#39;), compress: true, // å¯åŠ¨gzipå‹ç¼© port: 3000, // ç«¯å£å· open: true, // æ‰“å¼€é»˜è®¤æµè§ˆå™¨ hot: true,// å¼€å¯çƒ­æ›´æ–° }, æ ·å¼æ–‡ä»¶çƒ­æ›´æ–°åŸºäºâ€™style-loaderâ€™ï¼› jsæ–‡ä»¶é»˜è®¤ä¸èƒ½ä½¿ç”¨HMRåŠŸèƒ½ï¼› HTMLæ–‡ä»¶é»˜è®¤ä¸èƒ½ä½¿ç”¨HMRåŠŸèƒ½ï¼ŒåŒæ—¶ä¼šå¯¼è‡´é—®é¢˜ï¼ŒHTMLæ–‡ä»¶ä¸èƒ½çƒ­æ›´æ–°ï¼Œè§£å†³åŠæ³•ï¼šä¿®æ”¹entryå…¥å£ï¼Œå°†htmlæ–‡ä»¶å¼•å…¥ï¼ˆä¸éœ€è¦åšHMRï¼‰ 6.1.1.2 oneOfå‡å°‘loaderæ£€ç´¢æ¯ä¸ªæ–‡ä»¶åœ¨æ£€ç´¢çš„çš„æ—¶å€™ä¼šæ¯ä¸ªruleséƒ½éªŒè¯ä¸€éï¼Œå°†æ‰€æœ‰çš„ruleséƒ½æ”¾åˆ°oneOfä¸­å°±å¯ä»¥éªŒè¯åˆ°æ‰€åœ¨çš„è§„åˆ™ä¸å†ç»§ç»­éªŒè¯ è¿™æ ·å‡ºç°äº†é—®é¢˜ï¼Œjså¯èƒ½ä¼šæœ‰å¤šä¸ªloaderï¼Œè§£å†³åŠæ³•ï¼šoneOfä¸­ä¿ç•™ä¸€æ¡ruleï¼Œå…¶ä»–çš„å–å‡ºæ¥ä¸oneOfå¹³çº§ 6.1.2 ä¼˜åŒ–ä»£ç è°ƒè¯•source-mapï¼šæä¾›è¯­è¨€ä»£ç æ„å»ºåä»£ç æ˜ å°„æŠ€æœ¯ï¼ˆæ„å»ºä»£ç å‡ºé”™ï¼Œè¿½è¸ªæºä»£ç é”™è¯¯ï¼‰ æ·»åŠ devtool devtool: &#39;source-map&#39;, [inline- |hidden- | eval-][nosources-][cheap-[module-]]source-mapåˆ†åˆ«å¯¹åº”ï¼š inline-å†…è”ï¼šï¼ˆæ±‡é›†åœ¨ä¸€èµ·ï¼‰é”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç é”™è¯¯ä½ç½® hidden-å¤–éƒ¨ï¼šä»£ç é”™è¯¯åŸå› ï¼Œæ²¡æœ‰é”™è¯¯ä½ç½®ï¼Œä¸èƒ½è¿½è¸ªä»£ç é”™è¯¯ eval-å†…è”ï¼šï¼ˆåˆ†åˆ«è·Ÿæ¯ä¸ªæ–‡ä»¶å¯¹åº”ï¼‰é”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç é”™è¯¯ä½ç½®ï¼ˆä½ç½®ä¿¡æ¯æ˜¯å“ˆå¸Œå€¼ï¼‰ nosources-å¤–éƒ¨ï¼šé”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯ï¼Œæ²¡æœ‰æºä»£ç é”™è¯¯ä¿¡æ¯ cheap-å¤–éƒ¨ï¼šé”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç é”™è¯¯ä½ç½®ï¼ˆåªç²¾ç¡®åˆ°è¡Œï¼Œæç¤ºæ•´è¡Œé”™è¯¯ï¼‰ cheap-module-å¤–éƒ¨ï¼šé”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç é”™è¯¯ä½ç½® source-map`å¤–éƒ¨ï¼šé”™è¯¯ä»£ç å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç é”™è¯¯ä½ç½®ï¼š æ¨¡å¼ä½¿ç”¨ å¼€å‘ç¯å¢ƒï¼šé€Ÿåº¦å¿«ï¼Œå¼€å‘æ›´å‹å¥½ é€Ÿåº¦å¿«eval&gt;inline&gt;cheap&gt;Â·Â·Â· eval-cheap-source-map eval-source-map è°ƒè¯•æ›´å‹å¥½ source-map cheap-module-source-map cheap-source-map â€“&gt;eval-source-map / eval-cheap-module-source-map ç”Ÿäº§ç¯å¢ƒï¼šæºä»£ç è¦ä¸è¦éšè— å†…è”ä¼šè®©ä»£ç ä½“ç§¯å˜å¤§ï¼Œä½¿ç”¨å¤–éƒ¨æ–¹å¼ source-map Â·Â·Â· éšè—ä»£ç  nosource-source-map// å…¨éƒ¨éšè— hidden-source-map// éšè—æºä»£ç  â€“&gt;source-map / cheap-module-source-map 6.2ç”Ÿäº§ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–ç¼“å­˜æœºåˆ¶babelç¼“å­˜ä¿®æ”¹jsæ‰“åŒ…é…ç½®ï¼Œå¼€å¯ç¼“å­˜ { test: /\\.js$/, exclude: /node_modules/, loader: &#39;babel-loader&#39;, options: { presets: [ [ &#39;@babel/preset-env&#39;, { useBuiltIns: &#39;usage&#39;, // æŒ‰éœ€åŠ è½½ corejs: { version: 3 }, targets: { // åˆ¶å®šå…¼å®¹æµè§ˆå™¨ç‰ˆæœ¬ chrome: &#39;60&#39;, firefox: &#39;50&#39;, ie: &#39;9&#39;, safari: &#39;10&#39; } } ] ], cacheDirectory: true// å¼€å¯ç¼“å­˜ } }, å¼ºç¼“å­˜æ¨¡å¼ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½è¦ç¼“å­˜ï¼Œä»æ–°æ‰“åŒ…ä¹‹åä¸ä¼šè¯•ç”¨æ–°çš„æ–‡ä»¶ æ–‡ä»¶èµ„æºç¼“å­˜hashè¿™é‡Œä¿®æ”¹è¾“å‡ºæ–‡ä»¶åï¼Œæ¯æ¬¡åˆ°æ‰“åŒ…ä¹‹åçš„æ–‡ä»¶éƒ½ä¸ä¸€æ ·ï¼Œè¿™å°±ä¸åŠ ç»äº†å¼ºåˆ¶ç¼“å­˜å¸¦æ¥çš„ä¸åˆ·æ–°äº†ï¼ˆå–10ä½hashå€¼ï¼‰ output: { filename: &#39;js/built[hash:10].js&#39;, // è¾“å‡ºæ–‡ä»¶å path: resolve(__dirname, &#39;build&#39;) // è¾“å‡ºè·¯å¾„ }, æ‰€æœ‰çš„jså’Œcssæ–‡ä»¶å…±ç”¨ä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œé‡æ–°æ‰“åŒ…ä¼šå¯¼è‡´æ‰€æœ‰çš„ç¼“å­˜å¤±æ•ˆ chunkhashæ ¹æ®chunkç”Ÿæˆçš„hashå€¼ï¼Œå¦‚æœæ‰“åŒ…æºæ¥è‡ªåŒä¸€ä¸ªchunkï¼Œé‚£ä¹ˆhashå€¼ç›¸åŒ æ­¤æ—¶ï¼Œjså’Œcssçš„hashå€¼è¿˜æ˜¯ç›¸åŒï¼Œå› ä¸ºcssæ˜¯åœ¨jsä¸­å¼•å…¥çš„ï¼ŒåŒå±äºä¸€ä¸ªchunk contenthashæ ¹æ®æ–‡ä»¶å†…å®¹ç”Ÿæˆhashï¼Œä¸åŒæ–‡ä»¶hashå€¼ä¸€å®šä¸ä¸€æ · filename: &#39;js/built[contenthash:10].js&#39; å¦‚æœå•ç‹¬æå–äº†cssï¼Œcsså‘½åä¿®æ”¹ä¸º new MiniCssExtractPlugin({ filename: &#39;css/style-[contenthash:10].css&#39; }) tree shakingå»é™¤æ— ç”¨ä»£ç  å¿…é¡»ä½¿ç”¨ES6æ¨¡å—åŒ– å¼€å¯productionç¯å¢ƒ æ‰“åŒ…æ˜¯ä¼šè‡ªåŠ¨æ‘‡å»æ²¡æœ‰ç”¨çš„å¶å­ åœ¨package.jsonä¸­é…ç½®&quot;sideEffects&quot;: falseæ‰€æœ‰ä»£ç éƒ½æ²¡æœ‰å‰¯ä½œç”¨ â€‹ é—®é¢˜ï¼šå¯èƒ½ä¼šæŠŠcssæ–‡ä»¶å¹²æ‰ï¼Œè§£å†³&quot;sideEffects&quot;: [&quot;*.css&quot;] code splitæ–‡ä»¶åˆ†å‰² å¤šå…¥å£æ–‡ä»¶åˆ†å‰² æ·»åŠ webpack.config.jsé…ç½®é¡¹ï¼Œå°†nodeä¸­çš„ä»£ç å•ç‹¬æ‰“åŒ…ä¸€ä¸ªchunksï¼Œè‡ªåŠ¨åˆ†æå¤šå…¥å£æ–‡ä»¶ä¸­æœ‰æ²¡æœ‰å…¬å…±æ–‡ä»¶ï¼Œå¦‚æœæœ‰ä¼šå•ç‹¬æ‰“åŒ…æˆä¸€ä¸ªchunk optimization: { splitChunks: { chunks: &#39;all&#39; } }, é€šè¿‡jsä»£ç ï¼Œè®©æŸä¸ªæ–‡ä»¶å•ç‹¬æ‰“åŒ…æˆä¸€ä¸ªchunk æ‡’åŠ è½½ã€é¢„åŠ è½½æ‡’åŠ è½½document.getElementById(&#39;btn&#39;).onclick = function() { import(/* webpackChunkName: &#39;test&#39;*/&#39;./js/test.js&#39;) .then(({mul}) =&gt; { console.log(mul(4, 5)); }) } å°†å¼•å…¥æ”¾åœ¨äº‹ä»¶çš„å›è°ƒå‡½æ•°ä¸­ï¼Œäº‹ä»¶è§¦å‘æ—¶æ‰åŠ è½½jsæ–‡ä»¶ é…åˆeslintè¯­æ³•æ£€æŸ¥æ˜¯æœ‰é—®é¢˜çš„ï¼Œåœ¨.eslintrcæ–‡ä»¶æ±‡æ€»è®¾ç½® &quot;allowImportExportEverywher&quot;: trueï¼Œå…è®¸åœ¨ä»»ä½•åœ°æ–¹import é¢„åŠ è½½å°†å¼•å…¥æ”¹ä¸º import(/* webpackChunkName: &#39;test&#39;, webpackPrefetch: true */&#39;./js/test.js&#39;) é¢„åŠ è½½ä¼šæå‰å°†jsæ–‡ä»¶åŠ è½½ åŒºåˆ« æ‡’åŠ è½½ï¼šæ–‡ä»¶éœ€è¦æ‰åŠ è½½ é¢„åŠ è½½ï¼šä½¿ç”¨ä¹‹å‰åŠ è½½ï¼Œæµè§ˆå™¨ç©ºé—²å†åŠ è½½ï¼ˆå…¼å®¹æ€§è¾ƒå·®ï¼‰ æ­£å¸¸åŠ è½½ï¼šå¹¶è¡ŒåŠ è½½ PWAæ¸è¿›å¼ç½‘ç»œå¼€å‘åº”ç”¨ç¨‹åºï¼ˆç¦»çº¿å¯è®¿é—®ï¼‰ â€‹ workboxâ€“&gt;workbox-webpack-plugin è¿è¡Œ npm install workbox-webpack-plugin -D ä¿®æ”¹webpack.config.jsé…ç½® const WorkboxWebpackPlugin = require(&#39;workbox-webpack-plugin&#39;); Â·Â·Â· plugin: [ Â·Â·Â· new WorkboxWebpackPlugin.GenerateSW({ clientsClaim: true, skipWaiting: true }) ] å¸®åŠ©serviceworkerå¿«é€Ÿå¯åŠ¨ï¼›åˆ é™¤æ—§çš„serviceworker åœ¨å…¥å£æ–‡ä»¶ä¸­æ³¨å†Œserviceworkerï¼Œå¤„ç†å…¼å®¹ if(&#39;serviceWorker&#39; in navigator) { window.addEventListener(&#39;load&#39;, () =&gt; { navigator.serviceWorker.register(&#39;./service-worker.js&#39;) .then(() =&gt; { console.log(&#39;swæ³¨å†ŒæˆåŠŸ&#39;) }).catch(() =&gt; { console.log(&#39;swæ³¨å†Œå¤±è´¥&#39;) }) }) } eslintä¸è¯†åˆ«windowï¼Œnavigatorç­‰å…¨å±€å˜é‡ï¼Œä¿®æ”¹package.jsoné…ç½® &quot;eslintConfig&quot;: { &quot;extends&quot;: &quot;airbnb-base&quot;, &quot;env&quot;: { &quot;browser&quot;: true// æ”¯æŒæµè§ˆå™¨å…¨å±€å˜é‡ } } æ„å»ºä»£ç  å¤šè¿›ç¨‹æ‰“åŒ…æ¶ˆè€—æ—¶é—´é•¿çš„æ‰éœ€è¦å¤šè¿›ç¨‹æ‰“åŒ…ï¼Œå¤šè¿›ç¨‹å¼€å§‹éœ€è¦æ—¶é—´ï¼Œè¿›ç¨‹é€šä¿¡ä¹Ÿéœ€è¦æ—¶é—´ è¿è¡Œnpm install thread-loader -D ä¿®æ”¹webpack.config.jsä¸­babelæ‰€åœ¨çš„rule { test: /\\.js$/, exclude: /node_modules/, use: [ { loader: &#39;thread-loader&#39;,// å¤šè¿›ç¨‹æ‰“åŒ… options: { workers: 2,// ä½¿ç”¨ä¸¤ä¸ªè¿›ç¨‹ } }, { loader: &#39;babel-loader&#39;, Â·Â·Â· } ] }, externalså¿½ç•¥æŸäº›åŒ…ï¼Œæ¯”å¦‚CDNå¼•å…¥çš„ åœ¨webpack.config.jsç¬¬ä¸€çº§ç›®å½•ä¸‹æ·»åŠ  externals: { // åŒ…åï¼š npmåº“å jquery: &#39;jQuery&#39; } dll æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ webpack.dll.js const {resolve} = require(&#39;path&#39;); const webpack = require(&#39;webpack&#39;); module.exports = { entry: { // [name]: è¦æ‰“åŒ…çš„åº“å jquery: [&#39;jquery&#39;] }, output: { filename: &#39;[name].js&#39;, path: resolve(__dirname, &#39;dll&#39;), library: &#39;[name]_[hash]&#39;// æ‰“åŒ…åº“é‡Œæš´éœ²çš„å†…å®¹å«ä»€ä¹ˆå }, plugins: [ // æ‰“åŒ…ç”Ÿæˆä¸€ä¸ªæ˜ å°„å…³ç³» new webpack.DllPlugin({ name: &#39;[name]_[hash]&#39;,// æ˜ å°„åº“æš´éœ²çš„å†…å®¹åç§° path: resolve(__dirname, &#39;dll/manifast.json&#39;)// è¾“å‡ºæ–‡ä»¶è·¯å¾„ }) ], mode: &#39;production&#39; } è¿è¡Œå‘½ä»¤ webpack --config webpack.dll.js è¿è¡Œ npm install add-asset-html-webpack-plugin -D ä¿®æ”¹webpack.config.jsé…ç½® const webpack = require(&#39;webpack&#39;); const AddAssetHtmlWebpackPlugin = require(&#39;add-asset-html-webpack-plugin&#39;); Â·Â·Â· plugins: [ Â·Â·Â· // å‘Šè¯‰webpacké‚£äº›æ–‡ä»¶ä¸éœ€è¦æ‰“åŒ…ï¼Œä»¥åŠæ˜ å°„å…³ç³» new webpack.DllReferencePlugin({ manifest: resolve(__dirname, &#39;dll/manifest&#39;) }), // å°†æ–‡ä»¶æ‰“åŒ…è¾“å‡ºï¼Œå¹¶åœ¨htmlè‡ªåŠ¨å¼•å…¥è¯¥æ–‡ä»¶ new AddAssetHtmlWebpackPlugin({ filepath: resolve(__dirname, &#39;dll/&#39;) }) ]","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"node","slug":"node","permalink":"https://easyremember.cn/tags/node/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"pugæ¨¡æ¿æ¸²æŸ“","slug":"ç¬”è®°/pugæ¨¡æ¿æ¸²æŸ“","date":"2020-09-08T01:04:47.328Z","updated":"2020-09-20T00:35:34.997Z","comments":true,"path":"2020/09/08/ç¬”è®°/pugæ¨¡æ¿æ¸²æŸ“/","link":"","permalink":"https://easyremember.cn/2020/09/08/ç¬”è®°/pugæ¨¡æ¿æ¸²æŸ“/","excerpt":"","text":"å¼€å§‹ pugç”±jadeæ”¹åè€Œæ¥ï¼Œé€šè¿‡ç¼©è¿›ï¼ˆè¡¨ç¤ºæ ‡ç­¾é—´çš„åµŒå¥—å…³ç³»ï¼‰çš„æ–¹å¼æ¥ç¼–å†™ä»£ç çš„è¿‡ç¨‹ï¼Œåœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œä¸éœ€è¦è€ƒè™‘æ ‡ç­¾æ˜¯å¦é—­åˆçš„é—®é¢˜ã€‚å¯ä»¥åŠ å¿«å†™ä»£ç é€Ÿåº¦ï¼Œä¹Ÿä¸ºä»£ç å¤ç”¨æä¾›äº†ä¾¿æ·ã€‚ ç¼–è¯‘pugæ¨¡æ¿éœ€è¦å®‰è£…npmåŒ… $ npm install pug æ–°å»ºpugæ¨¡æ¿ div p #{name}ä»Šå¹´#{age}å²äº† é€šè¿‡jsè§£æpugæ¨¡æ¿ï¼Œéœ€è¦å¼•å…¥pugæ¨¡å— const pug = require(&#39;pug&#39;); const compiledFunction = pug.compileFile(&#39;template.pug&#39;); console.log(compiledFunction({ name: &#39;å¼ ä¸‰&#39;, age: 14, })); console.log(compiledFunction({ name: &#39;æå››&#39;, age: 25, })); ä½¿ç”¨nodeè¿è¡Œjsæ–‡ä»¶ï¼Œç»“æœå¦‚å›¾ ä¹Ÿå¯ä»¥å°†è§£æå’Œæ¸²æŸ“æ”¾åœ¨ä¸€èµ·ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¯¹æ€§èƒ½é€ æˆå½±å“ï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ç¼“å­˜è§£å†³ console.log(pug.renderFile(&#39;template.pug&#39;, { name: &#39;ç‹äº”&#39;, age: 30, })); è¯­æ³•æ³¨é‡Šä½¿ç”¨//å¯ä»¥è½¬ä¹‰ç”Ÿæˆhtmlæ³¨é‡Šï¼›ä½¿ç”¨//-è¡¨ç¤ºpugå†…éƒ¨çš„æ³¨é‡Šï¼Œä¸è½¬ä¹‰ï¼›æ¡ä»¶æ³¨é‡Šç›´æ¥å†™ï¼Œ&lt;å¼€å¤´çš„ä¼šè¢«å½“ä½œæ–‡æœ¬ å±æ€§ç”¨é€—å·ä½œä¸ºå±æ€§åˆ†éš”ç¬¦ï¼Œä¸åŠ ä¹Ÿå¯ï¼ˆå¯ä»¥ä½¿ç”¨JavaScriptè¡¨è¾¾å¼ï¼‰ï¼›å½“å±æ€§æœ‰å¾ˆå¤šæ—¶å¯ä»¥åˆ†å¤šè¡Œ div(class=&#39;pug-style&#39; id=&#39;div-1&#39;) - var isTrue = true p(class=isTrue ? &#39;success&#39; : &#39;faild&#39;) #{name}ä»Šå¹´#{age}å²äº† å½“å±å§“åä¸­å«æœ‰ä¸€äº›å¯èƒ½ä¼šäº§ç”Ÿè¯­æ³•å†²çªçš„å­—ç¬¦æ—¶ï¼Œä½¿ç”¨&quot;&quot;ã€&#39;&#39;å°†è¿™äº›å±æ€§ååŒ…è£¹èµ·æ¥ï¼Œæˆ–è€…ä½¿ç”¨é€—å·å°†å‰åå±æ€§åˆ†éš”å¼€ å±æ€§å¯ä»¥ä½¿ç”¨JavaScriptè¯­æ³•åµŒå…¥ï¼Œä¾‹å¦‚ï¼š - var url = &#39;www.baidu.com&#39; a(href=&#39;http://&#39; + url) å¦‚æœè¿è¡Œç¯å¢ƒæ”¯æŒES6ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²${} ä½¿ç”¨!=å¯ä»¥ä¸è½¬ä¹‰ï¼ˆä¸æ¨èï¼Œå¾ˆå±é™©ï¼Œä¼šé­åˆ°è„šæœ¬æ”»å‡»ï¼‰ trueå’Œfalseçš„ä½¿ç”¨ //- é»˜è®¤ä¸ºtrue input(type=&#39;checkbox&#39; checked) input(type=&#39;checkbox&#39; checked=true) //- fasleä¸å˜å¼‚ input(type=&#39;checkbox&#39; checked=false) //- toStringä¿ç•™trueçš„å€¼ input(type=&#39;checkbox&#39; checked=true.toString()) //- ç¼–è¯‘ç»“æœå¦‚ä¸‹ &lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot;/&gt; &lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot;/&gt; &lt;input type=&quot;checkbox&quot;/&gt; &lt;input type=&quot;checkbox&quot; checked=&quot;true&quot;/&gt; å¦‚æœå£°æ˜doctype htmlç¼©å†™æ ·å¼checkedå°±ä¸ä¼šæ˜ å°„å±æ€§ è¡Œå†…æ ·å¼ä½¿ç”¨{}ï¼Œç±»å±æ€§ä½¿ç”¨[]å¯ä»¥åµŒå…¥ a(style={color: &#39;red&#39;, &#39;background-color&#39;: &#39;#409eff&#39;}) - var classes = [&#39;test&#39;, &#39;test2&#39;] a(class=[&#39;blue-div&#39;, &#39;big-div&#39;], class=classes) å±æ€§åæœ‰çŸ­æ¨ªçº¿è¿æ¥çš„ï¼Œå±æ€§åéœ€è¦åŠ å¼•å·ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºé”™ å­—é¢å€¼ a.button = &lt;a class=&quot;button&quot;&gt;&lt;/a&gt; .content = &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;ï¼ˆdivè¿‡äºå¸¸è§ï¼Œå¯ä»¥çœç•¥ï¼‰ a#main-link = &lt;a id=&quot;main-link&quot;&gt;&lt;/a&gt; #content = &lt;div id=&quot;content&quot;&gt;&lt;/div&gt; ä½¿ç”¨&amp;attributeså¯ä»¥å°†ä¸€ä¸ªå¯¹è±¡è¿½åŠ åˆ°å±æ€§åˆ—è¡¨ä¸­ï¼ˆæœ‰ä¸€å®šçš„å±é™©æ€§ï¼Œå‡å°‘ä½¿ç”¨ï¼‰ åˆ†æ”¯æ¡ä»¶ç±»Cè¯­è¨€ä¸­éƒ½ä¼šæœ‰switchè¿™ä¸ªè¯­æ³•ï¼Œpugä¸­ä½¿ç”¨caseè¡¨ç¤º pugä¸­åœ¨æ²¡æœ‰é‡åˆ°éç©ºè¯­å¥ä¹‹å‰ä¼šä¸€ç›´æ‰§è¡Œä¸‹å»ï¼Œå½“ä¸æƒ³ä¼ é€’åˆ†æ”¯æ—¶ä½¿ç”¨- breakæ¥ä¸­æ–­åˆ†æ”¯ä¼ é€’ å¾ªç¯ä½¿ç”¨foræ§åˆ¶å¾ªç¯ -for (var i = 0; i &lt; 5; i++) li item //- è¾“å‡º &lt;li&gt;item&lt;/li&gt; &lt;li&gt;item&lt;/li&gt; &lt;li&gt;item&lt;/li&gt; &lt;li&gt;item&lt;/li&gt; &lt;li&gt;item&lt;/li&gt; é€šè¿‡eachæ§åˆ¶å¾ªç¯ - var arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;] each item in arr li= item //- è¾“å‡º &lt;li&gt;a&lt;/li&gt; &lt;li&gt;b&lt;/li&gt; &lt;li&gt;c&lt;/li&gt; &lt;li&gt;d&lt;/li&gt; å¦å¤–ï¼Œå¯ä»¥ç”¨whileæ§åˆ¶å¾ªç¯ ä½¿ç”¨=å¯ä»¥è½¬ä¹‰ä»£ç ï¼Œç­‰å·æ¢è¡Œæˆ–è€…è¡Œå†…ç´§è´´çˆ¶æ ‡ç­¾ï¼›ä½¿ç”¨!=å¯ä»¥ä¸è½¬ä¹‰è¾“å‡ºï¼Œæ¯”å¦‚æºå¸¦æ ‡ç‚¹ç¬¦å·ç­‰ æ¡ä»¶ä½¿ç”¨ifå¯ä»¥è¿›è¡Œæ¡ä»¶åˆ¤æ–­ - var user = {name: &#39;å¼ ä¸‰&#39;} - var isTrue = false div if isTrue h2.blue æè¿° else if user h2.green æè¿° p.des= user.name else h2.red æè¿° //- è¾“å‡º &lt;div&gt; &lt;h2 class=&quot;green&quot;&gt;æè¿°&lt;/h2&gt; &lt;p class=&quot;des&quot;&gt;å¼ ä¸‰&lt;/p&gt; &lt;/div&gt; unlessç­‰ä»·äº!= åŒ…å«ä½¿ç”¨includeå…³é”®å­—å¼•å…¥å¤–éƒ¨æ–‡æœ¬ï¼Œå¯ä»¥æ˜¯pugæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯jsæ–‡ä»¶ç­‰ è¢«åŒ…å«çš„æ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼ˆå¦‚ include /root.pugï¼‰ï¼Œé‚£ä¹ˆå‰é¢ä¼šåŠ ä¸Š options.basedir é€‰é¡¹å±æ€§æ¥è¿›è¡Œè§£æã€‚å¦åˆ™ï¼Œè·¯å¾„åº”è¯¥ç›¸å¯¹äºæ­£åœ¨è¢«ç¼–è¯‘çš„å½“å‰æ–‡ä»¶ åµŒå…¥ #{}è½¬ä¹‰ï¼Œå¯ä»¥æ·»åŠ æ­£ç¡®çš„ä»»æ„JavaScriptè¡¨è¾¾å¼ã€‚ å¦‚æœéœ€è¦#{}æ–‡æœ¬ï¼Œå¯ä»¥ä½¿ç”¨\\æˆ–è€…#{}æ¥è½¬ä¹‰ ä½¿ç”¨!{}ä¸è½¬ä¹‰ï¼Œå…·æœ‰ä¸€å®šçš„å±é™©æ€§ ä½¿ç”¨#[]è½¬ä¹‰pugè¯­å¥ *æ··å…¥è¿™æ˜¯pugå¾ˆå¼ºå¤§çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œç±»ä¼¼äºå‡½æ•°ç¼–ç¨‹ï¼Œå¯ä»¥ä¼ å‚ mixin eat(food) li ä¸­åˆåƒ#{food} ul +eat(&#39;ç‚¸é¸¡&#39;) +eat(&#39;çƒ¤é¸­&#39;) //- è¾“å‡º &lt;ul&gt; &lt;li&gt;ä¸­åˆåƒç‚¸é¸¡&lt;/li&gt; &lt;li&gt;ä¸­åˆåƒçƒ¤é¸­&lt;/li&gt; &lt;/ul&gt; ä¹Ÿå¯ä»¥æŠŠä»£ç å—ä¼ å…¥ï¼Œç±»ä¼¼äºVueçš„æ’æ§½ï¼Œé€šè¿‡blockæ¥æ”¶ä¼ è¿›æ¥çš„ä»£ç å— mixin user(name) .user h2 #{name} if block block else p æ²¡æœ‰è¯¦ç»†èµ„æ–™ +user(&#39;å¼ ä¸‰&#39;) +user(&#39;å¼ ä¸‰&#39;) p age: 14 p address: china //- è¾“å‡º &lt;div class=&quot;user&quot;&gt; &lt;h2&gt;å¼ ä¸‰&lt;/h2&gt; &lt;p&gt;æ²¡æœ‰è¯¦ç»†èµ„æ–™&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;user&quot;&gt; &lt;h2&gt;å¼ ä¸‰&lt;/h2&gt; &lt;p&gt;age: 14&lt;/p&gt; &lt;p&gt;address: china&lt;/p&gt; &lt;/div&gt; å¯ä»¥ä¼ å…¥å±æ€§ï¼Œåœ¨å¼•ç”¨æ··å…¥çš„æ—¶å€™ä¼ å…¥å±æ€§ mixin link(href, name) a(class!=attributes.class, href=href) name //- ä½¿ç”¨!=é˜²æ­¢äºŒæ¬¡è½¬ä¹‰ +link(&#39;www.baidu.com&#39;, &#39;ç™¾åº¦&#39;)(class=&quot;button&quot;) //- è¾“å‡º &lt;a class=&quot;button&quot; href=&quot;www.baidu.com&quot;&gt;name&lt;/a&gt; æ”¯æŒES6çš„å±•å¼€è¿ç®—ç¬¦ mixin ulArr(className, ...items) ul(class=className) each item in items li= item else li æ²¡æœ‰å†…å®¹ +ulArr(&#39;ulArr&#39;, 1,2,3,4) ç»“æŸï¼Œåˆä¸€é—¨æ–°æŠ€èƒ½æœ€åæ¨èä¸€ä¸ªåœ¨çº¿è½¬æ¢HTMLå’Œpugçš„ç½‘ç«™","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"node","slug":"node","permalink":"https://easyremember.cn/tags/node/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"Androidç¬”è®°","slug":"ç¬”è®°/Androidç¬”è®°","date":"2020-09-07T12:09:01.520Z","updated":"2020-09-07T12:11:32.797Z","comments":true,"path":"2020/09/07/ç¬”è®°/Androidç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/09/07/ç¬”è®°/Androidç¬”è®°/","excerpt":"","text":"Androidç¬”è®° xmlä¸­çš„å„ç§å­—ç¬¦ä¸²æ•°æ®å»ºè®®æ”¾åœ¨valuesç›®å½•ä¸‹çš„string.xmlä¸­ &lt;resources&gt; &lt;string name=&quot;app_name&quot;&gt;HelloWorld&lt;/string&gt; &lt;/resources&gt; 1. æ´»åŠ¨1.1 åˆ›å»ºæ´»åŠ¨åœ¨åŒ…ä¸‹å³é”®åˆ›å»ºæ–°çš„æ´»åŠ¨ 1.2 åˆ›å»ºå¹¶åŠ è½½å¸ƒå±€åœ¨èµ„æºç›®å½•ä¸‹çš„layoutæ–‡ä»¶å¤¹ä¸‹å³é”®åˆ›å»ºæ–°çš„å¸ƒå±€èµ„æºï¼ˆAndroid Studioé»˜è®¤åˆ›å»ºï¼‰ é…ç½®å¥½å¸ƒå±€ä¹‹ååœ¨æ´»åŠ¨ç±»ä¸‹æ·»åŠ å¸ƒå±€ public class List extends AppCompatActivity { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_list); } 1.3åœ¨æ´»åŠ¨ä¸­ä½¿ç”¨ToastToastæ˜¯å®‰å“åº”ç”¨ä¸­ä¸€ç§æ¯”è¾ƒå¸¸ç”¨çš„æç¤ºæ–¹å¼ æ·»åŠ æ–¹æ³•ä¹Ÿæ¯”è¾ƒç®€å• Toast.makeText(this, &quot;click add&quot;, Toast.LENGTH_SHORT).show(); makeTextæ–¹æ³•å‚æ•°ï¼š thisï¼šä¸Šä¸‹æ–‡ï¼Œå¦‚æœåµŒå¥—å¤ªæ·±thisæŒ‡å‘ä¼šé”™è¯¯ï¼Œå¯æ”¹ä¸ºå½“å‰æ´»åŠ¨.thisã€getContext()ï¼Œä¹Ÿå¯ä»¥åœ¨å¤–å±‚å®šä¹‰ä¸€ä¸ªContext that = this;ç”¨æ¥ä¼ é€’this â€œclick addâ€ï¼šå­—ç¬¦ä¸²ï¼ŒToastè¦æ˜¾ç¤ºçš„ä¿¡æ¯ï¼Œå¯ä»¥æ˜¯å˜é‡ Toast.LENGTH.SHORTï¼šæ˜¾ç¤ºæ—¶é—´2ç§’ï¼ŒLONGæ˜¯3.5ç§’ show()æ–¹æ³•ä¸è¦å¿˜è®°æ·»åŠ  1.4åœ¨æ´»åŠ¨ä¸­ä½¿ç”¨menuåœ¨resä¸‹åˆ›å»ºmenuç›®å½•ï¼Œæ–°å»ºxmlæ–‡ä»¶ï¼Œå†…å®¹æ ¼å¼å¦‚ä¸‹ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt; &lt;item android:id=&quot;@+id/add_item&quot; android:title=&quot;Add&quot;/&gt; &lt;item android:id=&quot;@+id/sub_item&quot; android:title=&quot;Sub&quot;/&gt; &lt;/menu&gt; åœ¨è¦æ·»åŠ menuçš„æ´»åŠ¨ä¸­æ·»åŠ èœå•ï¼Œæ ¼å¼å¦‚ä¸‹ @Override public boolean onCreateOptionsMenu(Menu menu) { getMenuInflater().inflate(R.menu.main, menu); return super.onCreateOptionsMenu(menu); } @Override public boolean onOptionsItemSelected(@NonNull MenuItem item) { Context that = this; switch (item.getItemId()) { case R.id.add_item: Toast.makeText(that, &quot;click add&quot;, Toast.LENGTH_SHORT).show(); break; case R.id.sub_item: Toast.makeText(this, &quot;click sub&quot;, Toast.LENGTH_SHORT).show(); break; default: break; } return super.onOptionsItemSelected(item); } 1.5åœ¨æ´»åŠ¨ä¹‹é—´ç©¿æ¢­ä¸€ä¸ªå®‰å“åº”ç”¨é€šå¸¸ä¸æ­¢ä¸€ä¸ªæ´»åŠ¨ï¼Œéœ€è¦åœ¨ä¸åŒçš„æ´»åŠ¨ä¹‹é—´æ¥å›ç©¿æ¢­æ¥å®Œæˆå„ç§æ“ä½œ 1.5.1æ˜¾å¼ç©¿æ¢­é¡¾åæ€ä¹‰ï¼Œæ˜¾ç¤ºç©¿æ¢­å¾ˆæ˜æ˜¾èƒ½çœ‹å‡ºè¦è·³è½¬åˆ°é‚£ä¸ªæ´»åŠ¨ åœ¨é¡µé¢ä¸­æœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»æŒ‰é’®è§¦å‘åˆ‡æ¢æ´»åŠ¨çš„äº‹ä»¶ Button btn_third = (Button) findViewById(R.id.btn_third); btn_third.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent3 = new Intent(MainActivity.this, List.class); startActivity(intent3); } }); å…ˆç»™buttonæ·»åŠ äº‹ä»¶ç›‘å¬ï¼Œå½“è§¦å‘æ—¶é—´æ—¶ï¼Œä½¿ç”¨Intentç©¿æ¢­äº‹ä»¶ Intentæ„é€ å‡½æ•°ï¼š MainActivity.thisï¼šä¸Šä¸‹æ–‡ List.classï¼šè¦è·³è½¬çš„æ´»åŠ¨ï¼ˆåå°„ï¼‰ æ´»åŠ¨éœ€è¦åœ¨Mainfestä¸­æ³¨å†Œï¼Œè¿™äº›åœ¨åˆ›å»ºæ´»åŠ¨æ—¶Android Studioé»˜è®¤æ·»åŠ äº†ï¼Œå¦‚æœæ²¡æœ‰ä¼šæŠ¥é”™ 1.5.2éšå¼ç©¿æ¢­éšå¼ç©¿æ¢­ä¸ä¼šå¾ˆå®¹æ˜“çœ‹å‡ºè¦è·³è½¬çš„ç›®çš„ã€ é¦–å…ˆï¼Œéšå¼ç©¿æ¢­éœ€è¦é…ç½®Mainfest &lt;activity android:name=&quot;.List&quot;&gt; &lt;intent-filter&gt; &lt;action android:name=&quot;com.example.hello.MAIN&quot; /&gt; &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt; &lt;category android:name=&quot;com.example.hello.MY_CATEGORY&quot; /&gt; &lt;/intent-filter&gt; &lt;/activity&gt; ç„¶ååœ¨è·³è½¬æ—¶ä½¿ç”¨å¦ä¸€ç§æ–¹å¼ Button btn_third = (Button) findViewById(R.id.btn_third); btn_third.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent3 = new Intent(&quot;com.example.hello.MAIN&quot;); // åªä½¿ç”¨äº†android.intent.category.DEFAULTï¼Œè¿™é‡Œå¯ä»¥ä¸æ·»åŠ category,å¦‚æœè‡ªå®šä¹‰äº†categoryå°±å¿…é¡»è¦æ·»åŠ  intent3.addCategory(&quot;com.example.hello.MY_CATEGORY&quot;); startActivity(intent3); } }); é…ç½®æ—¶æ³¨æ„actionå’Œcategoryçš„åŒ…è·¯å¾„ï¼Œåªæœ‰actionå’Œcategoryä¸€è‡´æ‰ä¼šè¿›è¡Œè·³è½¬ æ›´å¤šéšå¼ç©¿æ¢­ç”¨æ³• è·³è½¬ç½‘é¡µ ç‚¹å‡»äº‹ä»¶å¦‚ä¸‹ Intent intent = new Intent(Intent.ACTION_VIEW); intent.setData(Uri.parse(&quot;http://www.baidu.com&quot;)); startActivity(intent); åœ¨Mainfestå¯¹åº”äº‹ä»¶ä¸­æ·»åŠ dataæ ‡ç­¾ &lt;activity android:name=&quot;.SecondActivity&quot;&gt; &lt;intent-filter tools:ignore=&quot;AppLinkUrlError&quot;&gt; &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt; &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt; &lt;data android:scheme=&quot;http&quot; /&gt; &lt;/intent-filter&gt; &lt;/activity&gt; æ‹¨æ‰“ç”µè¯ 1.5.3 æ´»åŠ¨ä¹‹é—´ä¼ é€’æ•°æ®åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ´»åŠ¨ä¹‹é—´åˆ‡æ¢éœ€è¦æºå¸¦æ•°æ®ï¼ŒIntentæä¾›äº†putExtraæ–¹æ³•æ¥ä¼ é€’æ•°æ®ï¼Œåœ¨MainActivityä¸­é€šè¿‡æŒ‰é’®è§¦å‘äº‹ä»¶ï¼Œæºå¸¦å‚æ•°è·³è½¬åˆ°SecondActivity Button btn = (Button) findViewById(R.id.button1); btn.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent = new Intent(MainActivity.this, SecondActivity.class); intent.putExtra(&quot;extra_value1&quot;, 10); intent.putExtra(&quot;extra_value2&quot;, &quot;by first&quot;); startActivityForResult(intent, 1); } }); startActivityForResult(intent, 1);ä¸åŒçš„è¯·æ±‚é€šè¿‡è¯·æ±‚ç è¿›è¡ŒåŒºåˆ† åœ¨SecondActivityä¸­æ¥æ”¶å‚æ•°å¹¶æ˜¾ç¤ºåˆ°é¡µé¢ä¸Š final Intent intent = getIntent(); String str = intent.getStringExtra(&quot;extra_value2&quot;); int i = intent.getIntExtra(&quot;extra_value1&quot;, -1); // intç±»å‹çš„æ•°æ®æ¥æ”¶æ—¶å¯ä»¥è®¾ç½®é»˜è®¤å€¼ String string = str + i; TextView textView = (TextView) findViewById(R.id.textView); textView.setText(string); 1.5.4å‘ä¸Šä¸€ä¸ªæ´»åŠ¨è¿”å›æ•°æ®å½“ç„¶ï¼ŒSecondActivityä¹Ÿå¯ä»¥å‘MainActivityä¼ é€’æ•°æ® @Override public void onBackPressed() { // super.onBackPressed(); Intent intent1 = new Intent(); intent1.putExtra(&quot;data_return&quot;, &quot;I am second&quot;); setResult(RESULT_OK, intent1); finish(); } å½“æŒ‰ä¸‹è¿”å›é”®æ—¶ï¼ˆå¯ä»¥é€šè¿‡å…¶ä»–äº‹ä»¶è§¦å‘ï¼‰ï¼Œå‘ä¸»é¡µé¢ä¼ é€’æ•°æ®ï¼Œè¿™é‡Œè¦è®¾ç½®resultè¿”å›çš„çŠ¶æ€ åœ¨ä¸»æ´»åŠ¨ä¸­æ¥æ”¶SecondActivityä¼ å›æ¥çš„æ•°æ® @Override protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) { super.onActivityResult(requestCode, resultCode, data); switch (requestCode) { case 1: if (resultCode == RESULT_OK) { assert data != null; String returnStr = data.getStringExtra(&quot;data_return&quot;); Toast.makeText(this, returnStr, Toast.LENGTH_SHORT).show(); } break; default: break; } } onActivityResult(requestCode, resultCode, data) requestCodeï¼šè¯·æ±‚ç ï¼Œåœ¨å‘é€è¯·æ±‚æ—¶æºå¸¦çš„code resultCodeï¼šå“åº”ç ï¼Œæ´»åŠ¨è¿”å›æ•°æ®æ—¶è®¾ç½®çš„code dataï¼šæ¥æ”¶çš„æ•°æ® 1.6 æ´»åŠ¨çš„ç”Ÿå‘½å‘¨æœŸ 1.7 æ´»åŠ¨çš„å¯åŠ¨æ¨¡å¼å‚è€ƒæ´»åŠ¨çš„å¯åŠ¨æ¨¡å¼ 2. UIç»„ä»¶ç›¸å…³çœç•¥ 2.1 å¸ƒå±€2.1.1 çº¿æ€§å¸ƒå±€LinearLayout android:layout_width=&quot;match_parent&quot;æ§åˆ¶å®½åº¦ï¼Œçˆ¶ç»„ä»¶çš„å®½åº¦ï¼Œæ”¹ä¸º wrap_contentå°±æ˜¯è‡ªèº«å…ƒç´ çš„å®½åº¦ android:layout_height=&quot;match_parent&quot;æ§åˆ¶é«˜åº¦ android:orientation=&quot;vertical&quot;æ§åˆ¶çºµå‘æ’åˆ—ï¼Œå¦‚æœæ”¹ä¸º verticalå°±ä¼šå˜ä¸ºæ°´å¹³æ’åˆ— android:layout_gravity=&quot;right&quot;æ§åˆ¶å…ƒç´ çš„å¯¹é½æ–¹å¼ android:layout_weight=&quot;1&quot;ç±»ä¼¼äºcssä¸­çš„flexï¼š1 2.1.2 ç›¸å¯¹å¸ƒå±€RelativeLayoutç›¸å¯¹äºparentè¿›è¡Œå®šä½ android:layout_alignParentLeft=â€trueâ€ android:layout_alignParentright=â€trueâ€ android:layout_alignParentTop=â€trueâ€ android:layout_alignParentBottom=â€trueâ€ android:layout_centerInParent=â€trueâ€ ç›¸å¯¹äºæ§ä»¶è¿›è¡Œå®šä½ android:layout_above=â€@id/button3â€ä¸Š android:layout_below=â€@id/button3â€ä¸‹ android:layout_toLeftOf=â€@id/button3â€ android:layout_toRightOf=â€@id/button3â€ android:layout_alignBottom=â€@id/button3â€ä¸¤ä¸ªæ§ä»¶åº•è¾¹å¯¹é½ alignBottomã€alignTopã€alignLeftã€alignRight 2.1.3å¸§å¸ƒå±€FrameLayout2.1.4 ç™¾åˆ†æ¯”å¸ƒå±€ç”±Android Xæ”¯æŒåº“æä¾› å¯¼å…¥æ”¯æŒåº“ æœç´¢percentLayoutï¼Œæ·»åŠ ä¾èµ– ç„¶åå¸ƒå±€æ–‡ä»¶ä¸­ä½¿ç”¨ç™¾åˆ†æ¯”å¸ƒå±€ &lt;androidx.percentlayout.widget.PercentFrameLayout android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;&gt; &lt;ImageView android:id=&quot;@+id/imageView&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;right&quot; app:layout_widthPercent=&quot;50%&quot; android:src=&quot;@drawable/wj&quot; tools:ignore=&quot;RtlHardcoded&quot; /&gt; &lt;Button android:id=&quot;@+id/btn_close&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;left&quot; app:layout_widthPercent=&quot;50%&quot; android:text=&quot;å…³é—­&quot; /&gt; &lt;/LinearLayout&gt; &lt;/androidx.percentlayout.widget.PercentFrameLayout&gt; 2.2 æ§ä»¶2.2.1 åˆ›å»ºè‡ªå®šä¹‰æ§ä»¶é¦–å…ˆæ–°å»ºæ§ä»¶çš„title.xmlå¸ƒå±€ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;&gt; &lt;Button android:id=&quot;@+id/back_btn_title&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:background=&quot;#409eff&quot; android:text=&quot;è¿”å›&quot; /&gt; &lt;TextView android:id=&quot;@+id/title&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;match_parent&quot; android:background=&quot;#409eff&quot; android:layout_weight=&quot;1&quot; android:text=&quot;TextView&quot; /&gt; &lt;Button android:id=&quot;@+id/edit_btn_title&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:background=&quot;#409eff&quot; android:text=&quot;èœå•&quot; /&gt; &lt;/LinearLayout&gt; ç„¶ååœ¨æƒ³è¦å¼•å…¥titleçš„å¸ƒå±€ä¸­å¼•å…¥&lt;include layout=&quot;@layout/title&quot; /&gt;å³å¯ ä½†æ˜¯è¿™æ ·ç»™titleæ§ä»¶æ·»åŠ äº‹ä»¶çš„æ—¶å€™éœ€è¦ç»™æ¯ä¸€ä¸ªæ´»åŠ¨éƒ½æ·»åŠ ï¼Œå¤ªè¿‡äºç¹ç äºæ˜¯æœ‰äº†ç®€ä¾¿çš„æ–¹æ³• public class TitleLayout extends LinearLayout { public TitleLayout(Context context, @Nullable AttributeSet attrs) { super(context, attrs); LayoutInflater.from(context).inflate(R.layout.title, this); Button back_btn = (Button)findViewById(R.id.back_btn_title); Button edit_btn = (Button)findViewById(R.id.edit_btn_title); back_btn.setOnClickListener(new OnClickListener() { @Override public void onClick(View v) { ((Activity)getContext()).finish(); } }); edit_btn.setOnClickListener(new OnClickListener() { @Override public void onClick(View v) { Toast.makeText(getContext(), &quot;click edit&quot;, Toast.LENGTH_SHORT).show(); } }); } } ç„¶ååœ¨æƒ³è¦å¼•å…¥æ§ä»¶çš„æ´»åŠ¨xmlä¸­ä½¿ç”¨åŒ…åå¼•å…¥ &lt;LinearLayout android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;&gt; &lt;com.example.helloworld.TitleLayout android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_weight=&quot;1&quot; /&gt; &lt;/LinearLayout&gt; 2.2.2 ListViewåˆ—è¡¨æ§ä»¶é¦–å…ˆåˆ›å»ºListViewå¸ƒå±€ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; &gt; &lt;ListView android:id=&quot;@+id/list&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; /&gt; &lt;/LinearLayout&gt; ç„¶ååœ¨æ´»åŠ¨ä¸­æ·»åŠ  public class List extends AppCompatActivity { private String[] data = {&quot;apple&quot;, &quot;banana&quot;, &quot;peach&quot;, &quot;fire&quot;, &quot;apple&quot;, &quot;banana&quot;, &quot;peach&quot;, &quot;fire&quot;, &quot;apple&quot;, &quot;banana&quot;, &quot;peach&quot;, &quot;fire&quot;, &quot;apple&quot;, &quot;banana&quot;, &quot;peach&quot;, &quot;fire&quot;}; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_list); ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(List.this, android.R.layout.simple_list_item_1, data); ListView listView = (ListView) findViewById(R.id.list); listView.setAdapter(adapter); } } å®šåˆ¶ListView å›¾æ ‡ æ–°å»ºä¸€ä¸ªèœå•ç±»ï¼Œå±æ€§æ˜¯åç§°å’Œå›¾æ ‡ public class Fruit { private String name; private int imageId; public Fruit(String name, int imageId) { this.name = name; this.imageId = imageId; } public String getName() { return name; } public int getImageId() { return imageId; } } æ–°å»ºlisté€‰é¡¹å¸ƒå±€ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;&gt; &lt;ImageView android:id=&quot;@+id/fruit_image&quot; android:layout_width=&quot;50dp&quot; android:layout_height=&quot;50dp&quot; /&gt; &lt;TextView android:id=&quot;@+id/fruit_name&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;center_vertical&quot; android:layout_marginLeft=&quot;10dp&quot; /&gt; &lt;/LinearLayout&gt; æ–°å»ºé€‚é…å™¨ç»§æ‰¿è‡ªArrayAdapter public class FruitAdapter extends ArrayAdapter { private int resourceId; public FruitAdapter(@NonNull Context context, int resource, @NonNull List&lt;Fruit&gt; objects) { super(context, resource, objects); resourceId = resource; } @NonNull @Override public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) { Fruit fruit = (Fruit) getItem(position); @SuppressLint(&quot;ViewHolder&quot;) View view = LayoutInflater.from(getContext()).inflate(resourceId, parent, false); ImageView fruitImage = (ImageView) view.findViewById(R.id.fruit_image); TextView fruitName = (TextView) view.findViewById(R.id.fruit_name); fruitImage.setImageResource(fruit.getImageId()); fruitName.setText(fruit.getName()); return view; } } æœ€åå†ä¿®æ”¹Listæ´»åŠ¨ public class FruitList extends AppCompatActivity { private List&lt;Fruit&gt; fruitList = new ArrayList&lt;&gt;(); @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_list); addData(); FruitAdapter fruitAdapter = new FruitAdapter(FruitList.this, R.layout.fruit_item, fruitList); ListView listView = (ListView)findViewById(R.id.list); listView.setAdapter(fruitAdapter); } // åˆå§‹åŒ–list private void addData() { for(int i = 0; i &lt; 10; i++) { Fruit apple = new Fruit(&quot;apple&quot;, R.drawable.icon); fruitList.add(apple); } } } ç„¶åè¿è¡Œå‡ºæ¥çš„Listå°±å¸¦ä¸Šäº†å›¾æ ‡ ç‚¹å‡»äº‹ä»¶ åœ¨Listæ´»åŠ¨ä¸­æ·»åŠ äº‹ä»¶ç›‘å¬ listView.setOnItemClickListener(new AdapterView.OnItemClickListener() { @Override public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) { Fruit fruit = fruitList.get(position); Toast.makeText(FruitList.this, fruit.getName(), Toast.LENGTH_SHORT).show(); } }); ä¼˜åŒ– public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) { Fruit fruit = (Fruit) getItem(position); // @SuppressLint(&quot;ViewHolder&quot;) View view = LayoutInflater.from(getContext()).inflate(resourceId, parent, false); View view; if(convertView == null) { view = LayoutInflater.from(getContext()).inflate(resourceId, parent, false); } else { view = convertView; } ImageView fruitImage = (ImageView) view.findViewById(R.id.fruit_image); TextView fruitName = (TextView) view.findViewById(R.id.fruit_name); fruitImage.setImageResource(fruit.getImageId()); fruitName.setText(fruit.getName()); return view; } å¯¹convertViewè¿›è¡Œåˆ¤æ–­ï¼Œå½“ä¸ºç©ºæ—¶ä½¿ç”¨LayoutInflateråŠ è½½å¸ƒå±€ï¼Œä¸ä¸ºç©ºæ—¶ç›´æ¥ä½¿ç”¨convertViewï¼Œæé«˜äº†è¿è¡Œæ•ˆç‡ public class FruitAdapter extends ArrayAdapter { private int resourceId; public FruitAdapter(@NonNull Context context, int resource, @NonNull List&lt;Fruit&gt; objects) { super(context, resource, objects); resourceId = resource; } @NonNull @Override public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) { Fruit fruit = (Fruit) getItem(position); // @SuppressLint(&quot;ViewHolder&quot;) View view = LayoutInflater.from(getContext()).inflate(resourceId, parent, false); View view; ViewHolder viewHolder; if(convertView == null) { view = LayoutInflater.from(getContext()).inflate(resourceId, parent, false); viewHolder = new ViewHolder(); viewHolder.fruitImage = (ImageView)view.findViewById(R.id.fruit_image); viewHolder.fruitName = (TextView)view.findViewById(R.id.fruit_name); view.setTag(viewHolder); } else { view = convertView; viewHolder = (ViewHolder) view.getTag(); } viewHolder.fruitImage.setImageResource(fruit.getImageId()); viewHolder.fruitName.setText(fruit.getName()); return view; } class ViewHolder { ImageView fruitImage; TextView fruitName; } } ä¿®æ”¹FruitAdapterï¼Œæ–°å»ºå†…éƒ¨ç±»ï¼Œå¯¹æ§ä»¶å®ä¾‹è¿›è¡Œç¼“å­˜ï¼Œæ–°å»ºå®ä¾‹æ—¶é€šè¿‡setTagæ–¹æ³•å°†å®ä¾‹å­˜å‚¨ï¼ŒconvertViewä¸ä¸ºç©ºæ—¶ä½¿ç”¨getTagè·å–ç¼“å­˜çš„å®ä¾‹ 2.2.3 RecycleView3. ç¢ç‰‡ç¢ç‰‡å¯ä»¥æœ‰æ•ˆè§£å†³æ‰‹æœºå¹³æ¿åˆ†è¾¨ç‡ä¸åŒäº§ç”Ÿçš„å¸ƒå±€éš¾çœ‹çš„é—®é¢˜ï¼Œå½“å±å¹•åˆ†è¾¨ç‡å¤§çš„æ—¶å€™å¼•å…¥ä¸¤ä¸ªç¢ç‰‡ 3.1 ç¢ç‰‡ä½¿ç”¨åˆ›å»ºç¢ç‰‡ è®¾ç½®å¥½ç¢ç‰‡å¸ƒå±€ä¹‹ååœ¨æ´»åŠ¨çš„xmlå¸ƒå±€ä¸­å¼•å…¥fragmentï¼Œé€‰æ‹©è¦å¼•å…¥çš„ç¢ç‰‡ï¼Œè°ƒæ•´å¸ƒå±€ æ•ˆæœå¦‚å›¾ 3.2 åŠ¨æ€ä½¿ç”¨ç¢ç‰‡å†åˆ›å»ºä¸€ä¸ªæ–°çš„å³ä¾§ç¢ç‰‡ ä¿®æ”¹å½“å‰æ´»åŠ¨ public class MainActivity2 extends AppCompatActivity implements View.OnClickListener { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main2); Button button = (Button)findViewById(R.id.left_btn); button.setOnClickListener(this); replaceFragment(new FragmentRight()); } @Override public void onClick(View v) { switch (v.getId()) { case R.id.left_btn: replaceFragment(new FragmentAnotherRight()); break; default: break; } } public void replaceFragment(Fragment fragment) { FragmentManager fragmentManager = getSupportFragmentManager(); FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction(); fragmentTransaction.replace(R.id.right_layout, fragment); fragmentTransaction.commit(); } } æ´»åŠ¨åˆ›å»ºæ—¶åˆå§‹åŒ–ä¸€ä¸ªå³ä¾§ç¢ç‰‡ï¼Œå½“å·¦ä¾§æŒ‰é’®è§¦å‘æ—¶æ›´æ¢ä¸€ä¸ªå³ä¾§ç¢ç‰‡ 3.3 è¿”å›æ ˆå®ç°äº†åŠ¨æ€æ·»åŠ ç¢ç‰‡ä¹‹åè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå½“ç‚¹å‡»è¿”å›æŒ‰é’®æ—¶ä¼šç›´æ¥é€€å‡ºæ´»åŠ¨ï¼Œè¦è¿”å›ä¸Šä¸€ä¸ªç¢ç‰‡å°±éœ€è¦æ·»åŠ ä¸€ä¸ªè¿”å›æ ˆ åªéœ€è¦ä¿®æ”¹replaceFragmentæ–¹æ³•ï¼Œè°ƒç”¨addToBackStackæ–¹æ³•ï¼Œä¸€èˆ¬ä¼ å…¥nullå³å¯ public void replaceFragment(Fragment fragment) { FragmentManager fragmentManager = getSupportFragmentManager(); FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction(); fragmentTransaction.replace(R.id.right_layout, fragment); fragmentTransaction.addToBackStack(null); fragmentTransaction.commit(); } 3.4 ç¢ç‰‡é€šä¿¡ 3.5 ç¢ç‰‡ç”Ÿå‘½å‘¨æœŸ 3.6 ä½¿ç”¨é™å®šç¬¦å“åº”å¼å¸ƒå±€åœ¨resç›®å½•ä¸‹æ–°å»ºlayout-largeæˆ–è€…layout-sw600dpæ–‡ä»¶å¤¹ï¼Œæ–°å»ºä¸€ä¸ªåŒåçš„æ´»åŠ¨å¸ƒå±€ï¼Œå½“æ»¡è¶³æ¡ä»¶æ—¶ï¼Œå®‰å“ä¼šè‡ªåŠ¨åŠ è½½ç›¸åº”çš„å¸ƒå±€ æ™®é€šçš„å¸ƒå±€åªæœ‰ä¸€ä¸ªfragmentå¤§å±è®¾å¤‡çš„å¼•å…¥ä¸¤ä¸ªfragment æ‰‹æœºæ¨¡æ‹Ÿå™¨ å¹³æ¿æ¨¡æ‹Ÿå™¨ 4. å¹¿æ’­æœºåˆ¶4.1 ç®€ä»‹ æ ‡å‡†å¹¿æ’­ï¼šå¼‚æ­¥æ‰§è¡Œï¼Œæ‰€æœ‰çš„å¹¿æ’­æ¥æ”¶å™¨ä¼šåœ¨åŒä¸€æ—¶é—´æ¥æ”¶åˆ°å¹¿æ’­æ¶ˆæ¯ï¼Œä¸èƒ½è¢«æˆªæ–­ æœ‰åºå¹¿æ’­ï¼šåŒæ­¥æ‰§è¡Œï¼Œåªæœ‰ä¸€ä¸ªæ¥æ”¶å™¨èƒ½æ¥å—å¹¿æ’­æ¶ˆæ¯ï¼Œæ¥æ”¶å®Œæ‰èƒ½ä¾æ¬¡æ‰§è¡Œï¼Œå¯ä»¥è¢«æˆªæ–­ 4.2 æ¥æ”¶å¹¿æ’­4.2.1 åŠ¨æ€æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨å¯ä»¥åŠ¨æ€çš„å¯¹è‡ªå·±æ„Ÿå…´è¶£çš„å¹¿æ’­è¿›è¡Œæ³¨å†Œï¼Œå¯ä»¥åœ¨ä»£ç ä¸­æ³¨å†Œä¹Ÿå¯ä»¥åœ¨AndroidMainfestä¸­æ³¨å†Œï¼Œå‰è€…ç§°ä¸ºåŠ¨æ€æ³¨å†Œï¼Œåè€…ç§°ä¸ºé™æ€æ³¨å†Œ 4.2.1.1 åŠ¨æ€æ³¨å†Œç›‘å¬ç½‘ç»œå˜åŒ–åœ¨ä»£ç ä¸­è¿›è¡Œæ³¨å†Œ public class MainActivity extends AppCompatActivity { private IntentFilter intentFilter; private NetworkChangeReceiver changeReceiver; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); ActivityController.addActivity(this); // å¹¿æ’­ intentFilter = new IntentFilter(); intentFilter.addAction(&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;); changeReceiver = new NetworkChangeReceiver(); registerReceiver(changeReceiver, intentFilter); } @Override public void onDestroy() { super.onDestroy(); unregisterReceiver(changeReceiver); } } public class NetworkChangeReceiver extends BroadcastReceiver { @Override public void onReceive(Context context, Intent intent) { ConnectivityManager connectivityManager = (ConnectivityManager)context.getSystemService(Context.CONNECTIVITY_SERVICE); NetworkInfo networkInfo = connectivityManager.getActiveNetworkInfo(); if(networkInfo != null &amp;&amp; networkInfo.isConnected()) { Toast.makeText(context, &quot;ç½‘ç»œå·²è¿æ¥&quot;, Toast.LENGTH_SHORT).show(); }else { Toast.makeText(context, &quot;ç½‘ç»œæœªè¿æ¥&quot;, Toast.LENGTH_SHORT).show(); } } } connectivityManager.getActiveNetworkInfo();éœ€è¦æ·»åŠ æƒé™ï¼ŒAndroid Studioå¯ä»¥è‡ªåŠ¨æ·»åŠ  å½“ç½‘ç»œè¿æ¥å‘ç”Ÿå˜åŒ–æ—¶ä¼šå¼¹å‡ºToastè¿›è¡Œæ¶ˆæ¯æç¤º 4.2.2 é™æ€æ³¨å†Œå¼€æœºè‡ªå¯ new -&gt; other -&gt; Broadcast Recriver åœ¨AndroidMainfest.xmlä¸­æ·»åŠ ä»£ç  &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt; Â·Â·Â· &lt;application&gt; Â·Â·Â· &lt;receiver android:name=&quot;.BootCompleteReceiver&quot; android:enabled=&quot;true&quot; android:exported=&quot;true&quot;&gt; &lt;intent-filter&gt; &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt; &lt;/intent-filter&gt; &lt;/receiver&gt; &lt;/application&gt; 4.3 å‘é€è‡ªå®šä¹‰å¹¿æ’­4.3.1 æ ‡å‡†å¹¿æ’­æ–°å»ºä¸€ä¸ªå¹¿æ’­æ¥æ”¶å™¨ï¼Œå¹¶é™æ€æ³¨å†Œï¼Œè¿™é‡Œçš„actionæ˜¯è‡ªå®šä¹‰çš„ä¸å†æ˜¯ç³»ç»ŸæœåŠ¡ åœ¨æ´»åŠ¨ä¸­é€šè¿‡æŒ‰é’®å‘é€å¹¿æ’­å¹¶æºå¸¦æ•°æ® Button btn_receiver = (Button)findViewById(R.id.btn_receiver); btn_receiver.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent = new Intent(&quot;com.example.helloworld.MY_RECEIVER&quot;); intent.putExtra(&quot;my_blog&quot;, &quot;test&quot;); sendBroadcast(intent); } }); åœ¨æ¥æ”¶å™¨ä¸­æ¥æ”¶æ•°æ®å¹¶æ˜¾ç¤º public class MyReceiver extends BroadcastReceiver { @Override public void onReceive(Context context, Intent intent) { String msg = intent.getStringExtra(&quot;my_blog&quot;); Toast.makeText(context, msg, Toast.LENGTH_SHORT).show(); } } 4.3.2 æœ‰åºå¹¿æ’­4.4 æœ¬åœ°å¹¿æ’­å…¨å±€ç³»ç»Ÿçš„å¹¿æ’­å­˜åœ¨å®‰å…¨éšæ‚£å®¹æ˜“è¢«å…¶ä»–ç¨‹åºæˆªè·ï¼Œæœ¬åœ°å¹¿æ’­åªèƒ½åœ¨ç¨‹åºå†…éƒ¨è¿›è¡Œä¼ é€’ï¼Œæé«˜å®‰å…¨æ€§ å¯¼å…¥ç¬¬ä¸‰æ–¹ä¾èµ–LocalBroadcastManager æ–°å»ºæœ¬åœ°å¹¿æ’­æ¥æ”¶å™¨ åœ¨æ´»åŠ¨ä¸­åŠ¨æ€æ³¨å†Œæ¥æ”¶å™¨ï¼Œå¹¶æ·»åŠ äº‹ä»¶å‘é€å¹¿æ’­ `javapublic class MainActivity extends AppCompatActivity { private IntentFilter intentFilter; private LocalBroadcastManager localBroadcastManager; private LocalReceiver localReceiver; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); ActivityController.addActivity(this); intentFilter = new IntentFilter(); localBroadcastManager = LocalBroadcastManager.getInstance(this); intentFilter.addAction(&quot;com.example.helloworld.LOCAL_BROADCAST&quot;); localReceiver = new LocalReceiver(); localBroadcastManager.registerReceiver(localReceiver, intentFilter); Button btn_local = (Button)findViewById(R.id.btn_local); btn_local.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent = new Intent(&quot;com.example.helloworld.LOCAL_BROADCAST&quot;); intent.putExtra(&quot;my_blog&quot;, &quot;test local&quot;); localBroadcastManager.sendBroadcast(intent); } }); } @Override public void onDestroy() { super.onDestroy(); localBroadcastManager.unregisterReceiver(localReceiver); } } &gt; æœ¬åœ°å¹¿æ’­åªèƒ½åŠ¨æ€æ³¨å†Œ ### 4.5 æœ€ä½³å®è·µâ€”â€”å¼ºåˆ¶ä¸‹çº¿ + åˆ›å»ºå¹¿æ’­æ¥æ”¶å™¨æ¥æ”¶å¼ºåˆ¶ä¸‹çº¿å¹¿æ’­ + æ¥æ”¶å™¨æ·»åŠ æç¤ºæ¡†æç¤ºå¼ºåˆ¶ä¸‹çº¿ + å…³é—­æ‰€æœ‰æ´»åŠ¨ï¼Œé€šè¿‡ActivityController + é‡å¯ç™»é™†æ´»åŠ¨ ## 5. æ•°æ®æŒä¹…åŒ– ### 5.1 æ–‡ä»¶å­˜å‚¨ æ–°å»ºä¸€ä¸ªæ–‡ä»¶æ“ä½œæ´»åŠ¨ï¼Œåœ¨å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ª`EditText` ```xml &lt;EditText android:id=&quot;@+id/file_edit&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;match_parent&quot; android:hint=&quot;edit in here&quot; /&gt; 5.1.1 å°†æ•°æ®å­˜å‚¨åˆ°æ–‡ä»¶åœ¨æ´»åŠ¨ä¸­æ·»åŠ ä»£ç ï¼Œç¼–å†™ä¿å­˜æ–‡ä»¶çš„æ–¹æ³•å¹¶ä¸”åœ¨æ´»åŠ¨é”€æ¯æ—¶è§¦å‘ä¿å­˜äº‹ä»¶ public class FileActivity extends AppCompatActivity { private EditText editText; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_file); editText = (EditText)findViewById(R.id.file_edit); } @Override protected void onDestroy() { super.onDestroy(); String input = editText.getText().toString(); save(input); } public void save(String inputText) { FileOutputStream fileOutputStream = null; BufferedWriter bufferedWriter = null; try { fileOutputStream = openFileOutput(&quot;data&quot;, Context.MODE_PRIVATE); bufferedWriter = new BufferedWriter(new OutputStreamWriter(fileOutputStream)); bufferedWriter.write(inputText); } catch (IOException e) { e.printStackTrace(); } finally { if(bufferedWriter != null) { try { bufferedWriter.close(); Toast.makeText(FileActivity.this, &quot;saved success&quot;, Toast.LENGTH_SHORT).show(); } catch (IOException e) { e.printStackTrace(); } } } } } 5.1.2 ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®åœ¨æ´»åŠ¨ä¸­å¢åŠ åŠ è½½æ–¹æ³•ï¼Œæ´»åŠ¨åˆ›å»ºæ—¶å…ˆè¯»å–æ–‡ä»¶ï¼Œæœ‰æ–‡ä»¶ç›´æ¥åŠ è½½ public class FileActivity extends AppCompatActivity { private EditText editText; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_file); editText = (EditText)findViewById(R.id.file_edit); String text = load(); if(!TextUtils.isEmpty(text)) { editText.setText(text); editText.setSelection(text.length()); Toast.makeText(FileActivity.this, &quot;loading success&quot;, Toast.LENGTH_SHORT).show(); } } Â·Â·Â· public String load() { FileInputStream in = null; BufferedReader reader = null; StringBuilder content = new StringBuilder(); try { in = openFileInput(&quot;data&quot;); reader = new BufferedReader(new InputStreamReader(in)); String line = &quot;&quot;; while((line = reader.readLine()) != null) { content.append(line); } } catch (IOException e) { e.printStackTrace(); } finally { if(reader != null) { try { reader.close(); } catch (IOException e) { e.printStackTrace(); } } } return content.toString(); } } 5.2 SharedPreferenceså­˜å‚¨å­˜å‚¨æ–‡ä»¶æ˜¯xmlæ ¼å¼ é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ´»åŠ¨ï¼Œå¸ƒå±€ä¸­æ·»åŠ ä¸¤ä¸ªæŒ‰é’®ï¼Œä¸€ä¸ªsaveä¸€ä¸ªload 5.2.1å°†æ•°æ®å­˜å‚¨åˆ°SharedPreferencesä¸­é¦–å…ˆéœ€è¦è·å–SharedPreferenceså¯¹è±¡ï¼ŒAndroidä¸­æä¾›äº†ä¸‰ç§æ–¹å¼è·å–SharedPreferenceså¯¹è±¡ Contextç±»ä¸­çš„getSharedPreferences()æ–¹æ³•ï¼Œä¸¤ä¸ªå‚æ•°ï¼šæŒ‡å®šSharedPreferencesæ–‡ä»¶åï¼›æŒ‡å®šæ“ä½œæ¨¡å¼ï¼Œç›®å‰åªæœ‰MODE_PRIVATEå¯é€‰ Activityç±»ä¸­getPreferences()æ–¹æ³•ï¼šåªæœ‰ä¸€ä¸ªå‚æ•°ï¼šæ“ä½œæ¨¡å¼ã€‚ï¼ˆé»˜è®¤å½“å‰æ´»åŠ¨åä¸ºSharedPreferencesæ–‡ä»¶åï¼‰ PreferenceManagerç±»ä¸­getDefaultSharedPreferences()æ–¹æ³•ï¼šé™æ€æ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ªContextå‚æ•°ï¼Œä½¿ç”¨å½“å‰åŒ…åä¸ºå‰ç¼€æ¥å‘½åSharedPreferencesæ–‡ä»¶ SharedPreferences.Editor editor = getSharedPreferences(&quot;data_preference&quot;, MODE_PRIVATE).edit(); editor.putString(&quot;name&quot;, &quot;Tom&quot;); editor.putInt(&quot;age&quot;, 20); editor.putBoolean(&quot;married&quot;, false); editor.apply(); 5.2.2ä»SharedPreferencesä¸­è¯»å–æ•°æ®ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºSharedPreferenceså­˜å‚¨æ–‡ä»¶éå¸¸ç®€å•ï¼Œè¯»å–æ–‡ä»¶æ›´ä¸ºç®€ä¾¿ï¼Œä»SharedPreferenceså¯¹è±¡ä¸­ä¸€ç³»åˆ—getæ–¹æ³•å³å¯è·å¾—æ•°æ® SharedPreferences editor_load = getSharedPreferences(&quot;data_preference&quot;, MODE_PRIVATE); String name = editor_load.getString(&quot;name&quot;, &quot;&quot;); int age = editor_load.getInt(&quot;age&quot;, 0); Boolean married = editor_load.getBoolean(&quot;married&quot;, false); 5.2.3 ä»£ç åŠæ•ˆæœå±•ç¤ºpublic class PreferencesActivity extends AppCompatActivity implements View.OnClickListener { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_preferences); Button btn_save = (Button)findViewById(R.id.btn_preference_save); btn_save.setOnClickListener(this); Button btn_load = (Button)findViewById(R.id.btn_preference_load); btn_load.setOnClickListener(this); } @Override public void onClick(View v) { switch (v.getId()) { case R.id.btn_preference_save: SharedPreferences.Editor editor = getSharedPreferences(&quot;data_preference&quot;, MODE_PRIVATE).edit(); editor.putString(&quot;name&quot;, &quot;Tom&quot;); editor.putInt(&quot;age&quot;, 20); editor.putBoolean(&quot;married&quot;, false); editor.apply(); Toast.makeText(PreferencesActivity.this, &quot;file save succeed&quot;, Toast.LENGTH_SHORT).show(); break; case R.id.btn_preference_load: SharedPreferences editor_load = getSharedPreferences(&quot;data_preference&quot;, MODE_PRIVATE); String name = editor_load.getString(&quot;name&quot;, &quot;&quot;); int age = editor_load.getInt(&quot;age&quot;, 0); Boolean married = editor_load.getBoolean(&quot;married&quot;, false); String marry = married?&quot;ç»“å©šäº†&quot;:&quot;æ²¡ç»“å©š&quot;; Toast.makeText(PreferencesActivity.this, name+&quot;ä»Šå¹´&quot;+age+&quot;å²&quot;+marry, Toast.LENGTH_SHORT).show(); break; default: break; } } } 5.3 æ•°æ®åº“SQLiteSQLiteæ˜¯ä¸€æ¬¾è½»é‡çº§å…³ç³»æ•°æ®åº“ï¼Œæ”¯æŒSQLè¯­æ³•ï¼Œéµå¾ªACID 5.3.1 åˆ›å»ºæ•°æ®åº“ç•¥ 5.3.2 LitePalæ“ä½œæ•°æ®åº“é€šè¿‡JavaBeanæ“ä½œæ•°æ®åº“ å¼•å…¥ä¾èµ–LitePal é…ç½®xmlæ˜ å°„app.src.mainç›®å½•ä¸‹æ–°å»ºassetsç›®å½•ï¼Œæ–°å»ºlitepal.xmlé…ç½®æ–‡ä»¶ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt; &lt;litepal&gt; &lt;dbname value=&quot;BookStore&quot; /&gt; &lt;version value=&quot;1&quot; /&gt; &lt;list&gt;&lt;/list&gt; &lt;/litepal&gt; ä¿®æ”¹Mainfestï¼Œapplicationæ–°åŠ å±æ€§android:name=&quot;org.litepal.LitePalApplication&quot; åˆ›å»ºæ•°æ®åº“åˆ›å»ºJavaBean æ·»åŠ æ´»åŠ¨ä»£ç ï¼Œå½“æ•°æ®åº“è®¿é—®ä¸€æ¬¡ä¹‹åå°±åˆ›å»ºäº† å¯¹æ•°æ®è¿›è¡Œæ“ä½œéœ€è¦è®©JavaBeanç»§æ‰¿DataSupport æ·»åŠ æ•°æ® æ›´æ–°æ•°æ®ä¸€ç§æ–¹æ³•æ˜¯å°†è¦ä¿®æ”¹çš„æ•°æ®å€¼å…¨éƒ¨setç„¶åsaveåœ¨setè¦ä¿®æ”¹çš„å€¼å†æ¬¡save å¦ä¸€ç§æ–¹æ³•ç”¨updateAll book.setPrice(14.5); book.updateAll(&quot;name = ? and author = ?&quot;, &quot;Tom&quot;,&quot;ç¬¬ä¸€è¡Œä»£ç &quot;); è®¾ç½®è¦ä¿®æ”¹çš„ä»·æ ¼ï¼Œç„¶åä½¿ç”¨updateAllæ–¹æ³•ï¼Œæ–¹æ³•ä¸­çš„å‚æ•°æ˜¯çº¦æŸæ¡ä»¶ï¼Œå½“å½“ä¸whereæŸ¥è¯¢ï¼Œåªä¿®æ”¹åŒ¹é…åˆ°çš„ä¿¡æ¯ åˆ é™¤æ•°æ®ä½¿ç”¨DataSupportä¸­çš„deleteAllæ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯çœ¼åˆ é™¤çš„è¡¨åï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æŸ¥è¯¢æ¡ä»¶ DataSupport.deleteAll(Book.class, &quot;price &lt; ?&quot;, &quot;14&quot;); æŸ¥è¯¢æ•°æ®ä½¿ç”¨ List&lt;Book&gt; list = DataSupport.findAll(Book.class);å¯ä»¥å°†æ‰€æœ‰çš„æ•°æ®è¿”å›åˆ°ä¸€ä¸ªListä¸­ æ­¤å¤–ï¼Œè¿˜æ”¯æŒåŸç”ŸæŸ¥è¯¢ Cursor cursor = DataSupport.findBySQL(&quot;select * from book where name = ?&quot;, &quot;ç¬¬ä¸€è¡Œä»£ç &quot;); è¿”å›çš„æ˜¯ä¸€ä¸ªCuesorå¯¹è±¡ï¼Œéœ€è¦å°†æ•°æ®ä¸€ä¸€å–å‡º 6. è·¨ç¨‹åºå…±äº«æ•°æ®â€”â€”å†…å®¹æä¾›å™¨6.1 è¿è¡Œæ—¶æƒé™å®‰å“6.0ä»¥ä¸ŠåŠ å…¥äº†è¿è¡Œæ—¶æƒé™ï¼Œå±é™©æƒé™éœ€è¦ç”¨æˆ·æˆæƒ å‚è€ƒä»£ç  public class PermissionActivity extends AppCompatActivity { List&lt;String&gt; contacts = new ArrayList&lt;&gt;(); ArrayAdapter&lt;String&gt; adapter; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_permission); ListView list = (ListView) findViewById(R.id.list_contact); adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, contacts); list.setAdapter(adapter); if (ContextCompat.checkSelfPermission(PermissionActivity.this, Manifest.permission.READ_CONTACTS) != PackageManager.PERMISSION_GRANTED) { ActivityCompat.requestPermissions(PermissionActivity.this, new String[]{Manifest.permission.READ_CONTACTS}, 1); } else { readContacts(); } } private void readContacts() { Cursor cursor = null; try { cursor = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, null, null, null); if(cursor != null) { while (cursor.moveToNext()) { String name = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME)); String number = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)); contacts.add(name+ &quot;\\n&quot; +number); } adapter.notifyDataSetChanged(); } } catch (Exception e) { e.printStackTrace(); } finally { if(cursor != null) { cursor.close(); } } } @Override public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) { super.onRequestPermissionsResult(requestCode, permissions, grantResults); switch (requestCode) { case 1: if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) { readContacts(); } else { Toast.makeText(PermissionActivity.this, &quot;no permission&quot;, Toast.LENGTH_SHORT).show(); } break; default: break; } } } 6.2 åˆ›å»ºå†…å®¹æä¾›å™¨7. è¿ç”¨æ‰‹æœºå¤šåª’ä½“7.1 ä½¿ç”¨é€šçŸ¥é¦–å…ˆè·å–é€šçŸ¥ç®¡ç†å™¨å¯¹è±¡ï¼Œç„¶ååˆ›å»ºé€šçŸ¥å¯¹è±¡ï¼Œé€šè¿‡é€šçŸ¥ç®¡ç†å™¨ä¸‹å‘é€šçŸ¥ï¼Œæ¯ä¸ªé€šçŸ¥çš„idéƒ½æ˜¯ä¸åŒçš„ ä»£ç ç¤ºä¾‹é€šè¿‡æŒ‰é’®è§¦å‘é€šçŸ¥ Button btn_notification = (Button)findViewById(R.id.btn_notification); btn_notification.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { NotificationManager manager = (NotificationManager)getSystemService(NOTIFICATION_SERVICE); Notification notification = new Notification.Builder(PermissionActivity.this) .setContentTitle(&quot;1æ¡æ–°æ¶ˆæ¯&quot;) .setContentText(&quot;XXXè¯·æ±‚æ·»åŠ å¥½å‹&quot;) .setWhen(System.currentTimeMillis()) .setSmallIcon(R.mipmap.ic_launcher) .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher)) .build(); manager.notify(1, notification); } }); è¿™é‡Œå¯ä»¥çœ‹åˆ°æŒ‰é’®ç‚¹å‡»ä¹‹åé€šçŸ¥æ æ˜¾ç¤ºäº†ä¸€æ¡é€šçŸ¥ ä½†æ˜¯ï¼Œè¿™é‡Œçš„é€šçŸ¥ä¸èƒ½ç‚¹å‡»ï¼Œè¦å†è®©å®ƒå¯ä»¥ç‚¹å‡» è¿™æ—¶éœ€è¦ç”¨åˆ°PendingIntentï¼Œå¯ä»¥ç†è§£ä¸ºå»¶æ—¶çš„Intent å°†ä»£ç ç¨ä½œæ”¹è£…ï¼Œå°±å¾—åˆ°äº†å¯ä»¥ç‚¹å‡»çš„é€šçŸ¥ Button btn_notification = (Button)findViewById(R.id.btn_notification); btn_notification.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent = new Intent(PermissionActivity.this, MainActivity.class); PendingIntent pendingIntent = PendingIntent.getActivity(PermissionActivity.this, 0, intent, 0); NotificationManager manager = (NotificationManager)getSystemService(NOTIFICATION_SERVICE); Notification notification = new Notification.Builder(PermissionActivity.this) .setContentTitle(&quot;1æ¡æ–°æ¶ˆæ¯&quot;) .setContentText(&quot;XXXè¯·æ±‚æ·»åŠ å¥½å‹&quot;) .setWhen(System.currentTimeMillis()) .setSmallIcon(R.mipmap.ic_launcher) .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher)) .setContentIntent(pendingIntent) .build(); manager.notify(1, notification); } }); è·ç¦»å®Œæˆè¿˜å·®ä¸€æ­¥ï¼Œç‚¹å‡»é€šçŸ¥ä¹‹åé€šçŸ¥åº”è¯¥æ˜¯æ¶ˆå¤±çš„ æœ‰ä¸¤ç§æ–¹æ³•ï¼š é€šçŸ¥è¿½åŠ setAutoCancelæ–¹æ³• Â·Â·Â· .setAutoCancel(true) é€šè¿‡é€šçŸ¥ç®¡ç†å™¨çš„canaelæ–¹æ³•æ ¹æ®é€šçŸ¥idæ¶ˆé™¤é€šçŸ¥ Â·Â·Â· NotificationManager manager = (NotificationManager)getSystemService(NOTIFICATION_SERVICE); manager.cancel(1) é•¿æ–‡æœ¬é€šçŸ¥ .setStyle(new Notification.BigTextStyle().bigText(&quot;* å½“URLæ²¡æœ‰æŒ‡å®šæ–‡ä»¶åæ—¶(æ¯”å¦‚ï¼šhttps://www.w3schools.com/css/)ï¼Œ&quot; + &quot;æœåŠ¡å™¨å°†è¿”å›é»˜è®¤çš„æ–‡ä»¶åï¼Œ&quot; + &quot;é€šç”¨çš„é»˜è®¤æ–‡ä»¶åæ˜¯ï¼šindex.htmlã€index.htmã€default.htmlã€å’Œdefault.html\\n&quot; + &quot;* ä½†å¦‚æœä½ çš„æœåŠ¡å™¨ä»…é…ç½®äº†â€œindex.htmlâ€ä½œä¸ºé»˜è®¤æ–‡ä»¶åï¼Œé‚£ä¹ˆä½ çš„æ–‡ä»¶å°±å¿…é¡»å‘½åindex.htmlï¼Œä¸èƒ½ç”¨index.htm\\n&quot; + &quot;* ä¸è¿‡æœåŠ¡å™¨å¯ä»¥é…ç½®å¤šä¸ªé»˜è®¤çš„æ–‡ä»¶åï¼Œæ‰€ä»¥ä½ å¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®å¤šä¸ªé»˜è®¤æ–‡ä»¶å\\n&quot; + &quot;* æ€»è€Œè¨€ä¹‹ï¼ŒHTMLæ–‡ä»¶çš„å®Œæ•´æ‰©å±•åæ˜¯.htmlï¼Œæˆ‘ä»¬æ²¡æœ‰ç†ç”±ä¸ç”¨å®ƒå•Š~~~&quot;)) å›¾ç‰‡é€šçŸ¥ï¼š .setStyle(new Notification.BigPictureStyle().bigPicture(BitmapFactory.decodeResource(getResources(), R.drawable.wj))) 7.2 è°ƒç”¨æ‘„åƒå¤´å’Œç›¸å†Œ8. ç½‘ç»œ8.1 webViewåº”ç”¨ç¨‹åºå†…å¼•å…¥ç½‘é¡µï¼Œä¸éœ€è¦æ‰“å¼€ç³»ç»Ÿæµè§ˆå™¨ åˆ›å»ºæ´»åŠ¨ï¼Œå¸ƒå±€æ·»åŠ webviewç»„ä»¶ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.WebActivity&quot;&gt; &lt;WebView android:id=&quot;@+id/web_view&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; /&gt; &lt;/LinearLayout&gt; ç¼–è¾‘æ´»åŠ¨ä»£ç  public class WebActivity extends AppCompatActivity { @SuppressLint(&quot;SetJavaScriptEnabled&quot;) @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_web); WebView webView = (WebView)findViewById(R.id.web_view); // è®¾ç½®å…è®¸jsï¼Œå¦åˆ™ç½‘é¡µé€»è¾‘å¯èƒ½æ— æ³•è¿è¡Œ webView.getSettings().setJavaScriptEnabled(true); webView.setWebViewClient(new WebViewClient()); webView.loadUrl(&quot;http://www.baidu.com&quot;); } } è¯¥æ´»åŠ¨éœ€è¦ç½‘ç»œæƒé™ &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt; 8.2 HTTPåè®®è®¿é—®ç½‘ç»œ8.2.1 HttpURLConnectionå®‰å“ä¸Šå‘é€HTTPè¯·æ±‚æœ‰ä¸¤ç§æ–¹å¼HttpURLConnectionå’ŒHttpClientï¼Œç”±äºHttpClientdçš„APIæ•°é‡å¤šï¼Œæ‰©å±•å›°éš¾å·²ç»åœ¨6.0è¢«ç§»é™¤ åˆ›å»ºå¸ƒå±€ &lt;Button android:id=&quot;@+id/btn_http&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:text=&quot;HTTPè¯·æ±‚&quot; /&gt; &lt;TextView android:id=&quot;@+id/text_http&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; /&gt; ç¼–è¾‘æ´»åŠ¨ä»£ç  public class WebActivity extends AppCompatActivity { TextView responseText; @SuppressLint(&quot;SetJavaScriptEnabled&quot;) @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_web); Button sentRequest = (Button)findViewById(R.id.btn_http); responseText = (TextView)findViewById(R.id.text_http); sentRequest.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { sendRequestWithHttpURLConnection(); } }); } private void sendRequestWithHttpURLConnection() { new Thread(new Runnable() { @Override public void run() { // åˆ›å»ºHttpURLConnectionå¯¹è±¡ HttpURLConnection connection = null; BufferedReader reader = null; try { // URL URL url = new URL(&quot;http://www.baidu.com&quot;); connection = (HttpURLConnection)url.openConnection();// å»ºç«‹è¿æ¥ connection.setRequestMethod(&quot;GET&quot;);// è¯·æ±‚æ–¹å¼ connection.setConnectTimeout(8000);// è¶…æ—¶æ—¶é—´ connection.setReadTimeout(8000); InputStream in = connection.getInputStream(); // è·å–è¾“å…¥æµ reader = new BufferedReader(new InputStreamReader(in)); StringBuilder response = new StringBuilder(); String line; while ((line = reader.readLine()) != null) { response.append(line); } showResponse(response.toString()); } catch (Exception e) { e.printStackTrace(); } finally { // å®Œæˆåéœ€è¦å…³é—­è¿æ¥ if(reader != null) { try { reader.close(); } catch (IOException e) { e.printStackTrace(); } } if(connection != null) { connection.disconnect(); } } } }).start(); } private void showResponse(final String response) { runOnUiThread(new Runnable() { @Override public void run() { responseText.setText(response); } }); } } è€—æ—¶çš„æ“ä½œä¸èƒ½å†ä¸»çº¿ç¨‹ä¸­è¿›è¡Œï¼Œå¼€ä¸€ä¸ªçº¿ç¨‹å¤„ç†ï¼› new Thread().start; ä¸è¦å¿½ç•¥start æ›´æ–°UIä¸èƒ½åœ¨å­çº¿ç¨‹ä¸­ï¼Œä¼šé—ªé€€ï¼Œé€šè¿‡runOnUiThreadåˆ‡æ¢å›ä¸»çº¿ç¨‹ POSTè¯·æ±‚ connection.setRequestMethod(&quot;POST&quot;);// è¯·æ±‚æ–¹å¼ DataOutputStream out = new DataOutputStream(connection.getOutputStream()); out.writeBytes(&quot;name=Tom&amp;password=123456&quot;); åœ¨è·å–è¾“å…¥æµä¹‹å‰æŠŠè¦æäº¤çš„æ•°æ®å†™å…¥ 8.2.2 ä½¿ç”¨OKHttpåœ¨AndroidXä¸­æ·»åŠ ä¾èµ–okhttpï¼ˆsquareupå…¬å¸çš„ï¼‰ æ·»åŠ æ–°çš„æ–¹æ³•ä½¿ç”¨OkHttpï¼ŒæŠŠbuttonçš„ç»‘å®šäº‹ä»¶æ”¹ä¸ºsendRequestWithOkHttp private void sendRequestWithOkHttp() { new Thread(new Runnable() { @Override public void run() { try { OkHttpClient client = new OkHttpClient(); Request request = new Request.Builder() .url(&quot;http://www.baidu.com&quot;).build(); Response response = client.newCall(request).execute(); String responseData = Objects.requireNonNull(response.body()).string(); showResponse(responseData); } catch (Exception e) { e.printStackTrace(); } } }).start(); } å°±å¯ä»¥çœ‹åˆ°è·ŸåŸæ¥ä¸€æ ·çš„æ•ˆæœ 8.3 è§£æXMLæ•°æ®è¿›è¡Œç½‘ç»œä¼ è¾“é€šå¸¸æœ‰ä¸¤ç§æ ¼å¼XMLå’ŒJSON è¯¾æœ¬P334 8.4 è§£æJSONæ•°æ® ä½¿ç”¨GSON æ·»åŠ ä¾èµ–gson å¯ä»¥æŠŠJSONçš„æ ¼å¼æ˜ å°„æˆä¸€ä¸ªå¯¹è±¡ 8.5 ç½‘ç»œæ–¹æ³•å°è£…å°†ç½‘ç»œæ–¹æ³•å°è£…åˆ°HttpUtilç±»ä¸­ï¼Œæ–¹æ³•ä½œä¸ºé™æ€æ–¹æ³•ç›´æ¥è°ƒç”¨ å¦‚ public class HttpUtil { public static void sendGetRequestWithOkHttp(String address, okhttp3.Callback callback) { OkHttpClient client = new OkHttpClient(); Request request = new Request.Builder() .url(address) .build(); client.newCall(request).enqueue(callback); } } è°ƒç”¨ private void sendRequestWithOkHttp() { new Thread(new Runnable() { @Override public void run() { HttpUtil.sendGetRequestWithOkHttp(&quot;http://www.baidu.com&quot;, new okhttp3.Callback() { @Override public void onResponse(@NotNull Call call, @NotNull Response response) throws IOException { String responseData = Objects.requireNonNull(response.body()).string(); showResponse(responseData); } @Override public void onFailure(@NotNull Call call, @NotNull IOException e) { e.printStackTrace(); } }); } }).start(); }","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/tags/ç¬”è®°/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"Vueä¸­çš„è·¨åŸŸé—®é¢˜","slug":"æŠ€æœ¯/Vueä¸­çš„è·¨åŸŸé—®é¢˜","date":"2020-09-07T10:08:59.597Z","updated":"2020-09-07T11:12:50.343Z","comments":true,"path":"2020/09/07/æŠ€æœ¯/Vueä¸­çš„è·¨åŸŸé—®é¢˜/","link":"","permalink":"https://easyremember.cn/2020/09/07/æŠ€æœ¯/Vueä¸­çš„è·¨åŸŸé—®é¢˜/","excerpt":"","text":"Vueä¸­çš„è·¨åŸŸé—®é¢˜ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿè·¨åŸŸé—®é¢˜å…¶å®å°±æ˜¯æµè§ˆå™¨çš„åŒæºç­–ç•¥æ‰€å¯¼è‡´çš„ã€‚ ã€ŒåŒæºç­–ç•¥ã€æ˜¯ä¸€ä¸ªé‡è¦çš„å®‰å…¨ç­–ç•¥ï¼Œå®ƒç”¨äºé™åˆ¶ä¸€ä¸ªoriginçš„æ–‡æ¡£æˆ–è€…å®ƒåŠ è½½çš„è„šæœ¬å¦‚ä½•èƒ½ä¸å¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚å®ƒèƒ½å¸®åŠ©é˜»éš”æ¶æ„æ–‡æ¡£ï¼Œå‡å°‘å¯èƒ½è¢«æ”»å‡»çš„åª’ä»‹ã€‚ MDN ä»€ä¹ˆæ˜¯åŒæºå‘¢ï¼Ÿ åè®®+åŸŸå+ç«¯å£ï¼Œä¸‰è€…ä¸€è‡´è®¤ä¸ºæ˜¯åŒæº ä¾‹å¦‚ï¼š http://www.baidu.com:8080å’Œhttp://www.baidu.com:8081äºŒè€…ç«¯å£ä¸ä¸€æ ·ï¼Œè·¨åŸŸ http://www.jingdong.comå’Œhttp://www.baidu.comäºŒè€…åŸŸåä¸ä¸€æ ·ï¼Œè·¨åŸŸ https://www.baidu.comå’Œhttp://www.baidu.comäºŒè€…åè®®ç«¯å£éƒ½ä¸ä¸€æ ·ï¼Œè·¨åŸŸï¼ˆhttps://é»˜è®¤ç«¯å£443ï¼Œhttp://é»˜è®¤ç«¯å£80ï¼‰ http://www.baidu.com/a.jså’Œhttp://www.baidu.com/b.jsï¼Œè¿™ä¸¤è€…æ˜¯åŒæºçš„ æ€ä¹ˆè§£å†³è·¨åŸŸ é€šè¿‡jsonpè·¨åŸŸ document.domain + iframeè·¨åŸŸ location.hash + iframe window.name + iframeè·¨åŸŸ postMessageè·¨åŸŸ è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰ nginxä»£ç†è·¨åŸŸ nodejsä¸­é—´ä»¶ä»£ç†è·¨åŸŸ WebSocketåè®®è·¨åŸŸ åŠ ç²—ä¸ºå¸¸ç”¨ï¼ŒjsonpåŸºæœ¬è¿‡æ—¶ï¼Œäº†è§£ä¸€ä¸‹åŸç† JSONPåœ¨å‘é€Ajaxè¯·æ±‚æ—¶ï¼Œä¸è®ºè¯·æ±‚çš„èµ„æºæ˜¯ä½•ç§ç±»å‹éƒ½é€šä¸è¿‡åŒæºç­–ç•¥ï¼Œä½†æ˜¯ï¼ï¼ï¼ä½ ä¼šå‘ç°&lt;script&gt;ã€&lt;img&gt;ã€&lt;iframe&gt;ç­‰æ²¡æœ‰è¿™ç§é™åˆ¶ã€‚ç„¶åï¼Œjsæ˜¯æ”¯æŒjsonçš„ï¼Œé‚£ä¹ˆæŠŠjsonæ•°æ®æ”¾åˆ°jsä¸­å°±å¯ä»¥æ¥æ”¶äº†ã€‚åºŸè¯å°‘è¯´ä¸Šä»£ç  &lt;!--æœ¬åœ°è¯·æ±‚--&gt; &lt;script&gt; var local = function(data) { console.log(&#39;è¯·æ±‚åˆ°çš„æ•°æ®æ˜¯ï¼š&#39;, data); } &lt;/script&gt; &lt;script src=&quot;/js/jsonp.js&quot;&gt;&lt;/script&gt;&lt;!--å¯ä»¥æ˜¯è¯·æ±‚æ¥å£--&gt; &lt;!--æœåŠ¡å™¨ï¼ˆjsï¼‰--&gt; local(&#39;data from jsonp!&#39;) ç„¶åè¿è¡Œé¡µé¢ å®Œäº‹ï¼Œè¿™å°±æ˜¯jsonpï¼Œjqueryçš„ajaxä¸­ä¹Ÿæä¾›äº†jsonpçš„è¯·æ±‚æ–¹å¼ï¼Œç¼ºé™·åªèƒ½å‘é€GETè¯·æ±‚ CORSæ™®é€šè·¨åŸŸè¯·æ±‚ï¼šåªæœåŠ¡ç«¯è®¾ç½®Access-Control-Allow-Originå³å¯ï¼Œå‰ç«¯æ— é¡»è®¾ç½®ï¼Œè‹¥è¦å¸¦cookieè¯·æ±‚ï¼šå‰åç«¯éƒ½éœ€è¦è®¾ç½®ã€‚ Vueè·¨åŸŸè§£å†³åœ¨vue.config.jsä¸­é…ç½®è·¨åŸŸï¼Œæ³¨é‡Šå·²ç»å¾ˆæ¸…æ¥šäº†å§ï¼Œä¸æ‡‚å¯ä»¥QQï¼Œå¾®ä¿¡ï¼Œç”µé‚®é—®æˆ‘ module.exports = { devServer: { host: &quot;localhost&quot;, port: 8000, // ç«¯å£å· https: false, // æ˜¯å¦https open: true, //é…ç½®è‡ªåŠ¨å¯åŠ¨æµè§ˆå™¨ // proxy: &#39;http://127.0.0.1:8080&#39; // é…ç½®è·¨åŸŸå¤„ç†,åªæœ‰ä¸€ä¸ªä»£ç† // é…ç½®å¤šä¸ªä»£ç† proxy: { &#39;/socket.io&#39;: { target: &#39;http://127.0.0.1:7001/&#39;, // è¦è®¿é—®çš„æ¥å£ ws: true, // æ˜¯å¦å¯ç”¨websockets changeOrigin: true, //å¼€å¯ä»£ç†ï¼šåœ¨æœ¬åœ°ä¼šåˆ›å»ºä¸€ä¸ªè™šæ‹ŸæœåŠ¡ç«¯ï¼Œç„¶åå‘é€è¯·æ±‚çš„æ•°æ®ï¼Œå¹¶åŒæ—¶æ¥æ”¶è¯·æ±‚çš„æ•°æ®ï¼Œè¿™æ ·æœåŠ¡ç«¯å’ŒæœåŠ¡ç«¯è¿›è¡Œæ•°æ®çš„äº¤äº’å°±ä¸ä¼šæœ‰è·¨åŸŸé—®é¢˜ pathRewrite: { &#39;^/api&#39;: &#39;&#39; //åœ¨è¯·æ±‚ä¸­ç”¨&#39;/api&#39;ä»£æ›¿targeté‡Œé¢çš„åœ°å€,æ¯”å¦‚æˆ‘è¦è°ƒç”¨&#39;http://40.00.100.100:3002/user/add&#39;ï¼Œç›´æ¥å†™&#39;/api/user/add&#39;å³å¯ } }, } } };","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Socket.IOå‰ç«¯åç«¯ä¸€èµ·æ‹¿æ","slug":"æŠ€æœ¯/Socket.IOå‰ç«¯åç«¯ä¸€èµ·æ‹¿æ","date":"2020-09-07T09:17:53.747Z","updated":"2020-09-08T11:08:21.502Z","comments":true,"path":"2020/09/07/æŠ€æœ¯/Socket.IOå‰ç«¯åç«¯ä¸€èµ·æ‹¿æ/","link":"","permalink":"https://easyremember.cn/2020/09/07/æŠ€æœ¯/Socket.IOå‰ç«¯åç«¯ä¸€èµ·æ‹¿æ/","excerpt":"","text":"Socket.IOå‰ç«¯åç«¯ä¸€èµ·æ‹¿æåç«¯â€”â€”Egg ç¯å¢ƒæ­å»ºåç«¯socketä½¿ç”¨Eggçš„å‘¨è¾¹â€”â€”egg-socket.io å®‰è£…è¿è¡Œå‘½ä»¤å®‰è£… $ npm i egg-socket.io --save é…ç½®åœ¨pluginä¸­å¼€å¯æ’ä»¶ io: { enable: true, package: &#39;egg-socket.io&#39;, }, åœ¨configä¸­é…ç½®æ’ä»¶ç›¸å…³ä¿¡æ¯ // socket config.io = { // init: { wsEngine: &#39;uws&#39; }, init: {}, // é»˜è®¤ws namespace: { // å‘½åç©ºé—´ &#39;/&#39;: { connectionMiddleware: [ &#39;connection&#39; ], // è¿æ¥ä¸­é—´ä»¶ packetMiddleware: [ &#39;filter&#39; ], // æ•°æ®åŒ…ä¸­é—´ä»¶ }, }, }; ç›®å½•ç»“æ„ ç¼–ç é¦–å…ˆæŠŠåˆšæ‰é…ç½®æ–‡ä»¶ä¸­çš„ä¸¤ä¸ªä¸­é—´ä»¶ç¼–å†™å®Œæˆ connection.ts import { Context } from &#39;egg&#39;; // è¿™ä¸ªä¸­é—´ä»¶çš„ä½œç”¨æ˜¯æç¤ºç”¨æˆ·è¿æ¥ä¸æ–­å¼€çš„ï¼Œè¿æ¥æˆåŠŸçš„æ¶ˆæ¯å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œæ–­å¼€è¿æ¥çš„æ¶ˆæ¯åœ¨æœåŠ¡ç«¯æ‰“å° export default function connection(): any { return async (ctx: Context, next: () =&gt; Promise &lt; any &gt;) =&gt; { ctx.socket.emit(&#39;res&#39;, &#39;connected!&#39;); await next(); // execute when disconnect. console.log(&#39;disconnection!&#39;); }; } filter.ts import { Context } from &#39;egg&#39;; // è¿™ä¸ªä¸­é—´ä»¶çš„ä½œç”¨æ˜¯å°†æ¥æ”¶åˆ°çš„æ•°æ®å†å‘é€ç»™å®¢æˆ·ç«¯ export default function filter(): any { return async (ctx: Context, next: () =&gt; Promise&lt;any&gt;) =&gt; { ctx.socket.emit(&#39;res&#39;, &#39;packet received!&#39;); console.log(&#39;packet:&#39;, ctx.packet); await next(); }; } ç„¶åé…ç½®è·¯ç”±ï¼Œé€šè¿‡è·¯ç”±åˆ†å‘ç»™controllerå¤„ç† import { Application } from &#39;egg&#39;; export default (app: Application) =&gt; { const { controller, router, middleware, io } = app; io.route(&#39;chat&#39;, io.controller.chat.index); // è¿™é‡Œéœ€è¦æ³¨æ„routeçš„ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¦ä¸ç¬¬äºŒä¸ªå‚æ•°controllerçš„æ–‡ä»¶åä¸€è‡´ // å¦‚æœé…ç½®ä¸­æœ‰å…¶ä»–çš„å‘½åç©ºé—´â€˜/othernameâ€™ï¼Œè·¯ç”±é…ç½®æ–¹æ³•å¦‚ä¸‹ // io.of(&#39;/othername&#39;).route(&#39;default&#39;, io.controller.default.index); }; æ³¨æ„ï¼Œå› ä¸ºegg-socket.ioä¸­æ²¡æœ‰.d.tsï¼Œæ‰€ä»¥ioä¼šæŒ‚è½½ä¸åˆ°appä¸Šï¼Œåœ¨ä¸‹é¢çš„ç›®å½•ä¸‹æ·»åŠ ä»£ç å³å¯ æ·»åŠ ä»£ç å¦‚ä¸‹ import { Socket, Server } from &#39;socket.io&#39;; declare module &#39;egg&#39; { export interface Application { io: Serverr &amp; EggSocketIO &amp; Namespace; } export interface Context { socket: Socket } interface EggSocketIO { middleware: xxx; controller: xxx; } interface Namespace { route(event: string, handler: Function): any } } ç„¶åå°±æ˜¯controllerçš„ä»£ç äº† import { Controller } from &#39;egg&#39;; export default class ChatController extends Controller { public async index() { const { ctx } = this; const message = ctx.args[0]; ctx.socket.emit(&#39;res&#39;, `Hi! I&#39;ve got your message: ${message}`); // è¿™é‡Œå¯ä»¥è°ƒç”¨serviceï¼Œåªæ˜¯ç¤ºä¾‹å°±ä¸æè¾£ä¹ˆå¤æ‚äº† } } /* // åœ¨controller ä¸­ // å‘é€ç»™è‡ªå·± this.socket.emit(&#39;eventName&#39;, &#39;value&#39;); // å‘é€ç»™é™¤äº†è‡ªå·±å¤–çš„æ‰€æœ‰äºº this.socket.broadcast.emit(&#39;eventName&#39;, &#39;value&#39;); // å‘é€ç»™æ‰€æœ‰äººï¼ŒåŒ…æ‹¬è‡ªå·± this.server.sockets.emit(&#39;eventName&#39;, &#39;value&#39;); */ æµ‹è¯•ä»£ç å†™å®Œç„¶åä½¿ç”¨socket.io-clientæµ‹è¯•ä¸€ä¸‹è¿æ¥ï¼ˆéœ€è¦ä½¿ç”¨npmå®‰è£…ï¼Œ npm install socket.io-client â€“saveï¼‰ // eslint-disable-next-line @typescript-eslint/no-var-requires const socket = require(&#39;socket.io-client&#39;)(&#39;http://127.0.0.1:7001/&#39;); socket.on(&#39;connect&#39;, () =&gt; { console.log(&#39;connect!&#39;); socket.emit(&#39;chat&#39;, &#39;hello world!&#39;); }); socket.on(&#39;res&#39;, msg =&gt; { console.log(&#39;res from server: %s!&#39;, msg); }); ç„¶ånode ./client.js å®¢æˆ·ç«¯è¿è¡Œç»“æœå¦‚ä¸‹ æœåŠ¡ç«¯ç»“æœå¦‚ä¸‹ï¼ˆå…³é—­æœåŠ¡ç«¯æ—¶è§¦å‘ä¸­é—´ä»¶ï¼Œæ‰“å°äº†disconnectionï¼‰ è¯•äº†å¾ˆå¤šåŠæ³•ï¼Œä¸€ç›´æ²¡æ³•ç”¨wsè®¿é—®è¿æ¥ï¼Œåªèƒ½é€šè¿‡socket.io-clientè·‘é€š ä»£ç ä»£ç å·²ç»ä¸Šä¼ ç äº‘#socket å‰ç«¯â€”â€”Vue å‰ç«¯ä½¿ç”¨vue-socket.ioï¼Œè¿™å…¶å®æ˜¯å¯¹socket.io-clientçš„å°è£…ï¼Œç„¶åæŒ‚è½½åˆ°Vueå®ä¾‹ ä½¿ç”¨ä¹Ÿæ˜¯å¾ˆç®€å•ï¼Œå®‰è£…npmåŒ… $ npm install vue-socket.io --save ç„¶åé…ç½®main.jsï¼Œå°†ç»„ä»¶æŒ‚è½½åˆ°Vueå®ä¾‹ import Vue from &#39;vue&#39; import App from &#39;./App.vue&#39; import router from &#39;./router&#39; import store from &#39;./store&#39; import VueSocketIO from &#39;vue-socket.io&#39; Vue.config.productionTip = false Vue.use(new VueSocketIO({ debug: false, // ç”Ÿäº§ç¯å¢ƒå…³é—­ connection: &#39;http://127.0.0.1:7001&#39;, vuex: { // store, // actionPrefix: &#39;SOCKET_&#39;, // mutationPrefix: &#39;SOCKET_&#39; }, // options: { path: &quot;/my-app/&quot; } })) new Vue({ router, store, render: h =&gt; h(App) }).$mount(&#39;#app&#39;) ç„¶åæ–°å»ºä¸€ä¸ªpageï¼Œè¿™é‡ŒåªåŠ äº†ä¸€ä¸ªç®€å•çš„æŒ‰é’®æ¥è§¦å‘äº‹ä»¶ &lt;template&gt; &lt;div&gt; &lt;button @click=&quot;sendMessageToServer&quot;&gt;send&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { msg: &#39;&#39; } }, sockets: { connect: function () { console.log(&#39;è¿æ¥æˆåŠŸ&#39;); }, res: function (val) { console.log(&#39;æ¥æ”¶åˆ°æœåŠ¡ç«¯æ¶ˆæ¯:&#39;, val); }, }, methods: { sendMessageToServer: function() { this.$socket.emit(&#39;chat&#39;, &#39;test111&#39;); // ç¬¬ä¸€ä¸ªå‚æ•°å†³å®šäº†è°ƒç”¨åç«¯çš„å“ªä¸ªsocketè·¯ç”± } } } &lt;/script&gt; &lt;style lang=&quot;less&quot; scoped&gt; &lt;/style&gt; ç„¶åè¿è¡Œé¡¹ç›®ï¼ŒæŸ¥çœ‹æ•ˆæœ å®æˆ˜å…ˆæ¥çœ‹æ•ˆæœ ä¸œè¥¿å°±è¿™ä¹ˆä¸ªä¸œè¥¿ï¼Œæ„Ÿè§‰æ²¡å•¥å¥½è¯´çš„ï¼Œç›´æ¥ä¸Šä»£ç å§ï¼Œä¼ é€é—¨ ä¸»è¦è®°ä¸€ä¸‹è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ ç»™è¾“å…¥æ¡†æ·»åŠ å›è½¦äº‹ä»¶æ—¶ï¼Œç¬¬ä¸‰æ–¹æ¡†æ¶ä¸­ä¸å¯ä»¥ç›´æ¥ç”¨`@keyup.enterï¼Œè€Œæ˜¯è¦ç”¨@keyup.enter.native` åç«¯åœ¨å¾€å‰ç«¯å‘é€æ¶ˆæ¯æ—¶ä½¿ç”¨çš„ä¸»é¢˜æ˜¯ä»€ä¹ˆï¼Œå‰ç«¯å°±ç”¨ä»€ä¹ˆä¸»é¢˜æ¥æ”¶ï¼Œæ¯”å¦‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"node","slug":"node","permalink":"https://easyremember.cn/tags/node/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Vueæ’æ§½ç»„ä»¶","slug":"æŠ€æœ¯/Vueç»„ä»¶ä¹‹slotæ’æ§½","date":"2020-08-30T08:09:24.323Z","updated":"2020-09-05T09:34:39.830Z","comments":true,"path":"2020/08/30/æŠ€æœ¯/Vueç»„ä»¶ä¹‹slotæ’æ§½/","link":"","permalink":"https://easyremember.cn/2020/08/30/æŠ€æœ¯/Vueç»„ä»¶ä¹‹slotæ’æ§½/","excerpt":"","text":"Vueç»„ä»¶ä¹‹slotæ’æ§½ vueé‡Œæä¾›äº†ä¸€ç§å°†çˆ¶ç»„ä»¶çš„å†…å®¹å’Œå­ç»„ä»¶çš„æ¨¡æ¿æ•´åˆçš„æ–¹æ³•ï¼šå†…å®¹åˆ†å‘ï¼Œé€šè¿‡slotæ’æ§½æ¥å®ç°ã€‚ åŒ¿åæ’æ§½çˆ¶ç»„ä»¶ä½¿ç”¨å­ç»„ä»¶æ—¶ï¼Œåœ¨å­ç»„ä»¶æ ‡ç­¾å†…éƒ¨ç¼–å†™å†…å®¹ï¼Œå­ç»„ä»¶å†…éƒ¨å¯ä»¥ä½¿ç”¨æ¥æ¥æ”¶ä¼ å…¥çš„å†…å®¹ï¼Œæ’æ§½å¯ä»¥è®¾ç½®é»˜è®¤å†…å®¹ï¼Œå½“æ— å†…å®¹ä¼ å…¥æ—¶ä½¿ç”¨é»˜è®¤å†…å®¹ &lt;!-- SlotTest.vue --&gt; &lt;template&gt; &lt;div&gt; ä¸‹é¢æ˜¯soltæ¥æ”¶åˆ°çš„å€¼ï¼š &lt;slot&gt;default data&lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; åœ¨çˆ¶ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨å­ç»„ä»¶ï¼Œæ²¡æœ‰ä¼ å…¥æ•°æ® &lt;template&gt; &lt;div&gt; &lt;slot-test&gt; &lt;!-- data from father --&gt; &lt;/slot-test&gt; &lt;/div&gt; &lt;/template&gt; å¯ä»¥çœ‹åˆ°æ¸²æŸ“å­ç»„ä»¶çš„æ—¶å€™ä½¿ç”¨äº†é»˜è®¤å€¼ ç„¶åå°†å­ç»„ä»¶ä¸­åŠ å…¥æ•°æ®ï¼Œå­ç»„ä»¶ä¸­æ¸²æŸ“äº†çˆ¶ç»„ä»¶ä¸­ä¼ å…¥çš„æ•°æ® çˆ¶çº§æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ï¼›å­æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨å­ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ã€‚ æ„æ€æ˜¯ï¼šé€šè¿‡è¿™ç§æ–¹å¼ä¼ é€’çš„å‚æ•°ï¼ˆdata=â€slot dataâ€ï¼‰ï¼Œåªèƒ½åœ¨å­ç»„ä»¶ä¸­è®¿é—®åˆ°ï¼ˆé€šè¿‡propsæ¥æ”¶ï¼‰ï¼Œçˆ¶ç»„ä»¶ä¸­æ˜¯è®¿é—®ä¸åˆ°çš„ å…·åæ’æ§½å½“ç»„ä»¶ä¸­éœ€è¦å¤šä¸ªæ’æ§½æ—¶ï¼Œä½¿ç”¨åŒ¿åæ’æ§½ä¼šéå¸¸ä¸æ–¹ä¾¿ æ ‡ç­¾æœ‰ä¸€ä¸ªnameå±æ€§ï¼Œç”¨æ¥å®šä¹‰é¢å¤–æ’æ§½ï¼Œå…·åæ’æ§½ä¸­çš„å†…å®¹ä½¿ç”¨æ ‡ç­¾åŒ…è£¹ï¼Œå£°æ˜v-slot:nameï¼Œé…å¯¹çš„å†…å®¹æ”¾ç½®åˆ°ç›¸åº”çš„æ’æ§½å†…éƒ¨ï¼Œå…¶ä½™å†…å®¹æ”¾ç½®åˆ°é»˜è®¤æ’æ§½ä¸­ &lt;!-- father --&gt; &lt;template&gt; &lt;div&gt; &lt;slot-test&gt; è¿™é‡Œ &lt;template v-slot:first&gt; ç¬¬ä¸€ä¸ªæ’æ§½ &lt;/template&gt; &lt;template v-slot:second&gt; ç¬¬äºŒä¸ªæ’æ§½ &lt;/template&gt; å…¶ä½™å†…å®¹å…¨éƒ¨æ”¾åˆ°é»˜è®¤æ’æ§½ &lt;/slot-test&gt; &lt;/div&gt; &lt;/template&gt; &lt;!-- son --&gt; &lt;template&gt; &lt;div&gt; ä¸‹é¢æ˜¯soltæ¥æ”¶åˆ°çš„å€¼ï¼š 1. &lt;slot name=&quot;first&quot;&gt;default data&lt;/slot&gt; 2. &lt;slot name=&quot;second&quot;&gt;default data&lt;/slot&gt; 3. &lt;slot&gt;default data&lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; æ¥çœ‹ä¸€ä¸‹çœ¼æ•ˆæœï¼Œå¾ˆæ¸…æ™°æ˜äº†ã€‚ä»»ä½•æ²¡æœ‰è¢«åŒ…è£¹åœ¨å¸¦æœ‰ v-slot çš„ &lt;template&gt; ä¸­çš„å†…å®¹éƒ½ä¼šè¢«è§†ä¸ºé»˜è®¤æ’æ§½çš„å†…å®¹ï¼Œç›¸å½“äº ä½œç”¨åŸŸæ’æ§½å½“æˆ‘ä»¬æƒ³åœ¨çˆ¶ç»„ä»¶ä¸­è®¿é—®å­ç»„ä»¶å†…éƒ¨çš„ä¸€äº›æ•°æ®æ—¶ï¼Œå°±éœ€è¦åœ¨å­ç»„ä»¶å†…éƒ¨çš„å…ƒç´ ä¸ŠåŠ¨æ€ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰å±æ€§ï¼Œå°†æ•°æ®ä¼ é€’åˆ°è‡ªå®šä¹‰å±æ€§ä¸Šï¼Œé€šè¿‡slotä¼ é€’ç»™çˆ¶ç»„ä»¶ä½¿ç”¨ ä»£ç ç¤ºä¾‹ &lt;!-- å­ç»„ä»¶ --&gt; &lt;template&gt; &lt;div&gt; &lt;slot name=&quot;user&quot; v-bind:user=&quot;user&quot;&gt; &lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { user: { name: &#39;å¼ ä¸‰&#39;, age: 15 } } }, } &lt;/script&gt; &lt;!-- çˆ¶ç»„ä»¶ --&gt; &lt;template&gt; &lt;div&gt; &lt;slot-test&gt; &lt;template v-slot:user=&quot;slotProps&quot;&gt; {{slotProps.user.name}}ä»Šå¹´{{slotProps.user.age}}å²ã€‚ &lt;/template&gt; &lt;/slot-test&gt; &lt;/div&gt; &lt;/template&gt; å½“ç‹¬å é»˜è®¤æ’æ§½æ—¶å¯ä»¥ç®€å†™ä¸ºï¼ˆä¸å¯ä»¥å’Œå…·åæ’æ§½æ··ç”¨ï¼‰ &lt;slot-test v-slot=&quot;slotProps&quot;&gt; {{slotProps.user.name}}ä»Šå¹´{{slotProps.user.age}}å²ã€‚ &lt;/slot-test&gt; æ›´å¤šç”¨æ³•","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"å°çˆ±è¯¾ç¨‹è¡¨ä½¿ç”¨æ‰‹å†Œ","slug":"ç”Ÿæ´»/å°çˆ±è¯¾ç¨‹è¡¨ä½¿ç”¨æ–‡æ¡£â€”â€”å±±ä¸œå·¥å•†å­¦é™¢-SDTBU","date":"2020-08-28T11:08:09.118Z","updated":"2020-09-14T11:28:51.463Z","comments":true,"path":"2020/08/28/ç”Ÿæ´»/å°çˆ±è¯¾ç¨‹è¡¨ä½¿ç”¨æ–‡æ¡£â€”â€”å±±ä¸œå·¥å•†å­¦é™¢-SDTBU/","link":"","permalink":"https://easyremember.cn/2020/08/28/ç”Ÿæ´»/å°çˆ±è¯¾ç¨‹è¡¨ä½¿ç”¨æ–‡æ¡£â€”â€”å±±ä¸œå·¥å•†å­¦é™¢-SDTBU/","excerpt":"","text":"å°çˆ±è¯¾ç¨‹è¡¨ä½¿ç”¨æ‰‹å†Œâ€”â€”å±±ä¸œå·¥å•†å­¦é™¢-SDTBU æ³¨æ„ï¼šéœ€è¦å°ç±³æ‰‹æœºæˆ–è€…éå°ç±³æ‰‹æœºå®‰è£…å°çˆ±è¯¾ç¨‹è¡¨APPéå°ç±³æ‰‹æœºå¯èƒ½ä¼šæœ‰éƒ¨åˆ†åŠŸèƒ½æ— æ³•ä½¿ç”¨ æ•ˆæœå±•ç¤º æ­£å¼æ­¥éª¤1. æ‰“å¼€å°çˆ±è¯¾è¡¨ æ§åˆ¶ä¸­å¿ƒä¸‹æ‹‰æ‰“å¼€å°çˆ±æ·å¾„ï¼ˆæ²¡æœ‰å¯ä»¥åœ¨ç¼–è¾‘ä¸­åŠ å…¥ï¼‰ï¼Œå°çˆ±æ·å¾„æ‰¾åˆ°è¯¾ç¨‹è¡¨æ·å¾„ å”¤é†’å°çˆ±åŒå­¦è¯­éŸ³åŠ©æ‰‹ï¼Œå‘Šè¯‰å¥¹â€œè¯¾ç¨‹è¡¨â€ 2. è®¾ç½®æ‰“å¼€å°çˆ±è¯¾ç¨‹è¡¨è®¾ç½®ï¼Œå°†ä¸€å¤©ä¸Šè¯¾èŠ‚æ•°è°ƒæ•´ä¸º10ï¼ˆ4-4-2ï¼‰ 3. é€‰æ‹©å­¦æ ¡éœ€è¦æå‰è¿æ¥æ ¡å›­ç½‘ æ‰“å¼€å°çˆ±è¯¾ç¨‹è¡¨å³ä¸Šè§’è®¾ç½®ï¼Œä¸‹æ‹‰æ‰¾åˆ°é€‰æ‹©å­¦æ ¡ è¾“å…¥å±±ä¸œå·¥å•†å­¦é™¢ï¼Œé€‰é¡¹ä¸­æ‰¾åˆ°å¹¶ç‚¹å‡»ã€å±±ä¸œå·¥å•†å­¦é™¢-SDTBUã€‘ ç‚¹å‡»æ•™åŠ¡ç½‘ç«™å¯¼å…¥ 4. å¯¼å…¥è¯¾è¡¨ ç‚¹å‡»æ•™åŠ¡ç®¡ç†ç³»ç»Ÿå­¦ç”Ÿç«¯ï¼Œç™»å½•æ™ºæ…§å±±å•† ç™»å½•ä¹‹åç‚¹å‡»å­¦æœŸè¯¾è¡¨ æ‰“å¼€è¦æ·»åŠ çš„å­¦æœŸè¯¾è¡¨ä¹‹åç‚¹å‡»å±å¹•ä¸‹æ–¹ä¸€é”®å¯¼å…¥ PSï¼šå¦‚æœæ²¡ç»‘å®šæ‰‹æœºå·å¯èƒ½ä¼šè®©ä½ ç»‘å®šæ‰‹æœºï¼Œç‚¹å‡»å–æ¶ˆä¹‹åè¿›å…¥çš„æ˜¯é‚£ä¸ªç»¿è‰²çš„æ™ºæ…§å±±å•†ï¼Œè¿™æ—¶å€™è¦é€€å‡ºåˆ°å°çˆ±è¯¾è¡¨çš„è®¾ç½®ç•Œé¢ï¼Œå†ç‚¹å¯¼å…¥é”®é‡æ–°è¿›å…¥ï¼Œä¸€å®šè¦æ˜¯å›¾ä¸Šçš„é¡µé¢æ‰å¯ä»¥å¯¼å…¥ PPSï¼šå½“å‰å‘¨æ•°ä¸å¯¹å¯ä»¥åœ¨è®¾ç½®ä¸­è°ƒæ•´ 5. åé¦ˆå¦‚æœä¿¡æ¯å¯¼å…¥æˆåŠŸç‚¹å‡»ä¸€ä¸ªå®Œç¾æ”¯æŒä¸€ä¸‹ï¼Œå¦‚æœå­˜åœ¨å¯¼å…¥å¤±è´¥æˆ–å­˜åœ¨ä½¿ç”¨é—®é¢˜åŠ Qåé¦ˆï¼Œç‚¹å‡»è¿™é‡ŒåŠ Q","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/categories/å·¥å…·/"}],"tags":[{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"https://easyremember.cn/tags/æ‚¦è¯»/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/categories/å·¥å…·/"}]},{"title":"å¯¹æ¯”callå’Œapply","slug":"æŠ€æœ¯/callå’Œapply","date":"2020-08-27T14:47:40.917Z","updated":"2020-09-09T02:55:14.055Z","comments":true,"path":"2020/08/27/æŠ€æœ¯/callå’Œapply/","link":"","permalink":"https://easyremember.cn/2020/08/27/æŠ€æœ¯/callå’Œapply/","excerpt":"","text":"call&amp;apply&amp;bindcallcallæ–¹æ³•ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„ this å€¼å’Œå•ç‹¬ç»™å‡ºçš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°æ¥è°ƒç”¨ä¸€ä¸ªå‡½æ•° è¯­æ³•function.call(thisArg, arg1, arg2, ...) å‚æ•° thisArgï¼šåœ¨ function å‡½æ•°è¿è¡Œæ—¶ä½¿ç”¨çš„ this å€¼ arg1, arg2, â€¦ï¼šå‚æ•°åˆ—è¡¨ ç¤ºä¾‹function fullName() { return this.firstName + this.lastName } function Person(first, last) { this.firstName = first this.lastName = last } var p = new Person(&#39;zhang&#39;, &#39;san&#39;) var p2 = new Person(&#39;li&#39;, &#39;si&#39;) console.log(fullName.call(p)); console.log(fullName.call(p2)); é¦–å…ˆå®ä¾‹åŒ–ä¸¤ä¸ªPersonå¯¹è±¡ï¼Œç„¶åå°†ä¸¤ä¸ªå¯¹è±¡å®ä¾‹ä¼ ç»™fullName.call() å¯ä»¥çœ‹åˆ°æ§åˆ¶å°å·²ç»æ‰“å°å‡ºäº†ä¸¤ä¸ªå®ä¾‹çš„ä¿¡æ¯ å†æ¥çœ‹ä¸€ä¸‹å¸¦å‚æ•°çš„ï¼Œè¿™æ˜¯ä¸applyæ–¹æ³•çš„åŒºåˆ«ä¹‹å¤„ var obj = { name: &#39;å¼ ä¸‰&#39;, age: 19, func: function (from, to) { console.log(this.name + &#39;ä»Šå¹´&#39; + this.age + &#39;,ä»&#39; + from + &#39;æ¥ï¼Œè¦åˆ°&#39; + to + &#39;å»&#39;); } } obj.func(&#39;åŒ—äº¬&#39;, &#39;ä¸Šæµ·&#39;) var p = { name: &#39;æå››&#39;, age: 25 } obj.func.call(p, &#39;å¤©æ´¥&#39;, &#39;å—äº¬&#39;) applyè°ƒç”¨ä¸€ä¸ªå…·æœ‰ç»™å®šthiså€¼çš„å‡½æ•°ï¼Œä»¥åŠä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»ä¼¼æ•°ç»„å¯¹è±¡ï¼‰æä¾›çš„å‚æ•° è¯­æ³•func.apply(thisArg, [argsArray]) å‚æ•° thisArgï¼šåœ¨ function å‡½æ•°è¿è¡Œæ—¶ä½¿ç”¨çš„ this å€¼ [argsArray]ï¼šæ•°ç»„æˆ–è€…ç±»æ•°ç»„å¯¹è±¡ï¼Œæ•°ç»„å…ƒç´ å°†ä½œä¸ºå•ç‹¬çš„å‚æ•°ä¼ ç»™ func å‡½æ•° applyæ–¹æ³•ä¸callæ–¹æ³•çš„åŒºåˆ«å°±åœ¨æ­¤å¤„ï¼Œcallæ¥æ”¶å‚æ•°åˆ—è¡¨ï¼Œapplyæ¥æ”¶æ•°ç»„ ç¤ºä¾‹ä»ç„¶ä½¿ç”¨callä¸­çš„ä¸»è¦ä»£ç ï¼Œæ›´å®¹æ˜“çœ‹å‡ºåŒºåˆ« var obj = { name: &#39;å¼ ä¸‰&#39;, age: 19, func: function (from, to) { console.log(this.name + &#39;ä»Šå¹´&#39; + this.age + &#39;,ä»&#39; + from + &#39;æ¥ï¼Œè¦åˆ°&#39; + to + &#39;å»&#39;); } } obj.func(&#39;åŒ—äº¬&#39;, &#39;ä¸Šæµ·&#39;) var p = { name: &#39;æå››&#39;, age: 25 } obj.func.apply(p, [&#39;å–€ä»€&#39;, &#39;è¿äº‘æ¸¯&#39;]) bindåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œåœ¨ bind() è¢«è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªæ–°å‡½æ•°çš„ this è¢«æŒ‡å®šä¸º bind() çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œå…¶ä½™å‚æ•°å°†ä½œä¸ºæ–°å‡½æ•°çš„å‚æ•° è¯­æ³•function.bind(thisArg[, arg1[, arg2[, ...]]]) å‚æ•° thisArg å½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¯¥å‚æ•°ä¼šä½œä¸ºåŸå‡½æ•°è¿è¡Œæ—¶çš„ this æŒ‡å‘ã€‚å½“ä½¿ç”¨ new æ“ä½œç¬¦è°ƒç”¨ç»‘å®šå‡½æ•°æ—¶ï¼Œè¯¥å‚æ•°æ— æ•ˆã€‚ arg1, arg2, â€¦ ï¼ˆå¯é€‰ï¼‰å½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¿™äº›å‚æ•°åŠ ä¸Šç»‘å®šå‡½æ•°æœ¬èº«çš„å‚æ•°ä¼šæŒ‰ç…§é¡ºåºä½œä¸ºåŸå‡½æ•°è¿è¡Œæ—¶çš„å‚æ•°ã€‚ ç¤ºä¾‹function func(a, b, c) { return a + b + c; } var newFunc = func.bind(null, 10) console.log(newFunc(20, 30)); å°† 10 ä½œä¸ºé»˜è®¤çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåªéœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°å³å¯ï¼Œä¼ å¤šä¸ªå‚æ•°åªä¼šå–å‰ä¸¤ä¸ª function Person(name, age) { this.name = name; this.age = age; } var _Person = Person.bind({}); var p = new _Person(&#39;zhangsan&#39;, 30); // Person {name: &quot;zhangsan&quot;, age: 30} è¿˜å¯ä»¥ç”¨æ¥å¤åˆ¶å¯¹è±¡","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Axios","slug":"ç¬”è®°/Axios","date":"2020-08-27T04:14:58.150Z","updated":"2020-09-14T23:46:15.530Z","comments":true,"path":"2020/08/27/ç¬”è®°/Axios/","link":"","permalink":"https://easyremember.cn/2020/08/27/ç¬”è®°/Axios/","excerpt":"","text":"Axiosç®€ä»‹åŠå®‰è£…ç®€ä»‹axiosæ˜¯åŸºäºpromiseç”¨äºæµè§ˆå™¨å’Œnode.jsçš„httpå®¢æˆ·ç«¯ ç‰¹ç‚¹ï¼š èƒ½å¤Ÿæ‹¦æˆªè¯·æ±‚ æ”¯æŒæµè§ˆå™¨å’ŒnodeæœåŠ¡å™¨ æ”¯æŒPromise å®‰è£…è¿è¡Œå‘½ä»¤ $ npm install axios ä¹Ÿå¯ä»¥é€šè¿‡cdnå¼•å…¥ &lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt; ä½¿ç”¨ç¤ºä¾‹GETaxios.get(&#39;http://127.0.0.1:7001/news&#39;).then(response =&gt; { console.log(response); }).catch(error =&gt; { console.log(error); }) å¦‚æœéœ€è¦å‘é€å‚æ•°ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§å°±æ˜¯ä¸Šé¢çš„ç¤ºä¾‹urlåæ·»åŠ å‚æ•°ï¼Œç¬¬äºŒç§æ˜¯å°†è¦å‘é€çš„æ•°æ®ä½œä¸ºå¯¹è±¡æ”¾åˆ°getæ–¹æ³•çš„å‚æ•°ä¸­ axios.get(&#39;http://127.0.0.1:7001/news&#39;, { params: { id: 123 } }).then(response =&gt; { console.log(response); }).catch(error =&gt; { console.log(error); }) POSTaxios.post(&#39;http://127.0.0.1:7001/add&#39;, { name: &#39;zhangsan&#39;, password: &#39;123456&#39; }).then(response =&gt; { console.log(response); }).catch(error =&gt; { console.log(error); }) axiosçš„APIaxios(config)axios({ method: &#39;POST&#39;, url: &#39;http://127.0.0.1:7001/add&#39;, data: { name: &#39;zhangsan&#39;, password: &#39;123456&#39; } }); // è·å–è¿œç¨‹å›¾ç‰‡ axios({ method:&#39;get&#39;, url:&#39;http://127.0.0.1:7001/img&#39;, responseType:&#39;stream&#39; }) .then(function(response) { response.data.pipe(fs.createWriteStream(&#39;bg.jpg&#39;)) }); axios(url[, config])ä¸æ·»åŠ configï¼Œé»˜è®¤GETè¯·æ±‚ åˆ«å axios.request(url); axios.get(url[,config]); axios.delete(url[,config]); axios.head(url[,config]); axios.options(url[,config]); axios.post(url[,data[,config]]); axios.put(url[,data[,config]]); axios.patch(url[,data[,config]]); è¯·æ±‚å’Œå“åº”è¯·æ±‚é…ç½®{ // `url` æ˜¯ç”¨äºè¯·æ±‚çš„æœåŠ¡å™¨ URL url: &#39;/user&#39;, // `method` æ˜¯åˆ›å»ºè¯·æ±‚æ—¶ä½¿ç”¨çš„æ–¹æ³• method: &#39;get&#39;, // default // `baseURL` å°†è‡ªåŠ¨åŠ åœ¨ `url` å‰é¢ï¼Œé™¤é `url` æ˜¯ä¸€ä¸ªç»å¯¹ URLã€‚ // å®ƒå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª `baseURL` ä¾¿äºä¸º axios å®ä¾‹çš„æ–¹æ³•ä¼ é€’ç›¸å¯¹ URL baseURL: &#39;https://some-domain.com/api/&#39;, // `transformRequest` å…è®¸åœ¨å‘æœåŠ¡å™¨å‘é€å‰ï¼Œä¿®æ”¹è¯·æ±‚æ•°æ® // åªèƒ½ç”¨åœ¨ &#39;PUT&#39;, &#39;POST&#39; å’Œ &#39;PATCH&#39; è¿™å‡ ä¸ªè¯·æ±‚æ–¹æ³• // åé¢æ•°ç»„ä¸­çš„å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ– ArrayBufferï¼Œæˆ– Stream transformRequest: [function (data, headers) { // å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç† return data; }], // `transformResponse` åœ¨ä¼ é€’ç»™ then/catch å‰ï¼Œå…è®¸ä¿®æ”¹å“åº”æ•°æ® transformResponse: [function (data) { // å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç† return data; }], // `headers` æ˜¯å³å°†è¢«å‘é€çš„è‡ªå®šä¹‰è¯·æ±‚å¤´ headers: {&#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;}, // `params` æ˜¯å³å°†ä¸è¯·æ±‚ä¸€èµ·å‘é€çš„ URL å‚æ•° // å¿…é¡»æ˜¯ä¸€ä¸ªæ— æ ¼å¼å¯¹è±¡(plain object)æˆ– URLSearchParams å¯¹è±¡ params: { ID: 12345 }, // `paramsSerializer` æ˜¯ä¸€ä¸ªè´Ÿè´£ `params` åºåˆ—åŒ–çš„å‡½æ•° // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/) paramsSerializer: function(params) { return Qs.stringify(params, {arrayFormat: &#39;brackets&#39;}) }, // `data` æ˜¯ä½œä¸ºè¯·æ±‚ä¸»ä½“è¢«å‘é€çš„æ•°æ® // åªé€‚ç”¨äºè¿™äº›è¯·æ±‚æ–¹æ³• &#39;PUT&#39;, &#39;POST&#39;, å’Œ &#39;PATCH&#39; // åœ¨æ²¡æœ‰è®¾ç½® `transformRequest` æ—¶ï¼Œå¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams // - æµè§ˆå™¨ä¸“å±ï¼šFormData, File, Blob // - Node ä¸“å±ï¼š Stream data: { firstName: &#39;Fred&#39; }, // `timeout` æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°(0 è¡¨ç¤ºæ— è¶…æ—¶æ—¶é—´) // å¦‚æœè¯·æ±‚è¯è´¹äº†è¶…è¿‡ `timeout` çš„æ—¶é—´ï¼Œè¯·æ±‚å°†è¢«ä¸­æ–­ timeout: 1000, // `withCredentials` è¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦ä½¿ç”¨å‡­è¯ withCredentials: false, // default // `adapter` å…è®¸è‡ªå®šä¹‰å¤„ç†è¯·æ±‚ï¼Œä»¥ä½¿æµ‹è¯•æ›´è½»æ¾ // è¿”å›ä¸€ä¸ª promise å¹¶åº”ç”¨ä¸€ä¸ªæœ‰æ•ˆçš„å“åº” adapter: function (config) { /* ... */ }, // `auth` è¡¨ç¤ºåº”è¯¥ä½¿ç”¨ HTTP åŸºç¡€éªŒè¯ï¼Œå¹¶æä¾›å‡­æ® // è¿™å°†è®¾ç½®ä¸€ä¸ª `Authorization` å¤´ï¼Œè¦†å†™æ‰ç°æœ‰çš„ä»»æ„ä½¿ç”¨ `headers` è®¾ç½®çš„è‡ªå®šä¹‰ `Authorization`å¤´ auth: { username: &#39;janedoe&#39;, password: &#39;s00pers3cret&#39; }, // `responseType` è¡¨ç¤ºæœåŠ¡å™¨å“åº”çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯ &#39;arraybuffer&#39;, &#39;blob&#39;, &#39;document&#39;, &#39;json&#39;, &#39;text&#39;, &#39;stream&#39; responseType: &#39;json&#39;, // default // `responseEncoding` å“åº”ç¼–ç  responseEncoding: &#39;utf8&#39;, // default // `xsrfCookieName` æ˜¯ç”¨ä½œ xsrf token çš„å€¼çš„cookieçš„åç§° xsrfCookieName: &#39;XSRF-TOKEN&#39;, // default // `xsrfHeaderName` is the name of the http header that carries the xsrf token value xsrfHeaderName: &#39;X-XSRF-TOKEN&#39;, // default // `onUploadProgress` å…è®¸ä¸ºä¸Šä¼ å¤„ç†è¿›åº¦äº‹ä»¶ onUploadProgress: function (progressEvent) { // Do whatever you want with the native progress event }, // `onDownloadProgress` å…è®¸ä¸ºä¸‹è½½å¤„ç†è¿›åº¦äº‹ä»¶ onDownloadProgress: function (progressEvent) { // å¯¹åŸç”Ÿè¿›åº¦äº‹ä»¶çš„å¤„ç† }, // `maxContentLength` å®šä¹‰å…è®¸çš„å“åº”å†…å®¹çš„æœ€å¤§å°ºå¯¸ maxContentLength: 2000, // `validateStatus` å®šä¹‰å¯¹äºç»™å®šçš„HTTP å“åº”çŠ¶æ€ç æ˜¯ resolve æˆ– reject promise ã€‚å¦‚æœ `validateStatus` è¿”å› `true` (æˆ–è€…è®¾ç½®ä¸º `null` æˆ– `undefined`)ï¼Œpromise å°†è¢« resolve; å¦åˆ™ï¼Œpromise å°†è¢« rejecte validateStatus: function (status) { return status &gt;= 200 &amp;&amp; status &lt; 300; // default }, // `maxRedirects` å®šä¹‰åœ¨ node.js ä¸­ follow çš„æœ€å¤§é‡å®šå‘æ•°ç›® // å¦‚æœè®¾ç½®ä¸º0ï¼Œå°†ä¸ä¼š follow ä»»ä½•é‡å®šå‘ maxRedirects: 5, // default // `socketPath` defines a UNIX Socket to be used in node.js. socketPath: null, // default // `httpAgent` å’Œ `httpsAgent` åˆ†åˆ«åœ¨ node.js ä¸­ç”¨äºå®šä¹‰åœ¨æ‰§è¡Œ http å’Œ https æ—¶ä½¿ç”¨çš„è‡ªå®šä¹‰ä»£ç†ã€‚å…è®¸åƒè¿™æ ·é…ç½®é€‰é¡¹ï¼š // `keepAlive` é»˜è®¤æ²¡æœ‰å¯ç”¨ httpAgent: new http.Agent({ keepAlive: true }), httpsAgent: new https.Agent({ keepAlive: true }), // &#39;proxy&#39; å®šä¹‰ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºåç§°å’Œç«¯å£ // `auth` è¡¨ç¤º HTTP åŸºç¡€éªŒè¯åº”å½“ç”¨äºè¿æ¥ä»£ç†ï¼Œå¹¶æä¾›å‡­æ® // è¿™å°†ä¼šè®¾ç½®ä¸€ä¸ª `Proxy-Authorization` å¤´ï¼Œè¦†å†™æ‰å·²æœ‰çš„é€šè¿‡ä½¿ç”¨ `header` è®¾ç½®çš„è‡ªå®šä¹‰ `Proxy-Authorization` å¤´ã€‚ proxy: { host: &#39;127.0.0.1&#39;, port: 9000, auth: { username: &#39;mikeymike&#39;, password: &#39;rapunz3l&#39; } }, // `cancelToken` æŒ‡å®šç”¨äºå–æ¶ˆè¯·æ±‚çš„ cancel token cancelToken: new CancelToken(function (cancel) { }) } å“åº”ç»“æ„{ // `data` ç”±æœåŠ¡å™¨æä¾›çš„å“åº” data: {}, // `status` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ç  status: 200, // `statusText` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ä¿¡æ¯ statusText: &#39;OK&#39;, // `headers` æœåŠ¡å™¨å“åº”çš„å¤´ headers: {}, // `config` æ˜¯ä¸ºè¯·æ±‚æä¾›çš„é…ç½®ä¿¡æ¯ config: {}, // &#39;request&#39; è¯·æ±‚ä¿¡æ¯ request: {} } æ‹¦æˆªå™¨// æ·»åŠ ä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨ axios.interceptors.request.use( config =&gt; { const token = token; token &amp;&amp; (config.headers.Authorization = token); return config; }, error =&gt; { return Promise.error(error); }) // æ·»åŠ ä¸€ä¸ªå“åº”æ‹¦æˆªå™¨ axios.interceptors.response.use( response =&gt; { if (response.status === 200) { return Promise.resolve(response); } else { return Promise.reject(response); } }, error =&gt; { return Promise.reject(error.response); }) Vue -axiosmain.jså¼•å…¥Axios import axios from &#39;axios&#39; axios.defaults.withCredentials = true //è·¨åŸŸ axios.defaults.headers.post[&#39;Content-Type&#39;] = &#39;application/json&#39; Vue.use(axios) Vue.prototype.$http = axios // å°†axiosæŒ‚è½½åˆ°VueåŸå‹ï¼Œå¯ä»¥ç›´æ¥åœ¨Vueå¯¹è±¡ä¸­this.$httpæ¥å‘é€è¯·æ±‚","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://easyremember.cn/tags/Node/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"Promiseå­¦ä¹ ç¬”è®°","slug":"ç¬”è®°/Promise","date":"2020-08-20T09:41:38.591Z","updated":"2021-01-23T07:37:02.527Z","comments":true,"path":"2020/08/20/ç¬”è®°/Promise/","link":"","permalink":"https://easyremember.cn/2020/08/20/ç¬”è®°/Promise/","excerpt":"","text":"Promiseå­¦ä¹ ç¬”è®°å‚è€ƒè§†é¢‘æ•™ç¨‹ çŸ¥è¯†é“ºå«å‡½æ•°å¯¹è±¡å’Œå®ä¾‹å¯¹è±¡ å‡½æ•°å¯¹è±¡ï¼šå°†å‡½æ•°ä½œä¸ºå¯¹è±¡ä½¿ç”¨ å®ä¾‹å¯¹è±¡ï¼šnew å‡½æ•°äº§ç”Ÿçš„å¯¹è±¡(æ‰§è¡Œæ„é€ å‡½æ•°) åªæœ‰åœ¨newå‡ºå®ä¾‹å¯¹è±¡ä¹‹åï¼Œå‡½æ•°æ‰èƒ½å«åšæ„é€ å‡½æ•° function Person() { } var p = new Person(); console.log(Person.prototype) åœ¨è¿™æ®µä»£ç ä¸­pæ˜¯å®ä¾‹å¯¹è±¡ï¼ŒPersonæ˜¯æ„é€ å‡½æ•°ï¼Œæ‰“å°PersonåŸå‹æ—¶ï¼ŒPersonæ˜¯å‡½æ•°å¯¹è±¡ å›è°ƒå‡½æ•° åŒæ­¥å›è°ƒï¼šç«‹å³æ‰§è¡Œï¼Œå®Œå…¨æ‰§è¡Œå®Œäº†æ‰ç»“æŸï¼Œä¸ä¼šæ”¾å…¥å›è°ƒé˜Ÿåˆ— å¼‚æ­¥å›è°ƒï¼šä¸ä¼šç«‹å³æ‰§è¡Œï¼Œæ”¾å…¥å›è°ƒé˜Ÿåˆ—ä¸­å°†æ¥æ‰§è¡Œ const arr = [1, 2, 3]; arr.forEach(item =&gt; { console.log(item); }); console.log(&#39;foreachä¹‹å&#39;); setTimeout(() =&gt; { console.log(&#39;callback&#39;); }, 0); console.log(&#39;setTimeä¹‹å&#39;); ä¸Šé¢ä¸€æ®µæ˜¯åŒæ­¥å›è°ƒï¼ŒæŒ‰ç…§é¡ºåºæ‰§è¡Œï¼›ä¸‹é¢ä¸€æ®µæ˜¯å¼‚æ­¥å‡½æ•°ï¼Œæ”¾åˆ°é˜Ÿåˆ—ä¸­æ‰§è¡Œï¼Œä¸»çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åæ‰æ‰§è¡Œ é”™è¯¯å¤„ç† é”™è¯¯çš„ç±»å‹ Error: æ‰€æœ‰é”™è¯¯çš„çˆ¶ç±»å‹ ReferenceError: å¼•ç”¨çš„å˜é‡ä¸å­˜åœ¨ TypeError: æ•°æ®ç±»å‹ä¸æ­£ç¡®çš„é”™è¯¯ RangeError: æ•°æ®å€¼ä¸åœ¨å…¶æ‰€å…è®¸çš„èŒƒå›´å†… SyntaxError: è¯­æ³•é”™è¯¯ é”™è¯¯å¤„ç† æ•è·é”™è¯¯: try â€¦ catch æŠ›å‡ºé”™è¯¯: throw error é”™è¯¯å¯¹è±¡ messageå±æ€§: é”™è¯¯ç›¸å…³ä¿¡æ¯ stackå±æ€§: å‡½æ•°è°ƒç”¨æ ˆè®°å½•ä¿¡æ¯ Promiseç†è§£å’Œä½¿ç”¨ä»€ä¹ˆæ˜¯Promise æŠ½è±¡è¡¨è¾¾: Promiseæ˜¯JSä¸­è¿›è¡Œå¼‚æ­¥ç¼–ç¨‹çš„æ–°çš„è§£å†³æ–¹æ¡ˆ(æ—§çš„æ˜¯è°ï¼Ÿçº¯å›è°ƒcallback) å…·ä½“è¡¨è¾¾: ä»è¯­æ³•ä¸Šæ¥è¯´: Promiseæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•° ä»åŠŸèƒ½ä¸Šæ¥è¯´: promiseå¯¹è±¡ç”¨æ¥å°è£…ä¸€ä¸ªå¼‚æ­¥æ“ä½œå¹¶å¯ä»¥è·å–å…¶ç»“æœ promiseçš„çŠ¶æ€æ”¹å˜(åªæœ‰2ç§ç»“æœ,ï¼Œåªèƒ½æ”¹å˜ä¸€æ¬¡) pendingå˜ä¸ºresolved pendingå˜ä¸ºrejected æ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥éƒ½ä¼šæœ‰ä¸€ä¸ª ç»“æœï¼ŒæˆåŠŸçš„ç§°ä¸ºvalueï¼Œå¤±è´¥çš„ç§°ä¸ºreason promiseçš„åŸºæœ¬æµç¨‹(pendingï¼Œå›¾é‡Œé¢å†™é”™äº†) ä¸ºä»€ä¹ˆä½¿ç”¨Promise æŒ‡å®šå›è°ƒå‡½æ•°çš„æ–¹å¼æ›´åŠ çµæ´»ï¼šå¯ä»¥åœ¨è¯·æ±‚å‘å‡ºç”šè‡³ç»“æŸåæŒ‡å®šå›è°ƒå‡½æ•° æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œå¯ä»¥è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ æ€ä¹ˆä½¿ç”¨Promiseç®€å•çš„ç¤ºä¾‹ const p = new Promise((resolve, reject) =&gt; { const d = Date.now(); if (d % 2 === 1) { resolve(&#39;success&#39;) } else { reject(&#39;faild&#39;) } }) p.then(value =&gt; console.log(value), reason =&gt; console.log(reason)) .then()æ¥æ”¶ä¸¤ä¸ªå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æˆåŠŸçš„å›è°ƒï¼ˆonResolvedï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯å¤±è´¥çš„å›è°ƒï¼ˆonRejectedï¼‰ ä¸»è¦API Promiseæ„é€ å‡½æ•°: Promise (excutor) {} Promise.prototype.thenæ–¹æ³•: (onResolved, onRejected) =&gt; {} Promise.prototype.catchæ–¹æ³•: (onRejected) =&gt; {}ï¼Œæ‹¦æˆªå¤±è´¥æ“ä½œï¼Œè¿”å›promiseå¯¹è±¡ï¼Œå¦‚æœcatchä¹‹å‰æœ‰rejectï¼Œç›´æ¥è·³åˆ°rejectï¼Œä¸­é—´æ‰€æœ‰çš„.thenéƒ½ä¸æ‰§è¡Œ Promise.resolveæ–¹æ³•: (value) =&gt; {}ï¼Œä¿®æ”¹çŠ¶æ€ä¸ºæˆåŠŸ Promise.rejectæ–¹æ³•: (reason) =&gt; {}ï¼Œä¿®æ”¹çŠ¶æ€ä¸ºå¤±è´¥ Promise.allæ–¹æ³•: (promises) =&gt; {}ï¼Œå‚æ•°ä¸ºä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œç­‰æ‰€æœ‰çš„promiseå¯¹è±¡éƒ½å®Œæˆä¹‹åçŠ¶æ€å˜ä¸ºresolvedï¼Œè¿”å›ç»“æœå¯è¿­ä»£å¯¹è±¡ï¼›å¦‚æœè¿‡æœ‰å¤±è´¥ç»“æœï¼ŒçŠ¶æ€å˜ä¸ºrejectedï¼Œå¤±è´¥åŸå› æ˜¯ç¬¬ä¸€ä¸ªå¤±è´¥çš„promiseå¯¹è±¡çš„ç»“æœ Promise.raceæ–¹æ³•: (promises) =&gt; {}ï¼Œå‚æ•°ä¸ºä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªpromiseè§£å†³æˆ–è€…æ‹’ç»ï¼Œè¿”å›çš„promiseå°±ä¼šè§£å†³æˆ–è€…æ‹’ç» å­˜åœ¨çš„é—®é¢˜ æ”¹å˜çŠ¶æ€ä¸ä¸€å®šæ˜¯resolveå’Œrejectï¼Œä¹Ÿå¯ä»¥å‘ç”Ÿé”™è¯¯æˆ–è€…æŠ›å‡ºå¼‚å¸¸ åŒä¸€ä¸ªpromiseå¯¹è±¡æ·»åŠ å¤šä¸ª.thenéƒ½ä¼šæ‰§è¡Œ æ”¹å˜promiseçŠ¶æ€å’ŒæŒ‡å®šå›è°ƒå‡½æ•°è°å…ˆè°å æ­£å¸¸æƒ…å†µä¸‹æ˜¯å…ˆæŒ‡å®šå›è°ƒå‡½æ•°å†æ”¹å˜çŠ¶æ€ å…ˆæ”¹å˜çŠ¶æ€å†æŒ‡å®šå›è°ƒï¼šâ‘ åœ¨æ‰§è¡Œå™¨ä¸­ç›´æ¥è°ƒç”¨resolve()/reject()â‘¡å»¶è¿Ÿæ›´é•¿æ—¶é—´æ‰è°ƒç”¨then() ä»€ä¹ˆæ—¶å€™å¾—åˆ°æ•°æ® å¦‚æœå…ˆæŒ‡å®šçš„å›è°ƒï¼Œé‚£å½“çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå›è°ƒå‡½æ•°å°±ä¼šè°ƒç”¨ï¼Œå¾—åˆ°æ•°æ® å¦‚æœå…ˆæ”¹å˜çš„çŠ¶æ€ï¼Œé‚£å½“æŒ‡å®šå›è°ƒæ—¶ï¼Œå›è°ƒå‡½æ•°å°±ä¼šè°ƒç”¨ï¼Œå¾—åˆ°æ•°æ® ä¸è®ºæˆåŠŸå¤±è´¥ï¼Œå›è°ƒå‡½æ•°æ°¸è¿œæ˜¯å¼‚æ­¥æ‰§è¡Œ .thenè¿”å›promiseçš„çŠ¶æ€â€”â€”ç”±æŒ‡å®šçš„å›è°ƒå‡½æ•°æ‰§è¡Œçš„ç»“æœå†³å®š æŠ›å‡ºå¼‚å¸¸ï¼Œæ–°çš„promiseå˜ä¸ºrejectedï¼Œreasonä¸ºè·‘å‡ºçš„å¼‚å¸¸ è¿”å›çš„æ˜¯épromiseä»»æ„å€¼ï¼ŒçŠ¶æ€æ”¹ä¸ºresolvedï¼Œvalueæ˜¯è¿”å›å€¼ è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°çš„promiseï¼Œè¿™ä¸ªpromiseçš„ç»“æœå°±ä¼šæˆä¸ºæ–°çš„promiseçš„ç»“æœ è‡ªå®šä¹‰Promiseæ•´ä½“ç»“æ„ç”±äºES6å’ŒCommenJSéƒ½éœ€è¦ç¼–è¯‘æ‰èƒ½ä½¿ç”¨ï¼Œæ‰€ä»¥è‡ªå®šä¹‰Promiseéœ€è¦ä½¿ç”¨ES5æ¨¡å—è¯­æ³•ï¼ˆè‡ªè°ƒç”¨å‡½æ•°ï¼‰ (function (window) { /* Promiseï¼šæ„é€ å‡½æ•° excutor: æ‰§è¡Œå™¨ */ function Promise(excutor) { } /* Promise åŸå‹å¯¹è±¡.then æŒ‡å®šæˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•° è¿”å›ä¸€ä¸ªæ–°çš„Promise */ Promise.prototype.then = function (onResolved, onRejected) { } /* Promise åŸå‹å¯¹è±¡.catch æŒ‡å®šå¤±è´¥çš„å›è°ƒå‡½æ•° è¿”å›ä¸€ä¸ªæ–°çš„Promise */ Promise.prototype.catch = function (onRejected) { } /* Promise åŸå‹å¯¹è±¡.resolve è¿”å›ä¸€ä¸ªæŒ‡å®švalueçš„Promise */ Promise.resolve = function (value) { } /* Promise åŸå‹å¯¹è±¡.reject è¿”å›ä¸€ä¸ªæŒ‡å®šreasonçš„Promise */ Promise.reject = function (reason) { } /* Promise åŸå‹å¯¹è±¡.all è¿”å›ä¸€ä¸ªPromiseï¼Œæ‰€æœ‰promiseéƒ½æˆåŠŸæ‰æˆåŠŸï¼Œä¸€ä¸ªå¤±è´¥å°±å¤±è´¥ */ Promise.all = function (promises) { } /* Promise åŸå‹å¯¹è±¡.race è¿”å›ä¸€ä¸ªPromiseï¼Œç”±ç¬¬ä¸€ä¸ªå®Œæˆçš„promiseå†³å®š */ Promise.race = function (promises) { } // æš´éœ²Promise window.Promise = Promise; })(window) æ„é€ å‡½æ•°/* Promiseï¼šæ„é€ å‡½æ•° excutor: æ‰§è¡Œå™¨ */ function Promise(excutor) { this.status = &#39;pending&#39;; // çŠ¶æ€ this.data = undefined; // æ•°æ® this.callbacks = []; // ä¿å­˜å›è°ƒå‡½æ•°ï¼Œç»“æ„ï¼š{onResolved() {}, onReject() {}} function resolve(value) { // å½“å‰çŠ¶æ€ä¸æ˜¯pendingç»“æŸ if (this.status !== &#39;pending&#39;) { return } // ä¿®æ”¹çŠ¶æ€ this.status = &#39;resolved&#39;; // ä¿å­˜æ•°æ® this.data = value; // ç«‹å³æ‰§è¡Œcallback if (this.callbacks.length &gt; 0) { this.callbacks.forEach(callbacksObj =&gt; { setTimeout(() =&gt; { // å¼‚æ­¥æ‰§è¡Œå›è°ƒ callbacksObj.onResolved(value) }, 0) }); } } function reject(reason) { // å½“å‰çŠ¶æ€ä¸æ˜¯pendingç»“æŸ if (this.status !== &#39;pending&#39;) { return } // ä¿®æ”¹çŠ¶æ€ this.status = &#39;rejected&#39;; // ä¿å­˜æ•°æ® this.data = value; // ç«‹å³æ‰§è¡Œcallback if (this.callbacks.length &gt; 0) { this.callbacks.forEach(callbacksObj =&gt; { setTimeout(() =&gt; { // å¼‚æ­¥æ‰§è¡Œå›è°ƒ callbacksObj.onRejected(reason) }, 0) }); } } // ç«‹å³æ‰§è¡Œexcutor try { excutor(resolve, reject); } catch (error) { // æŠ›å‡ºå¼‚å¸¸å˜ä¸ºrejected reject(error); } } Promise.then()/.catch()å…ˆæ¥çœ‹ä¸€ä¸‹è¿™ä¸ªä¾‹å­ï¼Œå°†fnèµ‹å€¼ç»™fï¼Œä¸¤ç§æ–¹æ³•ï¼Œç¬¬äºŒç§æ¯”ç¬¬ä¸€ç§ç®€ä»‹ï¼Œåœ¨.thenå†…éƒ¨è¿”å›æ•°æ®æ—¶ä¼šç”¨åˆ° function fn() { } var f = function fn() { } var f = fn; æ­£ç‰‡å¼€å§‹ /* Promise åŸå‹å¯¹è±¡.then æŒ‡å®šæˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•° è¿”å›ä¸€ä¸ªæ–°çš„Promise */ Promise.prototype.then = function (onResolved, onRejected) { onResolved = typeof onResolved === &#39;function&#39; ? onResolved : value =&gt; value onRejected = typeof onRejected === &#39;function&#39; ? onRejected : reason =&gt; {throw reason} const _this = this; // è¿”å›ä¸€ä¸ªæ–°çš„promise return new Promise((resolve, reject) =&gt; { // æŒ‡å®šè°ƒç”¨å›è°ƒå‡½æ•° function handle(callback) { try { const result = callback(_this.data); if (result instanceof Promise) { // ç±»å‹ä¸ºpromiseï¼Œç»“æœæ˜¯è¿™ä¸ªpromiseçš„ç»“æœ // result.then( // value =&gt; resolve(value), // reason =&gt; reject(reason) // ) result.then(resolve, reject); } else { resolve(result); // épromiseè¿”å›ç»“æœ } } catch (error) { // æŠ›å‡ºå¼‚å¸¸ï¼Œå¤±è´¥ reject(error); } } if (_this.status === PENDING) { _this.callbacks.push({ onResolved(value) { handle(onResolved) }, onRejected(reason) { handle(onRejected) } }) } else if (_this.status === RESOLVED) { setTimeout(() =&gt; { handle(onResolved) }) } else { setTimeout(() =&gt; { handle(onRejected) }) } }) } /* Promise åŸå‹å¯¹è±¡.catch æŒ‡å®šå¤±è´¥çš„å›è°ƒå‡½æ•° è¿”å›ä¸€ä¸ªæ–°çš„Promise */ Promise.prototype.catch = function (onRejected) { return this.then(undefined, onRejected) } Promise.resolve()/reject() /* Promise åŸå‹å¯¹è±¡.resolve è¿”å›ä¸€ä¸ªæŒ‡å®švalueçš„Promise */ Promise.resolve = function (value) { // è¿”å›ä¸€ä¸ªæˆåŠŸ/å¤±è´¥çš„promise return new Promise((resolve, reject) =&gt; { if (value instanceof Promise) { value.then(resolve, reject) } else { resolve(value) } }) } /* Promise åŸå‹å¯¹è±¡.reject è¿”å›ä¸€ä¸ªæŒ‡å®šreasonçš„Promise */ Promise.reject = function (reason) { // è¿”å›ä¸€ä¸ªå¤±è´¥çš„promise return new Promise((resolve, reject) =&gt; { reject(reason); }) } Promise.all()/race() /* Promise åŸå‹å¯¹è±¡.all è¿”å›ä¸€ä¸ªPromiseï¼Œæ‰€æœ‰promiseéƒ½æˆåŠŸæ‰æˆåŠŸï¼Œä¸€ä¸ªå¤±è´¥å°±å¤±è´¥ */ Promise.all = function (promises) { const values = new Array(promises.length); // ä¿å­˜æ‰€æœ‰æˆåŠŸçš„value let resolveCount = 0; // è®¡æ•°å™¨ï¼Œè®¡ç®—æˆåŠŸçš„æ•°é‡ return new Promise((resolve, reject) =&gt; { // è·å–æ¯ä¸ªpromiseçš„ç»“æœ promises.forEach((p, index) =&gt; { p.then( value =&gt; { resolveCount++; values[index] = value; if (resolveCount === promises.length) { // æ‰€æœ‰éƒ½å®Œæˆæ‰ä¼šresolve resolve(values) } }, reason =&gt; { reject(reason) } ) }) }) } /* Promise åŸå‹å¯¹è±¡.race è¿”å›ä¸€ä¸ªPromiseï¼Œç”±ç¬¬ä¸€ä¸ªå®Œæˆçš„promiseå†³å®š */ Promise.race = function (promises) { return new Promise((resolve, reject) =&gt; { promises.forEach((p) =&gt; { p.then( value =&gt; { resolve(value) }, reason =&gt; { reject(reason) } ) }) }) } ä»£ç ä»£ç å·²ç»ä¸Šä¼ ç äº‘","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"åŸå‹å’ŒåŸå‹é“¾","slug":"æŠ€æœ¯/åŸå‹å’ŒåŸå‹é“¾","date":"2020-08-19T00:53:18.162Z","updated":"2020-09-05T09:35:16.583Z","comments":true,"path":"2020/08/19/æŠ€æœ¯/åŸå‹å’ŒåŸå‹é“¾/","link":"","permalink":"https://easyremember.cn/2020/08/19/æŠ€æœ¯/åŸå‹å’ŒåŸå‹é“¾/","excerpt":"","text":"åŸå‹å’ŒåŸå‹é“¾ javascriptæ˜¯åŠ¨æ€çš„ï¼Œå¹¶ä¸”æœ¬èº«ä¸æä¾›ä¸€ä¸ª class å®ç°ã€‚ï¼ˆåœ¨ ES6 ä¸­å¼•å…¥äº† class å…³é”®å­—ï¼Œä½†é‚£åªæ˜¯è¯­æ³•ç³–ï¼ŒJavaScript ä»ç„¶æ˜¯åŸºäºåŸå‹çš„ï¼‰ã€‚ æ¯ä¸ªå®ä¾‹å¯¹è±¡ï¼ˆ object ï¼‰éƒ½æœ‰ä¸€ä¸ªç§æœ‰å±æ€§ï¼ˆç§°ä¹‹ä¸º proto ï¼‰æŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼ˆprototype ï¼‰ã€‚è¯¥åŸå‹å¯¹è±¡ä¹Ÿæœ‰ä¸€ä¸ªè‡ªå·±çš„åŸå‹å¯¹è±¡( proto ) ï¼Œå±‚å±‚å‘ä¸Šç›´åˆ°ä¸€ä¸ªå¯¹è±¡çš„åŸå‹å¯¹è±¡ä¸º nullã€‚æ ¹æ®å®šä¹‰ï¼Œnull æ²¡æœ‰åŸå‹ï¼Œå¹¶ä½œä¸ºè¿™ä¸ªåŸå‹é“¾ä¸­çš„æœ€åä¸€ä¸ªç¯èŠ‚ã€‚ æ¯ä¸€ä¸ªjavascriptå¯¹è±¡(é™¤nullå¤–)åˆ›å»ºçš„æ—¶å€™ï¼Œå°±ä¼šä¸ä¹‹å…³è”å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŸå‹ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹ä¸­â€œç»§æ‰¿â€å±æ€§ __proto__å°±æ˜¯æŒ‡å‘å¯¹è±¡åŸå‹çš„å±æ€§ ä¾‹å¦‚æœ‰ä¸€ä¸ªPersonå¯¹è±¡ï¼Œå®ä¾‹åŒ–ä¸€ä¸ªå®ä¾‹å¯¹è±¡ä¹‹åå®ƒçš„__proto__æŒ‡å‘Object æ¯ä¸ªå‡½æ•°éƒ½ä¼šè‡ªå¸¦ä¸€ä¸ªprototypeå±æ€§ï¼ŒæŒ‡å‘å¯¹è±¡åŸå‹ function Person(name) { this.name = name; } Person.prototype.age = 12; var zhangsan = new Person(&#39;zhangsan&#39;); console.log(zhangsan); å¯ä»¥çœ‹åˆ°å®ä¾‹çš„åŸå‹ä¸­å·²ç»æœ‰äº†ageå±æ€§ å®ä¾‹å¯¹è±¡.__proto__ === æ„é€ å‡½æ•°.prototype ä¸Šé¢çš„ä¾‹å­ä¸­ zhangsan.__proto__ === Person.prototype Person.prototype.__proto__ === Object.prototype zhangsanâ€”â€”Personâ€”â€”Objectè¿™ç§åŸå‹ä¸åŸå‹å±‚å±‚ç›¸é“¾æ¥çš„è¿‡ç¨‹å³ä¸ºåŸå‹é“¾ å½“è¯»å–å®ä¾‹å±æ€§æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±ä¼šä»åŸå‹é“¾ä¸€å±‚ä¸€å±‚åœ°å¾€ä¸Šæ‰¾ï¼Œä¸€ç›´åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ æ‰€æœ‰å¯¹è±¡çš„åŸå‹æœ€ç»ˆéƒ½æŒ‡å‘Objectï¼Œè€ŒObject.prototype.__proto__ === null","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"vuexå…¥é—¨","slug":"æŠ€æœ¯/vuexå…¥é—¨","date":"2020-08-18T11:03:09.232Z","updated":"2020-09-05T09:34:40.320Z","comments":true,"path":"2020/08/18/æŠ€æœ¯/vuexå…¥é—¨/","link":"","permalink":"https://easyremember.cn/2020/08/18/æŠ€æœ¯/vuexå…¥é—¨/","excerpt":"","text":"vuexå…¥é—¨ä¼˜åŠ¿ é›†ä¸­ç®¡ç†æ•°æ®ï¼Œæ˜“äºåæœŸå¼€å‘å’Œç»´æŠ¤ é«˜æ•ˆçš„å®ç°ç»„ä»¶ä¹‹é—´çš„æ•°æ®å…±äº«ï¼Œæé«˜å¼€å‘æ•ˆç‡ vuexä¸­æ•°æ®éƒ½æ˜¯å“åº”å¼çš„ï¼Œå®æ—¶ä¿æŒé¡µé¢åŒæ­¥ å“ªäº›æ•°æ®é€‚åˆå­˜å‚¨åˆ°Vuexä¸­åªæœ‰ç»„ä»¶ä¹‹é—´éœ€è¦å…±äº«çš„æ•°æ®ï¼Œæ‰æœ‰å¿…è¦å­˜å‚¨åˆ°Vuexä¸­ Vuexæ ¸å¿ƒæ¦‚å¿µStateæä¾›å”¯ä¸€çš„å…¬å…±æ•°æ®æº const store = new Vuex.store({ state: { count: 0 } }) ç»„ä»¶ä¸­è®¿é—®Stateæ•°æ® ç¬¬ä¸€ç§æ–¹å¼ï¼šthis.$store.state.å…¨å±€æ•°æ®å ç¬¬äºŒç§æ–¹å¼ï¼šæŒ‰éœ€å¯¼å…¥import {mapState} from &#39;vuex&#39;ï¼Œé€šè¿‡mapStateå‡½æ•°ï¼Œå°†å½“å‰ç»„ä»¶éœ€è¦çš„å…¨å±€æ•°æ®æ˜ å°„ä¸ºå½“å‰ç»„ä»¶çš„computedè®¡ç®—å±æ€§ computed: { ...mapState([&#39;count&#39;]) } Mutationç”¨äºå˜æ›´storeä¸­çš„æ•°æ® åªèƒ½é€šè¿‡mutationå˜æ›´Storeæ•°æ®ï¼Œä¸å¯ä»¥ç›´æ¥æ“ä½œStoreä¸­çš„æ•°æ® å¯ä»¥é›†ä¸­ç›‘æ§æ‰€æœ‰æ•°æ®å˜åŒ– åœ¨vuexä¸­å®šä¹‰æ–¹æ³• const store = new Vuex.store({ mutations: { add(state) { state.count++ } } }) æ–¹æ³•ä¸€ï¼šé€šè¿‡this.$store.commitæ–¹æ³•è§¦å‘vuexä¸­çš„æ–¹æ³• methods: { btnHandle1() { this.$store.commit(&#39;add&#39;) } } å¯ä»¥åœ¨è§¦å‘mutationçš„æ—¶å€™ä¼ é€’å‚æ•° const store = new Vuex.store({ mutations: { addN(state, step) { state.count += step } } }) Â·Â·Â·Â·Â·Â· btnHandle2() { this.$store.commit(&#39;add&#39;, 3) } æ–¹æ³•äºŒï¼šä»Vuexä¸­æŒ‰éœ€å¯¼å…¥mapMutationså‡½æ•°ï¼Œå°†éœ€è¦çš„mapMutationså‡½æ•°æ˜ å°„ä¸ºå½“å‰ç»„å»ºçš„methodsæ–¹æ³• import {mapMutations} from &#39;vuex&#39; Â·Â·Â· methods: { ...mapMutations([&#39;sub&#39;]), Handle() { this.sub() } } å¸¦å‚æ•° methods: { ...mapMutations([&#39;subN&#39;]), Handle2() { this.subN(3) } } mutationå‡½æ•°ä¸­ä¸å¯ä»¥æ‰§è¡Œå¼‚æ­¥æ“ä½œ Actionç”¨äºå¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼ŒAction æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ const store = new Vuex.Store({ state: { count: 0 }, mutations: { add (state) { state.count++ } }, actions: { addAsync(context, step) { setTimeout(() =&gt; { context.commit(&#39;add&#39;, step) },1000) } } }) æ–¹æ³•ä¸€ï¼šé€šè¿‡ $store.dispatch()è§¦å‘Action btnHandle3() { this.$store.dispatch(&#39;addAsync&#39;) } æºå¸¦å‚æ•° addAsyncN(context, step) { setTimeout(() =&gt; { context.commit(&#39;addN&#39;, step) },1000) } Â·Â·Â·Â·Â·Â· btnHandle4() { this.$store.dispatch(&#39;addAsyncN&#39;, 3) } æ–¹æ³•äºŒï¼šä»vuexä¸­æŒ‰éœ€å¯¼å…¥mapActionså‡½æ•°ï¼Œå°†éœ€è¦çš„actionså‡½æ•°æ˜ å°„ä¸ºç»„å»ºçš„methods import {mapActions} from &#39;vuex&#39; Â·Â·Â·Â·Â·Â· methods: { ...mapActions([&#39;subAsync&#39;]), Handle3() { this.subAsync() } } æºå¸¦å‚æ•° methods: { ...mapActions([&#39;subAsyncN&#39;]), Handle4() { this.subAsyncN(3) } } Getterç”¨äºå¯¹Storeä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†å½¢æˆæ–°çš„æ•°æ®ï¼Œä¸ä¼šä¿®æ”¹åŸæœ‰æ•°æ® å¯¹Storeä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†å½¢æˆæ–°çš„æ•°æ®ï¼Œç±»ä¼¼äºVueä¸­çš„è®¡ç®—å±æ€§ Storeä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼ŒGetterçš„æ•°æ®ä¹Ÿä¼šè·Ÿç€æ”¹å˜ å®šä¹‰getter getters: { showNum(state) { return &#39;å½“å‰æœ€æ–°æ•°é‡æ˜¯ã€&#39; + state.count + &#39;ã€‘&#39; } } è·å–getter æ–¹æ³•ä¸€ï¼šé€šè¿‡this.$store.getters.getterçš„æ–¹æ³•å this.$store.getters.showNum æ–¹æ³•äºŒï¼šæŒ‰éœ€å¯¼å…¥mapGetterså‡½æ•°ï¼Œé€šè¿‡mapGetterså‡½æ•°ï¼Œå°†å½“å‰ç»„ä»¶éœ€è¦çš„å…¨å±€æ•°æ®æ˜ å°„ä¸ºå½“å‰ç»„ä»¶çš„computedè®¡ç®—å±æ€§ import {mapGetters} from &#39;vuex&#39; Â·Â·Â·Â·Â·Â· computed: { ...mapGetters([&#39;showNum&#39;]) }, Vuexæ¨¡å—åŒ–ç®¡ç†éšç€åŠŸèƒ½å’Œæ•°æ®ä¸æ–­å¢åŠ ï¼Œstoreä¼šè¶Šæ¥è¶Šè‡ƒè‚¿ï¼ŒæŠŠä¸åŒçš„åŠŸèƒ½å•ç‹¬æ‹†åˆ†å¤„ç†ï¼Œå¯ä»¥æ–¹ä¾¿ç®¡ç† â””â”€â”€ store â””â”€â”€ index.js # æ€»çš„store â””â”€â”€ modules â””â”€â”€ modulesA.js # æ¨¡å—A â””â”€â”€ modulesB.js # æ¨¡å—B Â· # å…¶ä»–æ¨¡å— è§„æ¨¡è¾ƒå°çš„å¯ä»¥å°†ä¸åŒçš„æ ¸å¿ƒæ”¾åœ¨ä¸€ä¸ªæ¨¡å—jsä¸­ï¼Œåˆ†å¤šäº†åè€Œä¸æ–¹ä¾¿ user.js const state = {} const actions = {} _______________ export defult { namespaced: true, state, actions, } index.js import moduleA from &#39;./modules/modulesA&#39; ___________ modules: { moduleA } Vuexæ¨¡å—åŒ–ç®¡ç†è°ƒç”¨ä¸åŒåŠŸèƒ½åˆ’åˆ†æ¨¡å—ä¹‹åå¼•å…¥æ•°æ®çš„æ–¹å¼ç•¥æœ‰æ”¹å˜ stateæ–¹æ³•ä¸€ï¼š this.$store.state.moduleA.key2ï¼Œåœ¨åŸæ¥ç›´æ¥å¼•å…¥æ•°æ®çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ äº†æ¨¡å—å æ–¹æ³•äºŒï¼š computed: { ...mapState({ key: state =&gt; state.moduleA.key1 }) ------------------- ...mapState(&#39;moduleA&#39;, { key: &quot;key1&quot; }), }, å°†æ¨¡å—ä¸­çš„key1èµ‹å€¼ç»™è®¡ç®—å±æ€§key,ä¸¤ç§æ–¹æ³•ç»“æœæ˜¯ä¸€æ ·çš„ mutationsæ–¹æ³•ä¸€ï¼š this.$store.commit(&#39;moduleA/changeValue&#39;)ï¼Œåœ¨åŸæ¥ç›´æ¥è°ƒç”¨æ–¹æ³•åçš„åŸºç¡€ä¹‹ä¸Šæ·»åŠ æ¨¡å—å æ–¹æ³•äºŒï¼š methods: { ...mapMutations(&#39;moduleA&#39;,[&#39;changeValue&#39;]), handle() { this.changeValue() } } åœ¨å¼•å…¥æ–¹æ³•ä¹‹å‰æ·»åŠ æ¨¡å—å actionsåŒmutataions æ–¹æ³•ä¸€ï¼š this.$store.dispatch(&#39;moduleA/changeAsync&#39;) æ–¹æ³•äºŒï¼š methods: { ...mapActions(&#39;moduleA&#39;, [&#39;changeAsync&#39;]), handle() { this.changeAsync() } } gettersæ–¹æ³•ä¸€ computed: { ...mapGetters(&#39;moduleA&#39;,{ dKey: &quot;detailValue&quot; }) }, æ–¹æ³•äºŒ this.$store.getters[&#39;moduleA/getMethods&#39;] VuexçŠ¶æ€ç®¡ç† ç»„ä»¶é€šè¿‡è°ƒç”¨actionsè§¦å‘mutationsæ¥ä¿®æ”¹stateï¼Œstateç»è¿‡gettersåŒ…è£…ä¹‹åæ˜¾ç¤ºåˆ°ç»„ä»¶ï¼› ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹stateï¼Œåªè®©mutationä¿®æ”¹state","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"åŸç”ŸJSå®ç°AJAX","slug":"æŠ€æœ¯/åŸç”ŸJSå®ç°AJAX","date":"2020-08-18T08:14:27.923Z","updated":"2020-09-05T09:35:10.625Z","comments":true,"path":"2020/08/18/æŠ€æœ¯/åŸç”ŸJSå®ç°AJAX/","link":"","permalink":"https://easyremember.cn/2020/08/18/æŠ€æœ¯/åŸç”ŸJSå®ç°AJAX/","excerpt":"","text":"åŸç”ŸJSå®ç°AJAXä»€ä¹ˆæ˜¯AjaxAJAX = Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ï¼Œä¸æ˜¯æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ä½¿ç”¨ç°æœ‰æ ‡å‡†çš„æ–°æ–¹æ³•ï¼Œä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹æ›´æ–°éƒ¨åˆ†é¡µé¢ Ajaxå·¥ä½œåŸç† XHR(XMLHttpRequiest)åˆ›å»ºXHRå¯¹è±¡æ–°ç‰ˆæœ¬çš„æµè§ˆå™¨éƒ½æ”¯æŒXHRå¯¹è±¡ï¼Œç›´æ¥å®ä¾‹åŒ–å³å¯var xhr = new XMLHttpRequest(); XHRè¯·æ±‚å¦‚æœè¦å°†æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ï¼Œä½¿ç”¨XMLHttpRequest å¯¹è±¡çš„ open() å’Œ send() æ–¹æ³• open(method, url, async) methodï¼šè¯·æ±‚çš„ç±»å‹ï¼›GET æˆ– POST urlï¼šæ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„ä½ç½® asyncï¼štrueï¼ˆå¼‚æ­¥ï¼‰æˆ– falseï¼ˆåŒæ­¥ï¼‰ send(string) stringï¼šä»…ç”¨äº POST è¯·æ±‚å‘é€æ•°æ® GETè¯·æ±‚function load() { var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function () { if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) { document.getElementById(&quot;box&quot;).innerHTML = xhr.responseText; } } xhr.open(&#39;GET&#39;, &#39;/promise.js&#39;, true); xhr.send(); } å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°ä¸­å®ä¾‹åŒ–ä¸€ä¸ªXHRå®ä¾‹å¯¹è±¡ï¼Œå½“xhrçš„çŠ¶æ€æ”¹å˜æˆç›¸åº”çš„çŠ¶æ€æ—¶ï¼Œå°†è¯·æ±‚åˆ°çš„æ–‡æœ¬æ’å…¥HTMLæ–‡æ¡£ä¸­ POSTè¯·æ±‚è¿‡ç¨‹ç›¸åŒï¼Œåªæ˜¯åœ¨sendä¸­åŠ å…¥è¦å‘é€çš„æ•°æ® å°è£…æ¯æ¬¡è¯·æ±‚éƒ½è¦å†™è¿™ä¸€å †ä¸œè¥¿å¤ªè¿‡ç¹çï¼Œå°†ä»£ç æŠ½ç¦»å‡ºæ¥ä½œä¸ºå•ç‹¬çš„æ¨¡å— var Ajax = { get: function (url,callback) { var xhr = new XMLHttpRequest(); xhr.open(&#39;GET&#39;, url, true); xhr.send(); xhr.onreadystatechange = function () { if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) { callback(xhr.responseText); } } }, post: function (url, data, callback) { var xhr = new XMLHttpRequest(); xhr.open(&#39;POSt&#39;, url, true); xhr.setRequestHeader(&#39;Content-Type&#39;, &#39;application/x-www-form-urlencoded&#39;); xhr.onreadystatechange = function () { if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) { callback(xhr.responseText); } } xhr.send(data); } } function load() { Ajax.get(&#39;/promise.js&#39;, (res) =&gt; { document.getElementById(&quot;box&quot;).innerHTML = res; }); } getè¯·æ±‚ä¼ å…¥urlå’Œcallbackï¼Œststuså˜ä¸º200æ—¶è§¦å‘callback readystate status åé¦ˆå†…å®¹ åŸºäºPromiseå°è£…var Ajax = { get: function (url) { return new Promise((resolve, reject) =&gt; { var xhr = new XMLHttpRequest(); xhr.open(&#39;GET&#39;, url, true); xhr.send(); xhr.onreadystatechange = function () { if (xhr.readyState == 4 &amp;&amp; (xhr.status == 200 || xhr.status === 0)) { resolve(xhr.responseText); } } }) }, post: function (url, data) { return new Promise((resolve, reject) =&gt; { var xhr = new XMLHttpRequest(); xhr.open(&#39;POSt&#39;, url, true); xhr.setRequestHeader(&#39;Content-Type&#39;, &#39;application/x-www-form-urlencoded&#39;); xhr.onreadystatechange = function () { if (xhr.readyState == 4 &amp;&amp; xhr.status == 0) { resolve(xhr.responseText); } } xhr.send(data); }) } } function load() { const p = Ajax.get(&#39;/promise.js&#39;).then(value =&gt; { console.log(value); }).catch(reason =&gt; { console.log(reason); }) } æŠŠå¼‚æ­¥æ“ä½œå°è£…åˆ°Promiseï¼Œè°ƒç”¨èµ·æ¥ç›¸å½“æ–¹ä¾¿ï¼Œè¿™æ ·å¯ä»¥è¯·æ±‚åˆ°æ•°æ®ï¼Œä½†åˆ¤æ–­çŠ¶æ€å¦‚æœåŠ ä¸Šelseå°±ä¼šèµ°elseåˆ†æ”¯ï¼Œç›®å‰æ²¡æœ‰æ‰¾åˆ°åŸå› ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"ES6å’ŒCommonJSçš„æ¨¡å—åŒ–","slug":"æŠ€æœ¯/ES6å’ŒCommonJS","date":"2020-08-18T01:10:06.072Z","updated":"2020-09-09T02:55:20.645Z","comments":true,"path":"2020/08/18/æŠ€æœ¯/ES6å’ŒCommonJS/","link":"","permalink":"https://easyremember.cn/2020/08/18/æŠ€æœ¯/ES6å’ŒCommonJS/","excerpt":"","text":"ES6å’ŒCommonJSçš„æ¨¡å—åŒ– CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ã€‚ å¯¼å‡ºå¯¼å…¥å¯¹æ¯”ES6ES6é‡‡ç”¨import/exportæ¥è¿›è¡Œå¯¼å‡ºå¯¼å…¥æ“ä½œï¼Œè¿˜æœ‰ä¸€ç§å¯¼å‡ºæ–¹å¼export defaultï¼Œä¸€èˆ¬ä½¿ç”¨äº†export defaultçš„ä¸å…è®¸åŒæ—¶ä½¿ç”¨export CommonJScjsé‡‡ç”¨require/module.exportsæ¥è¿›è¡Œå¯¼å…¥å¯¼å‡ºæ“ä½œ ES6æ˜¯å¼•ç”¨ï¼ŒCommonJSæ˜¯æ‹·è´ES6å¯¼å…¥çš„æ˜¯æ¨¡å—çš„å¼•ç”¨ï¼Œå½“æ¨¡å—å†…éƒ¨çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå¼•ç”¨çš„å€¼ä¹Ÿä¼šæ”¹å˜ print.jsä»£ç å¦‚ä¸‹ export let num = 9; export function logNum() { num++; } å¼•ç”¨å¦‚ä¸‹ å¯ä»¥çœ‹åˆ°æ¯åœ¨æµè§ˆå™¨ç‚¹å‡»ä¸€æ¬¡buttonéƒ½ä¼šæ‰“å°å‡ºnumçš„å€¼+1 CommonJSæ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„æ‹·è´ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–ä¸ä¼šå½±å“åˆ°è¾“å‡ºå€¼ print.jsä»£ç ä¿®æ”¹ä¸ºå¦‚ä¸‹ let num = 9; function logNum() { num++; } module.exports = { num, logNum } ç„¶åå†ç‚¹å‡»buttonä¼šçœ‹åˆ°æ§åˆ¶å°æ‰“å°å‡ºçš„æ•°å€¼ä¸€ç›´ä¸å˜ æ­¤å¤–ï¼Œexport defaultå¯¼å‡ºçš„æ•ˆæœä¹Ÿè·ŸCommenJSç›¸åŒ let num = 9; function logNum() { num++; } export default { num, logNum } å¼•å…¥æ—¶æ¥æ”¶ä¸ºä¸€ä¸ªå¯¹è±¡ æ‰“å°ç»“æœåŒæ ·ä¸å˜ CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ è¿è¡Œæ—¶åŠ è½½: CommonJS æ¨¡å—å°±æ˜¯å¯¹è±¡ï¼ˆå³module.exportså±æ€§ï¼‰ï¼›å³åœ¨è¾“å…¥æ—¶æ˜¯å…ˆåŠ è½½æ•´ä¸ªæ¨¡å—ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå†ä»è¿™ä¸ªå¯¹è±¡ä¸Šé¢è¯»å–æ–¹æ³•ï¼Œè¿™ç§åŠ è½½ç§°ä¸ºâ€œè¿è¡Œæ—¶åŠ è½½â€ã€‚ ç¼–è¯‘æ—¶åŠ è½½: ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡ export å‘½ä»¤æ˜¾å¼æŒ‡å®šè¾“å‡ºçš„ä»£ç ï¼Œimportæ—¶é‡‡ç”¨é™æ€å‘½ä»¤çš„å½¢å¼ã€‚å³åœ¨importæ—¶å¯ä»¥æŒ‡å®šåŠ è½½æŸä¸ªè¾“å‡ºå€¼ï¼Œè€Œä¸æ˜¯åŠ è½½æ•´ä¸ªæ¨¡å—ï¼Œè¿™ç§åŠ è½½ç§°ä¸ºâ€œç¼–è¯‘æ—¶åŠ è½½â€ æ­¤å¤– CommonJsæ˜¯åŠ¨æ€è¯­æ³•å¯ä»¥å†™åœ¨åˆ¤æ–­é‡Œï¼ŒES6 Moduleé™æ€è¯­æ³•åªèƒ½å†™åœ¨é¡¶å±‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Eggå®ç”¨ä¸­é—´ä»¶","slug":"æŠ€æœ¯/Eggå¸¸ç”¨çš„åŒ…","date":"2020-08-17T08:17:39.921Z","updated":"2020-09-05T09:37:20.810Z","comments":true,"path":"2020/08/17/æŠ€æœ¯/Eggå¸¸ç”¨çš„åŒ…/","link":"","permalink":"https://easyremember.cn/2020/08/17/æŠ€æœ¯/Eggå¸¸ç”¨çš„åŒ…/","excerpt":"","text":"Eggå¸¸ç”¨çš„æ’ä»¶egg-mysqlå®‰è£…ä¸é…ç½®é¦–å…ˆå®‰è£…egg-mysqlçš„åŒ… $ npm i --save egg-mysql ç„¶ååœ¨plugin.tså¼€å¯æ’ä»¶ mysql: { enable: true, package: &#39;egg-mysql&#39;, }, å†ç„¶ååœ¨configä¸­é…ç½®æ•°æ®åº“ä¿¡æ¯ å•æ•°æ®åº“// mysqlæ•°æ®åº“ config.mysql = { client: { // å•æ•°æ®åº“ä¿¡æ¯é…ç½® host: &#39;localhost&#39;, // host port: &#39;3306&#39;, // ç«¯å£å· user: &#39;liuhao&#39;, // ç”¨æˆ·å password: &#39;123456&#39;, // å¯†ç  database: &#39;ssmbuild&#39;, // æ•°æ®åº“å }, app: true, // æ˜¯å¦åŠ è½½åˆ° app ä¸Šï¼Œé»˜è®¤å¼€å¯ agent: false, // æ˜¯å¦åŠ è½½åˆ° agent ä¸Šï¼Œé»˜è®¤å…³é—­ }; ä½¿ç”¨æ–¹æ³• await app.mysql.query(sql, values); å¤šæ•°æ®åº“// mysqlæ•°æ®åº“ config.mysql = { clients: { // å¤šæ®åº“ä¿¡æ¯é…ç½® db1: { host: &#39;localhost&#39;, // host port: &#39;3306&#39;, // ç«¯å£å· user: &#39;liuhao&#39;, // ç”¨æˆ·å password: &#39;123456&#39;, // å¯†ç  database: &#39;ssmbuild&#39;, // æ•°æ®åº“å }, db2: { host: &#39;mysql.com&#39;, // host port: &#39;3306&#39;, // ç«¯å£å· user: &#39;root&#39;, // ç”¨æˆ·å password: &#39;123456&#39;, // å¯†ç  database: &#39;test&#39;, // æ•°æ®åº“å } }, app: true, // æ˜¯å¦åŠ è½½åˆ° app ä¸Šï¼Œé»˜è®¤å¼€å¯ agent: false, // æ˜¯å¦åŠ è½½åˆ° agent ä¸Šï¼Œé»˜è®¤å…³é—­ }; ä½¿ç”¨æ–¹æ³• const client1 = app.mysql.get(&#39;db1&#39;);await client1.query(sql, values); const client2 = app.mysql.get(&#39;db2&#39;);await client2.query(sql, values); æ³¨æ„egg-mysqlæ²¡æœ‰index.d.tsï¼Œæ‰€ä»¥ç¼–è¯‘ä¸è¿‡ï¼Œåœ¨typings/index.d.tsä¸­æ·»åŠ é…ç½® import &#39;egg&#39;; declare module &#39;egg&#39; { interface mysql { get(tableName: String, find: {}): Promise&lt;Any&gt; insert(tableName: String, find: {}): Promise&lt;Any&gt; update(tableName: String, find: {}): Promise&lt;Any&gt; delete(tableName: String, find: {}): Promise&lt;Any&gt; query(sql: String, values: Any[]): Promise&lt;Any&gt; } interface Application { mysql: mysql; } } è¯¦è§å¯’é£å‚²å¤©åšæ–‡ CRUDCreateä½¿ç”¨insertæ–¹æ³•æ’å…¥ä¸€æ¡è®°å½•ï¼Œæ’å…¥æˆåŠŸåˆ¤å®š result.affectedRows === 1 // controller public async insert() { const { ctx } = this; const book = { bookName: &#39;js&#39;, bookCounts: 2, detail: &#39;test&#39;, }; const result = await ctx.service.book.create(book); if (result.affectedRows === 1) { ctx.body = &#39;æ’å…¥æˆåŠŸ&#39;; } else { ctx.body = &#39;æ’å…¥å¤±è´¥&#39;; } } // service public async create(book) { const { app } = this; const result = await app.mysql.insert(&#39;books&#39;, book); return result; } ç»“æœå¦‚å›¾ Readä½¿ç”¨ get æ–¹æ³•æˆ– select æ–¹æ³•è·å–ä¸€æ¡æˆ–å¤šæ¡è®°å½•ã€‚select æ–¹æ³•æ”¯æŒæ¡ä»¶æŸ¥è¯¢ä¸ç»“æœçš„å®šåˆ¶ã€‚ // controller public async index() { const { ctx } = this; const result = await ctx.service.book.select(); await ctx.render(&#39;book.ejs&#39;, { result, }); } // service public async select(options?: object) { const { app } = this; const result = await app.mysql.select(&#39;books&#39;, options); return result; } æ¥çœ‹ä¸‹æ•ˆæœ å®šåˆ¶æŸ¥è¯¢ Update&amp;Deleteä½¿ç”¨ update æ–¹æ³•æ›´æ–°æ•°æ®åº“è®°å½• const result = await app.mysql.update(&#39;posts&#39;, row, options); // å‚æ•°: è¡¨åï¼Œæ›´æ–°çš„æ•°æ®ï¼ŒæŸ¥è¯¢å‚æ•° const updateSuccess = result.affectedRows === 1; // æ’å…¥æˆåŠŸåˆ¤å®š ä½¿ç”¨ delete æ–¹æ³•åˆ é™¤æ•°æ®åº“è®°å½• const result = await app.mysql.delete(&#39;posts&#39;, options); ç›´æ¥æ‰§è¡ŒsqlæŸ¥è¯¢ä½¿ç”¨ query æ‰§è¡Œsql è¯­å¥ const id = 1; cosnt count = 4; const results = await app.mysql.query(&#39;select * from books where id = ? and bookCounts &gt; ?&#39;, [id, count]); äº‹åŠ¡ ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘#2éƒ¨åˆ† egg-sequelizeå®‰è£…ä¸é…ç½®å®‰è£…egg-sequelizeå’Œmysql2 $ npm install --save egg-sequelize mysql2 åœ¨pluginä¸­å¼€å¯æ’ä»¶ sequelize: { enable: true, package: &#39;egg-sequelize&#39;, }, åœ¨configä¸­é…ç½®sequelize // é…ç½®sequellize config.sequelize = { dialect: &#39;mysql&#39;, // æ•°æ®åº“ç±»å‹ database: &#39;ssmbuild&#39;, // æ•°æ®åº“åç§° host: &#39;127.0.0.1&#39;, // æ•°æ®åº“ipåœ°å€ port: 3306, // æ•°æ®åº“ç«¯å£ username: &#39;liuhao&#39;, // æ•°æ®åº“ç”¨æˆ·å password: &#39;123456&#39;, // æ•°æ®åº“å¯†ç  }; ç»æµ‹è¯•è¿™ç§æ–¹å¼å¯ä»¥è¿›è¡Œæ“ä½œï¼Œä½†æ˜¯ï¼Œä¸èƒ½è‡ªåŠ¨ç”Ÿæˆè¡¨ï¼Œéœ€è¦æ‰‹åŠ¨å»ºè¡¨ é…ç½®sequelize-cliå®‰è£… $ npm install --save-dev sequelize-cli åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª .sequelizerc é…ç½®æ–‡ä»¶ &#39;use strict&#39;; const path = require(&#39;path&#39;); module.exports = { config: path.join(__dirname, &#39;database/config.json&#39;), &#39;migrations-path&#39;: path.join(__dirname, &#39;database/migrations&#39;), &#39;seeders-path&#39;: path.join(__dirname, &#39;database/seeders&#39;), &#39;models-path&#39;: path.join(__dirname, &#39;app/model&#39;), }; ç„¶åè¿è¡Œå‘½ä»¤åˆå§‹åŒ–é…ç½®æ–‡ä»¶å’Œç›®å½• $ npx sequelize init:config $ npx sequelize init:migrations æ ¹ç›®å½•ä¸‹ä¼šç”Ÿæˆæ•°æ®åº“ç›¸å…³æ–‡ä»¶å¤¹ å°†config.jsä¸­çš„æ•°æ®åº“é…ç½®æ”¹ä¸ºè‡ªå·±çš„é…ç½® ç„¶åè¿è¡Œå‘½ä»¤ç”Ÿæˆè¡¨ï¼Œä»¥userä¸ºä¾‹ $ npx sequelize migration:generate --name=users å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªusers.jsæ–‡ä»¶ï¼Œå¼€å§‹é…ç½®useræ¨¡å‹ module.exports = { // åœ¨æ‰§è¡Œæ•°æ®åº“å‡çº§æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œåˆ›å»º users è¡¨ up: async (queryInterface, Sequelize) =&gt; { /** * Add altering commands here. * * Example: * await queryInterface.createTable(&#39;users&#39;, { id: Sequelize.INTEGER }); */ const { INTEGER, STRING } = Sequelize; await queryInterface.createTable(&#39;users&#39;, { id: { type: INTEGER, // INTEGERå°±æ˜¯mysqlä¸­çš„int primaryKey: true, autoIncrement: true, // è‡ªåŠ¨å¢é•¿ }, name: STRING(20), url: STRING(100), country: STRING(10), }, { // timestamps: false, // å»é™¤createAt updateAt createdAt: false, // è¡¨ç¤ºä¸å¯ç”¨created_at updatedAt: false, // è¡¨ç¤ºä¸å¯ç”¨updated_at freezeTableName: true, // ä½¿ç”¨è‡ªå®šä¹‰è¡¨å // ä½¿ç”¨è‡ªå®šä¹‰è¡¨åä¹‹åä¸Šé¢å†™çš„userså°±ç›´æ¥å°±æ˜¯ä½ çš„è¡¨åï¼Œå¦‚æœä¸åŠ çš„è¯ï¼Œä½ å°±å¯ä»¥å†™userï¼Œä½†æ˜¯è‡ªå·±çš„è¡¨åä¸ºusersï¼Œç¨‹åºä¼šè‡ªåŠ¨å°†såŠ ä¸Š tableName: &#39;users&#39;, // è‡ªå®šä¹‰çš„è¡¨åï¼Œä¹Ÿå¯ä»¥ä¸å†™ï¼Œç›´æ¥ç”¨defineåé¢çš„ä¹Ÿå¯ä»¥ // åªè¦ä½ ä½¿ç”¨äº†freezeTableNameï¼Œç¨‹åºå°±ä¸ä¼šè‡ªåŠ¨ç»™ä½ åŠ ä¸Šsäº† }); }, // åœ¨æ‰§è¡Œæ•°æ®åº“é™çº§æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œåˆ é™¤ users è¡¨ down: async queryInterface =&gt; { /** * Add reverting commands here. * * Example: * await queryInterface.dropTable(&#39;users&#39;); */ await queryInterface.dropTable(&#39;users&#39;); }, }; ç„¶åå˜æ›´æ•°æ®åº“ # å‡çº§æ•°æ®åº“ $ npx sequelize db:migrate # å¦‚æœæœ‰é—®é¢˜éœ€è¦å›æ»šï¼Œå¯ä»¥é€šè¿‡ `db:migrate:undo` å›é€€ä¸€ä¸ªå˜æ›´ # npx sequelize db:migrate:undo # å¯ä»¥é€šè¿‡ `db:migrate:undo:all` å›é€€åˆ°åˆå§‹çŠ¶æ€ # npx sequelize db:migrate:undo:all å¯ä»¥çœ‹åˆ°æ•°æ®åº“ä¸­å·²ç»æœ‰äº†usersè¡¨ ç¼–ç OKï¼Œé…ç½®å·²ç»å®Œæˆï¼Œç°åœ¨å¼€å§‹è¿›è¡Œæ„‰å¿«çš„ç¼–ç  é¦–å…ˆåœ¨appç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªmodelæ–‡ä»¶å¤¹ï¼Œå°†useræ¨¡å‹æ·»åŠ åˆ°modelä¸‹é¢ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡app.model.User æˆ–è€… ctx.model.User è®¿é—®äº†ï¼Œä»¥insertä¸ºä¾‹ // controller public async add() { const { ctx } = this; const result = await ctx.service.user.createUser({ name: &#39;zhangsan&#39;, url: &#39;http://zhangsan.com&#39;, country: &#39;CN&#39;, }); ctx.body = result; } // service public async createUser(user: object) { const res = await this.ctx.model.User.create(user); return res; } ç„¶åå°±å¯ä»¥çœ‹åˆ°å·²ç»æ’å…¥æ•°æ®æˆåŠŸ æ›´å¤šsequelizeä½¿ç”¨æ–¹æ³•ä¸å¤šèµ˜è¿°ï¼Œè§ä¹‹å‰çš„åšæ–‡ï¼Œä¼ é€é—¨ ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘#3éƒ¨åˆ† egg-passportè¿™é‡Œç”¨å¾®åšçš„ç¬¬ä¸‰ç™»å½•åšä¸ºç¤ºèŒƒ å®‰è£…åŠé…ç½®é¦–å…ˆè¿è¡Œå‘½ä»¤å®‰è£…passportæ”¯æŒ $ npm i --save egg-passport $ npm i --save egg-passport-weibo ç„¶åå¼€å¯æ’ä»¶ passport: { enable: true, package: &#39;egg-passport&#39;, }, passportWeibo: { enable: true, package: &#39;egg-passport-weibo&#39;, }, ç„¶ååœ¨config.defaultä¸­é…ç½®ç”³è¯·åˆ°çš„èº«ä»½ç  // weiboç™»å½• config.passportWeibo = { key: &#39;your key&#39;, secret: &#39;your secret&#39;, }; ç¼–ç é¦–å…ˆåœ¨routerä¸­æŒ‚è½½è·¯ç”±ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯æ’ä»¶æä¾›çš„è¯­æ³•ç³–ï¼ˆè¿™é‡ŒæŒ‚è½½çš„æ—¶å€™å¯èƒ½ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰index.d.tsæ–‡ä»¶ï¼Œè¿™ä¸ªé—®é¢˜è§£å†³åŠæ³•ä¸Šé¢è¯´è¿‡ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼‰ export default (app: Application) =&gt; { const { controller, router } = app; router.get(&#39;/&#39;, controller.home.index); app.passport.mount(&#39;weibo&#39;); // ç›¸å½“äº // const github = app.passport.authenticate(&#39;github&#39;, {}); // router.get(&#39;/passport/github&#39;, github); // router.get(&#39;/passport/github/callback&#39;, github); }; ç„¶ååœ¨controllerä¸­ç¼–å†™ç™»å½•æ“ä½œ public async index() { // const { ctx } = this; // // ctx.body = await ctx.service.test.sayHi(&#39;egg&#39;); // await ctx.render(&#39;login.ejs&#39;); const { ctx } = this; if (ctx.isAuthenticated()) { ctx.body = `&lt;div&gt; &lt;h2&gt;${ctx.path}&lt;/h2&gt; &lt;hr&gt; Logined user: &lt;img src=&quot;${ctx.user.photo}&quot;&gt; ${ctx.user.displayName} / ${ctx.user.id} | &lt;a href=&quot;/logout&quot;&gt;Logout&lt;/a&gt; &lt;pre&gt;&lt;code&gt;${JSON.stringify(ctx.user, null, 2)}&lt;/code&gt;&lt;/pre&gt; &lt;hr&gt; &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt; | &lt;a href=&quot;/user&quot;&gt;User&lt;/a&gt; &lt;/div&gt;`; } else { ctx.session.returnTo = ctx.path; ctx.body = ` &lt;div&gt; &lt;h2&gt;${ctx.path}&lt;/h2&gt; &lt;hr&gt; Login with &lt;a href=&quot;/passport/weibo&quot;&gt;Weibo&lt;/a&gt; &lt;hr&gt; &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt; | &lt;a href=&quot;/user&quot;&gt;User&lt;/a&gt; &lt;/div&gt; `; } } ç”±äºæˆ‘çš„æœåŠ¡å™¨å·²ç»è¿‡æœŸï¼Œæ²¡æœ‰å¯ç”¨çš„ç½‘ç«™æ¥å®¡æ ¸ï¼Œæ‰€ä»¥ç”³è¯·åˆ°çš„oauthç ä¸èƒ½ä½¿ç”¨ï¼Œå¦‚æœé€šè¿‡å®¡æ ¸ï¼Œè¿™å°±å¯ä»¥ä½¿ç”¨äº† æ­¤å¤– API ctx.user - è·å–å½“å‰å·²ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯ ctx.isAuthenticated() - æ£€æŸ¥è¯¥è¯·æ±‚æ˜¯å¦å·²æˆæƒ ctx.login(user, [options]) - ä¸ºç”¨æˆ·å¯åŠ¨ä¸€ä¸ªç™»å½•çš„ session ctx.logout() - é€€å‡ºï¼Œå°†ç”¨æˆ·ä¿¡æ¯ä» session ä¸­æ¸…é™¤ ctx.session.returnTo= - åœ¨è·³è½¬éªŒè¯å‰è®¾ç½®ï¼Œå¯ä»¥æŒ‡å®šæˆåŠŸåçš„ redirect åœ°å€ è¿˜æä¾›äº† APIï¼š app.passport.verify(async (ctx, user) =&gt; {}) - æ ¡éªŒç”¨æˆ· app.passport.serializeUser(async (ctx, user) =&gt; {}) - åºåˆ—åŒ–ç”¨æˆ·ä¿¡æ¯åå­˜å‚¨è¿› session app.passport.deserializeUser(async (ctx, user) =&gt; {}) - ååºåˆ—åŒ–åå–å‡ºç”¨æˆ·ä¿¡æ¯ app.passport.authenticate(strategy, options) - ç”ŸæˆæŒ‡å®šçš„é‰´æƒä¸­é—´ä»¶ options.successRedirect - æŒ‡å®šé‰´æƒæˆåŠŸåçš„ redirect åœ°å€ options.loginURL - è·³è½¬ç™»å½•åœ°å€ï¼Œé»˜è®¤ä¸º /passport/${strategy} options.callbackURL - æˆæƒåå›è°ƒåœ°å€ï¼Œé»˜è®¤ä¸º /passport/${strategy}/callback app.passport.mount(strategy, options) - è¯­æ³•ç³–ï¼Œæ–¹ä¾¿å¼€å‘è€…é…ç½®è·¯ç”± ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘#4éƒ¨åˆ† egg-jwtjwtï¼ˆjsonwebtokenï¼‰æ˜¯æˆ‘è®¤ä¸ºæ½œåŠ›æœ€å¤§çš„ä¸€ç§ç”¨æˆ·çŠ¶æ€éªŒè¯æ–¹å¼ JWTåŸç†ä¸‰éƒ¨åˆ†ç»„æˆï¼Œç”¨.åˆ†å‰² header: ä¸€ä¸ªjsonå¯¹è±¡ï¼Œæè¿°JWTçš„å…ƒæ•°æ® payload: ä¸€ä¸ª JSON å¯¹è±¡ï¼Œç”¨æ¥å­˜æ”¾å®é™…éœ€è¦ä¼ é€’çš„æ•°æ® signature: å¯¹headerå’Œpayloadä¸¤éƒ¨åˆ†çš„ç­¾åï¼Œé˜²æ­¢æ•°æ®è¢«ç¯¡æ”¹ å®‰è£…ä¸é…ç½®è¿è¡Œå‘½ä»¤å®‰è£… $ npm i egg-jwt --save å¼€å¯æ’ä»¶ jwt: { enable: true, package: &#39;egg-jwt&#39;, } åœ¨config.defaultä¸­é…ç½®ç§˜é’¥ // JWTç§˜é’¥ config.jwt = { secret: &#39;xiaofeng&#39;, }; ç¼–ç ç”Ÿæˆç™»å½•é¡µä½¿ç”¨postæ–¹æ³•æäº¤è¡¨å•ä¸å†åˆ—å‡ºï¼Œä¸»è¦ç»™å‡ºç”Ÿæˆtokençš„æ“ä½œï¼ˆåŒæ ·jwtæ²¡æœ‰index.d.tsï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œè§å‰æ–‡ï¼‰ public async add() { const { ctx, app } = this; ctx.cookies.set(&#39;username&#39;, ctx.request.body.username); const token = app.jwt.sign({ username: ctx.request.body.username, }, app.config.jwt.secret); ctx.set({ authorization: token }); //è®¾ç½®headers ctx.body = token; } æ•ˆæœå¦‚å›¾ éªŒè¯import { Context } from &#39;egg&#39;; // è‡ªå®šä¹‰çš„ä¸­é—´ä»¶ï¼šéªŒè¯token export default function jwtAuth(options: any): any { return async (ctx: Context, next: () =&gt; Promise&lt;any&gt;) =&gt; { const token = ctx.request.header.authorization; let decode = &#39;&#39;; if (token) { try { // è§£ç token decode = await ctx.app.jwt.verify(token, options.secret); console.log(&#39;decode======&gt;&#39;, decode); await next(); } catch (error) { ctx.status = 401; ctx.body = { message: error.message, }; return; } } else { ctx.status = 401; ctx.body = { message: &#39;æ²¡æœ‰token&#39;, }; return; } }; } è‡ªå®šä¹‰éªŒè¯tokenä¸­é—´ä»¶ï¼Œåœ¨è·¯ç”±æ–‡ä»¶ä¸­æ·»åŠ éœ€è¦tokenæ‰èƒ½è®¿é—®çš„è·¯ç”± import { Application } from &#39;egg&#39;; export default (app: Application) =&gt; { const { controller, router, middleware } = app; const token = middleware.jwtAuth(app.config.jwt); router.get(&#39;/news&#39;, token, controller.news.index); }; æ²¡æœ‰è·å¾—tokenè®¿é—®éœ€è¦ç™»å½•çš„è·¯ç”±æ—¶ä¼šæç¤ºæ²¡æœ‰tokenä½¿ç”¨æ¥å£æµ‹è¯•å·¥å…·ç»‘å®šä¸€ä¸ªå·²ç»ç”Ÿæˆçš„tokenå¯ä»¥çœ‹åˆ°æˆåŠŸè§£æäº†token ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘#5éƒ¨åˆ†,éªŒè¯éƒ¨åˆ†åœ¨#8 egg-validateegg-validateç”¨äºå¯¹å‚æ•°è¿›è¡Œæ£€éªŒï¼Œæ¯”å¦‚æ£€éªŒä¸€ä¸ªç”¨æˆ·åæ˜¯ä¸æ˜¯å­—ç¬¦ä¸²ctx.validate({ userName: &#39;string&#39; }); å®‰è£…åŠé…ç½®è¿è¡Œå‘½ä»¤ $ npm i egg-validate --save pluginä¸­å¼€å¯æ’ä»¶ validate: { enable: true, package: &#39;egg-validate&#39;, }, configä¸­é…ç½® // validate, å‚æ•°æ ¡éªŒå™¨ config.validate = { convert: true, // å¯¹å‚æ•°å¯ä»¥ä½¿ç”¨convertTypeè§„åˆ™è¿›è¡Œç±»å‹è½¬æ¢ // validateRoot: false, // é™åˆ¶è¢«éªŒè¯å€¼å¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ }; ç¼–ç ç¼–å†™ä¸€ä¸ªpostè¯·æ±‚ï¼Œæ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•° ï¼ˆvalidatoréœ€è¦æ‰‹åŠ¨æŒ‚è½½ï¼Œä½¿ç”¨ä»€ä¹ˆæ–¹æ³•æ·»åŠ ä»€ä¹ˆè§„åˆ™ï¼‰ import { Controller } from &#39;egg&#39;; // è§„åˆ™ const createRule = { name: &#39;string&#39;, age: { type: &#39;number&#39;, min: 0, max: 100, }, sex: [ &#39;man&#39;, &#39;woman&#39; ], }; export default class PostsController extends Controller { public async index() { const { ctx } = this; ctx.body = &#39;posts index&#39;; } public async create() { const { ctx, app } = this; // ctx.validate(createRule, ctx.request.body); // è‡ªåŠ¨å¤„ç†é”™è¯¯ï¼Œ422 const error = app.validator.validate(createRule, ctx.request.body); // è¿”å›é”™è¯¯ä¿¡æ¯ï¼Œå¼€å‘è€…å¤„ç† console.log(error); ctx.status = 201; } } æ•ˆæœå¦‚å›¾ï¼Œå½“å‡ºç°é”™è¯¯æ—¶è¿”å›é”™è¯¯ï¼Œæ²¡æœ‰é”™è¯¯errorä¸ºç©ºï¼Œcreatedæ˜¯è‡ªåŠ¨åŠ çš„ æ›´å¤šè§„åˆ™ è‡ªå®šä¹‰è§„åˆ™ä½¿ç”¨app.validator.addRuleæ·»åŠ æ›´å¤šè‡ªå®šä¹‰è§„åˆ™ï¼ˆéœ€è¦æ‰‹åŠ¨æŒ‚è½½ï¼‰ ä¾‹å¦‚ï¼š app.validator.addRule(&#39;newRule&#39;, (rule, value)=&gt;{ if (value.length &lt; 3 || value.length &gt; 10) { console.log(&quot;ç”¨æˆ·åçš„é•¿åº¦åº”è¯¥åœ¨3-10ä¹‹é—´&quot;); } }); è‡ªå®šä¹‰è§„åˆ™éœ€è¦å•ç‹¬åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­æ·»åŠ  ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘#6éƒ¨åˆ† egg-cors è¯·æ±‚è·¨åŸŸæ˜¯æˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä¸­ç»å¸¸ç¢°åˆ°çš„é—®é¢˜ eggè§£å†³è·¨åŸŸä¹Ÿæ˜¯éå¸¸çš„ç®€å•ï¼Œåªè¦å¼€å¯egg-corså°±è¡Œäº† å®‰è£…åŠé…ç½®è¿è¡Œå‘½ä»¤ $ npm i egg-cors --save pluginä¸­å¼€å¯æ’ä»¶ cors: { enable: true, package: &#39;egg-cors&#39;, }, configä¸­é…ç½® // å…³é—­csrf config.security = { csrf: { enable: false, // å…³é—­csrf }, domainWhiteList: [ &#39;*&#39; ], // ç™½åå• }; // CORS config.cors = { origin: &#39;*&#39;, allowMethods: &#39;GET,HEAD,PUT,POST,DELETE,PATCH&#39;, }; ç„¶åå°±å¯ä»¥äº† ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘#7éƒ¨åˆ†","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://easyremember.cn/tags/Node/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"EggJSå­¦ä¹ ç¬”è®°","slug":"ç¬”è®°/EggJSå­¦ä¹ ç¬”è®°","date":"2020-08-15T15:14:19.584Z","updated":"2020-09-05T09:36:10.076Z","comments":true,"path":"2020/08/15/ç¬”è®°/EggJSå­¦ä¹ ç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/08/15/ç¬”è®°/EggJSå­¦ä¹ ç¬”è®°/","excerpt":"","text":"EggJSå­¦ä¹ ç¬”è®°å¼€å§‹ä»‹ç»Egg.js ä¸ºä¼ä¸šçº§æ¡†æ¶å’Œåº”ç”¨è€Œç”Ÿï¼ŒExpressæ¡†æ¶æœ¬èº«ç¼ºå°‘çº¦å®šï¼Œæ ‡å‡†çš„ MVC æ¨¡å‹ä¼šæœ‰å„ç§åƒå¥‡ç™¾æ€ªçš„å†™æ³•ã€‚Egg æŒ‰ç…§çº¦å®šè¿›è¡Œå¼€å‘ï¼Œå¥‰è¡Œã€çº¦å®šä¼˜äºé…ç½®ã€ï¼Œå›¢é˜Ÿåä½œæˆæœ¬ä½ã€‚ Eggç‰¹æ€§ æä¾›åŸºäºEggå®šåˆ¶ä¸Šå±‚æ¡†æ¶çš„èƒ½åŠ› é«˜åº¦å¯æ‹“å±•çš„æ’ä»¶æœºåˆ¶ å†…ç½®å¤šè¿›ç¨‹ç®¡ç† åŸºäºKoaå¼€å‘ï¼Œæ€§èƒ½ä¼˜å¼‚ æ¡†æ¶ç¨³å®šï¼Œæµ‹è¯•è¦†ç›–ç‡é«˜ æ¸è¿›å¼å¼€å‘ å®‰è£…$ npm init egg --type=ts $ npm i æœ¬ç¯‡ä¸»è¦ä½¿ç”¨tsï¼Œç±»å‹å¯ä»¥ä¸å¡«ï¼Œä¼šè®©ä½ æ‰‹åŠ¨é€‰æ‹©ï¼Œ å¯åŠ¨$ npm run dev $ open http://localhost:7001 ç›®å½•ç»“æ„egg-project â”œâ”€â”€ package.json -- æ¡†æ¶é…ç½®ï¼Œä¾èµ– â”œâ”€â”€ app --æºç ç›®å½• | â”œâ”€â”€ router.ts -- ç”¨äºé…ç½® URL è·¯ç”±è§„åˆ™ | â”œâ”€â”€ model -- ç”¨äºæ”¾ç½®é¢†åŸŸæ¨¡å‹ â”‚ | â””â”€â”€ user.ts â”‚ â”œâ”€â”€ controller -- ç”¨äºè§£æç”¨æˆ·çš„è¾“å…¥ï¼Œå¤„ç†åè¿”å›ç›¸åº”çš„ç»“æœ â”‚ | â””â”€â”€ home.ts â”‚ â”œâ”€â”€ service (å¯é€‰) -- ç”¨äºç¼–å†™ä¸šåŠ¡é€»è¾‘å±‚ â”‚ | â””â”€â”€ user.ts â”‚ â”œâ”€â”€ middleware (å¯é€‰) -- ç”¨äºç¼–å†™ä¸­é—´ä»¶ â”‚ â”œâ”€â”€ schedule (å¯é€‰) -- ç”¨äºå®šæ—¶ä»»åŠ¡ â”‚ â”œâ”€â”€ public (å¯é€‰) -- ç”¨äºæ”¾ç½®é™æ€èµ„æº â”‚ â”œâ”€â”€ view (å¯é€‰) -- ç”¨äºæ”¾ç½®æ¨¡æ¿æ–‡ä»¶ â”‚ â””â”€â”€ extend (å¯é€‰) -- ç”¨äºæ¡†æ¶çš„æ‰©å±• â”œâ”€â”€ config -- é…ç½®æ–‡ä»¶ | â”œâ”€â”€ plugin.ts -- ç”¨äºé…ç½®éœ€è¦åŠ è½½çš„æ’ä»¶ | â”œâ”€â”€ config.default.ts -- ç”¨äºç¼–å†™é…ç½®æ–‡ä»¶(ä¸‹åŒ) â”‚ â”œâ”€â”€ config.prod.ts | â”œâ”€â”€ config.test.ts (å¯é€‰) | â”œâ”€â”€ config.local.ts (å¯é€‰) | â””â”€â”€ config.unittest.js (å¯é€‰) â”œâ”€â”€ logs -- æ—¥å¿—æ–‡ä»¶ â””â”€â”€ test/app -- ç”¨äºå•å…ƒæµ‹è¯• â””â”€â”€ controller -- ç”¨äºcontrollerå±‚çš„å•å…ƒæµ‹è¯• â””â”€â”€ home.test.js è·¯ç”±è·¯ç”±æ–‡ä»¶ä»£ç å¦‚ä¸‹ import { Application } from &#39;egg&#39;; export default (app: Application) =&gt; { const { controller, router } = app; router.get(&#39;/&#39;, controller.home.index); router.get(&#39;/login&#39;, controller.admin.login); }; ä»£ç ç®€å•æ˜äº†ï¼Œä¸€çœ¼å°±èƒ½çœ‹æ‡‚æ˜¯å¦‚ä½•é…ç½®çš„ï¼Œä¸ºäº†é˜²æ­¢çœ‹ä¸æ‡‚ï¼Œæˆ‘ä»¬æ¥è¯´ä¸€ä¸‹ é…ç½®æ–¹æ³•æ˜ç™½äº†å†æ¥è¯´ä¸€ä¸‹è·¯ç”±æ–‡ä»¶æ•´ä½“çš„ç»“æ„ é¦–å…ˆä»eggä¸­è§£æ„å‡ºApplicationï¼Œè¿™æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå¯¹ä¼ å…¥çš„å‚æ•°åšå‡ºçº¦æŸï¼ˆå¯åŠ¨æ–‡ä»¶åœ¨eggåŒ…ä¸­ï¼Œä½¿ç”¨è¿‡ç¨‹åŸºæœ¬ä¸ç”¨åŠ¨ï¼‰ï¼›ä»ä¼ å…¥çš„appä¸­å†è§£æ„å‡ºcontrollerå’Œrouterï¼Œrouterå°±æ˜¯è·¯ç”±å¯¹è±¡ å¯ä»¥çœ‹åˆ°æºç ä¸­routerå¯¹è±¡ä¸­æœ‰å¾ˆå¤šHTTPæ–¹æ³• è¿™ä¸ªæ˜¯æœ€å¸¸ç”¨çš„getæ–¹æ³•å‚æ•°ï¼Œè·¯å¾„å’Œä¸­é—´ä»¶ï¼Œä¸­é—´ä»¶è¿™é‡Œå°±æ˜¯è¦æ‰§è¡Œçš„æ“ä½œï¼Œç¤ºä¾‹ä¸­ç”¨åˆ°controllerä¸­çš„æ–¹æ³• POSTè¯·æ±‚ç›´æ¥ç”¨ç›¸åŒçš„æ–¹æ³•é…ç½®POSTè¯·æ±‚ä¼šæŠ›å‡ºé”™è¯¯ å› ä¸ºè¿™æ ·ä¸ç¬¦åˆEggçš„å®‰å…¨æœºåˆ¶ï¼Œå¸¸è§çš„å®‰å…¨é—®é¢˜ XSS æ”»å‡»ï¼šå¯¹ Web é¡µé¢æ³¨å…¥è„šæœ¬ï¼Œä½¿ç”¨ JavaScript çªƒå–ç”¨æˆ·ä¿¡æ¯ï¼Œè¯±å¯¼ç”¨æˆ·æ“ä½œã€‚ CSRF æ”»å‡»ï¼šä¼ªé€ ç”¨æˆ·è¯·æ±‚å‘ç½‘ç«™å‘èµ·æ¶æ„è¯·æ±‚ã€‚ é’“é±¼æ”»å‡»ï¼šåˆ©ç”¨ç½‘ç«™çš„è·³è½¬é“¾æ¥æˆ–è€…å›¾ç‰‡åˆ¶é€ é’“é±¼é™·é˜±ã€‚ HTTPå‚æ•°æ±¡æŸ“ï¼šåˆ©ç”¨å¯¹å‚æ•°æ ¼å¼éªŒè¯çš„ä¸å®Œå–„ï¼Œå¯¹æœåŠ¡å™¨è¿›è¡Œå‚æ•°æ³¨å…¥æ”»å‡»ã€‚ è¿œç¨‹ä»£ç æ‰§è¡Œï¼šç”¨æˆ·é€šè¿‡æµè§ˆå™¨æäº¤æ‰§è¡Œå‘½ä»¤ï¼Œç”±äºæœåŠ¡å™¨ç«¯æ²¡æœ‰é’ˆå¯¹æ‰§è¡Œå‡½æ•°åšè¿‡æ»¤ï¼Œå¯¼è‡´åœ¨æ²¡æœ‰æŒ‡å®šç»å¯¹è·¯å¾„çš„æƒ…å†µä¸‹å°±æ‰§è¡Œå‘½ä»¤ã€‚ è§£å†³åŠæ³•1åœ¨è®¿é—®é¡µé¢æ—¶å‘é¡µé¢å‘é€ç­¾åæ•°æ®csrf public async index() { const { ctx } = this; // ctx.body = await ctx.service.test.sayHi(&#39;egg&#39;); await ctx.render(&#39;login.ejs&#39;, { csrf: ctx.csrf, }); } ç„¶ååœ¨é¡µé¢å‘é€è¯·æ±‚çš„æ—¶å€™å¸¦ä¸Šè¿™ä¸ªcsrf &lt;form action=&quot;/login?_csrf=&lt;%= csrf %&gt; &quot; method=&quot;post&quot;&gt; ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;&lt;br/&gt; å¯†ç ï¼š&lt;input type=&quot;password&quot; name=&quot;password&quot; /&gt;&lt;br/&gt; &lt;button type=&quot;submit&quot;&gt;ç™»å½•&lt;/button&gt; &lt;/form&gt; è§£å†³åŠæ³•2ä½¿ç”¨ä¸­é—´ä»¶å‘é€csrf import { Context } from &#39;egg&#39;; // è‡ªå®šä¹‰çš„ä¸­é—´ä»¶ export default function printDate(): any { return async (ctx: Context, next: () =&gt; Promise&lt;any&gt;) =&gt; { // è®¾ç½®å…¨å±€å˜é‡ ctx.state.csrf = ctx.csrf; await next(); }; } è¿™æ ·å°±ä¸ç”¨æ¯æ¬¡åœ¨æ–¹æ³•é‡Œé¢å‘é€csrfäº† å¦‚æœè§‰å¾—urlå¸¦ç€ä¸€é•¿ä¸²csrfä¸å¥½çœ‹ï¼Œå¯ä»¥åœ¨è¡¨å•åŸŸè®¾ç½®csrf &lt;form action=&quot;/login&quot; method=&quot;post&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;_csrf&quot; value=&quot;&lt;%= csrf %&gt;&quot;&gt; ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;&lt;br/&gt; å¯†ç ï¼š&lt;input type=&quot;password&quot; name=&quot;password&quot; /&gt;&lt;br/&gt; &lt;button type=&quot;submit&quot;&gt;ç™»å½•&lt;/button&gt; &lt;/form&gt; controllerå·²ç»è·å–åˆ°äº†è¡¨å•æ•°æ® resourcesè‡ªåŠ¨é…ç½®RESTfulé£æ ¼APIï¼Œåªéœ€è¦ä¸€è¡Œä»£ç router.resources(&#39;posts&#39;, &#39;/api/posts&#39;, controller.posts);ï¼Œå°±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆä¸‹é¢ä¸€å¥—API Method Path Route Name Controller.Action GET /api/posts posts app.controllers.posts.index GET /api/posts/new new_post app.controllers.posts.new GET /api/posts/:id post app.controllers.posts.show GET /api/posts/:id/edit edit_post app.controllers.posts.edit POST /api/posts posts app.controllers.posts.create PUT /api/posts/:id post app.controllers.posts.update DELETE /api/posts/:id post app.controllers.posts.destroy åªéœ€è¦åœ¨Controllerä¸­å®ç°Actionå³å¯ æ§åˆ¶å™¨Controllerçœ‹å®Œè·¯ç”±å†æ¥çœ‹ä¸€ä¸‹controllerï¼Œä»£ç å¦‚ä¸‹ import { Controller } from &#39;egg&#39;; export default class AdminController extends Controller { public async login() { const { ctx } = this; ctx.body = await ctx.service.login.welcome(&#39;egg&#39;); } } æ–°å»ºä¸€ä¸ªç±»ç»§æ‰¿eggä¸­çš„Controllerï¼Œç¼–å†™æ–¹æ³•login è¿™é‡Œæ³¨æ„ï¼ŒeggåŸºäºKoaï¼ŒKoaæ˜¯ctx.xxxï¼Œåœ¨eggä¸­ctxè¢«å°è£…åœ¨thisé‡Œé¢ï¼Œä½¿ç”¨è§£æ„èµ‹å€¼è§£æå‡ºæ¥ï¼Œå¦‚æœä¸ä½¿ç”¨è§£æ„å°±è¦ä½¿ç”¨this.ctx.xxx è·å–ä¼ å€¼getç±»å‹é€šè¿‡ctx.queryè·å–å‚æ•°ï¼Œæ¯”å¦‚ export default class AdminController extends Controller { public async index() { const { ctx } = this; const userName: string = ctx.query.name; ctx.body = await ctx.service.login.welcome(userName); } } å¯ä»¥çœ‹åˆ°å·²ç»ä»urlä¸­è·å–äº†nameå‚æ•° åŠ¨æ€è·¯ç”±ä»urlä¸­è·å–æ•°æ®ï¼Œä½†ä¸æ˜¯ä½¿ç”¨queryçš„å½¢å¼ï¼Œè€Œæ˜¯ä½¿ç”¨http://127.0.0.1:7001/user/123è¿™ç§å½¢å¼ åœ¨é…ç½®è·¯ç”±æ—¶æ·»åŠ å‚æ•°ï¼Œä¾‹å¦‚ router.get(&#39;/user/:id&#39;, controller.admin.user); ç„¶ååœ¨Controllerä¸­ä½¿ç”¨ctx.paramsè·å–å‚æ•°ï¼Œå¦‚ public async user() { const { ctx } = this; const id: string = ctx.params.id; ctx.body = await ctx.service.login.userCenter(id); } æœåŠ¡ServiceService å°±æ˜¯åœ¨å¤æ‚ä¸šåŠ¡åœºæ™¯ä¸‹ç”¨äºåšä¸šåŠ¡é€»è¾‘å°è£…çš„ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œå¥½å¤„ï¼š ä¿æŒ Controller ä¸­çš„é€»è¾‘æ›´åŠ ç®€æ´ã€‚ ä¿æŒä¸šåŠ¡é€»è¾‘çš„ç‹¬ç«‹æ€§ï¼ŒæŠ½è±¡å‡ºæ¥çš„ Service å¯ä»¥è¢«å¤šä¸ª Controller é‡å¤è°ƒç”¨ã€‚ å°†é€»è¾‘å’Œå±•ç°åˆ†ç¦»ï¼Œæ›´å®¹æ˜“ç¼–å†™æµ‹è¯•ç”¨ä¾‹ ä½¿ç”¨åœºæ™¯ï¼š å¤æ‚æ•°æ®çš„å¤„ç†ï¼Œæ¯”å¦‚è¦å±•ç°çš„ä¿¡æ¯éœ€è¦ä»æ•°æ®åº“è·å–ï¼Œè¿˜è¦ç»è¿‡ä¸€å®šçš„è§„åˆ™è®¡ç®—ï¼Œæ‰èƒ½è¿”å›ç”¨æˆ·æ˜¾ç¤ºã€‚æˆ–è€…è®¡ç®—å®Œæˆåï¼Œæ›´æ–°åˆ°æ•°æ®åº“ã€‚ ç¬¬ä¸‰æ–¹æœåŠ¡çš„è°ƒç”¨ å®šä¹‰æœåŠ¡ä»£ç ç¤ºä¾‹ import { Service } from &#39;egg&#39;; /** * Login Service */ export default class Login extends Service { /** * userCenter for you * @param id - your id */ public async userCenter(id: string) { return `IDï¼š${id}`; } } å±æ€§ é…ç½®é¡¹configåœ¨config.default.tsä¸­æ·»åŠ é…ç½®é¡¹ï¼Œå¯ä»¥ç›´æ¥åœ¨controlleræˆ–è€…serviceä¸­è°ƒç”¨é…ç½®é¡¹ã€‚æ¯”å¦‚åœ¨configä¸­å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶ååœ¨serviceä¸­è°ƒç”¨ï¼Œä»£ç å¦‚ä¸‹ //config.default.ts // è‡ªå®šä¹‰é…ç½®é¡¹ config.str = &#39;this is a config string&#39;; // Login.ts public async userCenter(id: string) { console.log(this.config.str); return `IDï¼š${id}`; } æ—¥å¿—loggerloggeræœ‰å››ç§çº§åˆ«ï¼Œä¸‹é¢ç»™å‡ºç¤ºä¾‹ this.logger.debug(&#39;this is degug&#39;); this.logger.info(&#39;this is info&#39;); this.logger.warn(&#39;this is warn&#39;); this.logger.error(&#39;this is error&#39;); ä¸Šä¸‹æ–‡ctx this.ctx.curl å‘èµ·ç½‘ç»œè°ƒç”¨ã€‚ this.ctx.service.otherService è°ƒç”¨å…¶ä»– Serviceã€‚ this.ctx.db å‘èµ·æ•°æ®åº“è°ƒç”¨ç­‰ï¼Œ db å¯èƒ½æ˜¯å…¶ä»–æ’ä»¶æå‰æŒ‚è½½åˆ° app ä¸Šçš„æ¨¡å—ã€‚ æ³¨æ„ æ¨¡æ¿å¼•æ“å®‰è£…æ¨¡æ¿å¼•æ“ä½¿ç”¨ejsåšæ¡ˆä¾‹ï¼Œé¦–å…ˆå®‰è£…ejsåŒ…ï¼Œnpmæ–‡æ¡£ $ npm i egg-view-ejs --save ç„¶åå°†ä¸‹é¢è¿™æ®µä»£ç æ”¾åˆ°å¯¹åº”çš„é…ç½®æ–‡ä»¶é‡Œé¢ // {app_root}/config/plugin.js exports.ejs = { enable: true, package: &#39;egg-view-ejs&#39;, }; // {app_root}/config/config.default.js exports.view = { mapping: { &#39;.ejs&#39;: &#39;ejs&#39;, }, }; // ejs config exports.ejs = {}; æ³¨æ„tsçš„é…ç½®æ–¹å¼ä¸åŒï¼Œå¦‚ä¸‹å›¾ ç¼–å†™æ¨¡æ¿ä»£ç &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h2 style=&quot;color: #409eff;&quot;&gt;&lt;%= data %&gt;&lt;/h2&gt; &lt;ul&gt; &lt;% for(let i = 0; i &lt; list.length; i++) { %&gt; &lt;li&gt;&lt;%= list[i] %&gt;&lt;/li&gt; &lt;% } %&gt; &lt;/ul&gt; &lt;img src=&quot;/public/images/egg.jpg&quot; alt=&quot;&quot; width=&quot;100px&quot; height=&quot;60px&quot;&gt; &lt;/body&gt; &lt;/html&gt; æ¨¡æ¿æ–‡ä»¶ä¸€å®šè¦æ”¾åœ¨appä¸‹çš„viewç›®å½•ä¸‹ejsè¯­æ³•ï¼š &lt;% â€˜è„šæœ¬â€™ æ ‡ç­¾ï¼Œç”¨äºæµç¨‹æ§åˆ¶ï¼Œæ— è¾“å‡ºã€‚ &lt;%_ åˆ é™¤å…¶å‰é¢çš„ç©ºæ ¼ç¬¦ &lt;%= è¾“å‡ºæ•°æ®åˆ°æ¨¡æ¿ï¼ˆè¾“å‡ºæ˜¯è½¬ä¹‰ HTML æ ‡ç­¾ï¼‰ &lt;%- è¾“å‡ºéè½¬ä¹‰çš„æ•°æ®åˆ°æ¨¡æ¿ &lt;%# æ³¨é‡Šæ ‡ç­¾ï¼Œä¸æ‰§è¡Œã€ä¸è¾“å‡ºå†…å®¹ &lt;%% è¾“å‡ºå­—ç¬¦ä¸² â€˜&lt;%â€™ %&gt; ä¸€èˆ¬ç»“æŸæ ‡ç­¾ -%&gt; åˆ é™¤ç´§éšå…¶åçš„æ¢è¡Œç¬¦ _%&gt; å°†ç»“æŸæ ‡ç­¾åé¢çš„ç©ºæ ¼ç¬¦åˆ é™¤ controllerè¿”å›æ¨¡æ¿å¹¶ä¼ å€¼public async user() { const { ctx } = this; const id: string = ctx.params.id; const udata: string = await ctx.service.login.userCenter(id); const arr: number[] = [ 111, 222, 333 ]; await ctx.render(&#39;user.ejs&#39;, { data: udata, list: arr, }); } è¿™é‡Œæ³¨æ„ä¸¤ä¸ªç‚¹ ctx.renderæ˜¯å¼‚æ­¥æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨awaitä¿®é¥° renderçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ¨¡æ¿åç§°ï¼Œè¿™é‡Œéœ€è¦åŠ ä¸Šåç¼€åï¼Œå¦åˆ™ä¼šæŠ¥é”™ æ•ˆæœå¦‚å›¾ å®æˆ˜ï¼šå°çˆ¬è™«åœ°å€ï¼šhttp://www.phonegap100.com/appapi.php?a=getPortalList&amp;catid=20&amp;page=1 Serviceimport { Service } from &#39;egg&#39;; /** * News Service */ export default class Login extends Service { /** * getNewsList */ public async getNewsList() { const url = this.config.api + &#39;appapi.php?a=getPortalList&amp;catid=20&amp;page=1&#39;; const res = await this.ctx.curl(url); const response = JSON.parse(res.data); return response.result; } /** * getContent * @param aid æ–‡ç« aid */ public async getContent(aid: string) { const url = this.config.api + &#39;appapi.php?a=getPortalArticle&amp;aid=&#39; + aid; const res = await this.ctx.curl(url); const response = JSON.parse(res.data); console.log(response.result); return response.result; } } Controllerimport { Controller } from &#39;egg&#39;; export default class AdminController extends Controller { public async index() { const { ctx } = this; const data = await ctx.service.news.getNewsList(); await ctx.render(&#39;news.ejs&#39;, { data, }); } public async newsContent() { const { ctx } = this; const aid = ctx.query.aid; const data = await ctx.service.news.getContent(aid); await ctx.render(&#39;newscontent.ejs&#39;, { data: data[0], }); } } ejsnews.ejs &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;News&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h2&gt;æ–°é—»åˆ—è¡¨&lt;/h2&gt; &lt;ul&gt; &lt;% for( let i = 0; i &lt; data.length; i++ ) { %&gt; &lt;li&gt;&lt;a href=&quot;/newscontent?aid=&lt;%= data[i].aid %&gt;&quot; &gt;&lt;%= data[i].title %&gt;&lt;/a&gt; &lt;/li&gt; &lt;% } %&gt; &lt;/ul&gt; &lt;/body&gt; &lt;/html&gt; newscontent.ejs &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;è¯¦æƒ…&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;%- data.content %&gt; &lt;script&gt; document.title = &#39;&lt;%= data.title %&gt;&#39; &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; æœ€ç»ˆæ•ˆæœ æ¡†æ¶æ‹“å±•extendæœ‰å¤šç§æ‹“å±•è‡ªèº«çš„åŠŸèƒ½ Application Context Request Response Helper Applicationapp å¯¹è±¡æŒ‡çš„æ˜¯ Koa çš„å…¨å±€åº”ç”¨å¯¹è±¡ï¼Œå…¨å±€åªæœ‰ä¸€ä¸ªï¼Œåœ¨åº”ç”¨å¯åŠ¨æ—¶è¢«åˆ›å»º æ‹“å±•æ–¹å¼æ¡†æ¶ä¼šæŠŠ app/extend/application.ts ä¸­å®šä¹‰çš„å¯¹è±¡ä¸ Koa Application çš„ prototype å¯¹è±¡è¿›è¡Œåˆå¹¶ï¼Œç›´æ¥åˆ›å»ºæ–‡ä»¶è¿›è¡Œç¼–ç å³å¯ï¼Œä¾‹å¦‚ import { Application } from &#39;egg&#39;; export default { func(this: Application) { return &#39;app extend&#39;; }, }; åœ¨appå¯¹è±¡ä¸­ç›´æ¥è°ƒç”¨æ–¹æ³•å³å¯ å…¶ä»–å¯¹è±¡æ‹“å±•æ–¹å¼è·ŸApplicationåŒæ ·æ³¨æ„ï¼šrequestå’Œresponseæ˜¯åœ¨ctxé‡Œé¢ä½¿ç”¨çš„ ä¸­é—´ä»¶middlewareé…ç½®ä¸­é—´ä»¶ Egg çš„ä¸­é—´ä»¶å½¢å¼å’Œ Koa çš„ä¸­é—´ä»¶å½¢å¼æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯åŸºäºæ´‹è‘±åœˆæ¨¡å‹ã€‚ ä¸€ä¸ªä¸­é—´ä»¶æ˜¯ä¸€ä¸ªæ”¾ç½®åœ¨ app/middleware ç›®å½•ä¸‹çš„å•ç‹¬æ–‡ä»¶ï¼Œå®ƒéœ€è¦ exports ä¸€ä¸ªæ™®é€šçš„ functionï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š options: ä¸­é—´ä»¶çš„é…ç½®é¡¹ï¼Œæ¡†æ¶ä¼šå°† app.config[${middlewareName}] ä¼ é€’è¿›æ¥ã€‚ app: å½“å‰åº”ç”¨ Application çš„å®ä¾‹ã€‚ æ¥çœ‹ä¸€ä¸‹ä»£ç ç¤ºä¾‹ï¼Œè¿™ä¸ªä¸­é—´ä»¶çš„ä½œç”¨æ˜¯åœ¨æ¯æ¬¡è¯·æ±‚çš„æ—¶å€™æ‰“å°å‡ºæ—¶é—´ import { Context } from &#39;egg&#39;; // è‡ªå®šä¹‰çš„ä¸­é—´ä»¶ export default function printDate(): any { return async (ctx: Context, next: () =&gt; Promise&lt;any&gt;) =&gt; { ctx.logger.info(new Date()); await next(); }; } ä¸­é—´ä»¶å†™å®Œä¹‹åè¦åœ¨configä¸­è¿›è¡Œé…ç½®ï¼Œåœ¨middlewwareæ•°ç»„ä¸­æ·»åŠ æ–‡ä»¶å ç„¶åæ¯æ¬¡è¯·æ±‚æ—¶å°±ä¼šçœ‹åˆ°æ‰“å°å‡ºäº†æ—¥å¿— ä¸­é—´ä»¶ä¼ å€¼ä¸­é—´ä»¶ä¼ å€¼åœ¨é…ç½®æ–‡ä»¶ä¸­bizConfigä¸­å¢åŠ ä¸­é—´ä»¶åŒåå¯¹è±¡ï¼Œå°±å¯ä»¥åœ¨ä¸­é—´ä»¶ä¸­é€šè¿‡optionsæ¥è®¿é—®å˜é‡ const bizConfig = { // ä¸­é—´ä»¶ä¼ å€¼ printdate: { configStr: &#39;this is value from config&#39;, }, }; è¿™æ—¶ä¸­é—´ä»¶éœ€è¦é…ç½®å‚æ•° import { Context, Application, EggAppConfig } from &#39;egg&#39;; // è‡ªå®šä¹‰çš„ä¸­é—´ä»¶ export default function printDate(options: EggAppConfig[&#39;printdate&#39;], app: Application): any { app.logger.warn(options.configStr); return async (ctx: Context, next: () =&gt; Promise&lt;any&gt;) =&gt; { ctx.logger.info(new Date()); await next(); }; } æœåŠ¡å¯åŠ¨æ—¶å°±ä¼šåœ¨æ§åˆ¶å°çœ‹åˆ°æ‰“å°å‡ºæ¥çš„æ—¥å¿— å®ç”¨ä¸­é—´ä»¶csrfä¸­é—´ä»¶import { Context } from &#39;egg&#39;; // è‡ªå®šä¹‰çš„ä¸­é—´ä»¶ export default function auth(): any { return async (ctx: Context, next: () =&gt; Promise&lt;any&gt;) =&gt; { // è®¾ç½®å…¨å±€å˜é‡ ctx.state.csrf = ctx.csrf; await next(); }; } ç„¶ååœ¨configä¸­æ·»åŠ ä¸­é—´ä»¶config.middleware = [ &#39;auth&#39; ];ï¼Œå°±å¯ä»¥åœ¨ä»»æ„é¡µé¢ä¸Šè·å–csrfäº† CookieCookieæ˜¯å­˜å‚¨åœ¨è®¿é—®è€…è®¡ç®—æœºä¸­çš„å˜é‡ï¼Œå¯ä»¥è®©åŒä¸€ä¸ªæµè§ˆå™¨è®¿é—®åŒä¸€ä¸ªåŸŸåçš„æ—¶å€™å…±äº«æ•°æ® Eggä¸­Cookieçš„è®¾ç½®å’Œè·å–è®¾ç½®ctx.cookies.set(key, value, options) public async add() { const { ctx } = this; ctx.cookies.set(&#39;username&#39;, ctx.request.body.username); ctx.body = ctx.request.body; } åœ¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ä¸­æŸ¥çœ‹Cookie è·å–ctx.cookies.get(key, options) è®¾ç½® {Number} maxAge: è®¾ç½®è¿™ä¸ªé”®å€¼å¯¹åœ¨æµè§ˆå™¨çš„æœ€é•¿ä¿å­˜æ—¶é—´ã€‚æ˜¯ä¸€ä¸ªä»æœåŠ¡å™¨å½“å‰æ—¶åˆ»å¼€å§‹çš„æ¯«ç§’æ•°ã€‚ {Date} expires: è®¾ç½®è¿™ä¸ªé”®å€¼å¯¹çš„å¤±æ•ˆæ—¶é—´ï¼Œå¦‚æœè®¾ç½®äº† maxAgeï¼Œexpires å°†ä¼šè¢«è¦†ç›–ã€‚å¦‚æœ maxAge å’Œ expires éƒ½æ²¡è®¾ç½®ï¼ŒCookie å°†ä¼šåœ¨æµè§ˆå™¨çš„ä¼šè¯å¤±æ•ˆï¼ˆä¸€èˆ¬æ˜¯å…³é—­æµè§ˆå™¨æ—¶ï¼‰çš„æ—¶å€™å¤±æ•ˆã€‚ {String} path: è®¾ç½®é”®å€¼å¯¹ç”Ÿæ•ˆçš„ URL è·¯å¾„ï¼Œé»˜è®¤è®¾ç½®åœ¨æ ¹è·¯å¾„ä¸Šï¼ˆ/ï¼‰ï¼Œä¹Ÿå°±æ˜¯å½“å‰åŸŸåä¸‹çš„æ‰€æœ‰ URL éƒ½å¯ä»¥è®¿é—®è¿™ä¸ª Cookieã€‚ {String} domain: è®¾ç½®é”®å€¼å¯¹ç”Ÿæ•ˆçš„åŸŸåï¼Œé»˜è®¤æ²¡æœ‰é…ç½®ï¼Œå¯ä»¥é…ç½®æˆåªåœ¨æŒ‡å®šåŸŸåæ‰èƒ½è®¿é—®ã€‚ {Boolean} httpOnly: è®¾ç½®é”®å€¼å¯¹æ˜¯å¦å¯ä»¥è¢« js è®¿é—®ï¼Œé»˜è®¤ä¸º trueï¼Œä¸å…è®¸è¢« js è®¿é—®ã€‚ {Boolean} secure: è®¾ç½®é”®å€¼å¯¹åªåœ¨ HTTPS è¿æ¥ä¸Šä¼ è¾“ï¼Œæ¡†æ¶ä¼šå¸®æˆ‘ä»¬åˆ¤æ–­å½“å‰æ˜¯å¦åœ¨ HTTPS è¿æ¥ä¸Šè‡ªåŠ¨è®¾ç½® secure çš„å€¼ã€‚ é™¤äº†è¿™äº›å±æ€§ä¹‹å¤–ï¼Œæ¡†æ¶å¦å¤–æ‰©å±•äº† 3 ä¸ªå‚æ•°çš„æ”¯æŒï¼š {Boolean} overwriteï¼šè®¾ç½® key ç›¸åŒçš„é”®å€¼å¯¹å¦‚ä½•å¤„ç†ï¼Œå¦‚æœè®¾ç½®ä¸º trueï¼Œåˆ™åè®¾ç½®çš„å€¼ä¼šè¦†ç›–å‰é¢è®¾ç½®çš„ï¼Œå¦åˆ™å°†ä¼šå‘é€ä¸¤ä¸ª set-cookie å“åº”å¤´ã€‚ {Boolean} signedï¼šè®¾ç½®æ˜¯å¦å¯¹ Cookie è¿›è¡Œç­¾åï¼Œå¦‚æœè®¾ç½®ä¸º trueï¼Œåˆ™è®¾ç½®é”®å€¼å¯¹çš„æ—¶å€™ä¼šåŒæ—¶å¯¹è¿™ä¸ªé”®å€¼å¯¹çš„å€¼è¿›è¡Œç­¾åï¼Œåé¢å–çš„æ—¶å€™åšæ ¡éªŒï¼Œå¯ä»¥é˜²æ­¢å‰ç«¯å¯¹è¿™ä¸ªå€¼è¿›è¡Œç¯¡æ”¹ã€‚é»˜è®¤ä¸º trueã€‚ {Boolean} encryptï¼šè®¾ç½®æ˜¯å¦å¯¹ Cookie è¿›è¡ŒåŠ å¯†ï¼Œå¦‚æœè®¾ç½®ä¸º trueï¼Œåˆ™åœ¨å‘é€ Cookie å‰ä¼šå¯¹è¿™ä¸ªé”®å€¼å¯¹çš„å€¼è¿›è¡ŒåŠ å¯†ï¼Œå®¢æˆ·ç«¯æ— æ³•è¯»å–åˆ° Cookie çš„æ˜æ–‡å€¼ã€‚é»˜è®¤ä¸º falseã€‚ Session Cookie åœ¨ Web åº”ç”¨ä¸­ç»å¸¸æ‰¿æ‹…æ ‡è¯†è¯·æ±‚æ–¹èº«ä»½çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ Web åº”ç”¨åœ¨ Cookie çš„åŸºç¡€ä¸Šå°è£…äº† Session çš„æ¦‚å¿µï¼Œä¸“é—¨ç”¨åšç”¨æˆ·èº«ä»½è¯†åˆ« Sessionä¿å­˜åœ¨æœåŠ¡å™¨ä¸Š Eggä¸­ä½¿ç”¨Session å¯ä»¥åœ¨configä¸­é…ç½®sessionä¿¡æ¯ exports.session = { key: &#39;EGG_SESS&#39;, maxAge: 24 * 3600 * 1000, // 1 å¤© httpOnly: true, encrypt: true, }; ä»£ç ä»£ç å·²ä¸Šä¼ ç äº‘ï¼Œä¼ é€é—¨","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://easyremember.cn/tags/Node/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"VS Code å®ç”¨æ’ä»¶","slug":"èµ„æº/VSCodeä½¿ç”¨æ’ä»¶é›†åˆ","date":"2020-08-13T06:25:25.881Z","updated":"2020-09-05T09:40:22.694Z","comments":true,"path":"2020/08/13/èµ„æº/VSCodeä½¿ç”¨æ’ä»¶é›†åˆ/","link":"","permalink":"https://easyremember.cn/2020/08/13/èµ„æº/VSCodeä½¿ç”¨æ’ä»¶é›†åˆ/","excerpt":"","text":"VSCodeä½¿ç”¨æ’ä»¶é›†åˆany-ruleä¸€æ¬¾æ­£åˆ™è¡¨è¾¾å¼ç”Ÿæˆæ’ä»¶ï¼Œå®‰è£…ä¹‹åä½¿ç”¨Ctrl+Shift+Pè°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œè¾“å…¥zzå°±å¯ä»¥çœ‹åˆ°å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå›è½¦å³å¯æ’å…¥ä»£ç ä¸­ Auto Rename Tagå¯ä»¥è‡ªåŠ¨ä¿®æ”¹é—­åˆçš„æ ‡ç­¾ï¼Œä¿®æ”¹å‰åŠéƒ¨åˆ†æ ‡ç­¾ï¼ŒååŠéƒ¨åˆ†è‡ªåŠ¨è·Ÿéšä¿®æ”¹ï¼Œå†ä¹Ÿä¸ä¼šä¹±äº† Bracket Pair Colorizerå½©è‰²æ‹¬å·æ’ä»¶ï¼Œå½“ä»£ç ä¸­æ‹¬å·è¿‡å¤šçš„æ—¶å€™å¾ˆå®¹æ˜“æ··ä¹±ï¼Œæœ‰äº†è¿™æ¬¾æ’ä»¶ä¹‹åï¼Œé…å¯¹çš„æ ‡ç­¾ä¼šæ¸²æŸ“ä¸ºåŒä¸€ç§é¢œè‰²ï¼Œæ‹¬å·é…å¯¹å…³ç³»ç›¸å½“æ¸…æ¥š Easy LESSå¯ä»¥è‡ªåŠ¨å°†lessæ–‡ä»¶ç¼–è¯‘ä¸ºcssæ–‡ä»¶ essjså¯ä»¥è‡ªåŠ¨æ·»åŠ å¾ˆå¤šEggæ¡†æ¶çš„ä»£ç ç‰‡æ®µï¼Œæ¯”å¦‚controllerã€serviceä¹‹ç±»ï¼Œå¤§å¤§æé«˜ç¼–ç æ•ˆç‡ Git Historyæ’ä»¶æä¾›å¯è§†åŒ–æŸ¥çœ‹gitä¿¡æ¯ï¼Œæäº¤è®°å½•ç­‰ htmltagwrapè¿™æ¬¾æ’ä»¶å¯ä»¥å¯¹é€‰ä¸­çš„ä»£ç è¿›è¡Œæ ‡ç­¾åµŒå¥—ï¼Œé€‰ä¸­ä»£ç ä¹‹åä½¿ç”¨ç»„åˆå¿«æ·é”®Alt+Wè§¦å‘ï¼ŒåµŒå¥—æ ‡ç­¾æ—¶ä¸ç”¨å†å‰ªæ¥å‰ªå»äº† Indenticatorå¯ä»¥åœ¨é«˜äº®æ˜¾ç¤ºé¼ æ ‡é€‰ä¸­çš„ä»£ç å—æ‰€åœ¨çš„å±‚çº§ JavaScript (ES6) code snippetså¯ä»¥é€šè¿‡ç®€å†™å¿«é€Ÿæ’å…¥ES6è¯­æ³•çš„jsä»£ç ç‰‡æ®µï¼Œè¯¦ç»†è§ç®€å†™ä½¿ç”¨æ–‡æ¡£ Live Serverè¿™ä¹Ÿæ˜¯ä¸€æ¬¾å¾ˆå¼ºå¤§çš„æ’ä»¶ï¼Œé€šè¿‡æœåŠ¡å™¨å±•ç¤ºhtmlï¼Œåœ¨htmlæ–‡ä»¶ä¸­å³é”®é€‰æ‹©open with live serverå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ç½‘é¡µæ•ˆæœ Path Autocompleteè‡ªåŠ¨è¡¥å…¨è·¯å¾„çš„æ’ä»¶ï¼Œå¿«é€Ÿçš„å¡«å†™è·¯å¾„ï¼Œå¯ä»¥é€šè¿‡./ã€C:(ç£ç›˜è·¯å¾„)ç­‰è§¦å‘ RegExp Preview and Editorä¸€æ¬¾æ­£åˆ™è¡¨è¾¾å¼éªŒè¯æ’ä»¶ï¼Œå¯ä»¥å±•ç¤ºæ­£åˆ™å¼åŒ¹é…çš„å…¨è¿‡ç¨‹ï¼Œå®‰è£…æ’ä»¶ä¹‹åå¯ä»¥é€‰ä¸­æ­£åˆ™å¼å³é”®æ¥æŸ¥çœ‹åŒ¹é…è¿‡ç¨‹ è¿˜æœ‰ä¸€ä¸ªæ­£åˆ™ç¼–è¾‘å™¨ï¼Œé€šè¿‡Ctrl+Shift+Pè°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œæœç´¢regexp editorå‘½ä»¤æ¥è§¦å‘ï¼Œå¯ä»¥ä¸€è¾¹å†™ä¸€è¾¹å±•ç¤ºåŒ¹é…è¿‡ç¨‹ REST Clientç›´æ¥åœ¨VSCodeä¸­è¿›è¡Œæ¥å£æ•°æ®æµ‹è¯•çš„ä¸€æ¬¾æ’ä»¶ï¼Œåœ¨æ–‡ä»¶åŒºåŸŸæ–°å»ºä¸€ä¸ª.httpåç¼€çš„æ–‡ä»¶ï¼Œç„¶åç¼–å†™æ¥å£æµ‹è¯•ï¼Œæ¯”å¦‚GETæ–¹æ³•ï¼Œurlæ˜¯127.0.0.1:7001ï¼Œç¼–å†™å‡ºæ¥å°±æ˜¯ GET http://127.0.0.1:7001 ä¸åŒçš„æ¥å£ä¹‹é—´ä½¿ç”¨ä¸‰ä¸ª#è¿›è¡Œåˆ†å‰²ï¼Œç¼–å†™å¥½æ¥å£ä¹‹åä¼šåœ¨urlä¸Šé¢å‡ºç°ä¸€ä¸ªSend Requestï¼Œç‚¹å‡»å°±å¯ä»¥ä½¿ç”¨äº† Vue VSCode Snippetså¯ä»¥å¿«é€Ÿæ’å…¥Vueä»£ç ç‰‡æ®µï¼Œéå¸¸æ–¹ä¾¿ï¼Œæ›´å¤šå¿«æ·å‘½ä»¤è§æ–‡æ¡£è¯´æ˜ ESLintä»£ç è§„åˆ™æ£€æŸ¥æ’ä»¶ï¼Œå½“ä»£ç ä¸­å‡ºç°ä¸ç¬¦åˆESlintè¯­æ³•è§„èŒƒæ—¶ä¼šæœ‰æŠ¥é”™","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/tags/å·¥å…·/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"é«˜çº§ç»„ä»¶provide/inject","slug":"æŠ€æœ¯/é«˜çº§ç»„ä»¶provide-inject","date":"2020-08-12T06:56:52.036Z","updated":"2020-09-05T09:34:58.314Z","comments":true,"path":"2020/08/12/æŠ€æœ¯/é«˜çº§ç»„ä»¶provide-inject/","link":"","permalink":"https://easyremember.cn/2020/08/12/æŠ€æœ¯/é«˜çº§ç»„ä»¶provide-inject/","excerpt":"","text":"é«˜çº§ç»„ä»¶provide / injectå®˜æ–¹æ–‡æ¡£ä»‹ç» ç±»å‹ provideï¼šObject | () =&gt; Object injectï¼šArray&lt;string&gt; | { [key: string]: string | Symbol | Object } è¯¦ç»† è¿™å¯¹é€‰é¡¹éœ€è¦ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨èµ·ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆã€‚ provide é€‰é¡¹åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å‡½æ•°ã€‚è¯¥å¯¹è±¡åŒ…å«å¯æ³¨å…¥å…¶å­å­™çš„å±æ€§ã€‚åœ¨è¯¥å¯¹è±¡ä¸­ä½ å¯ä»¥ä½¿ç”¨ ES2015 Symbols ä½œä¸º keyï¼Œä½†æ˜¯åªåœ¨åŸç”Ÿæ”¯æŒ Symbol å’Œ Reflect.ownKeys çš„ç¯å¢ƒä¸‹å¯å·¥ä½œã€‚ inject é€‰é¡¹åº”è¯¥æ˜¯ï¼š ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œæˆ– ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„ key æ˜¯æœ¬åœ°çš„ç»‘å®šåï¼Œvalue æ˜¯ï¼š åœ¨å¯ç”¨çš„æ³¨å…¥å†…å®¹ä¸­æœç´¢ç”¨çš„ key (å­—ç¬¦ä¸²æˆ– Symbol)ï¼Œæˆ– ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„ï¼š from å±æ€§æ˜¯åœ¨å¯ç”¨çš„æ³¨å…¥å†…å®¹ä¸­æœç´¢ç”¨çš„ key (å­—ç¬¦ä¸²æˆ– Symbol) default å±æ€§æ˜¯é™çº§æƒ…å†µä¸‹ä½¿ç”¨çš„ value æç¤ºï¼šprovide å’Œ inject ç»‘å®šå¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„å±æ€§è¿˜æ˜¯å¯å“åº”çš„ã€‚ äººè¯å¼€å§‹ç®€å•çš„æ¥è¯´å°±æ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­é€šè¿‡provideæ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­ç»„ä»¶ä¸­é€šè¿‡injectæ¥æ³¨å…¥å˜é‡ã€‚ ç¤ºä¾‹çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨provideå®šä¹‰ä¸€ä¸ªå˜é‡ provide: { father: &quot;demo&quot;, }, å­ç»„ä»¶ä½¿ç”¨injectå¼•å…¥å˜é‡ inject: [ &quot;father&quot; ], å†æ¥çœ‹ä¸€ä¸‹æµè§ˆå™¨æ•ˆæœ å¯ä»¥çœ‹åˆ°æµè§ˆå™¨çš„æ§åˆ¶å°æˆåŠŸçš„æ‰“å°å‡ºäº†è¿™ä¸ªå˜é‡çš„å€¼ ä¸Šé¢æåˆ°ï¼Œè¿™ç§æ–¹å¼ç»‘å®šçš„å˜é‡ä¸æ˜¯å“åº”å¼çš„ï¼Œæˆ‘ä»¬æ¥å°è¯•ä¸€ä¸‹ é¦–å…ˆç»™çˆ¶ç»„ä»¶æ·»åŠ æŒ‰é’®ç»‘å®šäº‹ä»¶ä¿®æ”¹provideçš„å€¼ provideHandle() { this.father = &quot;new demo&quot;; console.log(this.father); }, ç„¶åæ¥çœ‹æ•ˆæœ å¯ä»¥çœ‹åˆ°å½“ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œçˆ¶ç»„ä»¶çš„å€¼å·²ç»æ”¹å˜ï¼Œä½†æ˜¯å­ç»„ä»¶ä¸­æ˜¾ç¤ºçš„ä¾æ—§æ˜¯åŸæ¥çš„â€˜demoâ€™ å“åº”æ–¹æ³•ï¼šå°†çˆ¶ç»„ä»¶thiså¯¹è±¡ä½œä¸ºè¿”å›å€¼ä¼ é€’ç»™å­ç»„ä»¶ åºŸè¯å°‘è¯´ï¼Œçœ‹æ•ˆæœ å¯ä»¥çœ‹åˆ°ï¼Œå­ç»„ä»¶ä¸­çš„æ•°æ®ç›¸åº”çš„å‘ç”Ÿäº†å˜åŒ– æ›´å¤šç¤ºä¾‹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Expressä¸­ä½¿ç”¨Sequelizeå®ç°ORM","slug":"æŠ€æœ¯/Expressä¸­ä½¿ç”¨Sequelizeå®ç°ORM","date":"2020-08-10T06:33:37.962Z","updated":"2020-09-05T09:37:31.675Z","comments":true,"path":"2020/08/10/æŠ€æœ¯/Expressä¸­ä½¿ç”¨Sequelizeå®ç°ORM/","link":"","permalink":"https://easyremember.cn/2020/08/10/æŠ€æœ¯/Expressä¸­ä½¿ç”¨Sequelizeå®ç°ORM/","excerpt":"","text":"Expressä¸­ä½¿ç”¨Sequelizeå®ç°ORMèµ·æ­¥ç¬¬ä¸€æ­¥å½“ç„¶æ˜¯ç¯å¢ƒï¼Œé¦–å…ˆä½¿ç”¨Expressç”Ÿæˆå™¨å®‰è£…expressç¯å¢ƒ express myapp // myappï¼Œä½ è‡ªå·±çš„é¡¹ç›®åç§°ï¼ˆéœ€è¦å…¨å±€å®‰è£…expressï¼‰ npm install ç„¶åå®‰è£…sequelize npm install --save sequelize npm install --save mysql2 // é©±åŠ¨ï¼Œè¿™é‡Œä¸»è¦è¯´mysqlï¼Œå…¶ä»–çš„ç±»å‹è§å®˜ç½‘æ–‡æ¡£ è¿æ¥è¿æ¥åˆ°æ•°æ®åº“å¿…é¡»æœ‰sequelizeå®ä¾‹ï¼Œå®ä¾‹åŒ–æ–¹æ³•å¦‚ä¸‹ const connect = new DB(&#39;dbname&#39;, &#39;username&#39;, &#39;password&#39;, { host: &#39;localhost&#39;, dialect: &#39;mysql&#39; }) é…ç½®å¥½å®ä¾‹ä¹‹åå¯ä»¥ä½¿ç”¨.authenticate()æ¥æµ‹è¯•è¿æ¥ connect.authenticate().then(() =&gt; { console.log(&#39;è¿æ¥æˆåŠŸ&#39;) }).catch(error =&gt; { console.error(&#39;è¿æ¥å¤±è´¥:&#39;, error); }) å…³é—­è¿æ¥ é»˜è®¤æƒ…å†µä¸‹ï¼ŒSequelizeå°†ä½¿è¿æ¥ä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œå¹¶å¯¹æ‰€æœ‰æŸ¥è¯¢ä½¿ç”¨ç›¸åŒçš„è¿æ¥ã€‚å¦‚æœéœ€è¦å…³é—­è¿æ¥ï¼Œè¯·è°ƒç”¨sequelize.close()ï¼ˆå®ƒæ˜¯å¼‚æ­¥çš„å¹¶è¿”å›Promiseï¼‰ æ¨¡å‹åŸºç¡€å®šä¹‰æ¨¡å‹ æ¨¡å‹æ˜¯Sequelizeçš„æœ¬è´¨ã€‚æ¨¡å‹æ˜¯ä»£è¡¨æ•°æ®åº“ä¸­è¡¨çš„æŠ½è±¡ã€‚åœ¨Sequelizeä¸­ï¼Œå®ƒæ˜¯æ‰©å±•Modelçš„ç±» ä½¿ç”¨sequelize.defineæ–¹æ³•æ¥å®šä¹‰æ¨¡å‹ï¼Œsequelizeä¼šæ ¹æ®å®šä¹‰çš„æ¨¡å‹åç§°çš„å¤æ•°è‡ªåŠ¨å»ºè¡¨ const Book = connect.define(&#39;Book&#39;, { bookName: DB.STRING, // å±æ€§åï¼š æ•°æ®ç±»å‹ bookCounts: DB.INTEGER, detail: DB.STRING, }, { timestamps: false // è‡ªåŠ¨ç”ŸæˆcreateAtå’ŒupdateAt }) æ­¤å¤–ä¹Ÿå¯ä»¥ç›´æ¥æä¾›è¡¨å sequelize.define(&#39;Book&#39;, { // ... attributes }, { tableName: &#39;literature&#39; }); æ›´å¤šæ•°æ®ç±»å‹ï¼š // CHAR Sequelize.STRING // VARCHAR(255) Sequelize.STRING(1234) // VARCHAR(1234) Sequelize.STRING.BINARY // VARCHAR BINARY Sequelize.TEXT // TEXT Sequelize.TEXT(&#39;tiny&#39;) // TINYTEXT // NUMBER Sequelize.INTEGER // INTEGER Sequelize.BIGINT // BIGINT Sequelize.BIGINT(11) // BIGINT(11) Sequelize.FLOAT // FLOAT Sequelize.FLOAT(11) // FLOAT(11) Sequelize.FLOAT(11, 10) // FLOAT(11,10) Sequelize.DOUBLE // DOUBLE Sequelize.DOUBLE(11) // DOUBLE(11) Sequelize.DOUBLE(11, 10) // DOUBLE(11,10) Sequelize.DECIMAL // DECIMAL Sequelize.DECIMAL(10, 2) // DECIMAL(10,2) // TIME Sequelize.DATE // mysql / sqlite ä¸º DATETIME, postgres ä¸ºå¸¦æ—¶åŒºçš„ TIMESTAMP Sequelize.DATE(6) // DATETIME(6) é€‚ç”¨ mysql 5.6.4+. å°æ•°ç§’æ”¯æŒæœ€å¤š6ä½ç²¾åº¦ Sequelize.DATEONLY // DATE ä¸å¸¦æ—¶é—´. // BOOLEAN Sequelize.BOOLEAN // TINYINT(1) //ENUM Sequelize.ENUM(&#39;value 1&#39;, &#39;value 2&#39;) // ä¸€ä¸ªå…è®¸å€¼ä¸º&#39;value 1&#39;å’Œ&#39;value 2&#39;çš„ENUM // blob Sequelize.BLOB // BLOB (PostgreSQL ä¸º bytea) Sequelize.BLOB(&#39;tiny&#39;) // TINYBLOB (PostgreSQL ä¸º bytea. å…¶ä½™å‚æ•°æ˜¯ medium å’Œ long) // GEOMETRY Sequelize.GEOMETRY // Spatial åˆ—. ä»… PostgreSQL (å¸¦æœ‰ PostGIS) æˆ– MySQL. Sequelize.GEOMETRY(&#39;POINT&#39;) // å¸¦æœ‰ geometry ç±»å‹çš„ spatial åˆ—. ä»… PostgreSQL (å¸¦æœ‰ PostGIS) æˆ– MySQL. Sequelize.GEOMETRY(&#39;POINT&#39;, 4326) // å…·æœ‰ geometry ç±»å‹å’Œ SRID çš„ spatial åˆ—. ä»… PostgreSQL (å¸¦æœ‰ PostGIS) æˆ– MySQL. // unsigned å’Œ zerofill å±æ€§ Sequelize.INTEGER.UNSIGNED // INTEGER UNSIGNED Sequelize.INTEGER(11).UNSIGNED // INTEGER(11) UNSIGNED Sequelize.INTEGER(11).ZEROFILL // INTEGER(11) ZEROFILL Sequelize.INTEGER(11).ZEROFILL.UNSIGNED // INTEGER(11) UNSIGNED ZEROFILL Sequelize.INTEGER(11).UNSIGNED.ZEROFILL // INTEGER(11) UNSIGNED ZEROFILL æ•°æ®ç±»å‹æ¥æºï¼Œæ˜é‡‘ï¼Œäº‘å½±skyçš„è¯¦ç»†æ˜“ç”¨çš„ Sequelize è§£è¯» æ¨¡å‹åŒæ­¥ä½¿ç”¨model.async()æ–¹æ³•æ¥å°†æ¨¡å‹ä¸æ•°æ®åº“åŒæ­¥ User.sync() -å¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»ºè¡¨ï¼ˆå¦‚æœå·²ç»å­˜åœ¨åˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼‰ User.sync({ force: true }) -è¿™å°†åˆ›å»ºè¡¨ï¼Œå¦‚æœè¯¥è¡¨å·²ç»å­˜åœ¨ï¼Œåˆ™å°†å…¶é¦–å…ˆåˆ é™¤ User.sync({ alter: true }) -è¿™å°†æ£€æŸ¥æ•°æ®åº“ä¸­è¡¨çš„å½“å‰çŠ¶æ€ï¼ˆå®ƒå…·æœ‰å“ªäº›åˆ—ï¼Œå®ƒä»¬çš„æ•°æ®ç±»å‹ç­‰ï¼‰ï¼Œç„¶ååœ¨è¡¨ä¸­è¿›è¡Œå¿…è¦çš„æ›´æ”¹ä»¥ä½¿å…¶ä¸æ¨¡å‹åŒ¹é… åˆ›å»ºæ¨¡å‹å®ä¾‹ä½¿ç”¨model.buildæ–¹æ³•æ¥åˆ›å»ºæ¨¡å‹å®ä¾‹ const jsBook = Book.build({ bookName: &#39;ä½ ä¸çŸ¥é“çš„JS&#39;, bookCounts: 3, detail: &#39;JS è¿›é˜¶ç³»åˆ—&#39;, }) ä¸Šé¢çš„åˆ›å»ºå®ä¾‹ä¹‹åä½¿ç”¨jsBook.save();æ–¹æ³•æ¥ä¿å­˜åˆ°æ•°æ®åº“ æ¨¡å‹æŸ¥è¯¢INSERTæŸ¥è¯¢ä¸Šé¢çš„æ¨¡å‹ä¿å­˜è¿˜æœ‰ä¸€ç§ç®€ä¾¿æ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨model.createæ–¹æ³•ï¼Œç›´æ¥ä¿å­˜åˆ°æ•°æ®åº“ Book.create({ bookName: &#39;ä½ ä¸çŸ¥é“çš„JS&#39;, bookCounts: 3, detail: &#39;JS è¿›é˜¶ç³»åˆ—&#39;, }) å¯ä»¥çœ‹åˆ°æ•°æ®åº“ä¸­å·²ç»ç”Ÿæˆäº†è¿™æ¡è®°å½• æ§åˆ¶å°å¯ä»¥çœ‹åˆ°sqlè¯­å¥ SELECTæŸ¥è¯¢findæŸ¥è¯¢ä½¿ç”¨findAllæ–¹æ³•æŸ¥è¯¢æ•´ä¸ªè¡¨ Book.findAll() æ•ˆæœå›¾ å¯ä»¥ä½¿ç”¨attributesé€‰é¡¹æ¥è¿›è¡Œåˆ—æŸ¥è¯¢ï¼Œæ•°ç»„ä¸­åˆ—å‡ºè¦æŸ¥è¯¢çš„å­—æ®µå Book.findAll({ attributes: [&#39;id&#39;, &#39;bookName&#39;], }) æ•ˆæœå›¾ ä½¿ç”¨excludeåˆ é™¤ä¸€äº›é€‰å®šçš„å±æ€§ Book.findAll({ attributes: { exclude: [&#39;bookCounts&#39;] }, }) æ•ˆæœå›¾ å…¶ä»–findæŸ¥è¯¢ findByPkï¼šä½¿ç”¨æä¾›çš„ä¸»é”®ä»…ä»è¡¨ä¸­è·å¾—ä¸€ä¸ªæ¡ç›® findOneï¼šè·å–å®ƒæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªæ¡ç›®ï¼ˆå¦‚æœæä¾›çš„è¯ï¼Œå®ƒæ»¡è¶³å¯é€‰çš„æŸ¥è¯¢é€‰é¡¹ï¼‰ findOrCreateï¼šæŸ¥è¯¢ä¸åˆ°å®ä¾‹å°±åˆ›å»ºä¸€ä¸ªï¼Œè¿”å›å€¼æ˜¯å®ä¾‹ï¼ˆæŸ¥åˆ°çš„æˆ–è€…åˆ›å»ºçš„ï¼‰å’Œä¸€ä¸ªå¸ƒå°”å€¼ï¼ˆåˆ›å»ºä¸ºtrueï¼‰ findAndCountAllï¼šæŸ¥è¯¢å¹¶è®¡æ•°ï¼Œæœ‰ä¸¤ä¸ªè¿”å›å€¼ï¼Œä¸€ä¸ªæ˜¯æŸ¥è¯¢åˆ°çš„è®°å½•å¦ä¸€ä¸ªæ˜¯count whereå­å¥ä½¿ç”¨whereé€‰é¡¹å¯ä»¥è¿›è¡ŒwhereæŸ¥è¯¢ Book.findAll({ where: { bookName: &#39;ä½ ä¸çŸ¥é“çš„JS&#39;, id: 1 } }) // SELECT * FROM books WHERE bookName = &#39;ä½ ä¸çŸ¥é“çš„JS&#39; AND id = 1; æ•ˆæœå¦‚å›¾ æœ‰äº†ANDå°±æœ‰ORï¼Œä½¿ç”¨Op.oræ¥è¿›è¡Œoræ“ä½œ Book.findAll({ where: { bookName: &#39;ä½ ä¸çŸ¥é“çš„JS&#39;, id: { [Op.or]: [1, 2] } } }) // SELECT * FROM books WHERE bookName = &#39;ä½ ä¸çŸ¥é“çš„JS&#39; AND (id = 1 OR id = 2); æ•ˆæœå›¾ ANDä¹Ÿå¯ä»¥ä½¿ç”¨Op.andæ¥æ“ä½œï¼Œä½†æ˜¯æ˜“è¯»æ€§ä¸å¼ºï¼ˆä¸å¸¸ç”¨ï¼‰ Book.findAll({ where: { [Op.and]: [ { bookName: &#39;ä½ ä¸çŸ¥é“çš„JS&#39; }, { id: { [Op.or]: [1, 2] } } ] } }) sequelizeæä¾›äº†æ›´å¤šè¿ç®— const { Op } = require(&quot;sequelize&quot;); Post.findAll({ where: { [Op.and]: [{ a: 5 }, { b: 6 }], // (a = 5) AND (b = 6) [Op.or]: [{ a: 5 }, { b: 6 }], // (a = 5) OR (b = 6) someAttribute: { // Basics [Op.eq]: 3, // = 3 [Op.ne]: 20, // != 20 [Op.is]: null, // IS NULL [Op.not]: true, // IS NOT TRUE [Op.or]: [5, 6], // (someAttribute = 5) OR (someAttribute = 6) // Using dialect specific column identifiers (PG in the following example): [Op.col]: &#39;user.organization_id&#39;, // = &quot;user&quot;.&quot;organization_id&quot; // Number comparisons [Op.gt]: 6, // &gt; 6 [Op.gte]: 6, // &gt;= 6 [Op.lt]: 10, // &lt; 10 [Op.lte]: 10, // &lt;= 10 [Op.between]: [6, 10], // BETWEEN 6 AND 10 [Op.notBetween]: [11, 15], // NOT BETWEEN 11 AND 15 // Other operators [Op.all]: sequelize.literal(&#39;SELECT 1&#39;), // &gt; ALL (SELECT 1) [Op.in]: [1, 2], // IN [1, 2] [Op.notIn]: [1, 2], // NOT IN [1, 2] [Op.like]: &#39;%hat&#39;, // LIKE &#39;%hat&#39; [Op.notLike]: &#39;%hat&#39;, // NOT LIKE &#39;%hat&#39; [Op.startsWith]: &#39;hat&#39;, // LIKE &#39;hat%&#39; [Op.endsWith]: &#39;hat&#39;, // LIKE &#39;%hat&#39; [Op.substring]: &#39;hat&#39;, // LIKE &#39;%hat%&#39; [Op.iLike]: &#39;%hat&#39;, // ILIKE &#39;%hat&#39; (case insensitive) (PG only) [Op.notILike]: &#39;%hat&#39;, // NOT ILIKE &#39;%hat&#39; (PG only) [Op.regexp]: &#39;^[h|a|t]&#39;, // REGEXP/~ &#39;^[h|a|t]&#39; (MySQL/PG only) [Op.notRegexp]: &#39;^[h|a|t]&#39;, // NOT REGEXP/!~ &#39;^[h|a|t]&#39; (MySQL/PG only) [Op.iRegexp]: &#39;^[h|a|t]&#39;, // ~* &#39;^[h|a|t]&#39; (PG only) [Op.notIRegexp]: &#39;^[h|a|t]&#39;, // !~* &#39;^[h|a|t]&#39; (PG only) [Op.any]: [2, 3], // ANY ARRAY[2, 3]::INTEGER (PG only) // In Postgres, Op.like/Op.iLike/Op.notLike can be combined to Op.any: [Op.like]: { [Op.any]: [&#39;cat&#39;, &#39;hat&#39;] } // LIKE ANY ARRAY[&#39;cat&#39;, &#39;hat&#39;] // There are more postgres-only range operators, see below } } }); UPDATEæŸ¥è¯¢ä½¿ç”¨model.updateæ–¹æ³•æ¥è¿›è¡Œæ•°æ®æ›´æ–° Book.update({ bookCounts: 5 }, { where: { id: 2 } }) // UPDATE books SET bookCounts =5 WHERE id = 2; ä¿®æ”¹åçš„æ•°æ®å¦‚ä¸‹ DELETEæŸ¥è¯¢ä½¿ç”¨model.destoryæ–¹æ³•è¿›è¡Œåˆ é™¤æ“ä½œ Book.destory({ where: { id: 2 } }) é™åˆ¶å’Œåˆ†é¡µä½¿ç”¨limitå’Œoffseté€‰é¡¹è¿›è¡Œé™åˆ¶/åˆ†é¡µ limitï¼šæ¯ä¸€é¡µçš„è®°å½•æ•°é‡é™åˆ¶ offsetï¼šç¬¬å‡ é¡µï¼Œä»0å¼€å§‹ Book.findAll({ where: { bookName: &#39;ä½ ä¸çŸ¥é“çš„JS&#39;, }ï¼Œ offset: parseInt(req.query.page) ? parseInt(req.query.page) : 0, limit: 1 }) å®ç”¨æ–¹æ³• è¿›é˜¶ç”¨æ³•getter&amp;setter äº‹åŠ¡","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://easyremember.cn/tags/Node/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"TypeScriptå­¦ä¹ ç¬”è®°","slug":"ç¬”è®°/TypeScriptå­¦ä¹ ç¬”è®°","date":"2020-08-06T15:25:45.926Z","updated":"2020-09-09T23:42:30.538Z","comments":true,"path":"2020/08/06/ç¬”è®°/TypeScriptå­¦ä¹ ç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/08/06/ç¬”è®°/TypeScriptå­¦ä¹ ç¬”è®°/","excerpt":"","text":"TypeScriptå­¦ä¹ ç¬”è®°1 ç®€ä»‹TypeScriptæ˜¯ç”±å¾®è½¯æ¨å‡ºçš„ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯javascriptçš„è¶…é›†ï¼Œéµå¾ªES5ã€ES6è§„èŒƒï¼Œæ‹“å±•äº†jsçš„è¯­æ³• TypeScriptæ›´åƒæ˜¯javaç­‰åç«¯è¯­è¨€ï¼Œå¯ä»¥å¼€å‘å¤§å‹ä¼ä¸šé¡¹ç›®ï¼Œæœ€æ–°çš„å‰ç«¯æ¡†æ¶åŸºæœ¬éƒ½æ˜¯ä½¿ç”¨äº†TS 2 å®‰è£…npm install -g typescript cnpmä»¥åŠyarnå®‰è£…æ–¹å¼ä¸€æ · 3 ç¼–è¯‘åŠé…ç½®3.1 ç¼–è¯‘æµè§ˆå™¨ä¸è¯†åˆ«tsä»£ç ï¼Œéœ€è¦å°†tsä»£ç ç¼–è¯‘ä¸ºES5çš„ä»£ç  æ–°å»ºindex.tsè„šæœ¬ï¼Œç¼–å†™ä»£ç  console.log(&quot;hello TS&quot;); ä½¿ç”¨ tsc index.ts å‘½ä»¤è¿›è¡Œç¼–è¯‘ ç¼–è¯‘å®Œæˆä¹‹åä¼šç”Ÿæˆindex.jsè„šæœ¬ï¼Œå†…å®¹æ˜¯ è¿™ä¸€æ®µä»£ç çœ‹ä¸å‡ºå·®åˆ«ï¼Œæ¥ä¸€æ®µtsè¯­æ³•çš„ä»£ç  let str:String = &#39;feng&#39;; console.log(str); å†æ¥çœ‹çœ‹ç¼–è¯‘å‡ºæ¥çš„jsè„šæœ¬ 3.2 åœ¨vscodeä¸­é…ç½®è‡ªåŠ¨ç¼–è¯‘æ¯æ¬¡å†™å®Œä»£ç æ‰‹åŠ¨ä¿å­˜å¾ˆä¸æ–¹ä¾¿ï¼Œå¯ä»¥ä½¿ç”¨é…ç½®æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆjs åœ¨æ ¹ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤ tsc --initç”Ÿæˆé…ç½®æ–‡ä»¶tsconfig.json å°†outDirä¸€è¡Œçš„æ³¨é‡Šæ‰“å¼€ï¼Œç›®å½•ä¿®æ”¹ä¸ºè¦è¾“å‡ºåˆ°çš„ç›®å½•ï¼Œä¸ä¿®æ”¹ä¹Ÿå¯ ç‚¹å‡»é€‰é¡¹å¡ç»ˆç«¯-&gt;è¿è¡Œä»»åŠ¡-&gt;typescript-&gt;tscç›‘è§†ï¼Œç„¶åå†ç¼–å†™tsä»£ç ä¿å­˜æ—¶å°±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆjsäº† 4 æ•°æ®ç±»å‹tsä¸ºäº†ä½¿ç¼–å†™ä»£ç æ›´è§„èŒƒå¢åŠ äº†ç±»å‹æ ¡éªŒï¼Œtsä¸»è¦æä¾›äº†ä»¥ä¸‹å‡ ç§ç±»å‹çš„æ•°æ® å¸ƒå°”ç±»å‹ï¼ˆbooleanï¼‰ æ•°å­—ç±»å‹ï¼ˆnumberï¼‰ å­—ç¬¦ä¸²ç±»å‹ï¼ˆstringï¼‰ æ•°ç»„ç±»å‹ï¼ˆarrayï¼‰ å…ƒç»„ç±»å‹ï¼ˆtupleï¼‰ æšä¸¾ç±»å‹ï¼ˆenumï¼‰ ä»»æ„ç±»å‹ï¼ˆanyï¼‰ null å’Œ undefined voidç±»å‹ neverç±»å‹ 4.1 å¸ƒå°”ç±»å‹åœ¨å˜é‡æ ‡è¯†ç¬¦ä¹‹åå£°æ˜å˜é‡ç±»å‹ä¸ºbooleanï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡åªèƒ½æ¥å—å¸ƒå°”ç±»å‹çš„èµ‹å€¼ï¼Œå¦‚æœèµ‹å€¼ä¸ºå…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ï¼Œä¾‹å¦‚ let isReal: boolean = 123; å®šä¹‰å¸ƒå°”ç±»å‹çš„å˜é‡isRealï¼Œç„¶åä¸ºå…¶èµ‹å€¼æ•°å­—123ï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šæŠ›å‡ºä¸‹é¢é”™è¯¯ æ„æ€æ˜¯â€™123â€™ä¸èƒ½èµ‹å€¼ç»™booleanç±»å‹çš„å˜é‡ 4.2 æ•°å€¼ç±»å‹è§„åˆ™åŒå¸ƒå°”ç±»å‹ï¼Œå£°æ˜çš„æ ‡è¯†ç¬¦æ˜¯number æ•´å½¢å’Œæµ®ç‚¹å‹éƒ½å¯ä»¥ç”¨numberå£°æ˜ 4.3 å­—ç¬¦ä¸²ç±»å‹å£°æ˜çš„æ ‡è¯†ç¬¦æ˜¯string 4.4 æ•°ç»„ç±»å‹å£°æ˜æ–¹å¼æœ‰ä¸¤ç§ï¼š ä½¿ç”¨ä¸­æ‹¬å· let arr:number[] = [1,2,3] // æ•°å­—ç±»å‹çš„æ•°ç»„ä¸èƒ½å‡ºç°å…¶å®ƒæ•°æ®ç±»å‹ ä½¿ç”¨æ³›å‹å£°æ˜ let arr: Array&lt;number&gt; = [1, 2, 3] 4.5 å…ƒç»„ç±»å‹let tuple:[string, number, boolean] = [&#39;feng&#39;, 11, true] å…ƒç»„ä¹Ÿæ˜¯ä¸€ç§æ•°ç»„ï¼Œå¯ä»¥æŒ‡å®šæ•°ç»„çš„æ¯ä¸€é¡¹çš„æ•°æ®ç±»å‹ 4.6 æšä¸¾ç±»å‹æšä¸¾ç±»å‹ç”¨äºå£°æ˜ä¸€ç»„å‘½åçš„å¸¸æ•°ï¼Œå½“ä¸€ä¸ªå˜é‡æœ‰å‡ ç§å¯èƒ½çš„å–å€¼æ—¶ï¼Œå¯ä»¥å°†å®ƒå®šä¹‰ä¸ºæšä¸¾ç±»å‹ã€‚ æšä¸¾ç±»å‹å¯ä»¥æ‰‹åŠ¨è®¾ç½®å€¼ enum Flag { success = 1, error = -1 } let f: Flag = Flag.success console.log(f);// 1 // å¦å¤–ä¸€ç§æ‰‹åŠ¨è®¾ç½®çš„æ–¹å¼ï¼Œåªå®šä¹‰ç¬¬ä¸€é¡¹ï¼Œåé¢çš„ä¾æ¬¡é€’å¢ enum Animal { cat = 2, dog, snake } var a: Animal = Animal.snake; console.log(a); // 4 // è‡ªå®šä¹‰å€¼å¯ä»¥åœ¨ä»»æ„ä½ç½®ï¼Œä¸Šé¢çš„ä»£ç æ±‡ä¸­å¦‚æœåªå®šä¹‰dog=2ï¼Œé‚£ä¹ˆsnakeå°±æ˜¯3 ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ï¼Œé»˜è®¤å€¼å°±æ˜¯ç´¢å¼•å€¼ enum Color { blue, red, green } const c: Color = Color.blue; console.log(c); // 0 4.7 ä»»æ„ç±»å‹åœ¨ä¸Šé¢çš„åŸºæœ¬ç±»å‹ä¸­ï¼Œä¸€æ—¦å®šä¹‰äº†ç±»å‹å°±ä¸èƒ½å†èµ‹å€¼å…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ é‚£å¦‚æœæƒ³ç»™ä¸€ä¸ªå˜é‡èµ‹å€¼å¤šç§ç±»å‹çš„æ•°æ®å°±éœ€è¦ç”¨åˆ°anyæ¥å£°æ˜å˜é‡äº† åœ¨tsæ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹ä»£ç  var node = document.getElementById(&#39;box&#39;); node.style.color = &#39;red&#39;; ä¿å­˜æ—¶ä¼šæŠ›å‡ºä»¥ä¸‹é”™è¯¯ ç¼–è¯‘ä¹‹åä»£ç æ˜¯å¯ä»¥è¿è¡Œçš„ï¼Œä½†æ˜¯å­˜åœ¨é—®é¢˜ æ„æ€æ˜¯nodeæ˜¯ä¸€ä¸ªObjectç±»å‹ï¼Œè¿™æ—¶å†ç»™nodeå£°æ˜Objectç±»å‹ var node:Object = document.getElementById(&#39;box&#39;); node.style.color = &#39;red&#39;; è¿™æ—¶è¿˜ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¿›æœ¬æ•°æ®ç±»å‹ä¸­æ²¡æœ‰Objectï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨anyç±»å‹äº† var node: any = document.getElementById(&#39;box&#39;); node.style.color = &#39;red&#39;; 4.8 nullå’Œundefinednullå’Œundefinedæ˜¯å…¶ä»–æ•°æ®ç±»å‹çš„å­ç±» undefinedå£°æ˜å˜é‡æ˜¯undefinedç±»å‹ä¹‹åï¼Œå˜é‡undefinedä¸ä¼šæŠ¥é”™ï¼Œä¾‹å¦‚ ä½†å¦‚æœå®šä¹‰äº†undefinedç±»å‹å°±ä¸ä¼šæŠ¥é”™ undefinedä¸€èˆ¬ç”¨äºè”åˆç±»å‹ var num: number | undefined; num = 123; console.log(num); numå¯ä»¥æ˜¯numberç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯undefined nullå˜é‡å£°æ˜nullä¹‹ååªèƒ½ä¸ºç©ºå€¼ï¼Œå¦‚æœä¸ºå˜é‡èµ‹å€¼å°±ä¼šæŠ¥é”™ ç­‰äºç©ºå€¼æ—¶ä¸ä¼šæŠ¥é”™ 4.9 voidç±»å‹ç”¨äºå®šä¹‰æ²¡æœ‰è¿”å›å€¼çš„æ–¹æ³• ((): void =&gt; { console.log(&#39;void&#39;); })() lambdaè¡¨è¾¾å¼çš„å†™æ³• 4.10 neverç±»å‹å…¶ä»–ç±»å‹ï¼Œè¡¨ç¤ºä»ä¸ä¼šå‡ºç°ï¼ˆåŒ…æ‹¬nullå’Œundefinedçš„å­ç±»å‹ï¼‰ï¼Œè¢«neverå£°æ˜çš„å˜é‡åªèƒ½è¢«neverç±»å‹çš„æ•°æ®èµ‹å€¼ 5 å‡½æ•°5.1 å£°æ˜å‡½æ•°5.1.1 å‘½åå‡½æ•°åœ¨TypeScriptä¸­å£°æ˜å‡½æ•°æ—¶ï¼Œè¦å£°æ˜å‚æ•°ç±»å‹ä»¥åŠå‡½æ•°è¿”å›å€¼ç±»å‹ æ²¡æœ‰è¿”å›å€¼ä½¿ç”¨voidè¿›è¡Œå£°æ˜ function run(): string { return &#39;string&#39; } åœ¨å£°æ˜å‡½æ•°è¿”å›å€¼ç±»å‹ä¹‹åï¼Œè¿”å›å€¼çš„ç±»å‹å¿…é¡»æ˜¯å£°æ˜çš„ç±»å‹ï¼Œå¦åˆ™æŠ¥é”™ 5.1.2 åŒ¿åå‡½æ•°åœ¨TypeScriptä¸­å®šä¹‰åŒ¿åå‡½æ•°ä¹Ÿéœ€è¦å£°æ˜è¿”å›å€¼ç±»å‹ var func2 = function (): number { return 123; } åŒæ ·ï¼Œè¿”å›å€¼éœ€è¦ç¬¦åˆå£°æ˜çš„è¿”å›å€¼ç±»å‹ï¼Œä¸ä¸€è‡´åˆ™ä¼šæŠ¥é”™ 5.2 ä¼ å‚å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ªfirstnameå’Œä¸€ä¸ªlastnameï¼Œè¿”å›ä¸€ä¸ªfullname function getName(firstname: string, lastname: string): string { return `${firstname}--${lastname}` } console.log(getName(&#39;Chan&#39;, &#39;Jack&#39;)); // Chan--Jack åŒ¿åå‡½æ•°åŒæ ·çš„åœ¨å‚æ•°åå£°æ˜ç±»å‹ 5.2.1 å¯é€‰å‚æ•°åœ¨func3ä¸­ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç°åœ¨è°ƒç”¨func3ï¼Œåªä¼ ä¸€ä¸ªå‚æ•° function func3(name: string, age: number): void { console.log(name + &quot;--&quot; + age); } func3(&#39;zhangsan&#39;); ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ï¼ŒåŸå› æ˜¯å°‘äº†ä¸€ä¸ªå‚æ•° åœ¨å¯é€‰å‚æ•°åæ·»åŠ ?ï¼Œè¡¨ç¤ºå‚æ•°å¯ä»¥æœ‰ä¹Ÿå¯ä»¥æ²¡æœ‰ å¯é€‰å‚æ•°å¿…é¡»æ”¾åˆ°å‚æ•°çš„æœ€åé¢ 5.2.2 é»˜è®¤å‚æ•°åœ¨ES5ä¸­ä¸å¯ä»¥è®¾ç½®é»˜è®¤å‚æ•°ï¼Œåœ¨ES6å’ŒTSä¸­å¯ä»¥è®¾ç½®é»˜è®¤å‚æ•° function func3(name: string, age: number=20): void { console.log(name + &quot;--&quot; + age); } func3(&#39;zhangsan&#39;); // zahngsan--20 å½“é»˜è®¤å‚æ•°åœ¨æœ€åæ—¶ï¼Œè®¾ç½®é»˜è®¤å‚æ•°ä¹‹åå¯ä»¥ä¸ä¼ å‚æ•°ï¼Œä½¿ç”¨é»˜è®¤çš„å€¼ï¼Œå½“é»˜è®¤å‚æ•°åœ¨å‰é¢æ—¶å¿…é¡»ä¼ å‚æ•° 5.2.3 å‰©ä½™å‚æ•°å½“ä¸ç¡®å®šå‚æ•°çš„æ•°é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ES6çš„æ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰ function getSum(...args: number[]): void { var result: number = 0; args.forEach(element =&gt; { result += element }); console.log(result); } getSum(1, 2, 3, 4) // 10 getSum(1, 2, 3, 4, 5) // 15 ä¹Ÿå¯ä»¥å›ºå®šå‰å‡ ä¸ªå‚æ•°ï¼Œç„¶ååé¢çš„ç”¨æ‰©å±•è¿ç®—ç¬¦æ¥æ”¶ function getSum2(a: number, ...args: number[]): void { var result: number = a; args.forEach(element =&gt; { result += element }); console.log(result); } getSum2(1, 2, 3, 4) // 10 5.3 å‡½æ•°é‡è½½ javaä¸­çš„é‡è½½ï¼šä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸ŠåŒåå‡½æ•°ï¼Œä½†æ˜¯ä»–ä»¬æ¥æ”¶çš„å‚æ•°ä¸ä¸€æ ·ï¼Œè¿™æ—¶ä¼šå‡ºç°å‡½æ•°é‡è½½ TypeScriptä¸­çš„é‡è½½ï¼šé€šè¿‡ä¸ºåŒä¸€ä¸ªå‡½æ•°æä¾›å¤šä¸ªå‡½æ•°ç±»å‹å®šä¹‰æ¥å®ç°å¤šç§åŠŸèƒ½çš„ç›®çš„ function getInfo(name: string): string; function getInfo(age: number): string; function getInfo(str: any): any { if (typeof str === &#39;string&#39;) { return &#39;æˆ‘å«&#39; + str } else { return &#39;æˆ‘çš„å¹´é¾„æ˜¯&#39; + str } } console.log(getInfo(&#39;zahngsan&#39;)); console.log(getInfo(12)); æ¥çœ‹ä¸‹ç»“æœ æ˜¾ç„¶ï¼Œtsåœ¨é€šè¿‡è¿™ç§æ–¹å¼ä¸ºä¸€ä¸ªå‡½æ•°å®ç°äº†ä¸¤ç§åŠŸèƒ½ï¼Œä½†æ˜¯ï¼Œä¼ å‚çš„ç±»å‹å¿…é¡»åœ¨é‡è½½çš„å‡½æ•°å‚æ•°ä¹‹å†…ï¼Œå¦‚æœåŒ¹é…ä¸åˆ°å°±ä¼šæŠ¥é”™ 6 ç±»6.1 å¯¹æ¯”ES56.1.1 å®šä¹‰ç±»åœ¨ES5ä¸­ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼Œç›´æ¥åœ¨functionå†…éƒ¨æ·»åŠ å±æ€§å’Œæ–¹æ³• function Person() { this.name = &#39;zhangsan&#39; this.getInfo = function () { console.log(this.name); } } var p = new Person(); p.getInfo(); // zhangsan è¿˜å¯ä»¥é€šè¿‡åŸå‹é“¾çš„æ–¹å¼ç»™å¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³• Person.prototype.age = 20; Person.prototype.getAge = function () { console.log(this.age); } var p = new Person(); p.getAge(); // 20 ä½†æ˜¯ï¼Œä½¿ç”¨åŸå‹é“¾æ·»åŠ çš„å¼•ç”¨ç±»å‹å±æ€§ä¼šè¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼Œæ„æ€å°±æ˜¯å½“æŸä¸€å®ä¾‹çš„è¯¥å±æ€§å˜åŒ–æ—¶ï¼Œå…¶ä»–å®ä¾‹çš„å±æ€§éƒ½ä¼šæ”¹å˜ Person.prototype.friends = [&#39;f1&#39;, &#39;f2&#39;]; Person.prototype.getFriends = function () { console.log(this.friends); } var p = new Person(); p.getFriends(); var p2 = new Person(); p2.friends.push(&#39;f3&#39;); p.getFriends(); p2.getFriends(); å¯ä»¥çœ‹åˆ°ï¼Œæ”¹å˜ä¸€ä¸ªå®ä¾‹çš„å¼•ç”¨ç±»å‹çš„å±æ€§ï¼Œå¦ä¸€ä¸ªå®ä¾‹ä¹Ÿå˜äº†ï¼›åŸºæœ¬æ•°æ®ç±»å‹ä¸å­˜åœ¨è¿™ç§é—®é¢˜ 6.1.2 é™æ€æ–¹æ³•ES5ä¸­ç»™å¯¹è±¡æ·»åŠ é™æ€æ–¹æ³•éå¸¸ç®€å• Person.static = function () { console.log(&#39;é™æ€æ–¹æ³•&#39;); } Person.static(); // é™æ€æ–¹æ³• é™æ€æ–¹æ³•ä¸éœ€è¦å®ä¾‹åŒ–å°±å¯ä»¥è°ƒç”¨ï¼Œå¹¶ä¸”ï¼Œå¯¹è±¡å®ä¾‹ä¸å¯ä»¥è°ƒç”¨é™æ€æ–¹æ³• 6.1.2 ç»§æ‰¿ES5ä¸­é€šè¿‡å¯¹è±¡å†’å……æ¥å®ç°ç»§æ‰¿ function People() { Person.call(this); } var peo = new People(); peo.getInfo(); // zhangsan æ­¤å¤–ä¹Ÿå¯ä»¥é€šè¿‡åŸå‹çš„æ–¹æ³•æ¥å®ç°ç»§æ‰¿ function People() { } People.prototype = new Person(); var peo = new People(); peo.getInfo(); ä½†æ˜¯åœ¨å®ä¾‹åŒ–å­ç±»æ—¶æ— æ³•ç»™çˆ¶ç±»ä¼ å‚ function Person(name) { this.name = name; this.getInfo = function () { console.log(this.name); } } function People() { } People.prototype = new Person(); var peo = new People(&#39;zhangsan&#39;); peo.getInfo(); // undefined ç„¶åå°±æœ‰äº†åŸå‹é“¾+æ„é€ å‡½æ•°çš„ç»„åˆç»§æ‰¿æ¨¡å¼â€”â€”å¯„ç”Ÿç»„åˆç»§æ‰¿ function People(name) { Person.call(this, name) } People.prototype = Person.prototype; var peo = new People(&#39;zhangsan&#39;); peo.getInfo(); // zhangsan 6.2 TypeScriptä¸­çš„ç±»6.2.1 å®šä¹‰ç±»åœ¨TSä¸­ï¼Œä½¿ç”¨classå…³é”®å­—æ¥å®šä¹‰ç±»ï¼Œç±»éœ€è¦å®ä¾‹åŒ–æ—¶éœ€è¦æ·»åŠ æ„é€ å™¨ class Person { name: string; // å±æ€§ constructor(n: string) { // æ„é€ å‡½æ•°ï¼Œå®ä¾‹åŒ–æ—¶è§¦å‘ this.name = n; } getName(): string { return this.name; } setName(name: string): void { this.name = name } } var p: Person = new Person(&#39;æå››&#39;); console.log(p.getName()); // æå›› p.setName(&#39;å¼ ä¸‰&#39;); console.log(p.getName()); // å¼ ä¸‰ æ‹“å±•â€”â€”paramsæ–¹å¼å®ä¾‹åŒ–class Article { title: string | undefined; desc: string | undefined; status: number | undefined constructor(params: { title: string | undefined, desc: string | undefined, status?: number | undefined }) { this.title = params.title; this.desc = params.desc; this.status = params.status; } } var newArticle: Article = new Article({ title: &#39;å¤§äº‹ä»¶&#39;, desc: &#39;éƒ½æ˜¯å°äº‹&#39; }) console.log(newArticle); é€šè¿‡å‘æ„é€ å™¨ä¼ å…¥jsonå¯¹è±¡ï¼Œç„¶åä½¿ç”¨ç´¢å¼•å€¼æ¥å®ä¾‹åŒ–å¯¹è±¡ 6.2.2 ç»§æ‰¿TSä¸­ç»§æ‰¿æœ‰ä¸“é—¨çš„å…³é”®å­—extendsï¼Œéœ€è¦é…åˆsuperåˆå§‹åŒ–çˆ¶ç±»æ„é€ å‡½æ•°æ¥å®ç°ç»§æ‰¿ class People extends Person { constructor(name: string) { super(name); } } var peo = new People(&#39;ç‹äº”&#39;); console.log(peo.getName()); // ç‹äº” 6.2.3 ä¿®é¥°ç¬¦ publicï¼šå…¬æœ‰ï¼Œåœ¨ç±»é‡Œé¢ã€å­ç±»ã€å¤–éƒ¨éƒ½å¯ä»¥è®¿é—® protectedï¼šä¿æŠ¤ï¼Œåœ¨ç±»é‡Œé¢ï¼Œå­ç±»ä¸­å¯ä»¥è®¿é—® privateï¼šç§æœ‰ï¼Œåªæœ‰ç±»é‡Œé¢å¯ä»¥è®¿é—® å±æ€§ä¸åŠ ä¿®é¥°ç¬¦é»˜è®¤æ˜¯public 6.2.4 é™æ€å±æ€§&amp;é™æ€æ–¹æ³•ä½¿ç”¨staticä¿®é¥°ç¬¦å£°æ˜é™æ€æ–¹æ³•ï¼Œä½†æ˜¯é™æ€æ–¹æ³•æ— æ³•ç›´æ¥è·å–ç±»ä¸­çš„å±æ€§ï¼Œåªèƒ½è·å–é™æ€å±æ€§ï¼ˆåŒæ ·ç”¨staticä¿®é¥°ï¼‰ class Person { name: string; static age: number = 20; constructor(n: string) { // æ„é€ å‡½æ•°ï¼Œå®ä¾‹åŒ–æ—¶è§¦å‘ this.name = n; } getName(): string { return this.name; } setName(name: string): void { this.name = name } static log(): void { console.log(`å¹´é¾„æ˜¯${this.age}`); } } Person.log(); // å¹´é¾„æ˜¯20 6.2.5 å¤šæ€çˆ¶ç±»å®šä¹‰ä¸€ä¸ªæ–¹æ³•ä¸å»å®ç°ï¼Œè®©ç»§æ‰¿ä»–çš„å­ç±»å»å®ç°ï¼Œæ¯ä¸€ä¸ªå­ç±»æœ‰ä¸åŒçš„è¡¨ç° class Animals { name: string; constructor(name: string) { this.name = name; } getInfo(): void { } } class Dog extends Animals { constructor(name: string) { super(name); } getInfo(): void { console.log(this.name + &#39;æ˜¯ä¸€åªç‹—&#39;); } } class Cat extends Animals { constructor(name: string) { super(name); } getInfo(): void { console.log(this.name + &#39;æ˜¯ä¸€åªçŒ«&#39;); } } var cat: Cat = new Cat(&#39;kitty&#39;); cat.getInfo(); // kittyæ˜¯ä¸€åªçŒ« var dog: Dog = new Dog(&#39;Tony&#39;); dog.getInfo(); // Tonyæ˜¯ä¸€åªç‹— è¿™æ®µä»£ç ä¸­æœ‰ä¸€ä¸ªçˆ¶ç±»Animalsï¼Œä¸¤ä¸ªå­ç±»Dogå’ŒCatåˆ†åˆ«ç»§æ‰¿Animalsï¼ŒAnimalså®šä¹‰äº†ä¸€ä¸ªgetInfoæ–¹æ³•ï¼Œä¸¤ä¸ªå­ç±»ä¸­åˆ†åˆ«é‡å†™äº†è¿™ä¸ªæ–¹æ³•ï¼Œå®ç°äº†ä¸åŒçš„åŠŸèƒ½ 6.2.6 æŠ½è±¡ç±» æä¾›å…¶ä»–ç±»ç»§æ‰¿çš„åŸºç±»ï¼Œä¸èƒ½è¢«å®ä¾‹åŒ–ï¼›ç”¨absortå…³é”®å­—å®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ä¸åŒ…å«å…·ä½“å®ç°å¹¶ä¸”å¿…é¡»åœ¨æ´¾ç”Ÿç±»ä¸­å®ç°ï¼›æŠ½è±¡æ–¹æ³•åªèƒ½æ”¾åœ¨æŠ½è±¡ç±»ä¸­ abstract class AbstractAnimals{ abstract func1(): void; abstract func2(): string; } class Mouse extends AbstractAnimals{ func1(): void { console.log(&#39;function 1&#39;); } func2(): string { return &#39;function 2&#39; } } 7 æ¥å£ åœ¨é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­ï¼Œæ¥å£æ˜¯ä¸€ç§è§„èŒƒçš„å®šä¹‰ï¼Œå®ƒè§„å®šäº†è¡Œä¸ºå’ŒåŠ¨ä½œçš„è§„èŒƒï¼Œèµ·åˆ°äº†é™åˆ¶å’Œè§„èŒƒçš„ä½œç”¨ã€‚æ¥å£å®šä¹‰äº†æŸä¸€æ‰¹ç±»éœ€è¦éµå®ˆçš„è§„èŒƒï¼Œä¸å…³å¿ƒè¿™äº›ç±»å†…éƒ¨çš„çŠ¶æ€æ•°æ®ï¼Œä¹Ÿä¸å…³å¿ƒæ–¹æ³•å®ç°ç»†èŠ‚ï¼Œåªè§„å®šç±»éœ€è¦æä¾›å“ªäº›æ–¹æ³•ã€‚ç±»ä¼¼äºjavaä¸­çš„ç±»ï¼Œæ›´åŠ çµæ´»ã€‚ å®šä¹‰æ¥å£å…³é”®å­—ï¼šinterface 7.1 å±æ€§æ¥å£å±æ€§æ¥å£å°±æ˜¯å¯¹jsonæ ¼å¼çš„é™åˆ¶ interface FullName { firstName: string; lastName: string; } function getFullName(name: FullName) { return `${name.firstName}----${name.lastName}` } console.log(getFullName({ firstName: &#39;zhang&#39;, lastName: &#39;san&#39; })); // zhang----san åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªFullNameæ¥å£ï¼Œæ–¹æ³•getFullNameå‚æ•°nameè¦æ»¡è¶³è¿™ä¸ªæ¥å£ï¼Œå¦‚æœä¸æ»¡è¶³æ¥å£å®šä¹‰çš„è§„åˆ™å°±ä¼šæŠ¥é”™ å¹¶ä¸”ï¼Œå‚æ•°å¿…é¡»ä¸”åªèƒ½æœ‰æ¥å£å®šä¹‰çš„æ•°æ®é¡¹ï¼Œå¦‚å‚æ•°ä½¿ç”¨å¯¹è±¡nameï¼Œè¯¥å¯¹è±¡å¿…é¡»åŒ…å«æ¥å£å®šä¹‰çš„é¡¹å¹¶ä¸”ç¬¦åˆæ•°æ®ç±»å‹é™åˆ¶ å¯ä»¥ä½¿ç”¨ ? å®šä¹‰å¯é€‰å±æ€§ï¼Œç”¨æ³•åŒå¯é€‰å‚æ•° 7.2 å‡½æ•°ç±»å‹æ¥å£å¯¹æ–¹æ³•ä¼ å…¥çš„å‚æ•°ä»¥åŠè¿”å›å€¼è¿›è¡Œçº¦æŸ interface FuncRule { (key: string, value: string): string; } var funcIn: FuncRule = function (key: string, value: string): string { return `${key}---${value}` } console.log(funcIn(&#39;name&#39;, &#39;å¼ ä¸‰&#39;)); æ¥å£ä¸­è§„å®šäº†ä¸¤ä¸ªå‚æ•°å’Œä»–ä»¬çš„ç±»å‹ä»¥åŠè¿”å›å€¼çš„ç±»å‹ï¼Œå®ç°è¿™ä¸ªæ¥å£çš„å‡½æ•°å°±å¿…é¡»æœ‰è¿™ä¸¤ä¸ªå‚æ•°å’Œè¿”å›å€¼ã€‚å‚æ•°ç±»å‹ä¸ç¬¦åˆè§„å®šå°±ä¼šæŠ¥é”™ 7.3 å¯ç´¢å¼•æ¥å£å¯¹æ•°ç»„ã€å¯¹è±¡çš„çº¦æŸ 7.3.1 å¯¹æ•°ç»„çš„çº¦æŸinterface UserArr{ [index:number]:string; } var arr:UserArr=[&#39;aa&#39;, &#39;bb&#39;] console.log(arr[0]) æ¥å£è§„å®šäº†ç´¢å¼•å€¼æ˜¯numberç±»å‹ï¼Œvalueæ˜¯stringç±»å‹ï¼ˆå¼€å§‹è¿™é‡Œæ²¡çœ‹æ‡‚ï¼Œæ•°ç»„çš„ç´¢å¼•è¿˜èƒ½ä¸æ˜¯numberï¼Ÿï¼Ÿï¼Ÿç»§ç»­å¾€ä¸‹çœ‹ï¼‰ 7.3.2 å¯¹å¯¹è±¡çš„çº¦æŸinterface UserObj{ [index:string]:string } var arr:UserObj = { name: &#39;alex&#39; } è¿™é‡Œæ˜ç™½äº†ï¼Œå¯¹æ•°ç»„çš„çº¦æŸå’Œå¯¹å¯¹è±¡çš„çº¦æŸä¸æ˜¯å…·ä½“çš„åˆ†ç±»ï¼Œç´¢å¼•å€¼æ˜¯numberå°±é™å®šäº†æ•°ç»„ï¼Œç´¢å¼•å€¼æ˜¯stringå°±é™å®šäº†å¯¹è±¡ 7.4 ç±»ç±»å‹æ¥å£ç±»ç±»å‹çº¦æŸå’ŒæŠ½è±¡æœ‰äº›ç±»ä¼¼ï¼Œè¿™é‡Œæœ€æ¥è¿‘äºjavaä¸­çš„æ¥å£ç±» // æ¥å£ interface AnimalsInterface { name: string; eat(food: string): void; } // å®ç°ç±» class Tigger implements AnimalsInterface { name: string; constructor(name: string) { this.name = name; } eat(food: string): void { console.log(`${this.name}åƒçš„æ˜¯${food}ã€‚`); } } // å®ä¾‹åŒ– var t: Tigger = new Tigger(&#39;æ³°å“¥&#39;); t.eat(&#39;çŒªè‚‰&#39;); // æ³°å“¥åƒçš„æ˜¯çŒªè‚‰ã€‚ åœ¨å®ç°æ¥å£æ–¹æ³•çš„æ—¶å€™ï¼Œå‚æ•°å¯ä»¥æ²¡æœ‰ 7.5 æ¥å£æ‰©å±•ï¼ˆæ¥å£ç»§æ‰¿ï¼‰interface Animals { eat(): void; } interface People extends Animals { name: string; work(): void; } class Chinese implements People { name: string; constructor(name: string) { this.name = name; } work(): void { console.log(this.name + &#39;å¯ä»¥å·¥ä½œ&#39;); } eat(): void { console.log(this.name + &#39;åƒå¤§é¤&#39;); } } var ming: Chinese = new Chinese(&#39;å°æ˜&#39;); ming.work(); æ¥å£Peopleç»§æ‰¿äº†æ¥å£Animalsï¼Œåœ¨å®ç°Peopleæ¥å£çš„æ—¶å€™ï¼Œéœ€è¦åŒæ—¶å®ç°Animalsä¸­å®šä¹‰çš„å†…å®¹ï¼Œå¦‚æœå»æ‰äº†Animalsä¸­çš„æ–¹æ³•å°±ä¼šæŠ¥é”™ 8 æ³›å‹ æ³›å‹æ˜¯ç¨‹åºè®¾è®¡è¯­è¨€çš„ä¸€ç§ç‰¹æ€§ã€‚å…è®¸ç¨‹åºå‘˜åœ¨å¼ºç±»å‹ç¨‹åºè®¾è®¡è¯­è¨€ä¸­ç¼–å†™ä»£ç æ—¶å®šä¹‰ä¸€äº›å¯å˜éƒ¨åˆ†ï¼Œé‚£äº›éƒ¨åˆ†åœ¨ä½¿ç”¨å‰å¿…é¡»ä½œå‡ºæŒ‡æ˜ã€‚å„ç§ç¨‹åºè®¾è®¡è¯­è¨€å’Œå…¶ç¼–è¯‘å™¨ã€è¿è¡Œç¯å¢ƒå¯¹æ³›å‹çš„æ”¯æŒå‡ä¸ä¸€æ ·ã€‚å°†ç±»å‹å‚æ•°åŒ–ä»¥è¾¾åˆ°ä»£ç å¤ç”¨æé«˜è½¯ä»¶å¼€å‘å·¥ä½œæ•ˆç‡çš„ä¸€ç§æ•°æ®ç±»å‹ã€‚æ³›å‹ç±»]æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ˜¯å †å¯¹è±¡ï¼Œä¸»è¦æ˜¯å¼•å…¥äº†ç±»å‹å‚æ•°è¿™ä¸ªæ¦‚å¿µã€‚ â€”â€”ç™¾åº¦ç™¾ç§‘ã€Šæ³›å‹ã€‹ 8.1 æ³›å‹å˜é‡å…ˆæ¥çœ‹ä¸ªä¾‹å­ function getValue&lt;T&gt;(value: T): string { return &#39;è·å¾—çš„å€¼æ˜¯&#39; + value; } console.log(getValue&lt;number&gt;(12345)); å®šä¹‰æ–¹æ³•æ—¶è§„å®šäº†æ³›å‹Tï¼Œä¼ å‚æ—¶ä½¿ç”¨æ³›å‹è§„å®šç±»å‹ 8.2 æ³›å‹ç±»javaä¸­çš„ArrayListå°±æ˜¯è¿™ç§ä¸œè¥¿ class ArrayList&lt;T&gt; { private list: T[] = []; add(item: T): void { this.list.push(item); } getList(): T[] { return this.list; } } var arr = new ArrayList&lt;number&gt;(); arr.add(1); arr.add(4); console.log(arr.getList()); è¿™é‡Œç”¨numberç±»å‹åšäº†ä¸ªä¾‹å­ï¼Œæ³›å‹å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œç±»ä¹Ÿå¯ä»¥ ä½¿ç”¨ä¸Šæ–‡7.5ä¸­çš„Chineseç±»æ¥ç¤ºèŒƒ // å®ä¾‹åŒ–å¯¹è±¡ var ming: Chinese = new Chinese(&#39;å°æ˜&#39;); var hong: Chinese = new Chinese(&#39;å°çº¢&#39;); // å°†å¯¹è±¡æ·»åŠ è¿›list var arr = new ArrayList&lt;Chinese&gt;(); arr.add(ming); arr.add(hong); console.log(arr.getList()); 8.3 æ³›å‹æ¥å£åœ¨å®šä¹‰æ¥å£æ—¶ä½¿ç”¨æ³›å‹ï¼Œå®ç°æ¥å£æ—¶ç›¸åº”çš„éœ€è¦ç”¨æ³›å‹å®ç°ï¼Œè°ƒç”¨æ–¹æ³•æ—¶å¯ä»¥æ ¹æ®éœ€è¦è§„å®šæ•°æ®çš„ç±»å‹ interface ConfigFn { &lt;T&gt;(value: T): T; // æœ€åä¸€ä¸ªTæ˜¯è¿”å›å€¼ç±»å‹ï¼Œå¯ä»¥æ˜¯å…¶ä»–çš„ } var getData: ConfigFn = function &lt;T&gt;(name: T): T { return name; } console.log(getData&lt;string&gt;(&#39;å¼ ä¸‰&#39;)); 9 è£…é¥°å™¨ è£…é¥°å™¨æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å£°æ˜ï¼Œå®ƒèƒ½å¤Ÿè¢«é™„åŠ åˆ°ç±»å£°æ˜ï¼Œæ–¹æ³•ï¼Œå±æ€§æˆ–å‚æ•°ä¸Šï¼Œå¯ä»¥ä¿®æ”¹ç±»çš„è¡Œä¸ºã€‚é€šä¿—çš„è®²è£…é¥°å™¨å°±æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ³¨å…¥åˆ°ç±»ã€æ–¹æ³•ã€å±æ€§å‚æ•°ä¸Šæ¥æ‰©å±•ç±»ã€å±æ€§ã€æ–¹æ³•ã€å‚æ•°çš„åŠŸèƒ½ã€‚å¸¸è§çš„è£…é¥°å™¨æœ‰ï¼šç±»è£…é¥°å™¨ã€å±æ€§è£…é¥°å™¨ã€æ–¹æ³•è£…é¥°å™¨ã€å‚æ•°è£…é¥°å™¨è£…é¥°å™¨çš„å†™æ³•ï¼šæ™®é€šè£…é¥°å™¨ï¼ˆæ— æ³•ä¼ å‚ï¼‰ ã€ è£…é¥°å™¨å·¥å‚ï¼ˆå¯ä¼ å‚ï¼‰ è£…é¥°å™¨æ˜¯è¿‡å»å‡ å¹´ä¸­jsæœ€å¤§çš„æˆå°±ä¹‹ä¸€ï¼Œå·²æ˜¯ES7çš„æ ‡å‡†ç‰¹æ€§ä¹‹ä¸€ 9.1 ç±»è£…é¥°å™¨è£…é¥°å™¨æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè£…é¥°å™¨é€šè¿‡@ç¬¦å·æ¥ä½¿ç”¨ function logClass(params: any) { params.prototype.name = &#39;è£…é¥°å™¨&#39;; params.prototype.run = function () { console.log(&#39;è¿™æ˜¯ä¸€ä¸ªè£…é¥°å™¨&#39;); } } @logClass class Log { constructor() { } getData() { } } var log: any = new Log(); // è¿™é‡Œå˜é‡ç±»å‹å£°æ˜any log.run(); // è¿™æ˜¯ä¸€ä¸ªè£…é¥°å™¨ 9.1.1 è£…é¥°å™¨å·¥å‚è£…é¥°å™¨å·¥å‚å¯ä»¥ä¼ å‚ï¼Œé€šè¿‡é—­åŒ…çš„æ–¹å¼è¿›è¡Œæ“ä½œ function logClass(params?: any) { return function (target: any) { console.log(params); } } @logClass(&#39;get&#39;) class Log { constructor() { } } var log: any = new Log(); // get è¿™é‡Œè°ƒç”¨è£…é¥°å™¨çš„æ—¶å€™æ–¹æ³•ç«‹å³æ‰§è¡Œ function logClass(params?: any) { return function (target: any) { target.prototype.pro = params; } } @logClass(&#39;post&#39;) class Log { constructor() { } } var log: any = new Log(); console.log(log.pro); ä¸Šé¢è¿™ä¸€æ®µä»£ç é€šè¿‡è£…é¥°å™¨åŠ¨æ€ç»™ç±»æ·»åŠ å±æ€§ï¼Œåœ¨è°ƒç”¨æ„é€ å™¨çš„æ—¶å€™ä¸€å®šè¦åŠ æ‹¬å·ï¼Œå‚æ•°å¯é€‰æ—¶æ²¡æœ‰å‚æ•°ä¹Ÿè¦å¸¦æ‹¬å· 9.1.2 é‡è½½æ„é€ å‡½æ•° ç±»è£…é¥°å™¨è¡¨è¾¾å¼ä¼šåœ¨è¿è¡Œæ—¶å½“ä½œå‡½æ•°è¢«è°ƒç”¨ï¼Œç±»çš„æ„é€ å‡½æ•°ä½œä¸ºå…¶å”¯ä¸€çš„å‚æ•°ï¼› å¦‚æœç±»è£…é¥°å™¨è¿”å›ä¸€ä¸ªå€¼ï¼Œå®ƒä¼šä½¿ç”¨æä¾›çš„æ„é€ å‡½æ•°æ¥æ›¿æ¢ç±»çš„å£°æ˜ï¼› function logClass(target: any) { return class extends target { url = &#39;newValue&#39; getData() { console.log(&#39;getData:&#39;, this.url); } } } @logClass class HttpClient { public url: string | undefined; constructor() { this.url = &#39;value&#39; } getData() { console.log(this.url); } } var http = new HttpClient(); http.getData(); //getData: newValue è£…é¥°å™¨è¿”å›çš„å°±æ˜¯HttpClientçš„å­ç±»ï¼Œå› æ­¤TSå¯ä»¥è‡ªåŠ¨æ¨å¯¼ http çš„ç±»å‹ï¼› é‡è½½æ—¶å¿…é¡»å°†ç±»é‡Œé¢çš„æ‰€æœ‰å±æ€§å‡ æ–¹æ³•é‡è½½ 9.2 å±æ€§è£…é¥°å™¨å±æ€§è£…é¥°å™¨è¡¨è¾¾å¼ä¼šåœ¨è¿è¡Œæ—¶å½“ä½œå‡½æ•°è¢«è°ƒç”¨ï¼Œä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼š å¯¹äºé™æ€æˆå‘˜æ¥è¯´æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼Œå¯¹äºå®ä¾‹æˆå‘˜æ¥è¯´æ˜¯ç±»çš„åŸå‹å¯¹è±¡ï¼› æˆå‘˜çš„åå­—ï¼› function LogProperty(params: any) { return function (target: any, attr: any) { console.log(target); console.log(attr); } } class User { @LogProperty(&#39;zhangsan&#39;) name: string; constructor() { } } ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°å±æ€§è£…é¥°å™¨ä¼ å…¥çš„ä¸¤ä¸ªå‚æ•° function LogProperty(params: any) { return function (target: any, attr: any) { target[attr] = params; } } class User { @LogProperty(&#39;zhangsan&#39;) name: string | undefined; constructor() { } getName(): void { console.log(this.name); } } var u = new User(); u.getName(); // zhangsan 9.3 æ–¹æ³•è£…é¥°å™¨æ–¹æ³•è£…é¥°å™¨è¢«åº”ç”¨åˆ°æ–¹æ³•çš„å±æ€§æè¿°ç¬¦ä¸Šï¼Œå¯ä»¥ç”¨æ¥ç›‘è§†ã€ä¿®æ”¹ã€æ›¿æ¢æ–¹æ³•çš„å®šä¹‰ã€‚æ–¹æ³•è£…é¥°å™¨ä¼šåœ¨è¿è¡Œæ—¶ä¼ å…¥3ä¸ªå‚æ•°ï¼š å¯¹äºé™æ€æˆå‘˜æ¥è¯´æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼Œå¯¹äºå®ä¾‹æˆå‘˜æ¥è¯´æ˜¯ç±»çš„åŸå‹å¯¹è±¡ï¼› æˆå‘˜çš„åå­—ï¼› æˆå‘˜çš„å±æ€§æè¿°ç¬¦ï¼› function get(params: any) { return function (target: any, methodName: any, desc: any) { console.log(target); console.log(methodName); console.log(desc); } } class HttpClient { url: string | undefined; constructor() { } @get(&#39;/user&#39;) getData() { console.log(&#39;getData: &#39;, this.url); } } å¯ä»¥ä»æ‰“å°ç»“æœçœ‹åˆ°æ–¹æ³•è£…é¥°å™¨çš„ä¸‰ä¸ªå‚æ•° function get(params:any) { return function(target:any, methodName:any, desc:any) { var oldMethod = desc.value; desc.value = function(...args:any[]) { let newArgs = args.map((item)=&gt;{ return String(item); }); oldMethod.apply(this, newArgs); } } } class HttpClient { constructor() { } @get(&#39;http://baidu.com&#39;) getData(...args:any[]) { console.log(&#39;getData: &#39;, args); } } var http = new HttpClient(); http.getData(1, 2, true); // getData: [&quot;1&quot;, &quot;2&quot;, &quot;true&quot;] 9.4 å‚æ•°è£…é¥°å™¨å‚æ•°è£…é¥°å™¨è¡¨è¾¾å¼ä¼šåœ¨è¿è¡Œæ—¶è¢«è°ƒç”¨ï¼Œå¯ä»¥ä¸ºç±»çš„åŸå‹å¢åŠ ä¸€äº›å…ƒç´ æ•°æ®ï¼Œä¼ å…¥3ä¸ªå‚æ•°ï¼š å¯¹äºé™æ€æˆå‘˜æ¥è¯´æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼Œå¯¹äºå®ä¾‹æˆå‘˜æ¥è¯´æ˜¯ç±»çš„åŸå‹å¯¹è±¡ï¼› æ–¹æ³•åç§°ï¼Œå¦‚æœè£…é¥°çš„æ˜¯æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œåˆ™å€¼ä¸ºundefined å‚æ•°åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­çš„ç´¢å¼•ï¼› function logParams(params:any) { return function(target:any, methodName:any, paramIndex:any) { console.log(target) // { constructor:f, getData:f } console.log(methodName) // getData console.log(paramIndex) // 0 } } class HttpClient { constructor() { } getData(@logParams(&#39;uuid&#39;) uuid:any) { console.log(uuid); } } å‚æ•°è£…é¥°å™¨åªèƒ½ç”¨æ¥ç›‘è§†ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯å¦è¢«ä¼ å…¥ 9.5 è£…é¥°å™¨æ‰§è¡Œé¡ºåºå¤šä¸ªè£…é¥°å™¨åŒæ—¶è£…é¥°åˆ°ä¸€ä¸ªå£°æ˜ä¸Šï¼Œè¯­æ³•æ”¯æŒä»å·¦åˆ°å³ï¼Œæˆ–ä»ä¸Šåˆ°ä¸‹ä¹¦å†™ï¼› ä¸åŒè£…é¥°å™¨çš„æ‰§è¡Œé¡ºåºï¼šå±æ€§è£…é¥°å™¨ &gt; æ–¹æ³•è£…é¥°å™¨ &gt; å‚æ•°è£…é¥°å™¨ &gt; ç±»è£…é¥°å™¨ï¼›","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"Vueç»„ä»¶é€šä¿¡","slug":"æŠ€æœ¯/Vueç»„ä»¶é€šä¿¡","date":"2020-08-04T13:44:18.572Z","updated":"2020-09-05T09:34:40.002Z","comments":true,"path":"2020/08/04/æŠ€æœ¯/Vueç»„ä»¶é€šä¿¡/","link":"","permalink":"https://easyremember.cn/2020/08/04/æŠ€æœ¯/Vueç»„ä»¶é€šä¿¡/","excerpt":"","text":"Vueç»„ä»¶é—´é€šä¿¡Vueä¸­ç»„ä»¶çš„é€šä¿¡æ–¹å¼å¤§è‡´æœ‰ï¼šçˆ¶â€”â€”å­ã€å­â€”â€”çˆ¶ã€å…„å¼Ÿä¹‹é—´çš„é€šä¿¡ çˆ¶å­ä¼ å€¼çˆ¶â€”â€”å­çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼çš„æ—¶å€™ï¼Œä½¿ç”¨v-bindç»‘å®šå±æ€§ï¼Œæºå¸¦è¦å‘é€çš„æ•°æ®ï¼Œå­ç»„ä»¶é€šè¿‡propsæ¥æ”¶è¿™ä¸ªæ•°æ®ï¼ˆè¦è·Ÿå±æ€§åç›¸åŒï¼‰ Father.vue &lt;template&gt; &lt;div class=&quot;father&quot;&gt; &lt;h2&gt;Father&lt;/h2&gt; &lt;Son :fromFather=&quot;fromFatherM&quot; /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import Son from &quot;@/components/Son&quot;; export default { components: { Son, }, data() { return { fromFatherM: &quot;çˆ¶ç»„ä»¶çš„æ¶ˆæ¯&quot;, }; }, }; &lt;/script&gt; ä¸ºäº†å®¹æ˜“åŒºåˆ†å±æ€§åå’Œæ•°æ®ï¼Œæ•°æ®ååŠ äº†ä¸ªMï¼Œå­ç»„ä»¶æ¥æ”¶æ•°æ®æ—¶è¦ä½¿ç”¨è¿™é‡Œé¢çš„å±æ€§å Son.vue &lt;template&gt; &lt;div id=&quot;son&quot;&gt; &lt;h2&gt;Son&lt;/h2&gt; æ¥æ”¶ï¼š{{fromFather}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { props: { fromFather: String, // æ¥æ”¶å‚æ•°å¹¶æŒ‡å®šç±»å‹ }, data() { return {}; }, }; &lt;/script&gt; æ•ˆæœå¦‚å›¾ å­â€”â€”çˆ¶å­ç»„ä»¶å‘çˆ¶ç»„ä»¶å‘é€æ•°æ®è¦é€šè¿‡æ–¹æ³•æ¥å®Œæˆï¼Œçˆ¶ç»„ä»¶å¼•ç”¨å­ç»„ä»¶çš„æ—¶å€™å‘å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªæ–¹æ³•ï¼Œå­ç»„ä»¶é€šè¿‡è§¦å‘äº‹ä»¶å‘æ–¹æ³•ä¸­ä¼ å‚æ¥å‘çˆ¶ç»„ä»¶å‘è¡Œæ•°æ® Father.vue &lt;template&gt; &lt;div class=&quot;father&quot;&gt; &lt;h2&gt;Father&lt;/h2&gt; æ¥æ”¶ï¼š{{sonData}} &lt;Son :fromFather=&quot;fromFather&quot; @receive=&quot;receiveData&quot; /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import Son from &quot;@/components/Son&quot;; export default { components: { Son, }, data() { return { fromFather: &quot;çˆ¶ç»„ä»¶çš„æ¶ˆæ¯&quot;, sonData: &quot;&quot;, }; }, methods: { receiveData(d) { // æ¥æ”¶æ•°æ®å¹¶èµ‹å€¼ this.sonData = d; }, }, }; &lt;/script&gt; ä½¿ç”¨@receiveç»‘å®šäº‹ä»¶ï¼Œå­ç»„ä»¶å‘å‡ºæ•°æ®æ—¶éœ€è¦å‘è¿™ä¸ªç»‘å®šäº‹ä»¶æäº¤ Son.vue &lt;template&gt; &lt;div id=&quot;son&quot;&gt; &lt;h2&gt;Son&lt;/h2&gt; æ¥æ”¶ï¼š{{fromFather}} &lt;input type=&quot;text&quot; v-model=&quot;fromSon&quot; /&gt; &lt;button @click=&quot;sonHandle&quot;&gt;send&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { props: { fromFather: String, }, data() { return { fromSon: &quot;&quot;, }; }, methods: { sonHandle() { this.$emit(&quot;receive&quot;, this.fromSon); // å‘é€æ•°æ®çš„äº‹ä»¶ }, }, }; &lt;/script&gt; æ•ˆæœå¦‚å›¾ ä½¿ç”¨$parentå’Œ$childrenå®˜æ–¹æ–‡æ¡£ä¸­è¿˜ç»™å‡ºäº†ä¸€å¯¹API mounted() { console.log(this.$parent.id + &quot;$parent&quot;); }, mounted() { console.log(this.$children[0].id + &quot;$children&quot;); }, è¿™é‡Œä¸€å®šè¦æ³¨æ„è·å–çš„æ•°ç»„ è¿˜å¯ä»¥é€šè¿‡$refsæ¥è·å–ï¼Œå¦‚æœåœ¨æ™®é€šçš„ DOM å…ƒç´ ä¸Šä½¿ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯ DOM å…ƒç´ ï¼›å¦‚æœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®ä¾‹ å¯ä»¥è·å– ä¸Šé¢ä¸‰ç§æ–¹å¼çš„ç»“æœå¦‚å›¾ å…„å¼Ÿç»„ä»¶å…„å¼Ÿç»„ä»¶ä¼ å€¼å¯ä»¥å€ŸåŠ©ä¸€ä¸ªç©ºç™½ç»„ä»¶ï¼Œå¦‚æœé¡¹ç›®è¾ƒå¤§ï¼Œå¯ä»¥ä½¿ç”¨Vueå®˜æ–¹çŠ¶æ€ç®¡ç†Vuexï¼Œä¹‹åä¼šå‘Vuexçš„ä»‹ç»","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"JSæ­£åˆ™è¡¨è¾¾å¼","slug":"æŠ€æœ¯/JSæ­£åˆ™è¡¨è¾¾å¼","date":"2020-08-03T16:26:08.012Z","updated":"2020-09-05T09:37:39.102Z","comments":true,"path":"2020/08/04/æŠ€æœ¯/JSæ­£åˆ™è¡¨è¾¾å¼/","link":"","permalink":"https://easyremember.cn/2020/08/04/æŠ€æœ¯/JSæ­£åˆ™è¡¨è¾¾å¼/","excerpt":"","text":"JSæ­£åˆ™è¡¨è¾¾å¼åˆ›å»ºæ­£åˆ™çš„ä¸¤ç§æ–¹å¼ï¼š åˆ›å»ºå­—é¢é‡æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½¿ç”¨//åŒ…è£¹ let reg = /\\w/ åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œä½¿ç”¨new RegExp() let reg = new RegExp(/\\w/) é€‰æ‹©ç¬¦ |â€œIâ€ å·¦å³ä¸¤è¾¹åŒ¹é…åˆ°ä¸€ä¸ªå°±ç®—æ˜¯true let str = &#39;å¼ ä¸‰ï¼š010-1568413ï¼Œæå››ï¼š020-1586640&#39; let reg = /(010|020)\\-\\d{7,8}/ console.log(reg.test(str)); // true è½¬ä¹‰åœ¨å­—ç¬¦ä¸²ä¸­\\då’Œdæ˜¯ä¸€æ ·çš„ console.log(&#39;\\d&#39; === &#39;d&#39;) // true åœ¨åˆ›å»ºå­—é¢é‡çš„æ—¶å€™ç›´æ¥ä½¿ç”¨//åˆ›å»ºï¼Œæˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­è½¬ä¹‰ let str = &#39;123.abc&#39; let reg = &quot;\\\\d+\\\\.\\\\w+&quot; let reg2 = /\\d+\\.\\w+/ console.log(str.match(reg)); console.log(str.match(reg2)); è¾¹ç•Œä»¥^å¼€å§‹ï¼Œä»¥$ç»“æŸï¼Œå¯ç”¨äºæ£€æµ‹ç½‘å€å¼€å¤´å’Œæ–‡ä»¶åç¼€ ^å¼€å§‹è¾¹ç•Œlet str = &#39;http:www.easyremember.cn&#39; let reg = /^https?:www\\..+/ console.log(reg.test(str)); // true $ç»“æŸè¾¹ç•Œlet str = &#39;C://Users/All Users/abc.txt&#39; let str2 = &#39;C://Users/All Users/abc.log&#39; let reg = /\\.txt$/ console.log(reg.test(str)); // true console.log(reg.test(str2)); // false å…ƒå­—ç¬¦\\wï¼šæ‰€æœ‰çš„å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ \\Wï¼šæ‰€æœ‰çš„éæ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ \\dï¼šæ‰€æœ‰çš„æ•°å­— \\Dï¼šæ‰€æœ‰çš„éæ•°å­— \\sï¼šæ‰€æœ‰çš„ç©ºç™½å­—ç¬¦ï¼Œæ¢è¡Œã€ç©ºæ ¼ç­‰ \\Sï¼šæ‰€æœ‰çš„éç©ºç™½å­—ç¬¦ .ï¼šé™¤æ¢è¡Œä»¥å¤–çš„ä»»æ„å­—ç¬¦ æ¨¡å¼ä¿®é¥°ç¬¦ iï¼šä¸åŒºåˆ†å¤§å°å†™ gï¼šå…¨å±€åŒ¹é… yï¼šä»lastIndexå¼€å§‹åŒ¹é… uï¼šå¤„ç†UTF-16ç¼–ç å­—ç¬¦ mï¼šå¤šè¡Œå¤„ç† sï¼šå•è¡Œå¤„ç†ï¼Œå¿½ç•¥æ¢è¡Œç¬¦ åŸå­è¡¨ åŸå­è¡¨ è¯´æ˜ [] åªåŒ¹é…å…¶ä¸­çš„ä¸€ä¸ªåŸå­ [^] åªåŒ¹é…â€é™¤äº†â€å…¶ä¸­å­—ç¬¦çš„ä»»æ„ä¸€ä¸ªåŸå­ [0-9] åŒ¹é…0-9ä»»ä½•ä¸€ä¸ªæ•°å­— [a-z] åŒ¹é…å°å†™a-zä»»ä½•ä¸€ä¸ªå­—æ¯ [A-Z] åŒ¹é…å¤§å†™A-Zä»»ä½•ä¸€ä¸ªå­—æ¯ Tips:\\d == [0-9] \\D == [^0-9] åŸå­ç»„ä½¿ç”¨ï¼ˆï¼‰åŒ…è£¹ å¼•ç”¨åˆ†ç»„ï¼šå¼•ç”¨ä¹‹å‰åŸå­ç»„åŒ¹é…åˆ°çš„å†…å®¹ï¼Œ\\1\\2â€¦â€¦ let str = &#39;abc123.c123&#39; let reg = /([a-z]\\d+)\\.\\1/g console.log(str.match(reg)); // [&quot;c123.123&quot;] åˆ†ç»„åˆ«å ä¸ºä¸åŒåˆ†ç»„å‘½åï¼Œä½¿ç”¨?&lt;&gt;å‘½åï¼Œä½¿ç”¨$&lt;&gt;å¼•ç”¨ let str = &#39;abc123.c123&#39; let reg = /(?&lt;init&gt;[a-z]\\d+)\\.\\1/g // console.log(str.match(reg)); console.log(str.replace(reg, `&lt;p&gt;$&lt;init&gt;&lt;/p&gt;`)); é‡å¤+ï¼šé‡å¤ä¸€æ¬¡æˆ–å¤šæ¬¡ *ï¼šé‡å¤é›¶æ¬¡æˆ–å¤šæ¬¡ ?ï¼šé‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡ {n}ï¼šé‡å¤næ¬¡ {n,}ï¼šé‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡ {n,m}ï¼šé‡å¤næ¬¡åˆ°mæ¬¡ let str = &#39;1234&#39; let reg = /\\d/ let reg2 = /\\d+/let reg3 = /^\\d{1,2}$/ console.log(str.match(reg)); console.log(str.match(reg2)); console.log(reg3.test(str)); å­—ç¬¦æ–¹æ³•searchè¿”å›è¦æœç´¢å†…å®¹çš„ç´¢å¼•ï¼Œæ²¡æœ‰è¿”å›-1 let str = &#39;abcdef&#39; console.log(str.search(&#39;ef&#39;));// 4 console.log(str.search(/\\w/)); // 0 console.log(str.search(&#39;efg&#39;)); // -1 matchä½¿ç”¨å­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œè¿”å›åŒ¹é…çš„å†…å®¹ï¼ŒåŒ¹é…ä¸åˆ°è¿”å›null let str = &#39;abcdef&#39;console.log(str.match(&#39;ef&#39;)); // ef console.log(str.match(/\\w+/)); // abcdef matchAllï¼šè¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ let reg = /&lt;(h[1-6])&gt;[\\s\\S]+&lt;\\/\\1&gt;/g let str = `&lt;h1&gt;å‰æ®µå°æ«&lt;/h1&gt; &lt;h2&gt;blog.easyremember.cn&lt;/h2&gt;` for (let s of str.matchAll(reg)) { console.log(s); } splitï¼šä½¿ç”¨å­—ç¬¦åˆ†å‰²å­—ç¬¦ä¸² let str = &#39;abc/def/123&#39; console.log(str.split(&#39;/&#39;)); // [&quot;abc&quot;,&quot;def&quot;,&quot;123&quot;] replaceæ›¿æ¢å­—ç¬¦ä¸º let str = &#39;abc/def/123&#39; console.log(str.replace(/\\W/g, &#39;-&#39;)); // abc-def-123 æ­£åˆ™æ–¹æ³•testæ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ execä¸ä½¿ç”¨å…¨å±€åŒ¹é…ä¸matchç›¸åŒï¼Œä½¿ç”¨å…¨å±€åŒ¹é…ä¼šåŒ¹é…å®Œå…¨éƒ¨å­—ç¬¦ä¸²ï¼Œè¿”å›ç»“æœæ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ let reg = /&lt;(h[1-6])&gt;[\\s\\S]+&lt;\\/\\1&gt;/g let str = `&lt;h1&gt;å‰æ®µå°æ«&lt;/h1&gt; &lt;h2&gt;blog.easyremember.cn&lt;/h2&gt;` console.log(reg.exec(str)); console.log(reg.exec(str)); æ–­è¨€?=expç›¸å½“äºifï¼Œä½†æ˜¯æ˜¯åç½®çš„ä¾‹å¦‚ &lt;main&gt; ä¸­å›½åŠªåŠ›å»ºè®¾æœ‰ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰&lt;/main&gt; &lt;script type=&quot;text/javascript&quot;&gt; let reg = /ä¸­å›½(?=ç‰¹è‰²)/ let str = document.querySelector(&#39;main&#39;) str.innerHTML = str.innerHTML.replace(reg, &#39;&lt;a href=&quot;&quot;&gt;ä¸­å›½&lt;/a&gt;&#39;) &lt;/script&gt; ?&lt;=expå‰ç½®æ–­è¨€ let reg = /(?&lt;=æœ‰)ä¸­å›½/ let str = document.querySelector(&#39;main&#39;) str.innerHTML = str.innerHTML.replace(reg, &#39;&lt;a href=&quot;&quot;&gt;ä¸­å›½&lt;/a&gt;&#39;) æ•ˆæœè·Ÿå‰é¢çš„?=æ•ˆæœæ˜¯ä¸€æ ·çš„ ?!expåé¢ä¸èƒ½å‡ºç°expåŒ¹é…åˆ°çš„å†…å®¹ ?&lt;!expå‰é¢ä¸èƒ½å‡ºç°expåŒ¹é…åˆ°çš„å†…å®¹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"letã€constå’Œvarçš„åŒºåˆ«","slug":"æŠ€æœ¯/letã€constå’Œvar","date":"2020-08-02T11:09:59.170Z","updated":"2020-09-05T09:37:43.284Z","comments":true,"path":"2020/08/02/æŠ€æœ¯/letã€constå’Œvar/","link":"","permalink":"https://easyremember.cn/2020/08/02/æŠ€æœ¯/letã€constå’Œvar/","excerpt":"","text":"letã€constå’Œvarä½œç”¨åŸŸvarä½œç”¨äºå…¨å±€ï¼Œå…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ for (var i = 0; i &lt; 5; i++) { var a = 1; } console.log(a, i); // 1 5 è·³å‡ºäº†forå¾ªç¯ä¹‹å¤–aä¾æ—§å¯ä»¥è®¿é—®ï¼Œç”¨äºæ§åˆ¶å¾ªç¯çš„iä¹Ÿèƒ½å¤Ÿè®¿é—®ï¼Œi=5å¾ªç¯è·³å‡ºï¼Œæ‰€ä»¥iæ˜¯5 å†æ¥çœ‹ä¸€ä¸‹æŠŠvaræ”¹æˆconst for (var i = 0; i &lt; 5; i++) { const a = 1; } console.log(a, i); // Uncaught ReferenceError: a is not defined è¿™æ—¶aæ˜¯å—çº§ä½œç”¨åŸŸï¼Œé™¤äº†å¾ªç¯ä¹‹åå°±è®¿é—®ä¸åˆ°äº†ï¼Œå†æ¥çœ‹iï¼ŒæŠŠiæ”¹æˆconstå£°æ˜ Uncaught TypeError: Assignment to constant variable. constå±äºå¸¸é‡ï¼Œèµ‹å€¼ä¹‹åä¸èƒ½æ”¹å˜ï¼Œè¿™é‡Œåº”è¯¥ç”¨letï¼Œletæ˜¯å˜é‡ é‡å¤å£°æ˜var b = 1; var b = 2; console.log(b); // 2 ç”¨varå¯ä»¥é‡å¤å£°æ˜ï¼Œå†æ¥è¯•ä¸€ä¸‹const const b = 1; const b = 2; console.log(b); // Uncaught SyntaxError: Identifier &#39;b&#39; has already been declared å¯ä»¥çœ‹å‡ºconstä¸å¯ä»¥é‡å¤å£°æ˜ï¼Œå†æ¥è¯•ä¸€ä¸‹let let b = 1; let b = 2; console.log(b); // Uncaught SyntaxError: Identifier &#39;b&#39; has already been declared ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œconstå’Œletä¸å¯ä»¥é‡å¤å£°æ˜ æ€»ç»“cosntå’Œletæ˜¯ES6æ–°å‡ºçš„å—çº§ä½œç”¨åŸŸï¼Œä¸å¯ä»¥é‡å¤å£°æ˜ï¼Œæ­¤å¤– const b; b = 2; console.log(b); // Uncaught SyntaxError: Missing initializer in const declaration constä¸å¯ä»¥å…ˆå£°æ˜åèµ‹å€¼ï¼Œletå¯ä»¥ ä¸Šé¢è¯´åˆ°constä¸å¯ä»¥é‡æ–°èµ‹å€¼ï¼Œæœ‰ä¸€ç§æƒ…å†µä¾‹å¤– const b = { a: &#39;a&#39; }; b.a = &#39;b&#39;; console.log(b); æ¥çœ‹ä¸€ä¸‹ç»“æœ å¯ä»¥çœ‹åˆ°å€¼å·²ç»å‘ç”Ÿäº†æ”¹å˜","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Lessé¢„ç¼–è¯‘ä½¿ç”¨","slug":"ç¬”è®°/Lessé¢„ç¼–è¯‘","date":"2020-08-02T06:11:51.895Z","updated":"2020-09-14T23:49:24.930Z","comments":true,"path":"2020/08/02/ç¬”è®°/Lessé¢„ç¼–è¯‘/","link":"","permalink":"https://easyremember.cn/2020/08/02/ç¬”è®°/Lessé¢„ç¼–è¯‘/","excerpt":"","text":"lessé¢„ç¼–è¯‘1 åˆè§lesslessæ˜¯ä¸€é—¨å‘åå…¼å®¹çš„ CSS æ‰©å±•è¯­è¨€ã€‚ HTMLæ ‡ç­¾ä¸èƒ½ç›´æ¥è¯†åˆ«lessæ ·å¼ï¼Œéœ€è¦å¼•å…¥less.jsæ¥ç¼–è¯‘ å¼•å…¥æ ·å¼æ–‡ä»¶ &lt;link rel=&quot;stylesheet/less&quot; type=&quot;text/css&quot; href=&quot;styles.less&quot; /&gt; å¼•å…¥ç¼–è¯‘è„šæœ¬ &lt;script src=&quot;less.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; ä½†æ˜¯ï¼Œè¿™ç§æ–¹å¼æ˜¯è¿è¡Œæ—¶ç¼–è¯‘ï¼Œä¸æ˜¯é¢„ç¼–è¯‘ï¼Œåœ¨VSCodeæ’ä»¶å•†åº—ä¸­æœç´¢lessä¸‹è½½å¯¹åº”çš„ç¼–è¯‘æ’ä»¶ æ¯æ¬¡ä¿å­˜lessæ–‡ä»¶æ—¶å°±å¯ä»¥è‡ªåŠ¨ç¼–è¯‘å‡ºcssæ–‡ä»¶ 2 lessè¯­æ³•2.1 æ³¨é‡Šlessæœ‰ä¸¤ç§æ³¨é‡Š å¸¸è§„çš„cssæ³¨é‡Š /* å¯è§æ³¨é‡Šï¼Œä¼šè¢«ç¼–è¯‘åˆ°cssæ–‡ä»¶ä¸­ */ ç¼–è¯‘åä¸å¯è§æ³¨é‡Š // ä¸å¯è§æ³¨é‡Šï¼Œä¸ä¼šè¢«ç¼–è¯‘åˆ°cssæ–‡ä»¶ä¸­ 2.2 å˜é‡ä½¿ç”¨@ç¬¦å·å£°æ˜å˜é‡ï¼Œæ ·å¼ä¸­å¯ä»¥å¼•ç”¨ï¼Œlessçš„å˜é‡éƒ½æ˜¯å—çº§ä½œç”¨åŸŸï¼Œç›´æ¥ä¸Šä»£ç ï¼Œä¸€ç›®äº†ç„¶ lesså—çº§ä½œç”¨åŸŸï¼šé¦–å…ˆåœ¨æœ¬åœ°æŸ¥æ‰¾å˜é‡å’Œæ··åˆï¼ˆmixinsï¼‰ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ä»â€œçˆ¶â€çº§ä½œç”¨åŸŸç»§æ‰¿ @width: 10px; @height: @width + 10px; .box { width: @width; height: @height; } ç¼–è¯‘ç»“æœä¸º å±æ€§åå’Œé€‰æ‹©å™¨ä¹Ÿå¯ä»¥ç”¨å˜é‡ï¼Œä½†æ˜¯åœ¨å¼•ç”¨çš„æ—¶å€™éœ€è¦ç”¨ {}åŒ…è£¹èµ·æ¥ï¼Œä¸Šä»£ç  @width: 10px; @height: @width + 10px; @m: margin; @selector: #nav; .box { @{m}: 10px; width: @width; height: @height; } @{selector} { color: red; } æ¥çœ‹ä¸‹ç¼–è¯‘åçš„ï¼Œå±æ€§å’Œé€‰æ‹©å™¨å¼•ç”¨å¾ˆå°‘ä½¿ç”¨ å˜é‡å»¶è¿ŸåŠ è½½ .over { @var: 1; .three { @var: 2; three: @var; @var: 3; } one: @var; } oneå±æ€§æ˜¯åœ¨overä½œç”¨åŸŸä¸­çš„ï¼Œè·Ÿbrassæ— å…³ï¼Œæ‰€ä»¥oneçš„å€¼æ˜¯1ï¼›åœ¨brassä½œç”¨åŸŸä¸­ï¼Œè¦ç­‰å˜é‡å…ˆåŠ è½½å®Œå†å¼•ç”¨ï¼Œè¿™å°±æ˜¯å»¶è¿ŸåŠ è½½ï¼Œæ‰€ä»¥threeçš„å€¼æ˜¯3 2.3 åµŒå¥—å‰é¢çš„ä»£ç å·²ç»èƒ½å¤Ÿä½“ç°åµŒå¥—è§„åˆ™äº†ï¼Œå¯ä»¥æ ¹æ®HTMLçš„å±‚çº§å…³ç³»æ¥åµŒå¥—cssæ ·å¼ï¼Œä¼ªç±»é€‰æ‹©å™¨ä¹Ÿæ˜¯å¯ä»¥åµŒå¥—çš„ .box { width: @width; height: @height; background-color: pink; :hover { background-color: deeppink; } } ç¼–è¯‘ç»“æœæ˜¯è¿™æ ·çš„ æ³¨æ„è¿™é‡Œå¤šäº†ä¸€ä¸ªç©ºæ ¼ï¼Œè¿™æ ·æ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œé‚£æ€ä¹ˆæ ·å»æ‰è¿™ä¸ªç©ºæ ¼å‘¢ï¼Œä½¿ç”¨&amp;å–æ¶ˆçˆ¶å­å…³ç³»ï¼Œè®©ä¸¤ä¸ªç±»æŒ¨åœ¨ä¸€èµ· .box { width: @width; height: @height; background-color: pink; &amp;:hover { background-color: deeppink; } } å†æ¥çœ‹ç»“æœ ç©ºæ ¼æ²¡äº† 2.3.1 @åµŒå¥—å’Œå†’æ³¡@ è§„åˆ™ï¼ˆä¾‹å¦‚ @media æˆ– @supportsï¼‰å¯ä»¥ä¸é€‰æ‹©å™¨ä»¥ç›¸åŒçš„æ–¹å¼è¿›è¡ŒåµŒå¥—ã€‚@ è§„åˆ™ä¼šè¢«æ”¾åœ¨å‰é¢ï¼ŒåŒä¸€è§„åˆ™é›†ä¸­çš„å…¶å®ƒå…ƒç´ çš„ç›¸å¯¹é¡ºåºä¿æŒä¸å˜ ä¾‹å¦‚ .component { width: 600px; @media (min-width: 768px) { width: 300px; @media (min-resolution: 192dpi) { background-image: url(/img/retina2x.png); } } @media (min-width: 1280px) { width: 800px; } } è¿™æ®µä»£ç åœ¨componentç±»ä¸­åµŒå¥—äº†ä¸‰ä¸ªåª’ä½“æŸ¥è¯¢ï¼Œç¼–è¯‘ä¹‹åmediaä¼šç¼–è¯‘åˆ°æœ€å¤–å±‚ 2.4 æ··åˆ2.4.1 æ··åˆæ··åˆå°±æ˜¯å°†ä¸€ç³»åˆ—å±æ€§ä»ä¸€ä¸ªè§„åˆ™é›†å¼•ç”¨åˆ°å¦ä¸€ä¸ªè§„åˆ™é›†çš„æ–¹å¼ï¼Œç®€å•æ¥è¯´å·²å®šä¹‰çš„ç±»å¯ä»¥åœ¨å¦ä¸€ä¸ªç±»ä¸­è¿›è¡Œå¼•ç”¨ .border { border-bottom: solid 2px #000; } .border-2 { .border(); color: red; } ç»“æœ å¼•ç”¨æ··åˆçš„æ—¶å€™ï¼Œæ··åˆæ²¡æœ‰å‚æ•°æ—¶ï¼Œæ‹¬å·å¯ä»¥åŠ ä¹Ÿå¯ä»¥ä¸åŠ ï¼›æ··åˆéœ€è¦ä½¿ç”¨é»˜è®¤å‚æ•°æ—¶ï¼Œæ‹¬å·å¿…é¡»åŠ  2.4.2 ä¸ç¼–è¯‘çš„æ··åˆå¦‚æœåªæƒ³å®šä¹‰ä¸€ä¸ªæ··åˆï¼Œåœ¨é€‰æ‹©å…¶åé¢åŠ ä¸€ä¸ªæ‹¬å·ï¼Œé‚£ä¹ˆè¿™ä¸ªæ··åˆä¸ä¼šè¢«ç¼–è¯‘ .border() { border-bottom: solid 2px #000; } .border-2 { .border(); color: red; } ç¼–è¯‘ç»“æœåªæœ‰.border-2è¿™ä¸ªç±» 2.4.3 å¸¦å‚æ•°çš„æ··åˆç±»ä¼¼äºjså®šä¹‰æ–¹æ³•ä¸€æ ·æ¥æ”¶å‚æ•°ï¼Œç„¶åè¿›è¡Œç¼–è¯‘ï¼ˆä½†æ˜¯ï¼Œä»–ä¸å«å‡½æ•°ï¼Œå«æ··åˆï¼‰ .bar(@w, @h, @color) { width: @w; height: @h; color: @color; } .nav-bar { .bar(100px, 200px, #409eff); } åœ¨å¼•ç”¨barçš„æ—¶å€™å°†å‚æ•°å¡«å…¥ï¼Œç„¶åè¿›è¡Œç¼–è¯‘ å¯ä»¥è®¾ç½®å‚æ•°çš„é»˜è®¤å€¼ï¼Œå¯ä»¥ä¼ é€’å‘½åå‚æ•° .bar(@w: 10px, @h:10px, @color:green) { width: @w; height: @h; color: @color; } .nav-bar { .bar(@color: #409eff); } ç»“æœ å½“å¼•ç”¨æ··åˆçš„æ—¶å€™ä¸åŠ ä»»ä½•å‚æ•°å°±ä¼šå…¨éƒ¨ä½¿ç”¨é»˜è®¤å€¼ 2.4.4 åŒ¹é…æ¨¡å¼æ ¹æ®æ ‡è¯†åŒ¹é…æ··åˆï¼Œä¸‹é¢å®šä¹‰äº†4ç§æ ·å¼ï¼Œåˆ†åˆ«æ˜¯ä¸Šå³ä¸‹å·¦è¾¹æ¡† .border-style(@_, @w, @h, @c) { border-style: solid; } .border-style(T, @w, @h, @c) { width: @w; height: @h; border-color: @c transparent transparent transparent; } .border-style(R, @w, @h, @c) { width: @w; height: @h; border-color: transparent @c transparent transparent; } .border-style(B, @w, @h, @c) { width: @w; height: @h; border-color: transparent transparent @c transparent; } .border-style(L, @w, @h, @c) { width: @w; height: @h; border-color: transparent transparent transparent @c; } .border-3 { .border-style(B, 100px, 100px, #000); } åŒ¹é…æ•ˆæœå¦‚å›¾ æ³¨æ„ä»£ç å¼€å§‹çš„åœ°æ–¹ .border-style(@_, @w, @h, @c) { border-style: solid; } è¿™ä¸€æ®µï¼Œ@_ç”¨æ¥åŒ¹é…Lã€Rã€Bã€Tæ ‡è¯†ï¼Œæ¯æ¬¡ä½¿ç”¨åŒ¹é…æ¨¡å¼æ—¶è‡ªåŠ¨å¸¦ä¸Šè¿™æ®µå…¬å…±ä»£ç  2.4.5 @arguments@argumentsåŒ…å«ä¼ è¿›æ¥çš„æ‰€æœ‰å‚æ•° .border_arg(@w:30px,@c:red,@sty:solid){ border:@arguments; } .test_arguments{ .border_arg(); } ç»“æœå¦‚å›¾ 2.5 è¿ç®— ç®—æœ¯è¿ç®—ç¬¦ +ã€-ã€*ã€/ å¯ä»¥å¯¹ä»»ä½•æ•°å­—ã€é¢œè‰²æˆ–å˜é‡è¿›è¡Œè¿ç®—ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œç®—æœ¯è¿ç®—ç¬¦åœ¨åŠ ã€å‡æˆ–æ¯”è¾ƒä¹‹å‰ä¼šè¿›è¡Œå•ä½æ¢ç®—ã€‚è®¡ç®—çš„ç»“æœä»¥æœ€å·¦ä¾§æ“ä½œæ•°çš„å•ä½ç±»å‹ä¸ºå‡†ã€‚å¦‚æœå•ä½æ¢ç®—æ— æ•ˆæˆ–å¤±å»æ„ä¹‰ï¼Œåˆ™å¿½ç•¥å•ä½ã€‚æ— æ•ˆçš„å•ä½æ¢ç®—ä¾‹å¦‚ï¼špx åˆ° cm æˆ– rad åˆ° % çš„è½¬æ¢ @color: #224488 / 2; //ç»“æœæ˜¯ #112244 background-color: #112244 + #111; // ç»“æœæ˜¯ #223355,#111-&gt;#111111 2.6 è½¬ä¹‰å½“éœ€è¦å¼•å…¥æ— æ•ˆçš„CSSè¯­æ³•æˆ–Lessä¸èƒ½è¯†åˆ«çš„å­—ç¬¦ï¼Œå°±éœ€è¦ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ï¼Œåœ¨å­—ç¬¦ä¸²å‰é¢åŠ ä¸€ä¸ª ~ï¼Œå¹¶å°†éœ€è¦è½¬ä¹‰çš„å­—ç¬¦ä¸²æ”¾åœ¨ â€œâ€ ä¸­ @min768: ~&quot;(min-width: 768px)&quot;; .element { @media @min768 { color: pink; } } // ç»“æœ @media (min-width: 768px) { .element { color: pink; } } åœ¨éœ€è¦ä½¿ç”¨cacl()çš„æ—¶å€™lessä¼šè‡ªåŠ¨ç¼–è¯‘æ‹¬å·é‡Œé¢çš„ä¸œè¥¿ ä½¿ç”¨è½¬ä¹‰æ¥é¿å…è‡ªåŠ¨ç¼–è¯‘ .no { height: 100 +20px; width: ~&quot;cacl(200px + 20)&quot;; } 2.7 æ˜ å°„ Less 3.5 ç‰ˆæœ¬å¼€å§‹ï¼Œå¯ä»¥å°†æ··åˆå’Œè§„åˆ™é›†ä½œä¸ºä¸€ç»„å€¼çš„æ˜ å°„ï¼ˆmapï¼‰ä½¿ç”¨ #colors() { primary: blue; secondary: green; } .button { color: #colors[primary]; border: 1px solid #colors[secondary]; } // ç»“æœ .button { color: blue; border: 1px solid green; } 2.8 å¯¼å…¥lessæ–‡ä»¶å¯¼å…¥å¯ä»¥çœç•¥åç¼€å @import &quot;main&quot;; // mian.less @import &quot;style.css&quot;; 2.9 ç»§æ‰¿ä½¿ç”¨extendå‡½æ•°ç»§æ‰¿ä¸€ä¸ªç±» .middle { margin: 0 auto; } .footer:extend(.middle) { color: pink; } ç¼–è¯‘ä¹‹åçš„middleç±»å°†ä¼šå˜æˆä¸¤ä¸ªç±»å…¬å…±éƒ¨åˆ†ï¼Œç”¨é€—å·è¿æ¥","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"css","slug":"css","permalink":"https://easyremember.cn/tags/css/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"åŠ¨æ€æ§åˆ¶è¾“å…¥æ¡†æ•°é‡","slug":"éšæƒ³/åŠ¨æ€æ§åˆ¶è¾“å…¥æ¡†","date":"2020-08-01T14:00:17.672Z","updated":"2020-09-05T09:35:01.008Z","comments":true,"path":"2020/08/01/éšæƒ³/åŠ¨æ€æ§åˆ¶è¾“å…¥æ¡†/","link":"","permalink":"https://easyremember.cn/2020/08/01/éšæƒ³/åŠ¨æ€æ§åˆ¶è¾“å…¥æ¡†/","excerpt":"","text":"åŠ¨æ€æ§åˆ¶è¾“å…¥æ¡†åœ¨å¼€å‘ä¸­ç»å¸¸ä¼šé‡åˆ°æ ¹æ®æƒ…å†µåŠ¨æ€æ§åˆ¶è¾“å…¥æ¡†çš„æƒ…å†µï¼Œä»¥å‰éƒ½æ˜¯ä½¿ç”¨UIæ¡†æ¶æä¾›çš„ç»„ä»¶ï¼Œè¿™æ¬¡è‡ªå·±åŠ¨æ‰‹å®Œæˆäº†ä¸€ä¸ªç®€æ˜“çš„åŠ¨æ€è¾“å…¥æ¡† å…ˆæ¥ä¸Šæ•ˆæœ æ­£ç‰‡å¼€å§‹ åŠ å‡å·ä½¿ç”¨fontawesomeçš„å›¾æ ‡ä¸å¤šåšèµ˜è¿° å…ˆæ¥çœ‹ä¸€ä¸‹æ ‡ç­¾ &lt;div id=&quot;upload-problem-outin&quot; v-for=&quot;(item, index) in problem.sample&quot; :key=&quot;index&quot;&gt; &lt;div class=&quot;outin-style&quot;&gt; &lt;v-textarea v-model=&quot;item.inputSample&quot; :rules=&quot;rule.sampleRule&quot; dense outlined clearable :label=&quot;&#39;è¾“å…¥æ ·ä¾‹&#39;+(index+1)&quot; /&gt; &lt;/div&gt; &lt;div class=&quot;outin-style&quot;&gt; &lt;v-textarea v-model=&quot;item.outputSample&quot; :rules=&quot;rule.sampleRule&quot; dense outlined clearable :label=&quot;&#39;è¾“å‡ºæ ·ä¾‹&#39;+(index+1)&quot; /&gt; &lt;/div&gt; &lt;/div&gt; problem.sampleæ˜¯problemå¯¹è±¡ä¸­çš„æ ·ä¾‹ç›¸å…³éƒ¨åˆ†ï¼Œæ ¼å¼å¦‚ä¸‹ sample: [{ inputSample: &#39;&#39;, outputSample: &#39;&#39; }], é€šè¿‡v-foréå†sampleæ•°ç»„æ¥æ¸²æŸ“æ ·ä¾‹ç»„æ•°ï¼Œé€šè¿‡æ•°æ®ç»‘å®šï¼Œæ§åˆ¶sampleæ•°ç»„çš„å†…å®¹æ¥å®ç°æ ·ä¾‹ç»„æ•°çš„æ¸²æŸ“ å†æ¥çœ‹ä¸€ä¸‹æ§åˆ¶çš„æ–¹æ³• addSample() { this.problem.sample.push({ inputSample: &#39;&#39;, outputSample: &#39;&#39; }) }, subSample() { if(this.problem.sample.length &lt; 2) { alert(&#39;è‡³å°‘ä¿ç•™ä¸€ç»„&#39;) return } this.problem.sample.pop() } è§¦å‘å¢åŠ äº‹ä»¶æ—¶å‘åŸæ•°ç»„è¿½åŠ ä¸€ä¸ªsampleå¯¹è±¡ï¼Œè§¦å‘å‡å°‘äº‹ä»¶æ—¶ä¸¢æ‰æœ€åä¸€é¡¹ï¼Œæ™ºåŠ›æœ‰ä¸€ä¸ªåˆ¤æ–­ï¼Œå³æ ·ä¾‹æ•°ä¸èƒ½å°‘äº1 å¤§åŠŸå‘Šæˆ","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}]},{"title":"Vueç»‘å®šä¸åˆ°ç»„ä»¶","slug":"éšæƒ³/Vueå­è·¯ç”±å¸¸è§çš„é—®é¢˜","date":"2020-08-01T10:38:09.001Z","updated":"2020-09-05T09:39:17.258Z","comments":true,"path":"2020/08/01/éšæƒ³/Vueå­è·¯ç”±å¸¸è§çš„é—®é¢˜/","link":"","permalink":"https://easyremember.cn/2020/08/01/éšæƒ³/Vueå­è·¯ç”±å¸¸è§çš„é—®é¢˜/","excerpt":"","text":"Vueå­è·¯ç”±å¸¸è§çš„é—®é¢˜ä¹‹å‰åœ¨è¿›è¡Œå¼€å‘çš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªå¾ˆç„å­¦çš„é—®é¢˜ï¼Œæœ‰ä¸€ä¸ªé¡µé¢éœ€è¦è®¾ç½®äºŒçº§è·¯ç”±ï¼Œåœ¨è®¾ç½®äºŒçº§è·¯ç”±ä¹‹åæµè§ˆå™¨å´å‡ºç°äº†æŠ¥é”™ è·¯ç”±è®¾ç½®å¦‚ä¸‹ æŠ¥é”™ä¿¡æ¯ åœ¨æŸ¥é˜…äº†ç›¸å…³èµ„æ–™ä¹‹åæ‰¾åˆ°äº†ä¸€ç§è§£å†³åŠæ³•ï¼Œcomponentæ”¹ä¸ºconponents è™½ç„¶æ²¡ææ˜ç™½åŸç†ï¼Œå…ˆè¯•è¯•å†è¯´ï¼Œæµè§ˆå™¨æ­£å¸¸ä¸æŠ¥é”™ï¼Œä½†æ˜¯ï¼ï¼ï¼ ç»„ä»¶ä¹Ÿæ²¡åŠ è½½å‡ºæ¥ï¼ŒTnTï¼Œè¿™å•¥å•Šï¼Œæ²»æ ‡ä¸æ²»æœ¬ ç„¶åæˆ‘å‘ç°äº†è¿™ä¸ª ç”±äºvue-routerç‰ˆæœ¬å‡çº§çš„åŸå› éœ€è¦æ‰‹åŠ¨æ·»åŠ .defaultæ¥åŠ è½½ç»„ä»¶ åŸå› å¦‚ä¸‹ è¿˜æœ‰ç§æ–¹æ³• { path: &#39;back&#39;, name: &#39;back&#39;, component: resolve =&gt; require([&#39;@/components/Admin/Back&#39;], resolve), } æˆ‘è¯•äº†ä¸‹ï¼Œæˆ‘è¯•äº†ä¸‹è¿™ç§æ–¹å¼ä¹Ÿæ²¡é—®é¢˜ï¼Œresolveæ˜¯requireçš„å›è°ƒ è¿˜æ‰¾åˆ°äº†ä¸€ç§è¯´æ³• require æ˜¯ CommonJS çš„æ¨¡å—å¯¼å…¥æ–¹å¼ï¼Œè€Œç»„ä»¶å®šä¹‰æ—¶å†™çš„ export default æ˜¯ ES6 æ–¹å¼ï¼Œå› æ­¤require å¯¼å…¥çš„ç»“æœå…¶å®æ˜¯ä¸€ä¸ªå« default å±æ€§çš„å¯¹è±¡ï¼Œæ‰€ä»¥ vue ä¸­ component ç”¨è¿™ä¸ªä¼šæŠ¥é”™ï¼Œè€Œæ°å¥½ vue çš„å‘½åè§†å›¾ç»„ä»¶æ³¨å†Œç”¨ components ï¼Œè€Œå®˜æ–¹ä¹Ÿè¯´äº†â€œå¦‚æœ router-view æ²¡æœ‰è®¾ç½®åå­—ï¼Œé‚£ä¹ˆé»˜è®¤ä¸º defaultâ€ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªdefault æ­£å¥½å¯¹åº”èµ·æ¥ï¼Œäºæ˜¯åƒæ¥¼ä¸»æ‰€è¯´åŠ äº†så°±ä¸ä¼šæŠ¥é”™äº†ã€‚è€Œåˆç†çš„ç”¨æ³•åº”è¯¥æ˜¯ require(â€˜xxx.vueâ€™).default æˆ–æ˜¯ç”¨ import","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}]},{"title":"Vueåˆ·æ–°é¡µé¢","slug":"éšæƒ³/Vueé¡µé¢åˆ·æ–°æ–¹æ³•","date":"2020-07-31T14:14:47.733Z","updated":"2020-09-17T02:37:27.184Z","comments":true,"path":"2020/07/31/éšæƒ³/Vueé¡µé¢åˆ·æ–°æ–¹æ³•/","link":"","permalink":"https://easyremember.cn/2020/07/31/éšæƒ³/Vueé¡µé¢åˆ·æ–°æ–¹æ³•/","excerpt":"","text":"Vueé¡µé¢åˆ·æ–°æ–¹æ³•åœ¨ç¼–å†™æäº¤è¡¨å•çš„æ—¶å€™ï¼Œå½“è¡¨å•æäº¤ä¸Šä¹‹åæ¸…ç©ºå½“å‰è¡¨å• å¼€å§‹çš„æ—¶å€™æˆ‘æƒ³çš„æ˜¯è¡¨å•æäº¤æˆåŠŸä¹‹ådataä¸­è¡¨å•ä¸­æœ‰å…³è¡¨å•å†…å®¹çš„å˜é‡é‡æ–°èµ‹ç©ºå€¼ï¼Œä½†æ˜¯è¿™æ ·å¤ªè¿‡éº»çƒ¦ å¶ç„¶é—´åœ¨ä¸€ç¯‡åšå®¢ä¸­å‘ç°å¯ä»¥é€šè¿‡è·¯ç”±è·³è½¬å½“å‰è·¯ç”±æ¥æ¸…ç©ºé¡µé¢ ç„¶åå°±æƒ³ç€æœé›†ä¸€ä¸‹æœ‰æ²¡æœ‰å…¶ä»–æ–¹æ³•ï¼Œæœé›†ä¹‹åæ€»ç»“åœ¨è¿™é‡Œäº† è·¯ç”±è·³è½¬this.$http.put(`/admin/problem`, newObj).then(res =&gt; { if (res) { this.$message.success(`ä¸Šä¼ æˆåŠŸ`) } }).then(() =&gt; { //åˆå§‹åŒ–ç•Œé¢æ•°æ® this.$router.go(0) }) é€šè¿‡this.$router.go(0)æ¥åˆ·æ–°é¡µé¢ location.reload()ä¹Ÿå¯ä»¥å®ç°åˆ·æ–°é¡µé¢ ä½†æ˜¯è¿™æ ·æˆ–æœ‰ä¸€ä¸ªç©ºç™½çš„è¿‡ç¨‹ é€šè¿‡ç©ºç™½ç»„ä»¶åˆ·æ–°å°†ä¸Šä¼ æˆåŠŸä¹‹åçš„å›è°ƒä¿®æ”¹ this.$http.put(`/admin/problem`, newObj).then(res =&gt; { if (res) { this.$message.success(`ä¸Šä¼ æˆåŠŸ`) } }).then(() =&gt; { //åˆå§‹åŒ–ç•Œé¢æ•°æ® this.$router.replace({ path: &#39;/admin/back&#39;, name: &#39;back&#39; }) }) ç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºç™½ç»„ä»¶back.vueï¼Œscriptéƒ¨åˆ†å¦‚ä¸‹ // ç”¨äºåˆ·æ–°é¡µé¢ï¼Œæ²¡æœ‰å®é™…æ„ä¹‰ export default { name: &quot;Back&quot;, data() { this.$router.replace({ path: &#39;/admin/uploadProblem&#39;, name: &#39;UploadProblem&#39; }) return { } } } æ•ˆæœå¦‚ä¸‹ï¼Œç½‘ä¸Šè¯´ä¼šæœ‰è·¯ç”±çš„æ”¹å˜è¿‡ç¨‹ï¼Œæˆ‘æ²¡æœ‰å‘ç°ã€‚ã€‚ã€‚ provide / inject ç»„åˆå…ˆä¿®æ”¹ä¸€ä¸‹app.vueï¼Œé€šè¿‡provideä¼ é€’reloadæ–¹æ³•åœ¨router-viewæ ‡ç­¾ä¸­æ·»åŠ v-ifåˆ¤æ–­v-if=&quot;isRouterAlive&quot; export default { provide() { return { reload: this.reload } }, name: &quot;app&quot;, data() { return { isRouterAlive: true } }, methods: { reload() { this.isRouterAlive = false this.$nextTick(function() { this.isRouterAlive = true }) } } } åœ¨éœ€è¦é‡æ–°åŠ è½½çš„é¡µé¢é€šè¿‡ inject: [&#39;reload&#39;],æ¥æ”¶æ–¹æ³•ï¼ˆç½‘ä¸Šå«å®ƒâ€˜æ³¨å…¥ä¾èµ–â€™ï¼‰ï¼Œç„¶åå°±å¯ä»¥åœ¨æ–¹æ³•ä¸­è°ƒç”¨ this.reload()","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}]},{"title":"Vueç‚¹å‡»åˆ‡æ¢å¯¼èˆªæ æ ·å¼","slug":"éšæƒ³/Vueç‚¹å‡»åˆ‡æ¢å¯¼èˆªæ æ ·å¼","date":"2020-07-31T06:09:30.441Z","updated":"2020-09-05T09:39:17.031Z","comments":true,"path":"2020/07/31/éšæƒ³/Vueç‚¹å‡»åˆ‡æ¢å¯¼èˆªæ æ ·å¼/","link":"","permalink":"https://easyremember.cn/2020/07/31/éšæƒ³/Vueç‚¹å‡»åˆ‡æ¢å¯¼èˆªæ æ ·å¼/","excerpt":"","text":"Vueç‚¹å‡»åˆ‡æ¢å¯¼èˆªæ æ ·å¼å¯¼èˆªæ å†…å®¹å¦‚ä¸‹ &lt;div class=&quot;collapse&quot;&gt; &lt;div class=&quot;links&quot;&gt; &lt;router-link v-for=&quot;link in linkLists&quot; :to=&quot;link.links&quot; :key=&quot;link.id&quot; exact&gt;{{link.show}} &lt;/router-link&gt; &lt;/div&gt; æ•ˆæœå¦‚å›¾ æ„Ÿè§‰å¤ªè¿‡ç®€å•ï¼Œå°±æƒ³ç€åŠ ä¸€ä¸ªæ¿€æ´»æ•ˆæœï¼Œå¼€å§‹æƒ³äº†å¾ˆå¤šç§æ–¹æ³•ï¼Œä½†æ˜¯éƒ½å­˜ç€ä¸€å®šçš„ç¼ºé™·ï¼Œå¶ç„¶é—´å‘ç°äº†router-link-activeè¿™ä¸ªä¸œè¥¿ å¯ä»¥ç»™æ¿€æ´»çš„router-linkæ·»åŠ æ ·å¼ï¼Œå°è¯•äº†ä¸€ä¸‹ åœ¨linksé‡Œé¢æ·»åŠ æ ·å¼ï¼ˆä½¿ç”¨çš„lessé¢„ç¼–è¯‘ï¼‰ .links { display: flex; margin-right: auto; a { color: #777; margin: 0 10px; } a:hover { color: #409eff; } .router-link-active { color: #409eff; } } å¼€å§‹æˆ‘ä»¥ä¸ºå®Œäº‹äº†ï¼Œä½†æ˜¯å´å‘ç°æ— è®ºæ€ä¹ˆåˆ‡æ¢é¦–é¡µä¸€ç›´å¤„äºæ¿€æ´»çŠ¶æ€ï¼Œæˆ‘å¼€å§‹é¢å‘ç™¾åº¦è§£å†³é—®é¢˜ ç„¶åæˆ‘å‘ç°äº†exact exact æ˜¯ä¸€ä¸ªå•ç‹¬çš„å±æ€§ æ­£ç¡®ç”¨æ³•æ˜¯ &lt;router-link to=&quot;/home&quot; active-class=&quot;bianlan&quot; exact&gt;ã€‚ è¿™æ ·ï¼Œåªæœ‰å½“è·¯å¾„åˆšå¥½æ˜¯ /home æ—¶æ‰ä¼šæ·»åŠ  bianlan ç±»åï¼Œè€Œå½“è·¯å¾„æ˜¯ /home/something æ—¶åˆ™ä¸ä¼šï¼ˆå› ä¸ºä¸ exactï¼‰ åœ¨router-linkæ ‡ç­¾ä¸­æ·»åŠ exactå±æ€§ä¹‹åæ•ˆæœå®Œç¾","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://easyremember.cn/tags/vue/"}],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://easyremember.cn/categories/éšæƒ³/"}]},{"title":"JSé€’å½’ã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾","slug":"æŠ€æœ¯/JSé€’å½’ã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾","date":"2020-07-31T04:14:58.555Z","updated":"2020-09-05T09:37:36.669Z","comments":true,"path":"2020/07/31/æŠ€æœ¯/JSé€’å½’ã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾/","link":"","permalink":"https://easyremember.cn/2020/07/31/æŠ€æœ¯/JSé€’å½’ã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾/","excerpt":"","text":"JSé€’å½’ã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾é€’å½’å¸¸è§„çš„é€’å½’å‡½æ•°function func(number) { if (number &lt;= 1) { return 1; } else { return number * func(number - 1); } } console.log(func(4)); // 24 è¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„é€’å½’å‡½æ•°ï¼Œä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µä¼šä½¿å¾—æ­¤æ–¹æ³•å‡ºç°é”™è¯¯ã€‚ var func2 = func; func = null; console.log(func2(4)); å°†é€’å½’å‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œç„¶åæŠŠåŸå‡½æ•°èµ‹å€¼ä¸ºnullï¼Œè¿™æ—¶å€™å†è°ƒç”¨å°±ä¼šæŠ¥é”™ è¿™æ˜¯å› ä¸ºfunctionå±äºå¼•ç”¨ç±»å‹ï¼Œèµ‹å€¼æ—¶é€šè¿‡æŒ‡é’ˆæŒ‡å‘åŸå‡½æ•°ï¼ŒåŸå‡½æ•°å‘ç”Ÿæ”¹å˜ï¼Œè°ƒç”¨æ—¶å°±ä¼šå‡ºé”™ ä½¿ç”¨calleeåœ¨ä¸Šé¢çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨arguments.calleeå°±å¯ä»¥è§£å†³ï¼Œarguments.calleeæ˜¯ä¸€ä¸ªæŒ‡å‘æ­£åœ¨æ‰§è¡Œå‡½æ•°çš„æŒ‡é’ˆï¼Œå°†ç»å…¸é€’å½’åšä»¥ä¸‹æ”¹åŠ¨ function func(number) { if (number &lt;= 1) { return 1; } else { return number * arguments.callee(number - 1); } } console.log(func(4)); //24 ä½¿ç”¨æŒ‡é’ˆè¿›è¡Œé€’å½’ï¼Œæ— è®ºæ€ä¹ˆè°ƒç”¨å‡½æ•°éƒ½ä¸ä¼šå‡ºé”™ï¼Œä½†æ˜¯ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä½¿ç”¨arguments.calleeä¼šæŠ¥é”™ å‘½åå‡½æ•°è¡¨è¾¾å¼ä»¥ä¸Šä¸¤ç§æ–¹æ³•éƒ½å­˜åœ¨è¿™ä¸åŒç¨‹åº¦çš„ç¼ºé™·ï¼Œä½¿ç”¨å‘½åå‡½æ•°è¡¨è¾¾å¼å¯ä»¥è¾¾åˆ°æŒ‡é’ˆçš„æ•ˆæœï¼Œäº¦å¯ä»¥åŒæ—¶è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼å’Œéä¸¥æ ¼æ¨¡å¼ä¸‹ var func2 = (function func(number) { if (number &lt;= 1) { return 1; } else { return number * func(number - 1); } }); var func3 = func2; func2 = null; console.log(func3(4)); è¿™æ—¶ä¾æ—§å¯ä»¥æ­£å¸¸æ˜¾ç¤ºç»“æœ é—­åŒ… é—­åŒ…å°±æ˜¯å¯ä»¥åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ç¯å¢ƒï¼Œæ¯ä¸ªé—­åŒ…é‡Œé¢çš„ç¯å¢ƒéƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œäº’ä¸å¹²æ‰°ã€‚é—­åŒ…ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ï¼Œæ¯æ¬¡å¤–éƒ¨å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œå¤–éƒ¨å‡½æ•°çš„å¼•ç”¨åœ°å€ä¸åŒï¼Œéƒ½ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„åœ°å€ã€‚ä½†å‡¡æ˜¯å½“å‰æ´»åŠ¨å¯¹è±¡ä¸­æœ‰è¢«å†…éƒ¨å­é›†å¼•ç”¨çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®ä¸åˆ é™¤ï¼Œä¿ç•™ä¸€æ ¹æŒ‡é’ˆç»™å†…éƒ¨æ´»åŠ¨å¯¹è±¡ã€‚ ä¸Šé¢çš„é€’å½’æœ€åä¸€ç§æ–¹æ³•å°±å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªé—­åŒ… é—­åŒ…ä¸å˜é‡ç»å…¸çš„ç¤ºä¾‹ function newArray() { var result = new Array(); for (var i = 0; i &lt; 10; i++) { result[i] = function () { return i; } } return result; } var newArr = newArray(); for (var i = 0; i &lt; 10; i++) { console.log(newArr[i]()); } // 10,10,10,10,10,10,10,10,10,10 ä¹ä¸€çœ‹å¥½åƒæ˜¯forå¾ªç¯ä¸­æ¯æ¬¡å¾ªç¯å°†0-9èµ‹å€¼ç»™æ•°ç»„çš„æ¯ä¸€é¡¹ï¼Œå…¶å®å¹¶ä¸æ˜¯ï¼Œå› ä¸ºå½“å‰çš„newArray()æ­£åœ¨æ‰§è¡Œï¼Œæ¯ä¸ªå‡½æ•°ä½œç”¨åŸŸé“¾éƒ½ä¿å­˜ç€newArray()çš„æ´»åŠ¨å¯¹è±¡ï¼Œæ‰€ä»¥forå¾ªç¯ä¸­æ¯æ¬¡éƒ½æ˜¯å¼•ç”¨çš„åŒä¸€ä¸ªå˜é‡iï¼Œforå¾ªç¯ç»“æŸä¹‹åï¼Œiæ˜¯10ï¼Œæ‰€ä»¥æ¯ä¸ªå‡½æ•°å†…éƒ¨çš„iéƒ½æ˜¯10ã€‚ å†å°†è¿”å›içš„å‡½æ•°åŒ…åœ¨ä¸€ä¸ªåŒ¿åå‡½æ•°ä¸­ï¼Œå°±å¯ä»¥è¾¾åˆ°äº’ä¸å½±å“çš„æ•ˆæœ function newArray() { var result = new Array(); for (var i = 0; i &lt; 10; i++) { result[i] = function (num: number) { return function () { return num; }; }(i) } return result; } var newArr = newArray(); for (var i = 0; i &lt; 10; i++) { console.log(newArr[i]()); } ç»“æœå¦‚ä¸‹ åœ¨forå¾ªç¯ä¸­,è‡ªè°ƒç”¨å‡½æ•°ç«‹å³æ‰§è¡Œ,è·å–å®æ—¶åœ°ièµ‹å€¼ç»™num. å¾ªç¯ç»“æŸä¹‹å,è¿”å›resultï¼Œåœ¨è‡ªè°ƒç”¨å‡½æ•°æ‰§è¡Œä¹‹åï¼Œä»–çš„ä½œç”¨åŸŸå°±è¢«é”€æ¯äº†ï¼Œä¸ä¼šå†è¢«å…¶ä»–æ“ä½œå½±å“ thiså¯¹è±¡// éä¸¥æ ¼æ¨¡å¼ var arg = &#39;window&#39;; var object = { arg: &#39;object&#39;, getArg: function () { return function () { return this.arg; }; } }; console.log(object.getArg()()); //window ä¸ºä»€ä¹ˆç»“æœä¼šæ˜¯windowå‘¢ï¼Œæ¥çœ‹ä¸€ä¸‹æœ€åä¸€è¡Œ // object.getArg()()ç›¸å½“äº var val = object.getArg(); val(); æŠŠgetArgè¿”å›çš„æ–¹æ³•èµ‹å€¼ç»™äº†valå˜é‡ï¼Œç„¶åæ‰§è¡Œå‡½æ•°ã€‚å› ä¸ºvalåœ¨å…¨å±€ä¸­ï¼Œæ‰€ä»¥è·å¾—çš„argæ˜¯å…¨å±€ä¸­çš„argè¿˜æœ‰ä¸€ç§æƒ…å†µä¼šå‡ºç°é—®é¢˜ var arg = &#39;window&#39;; var object = { arg: &#39;object&#39;, getArg: function () { return this.arg; } }; object.getArg() // object object.getArg() // object (object.getArg = object.getArg)() // window ç¬¬ä¸€ç§æ–¹æ³•ç®€å•çš„è°ƒç”¨äº†objectçš„æ–¹æ³•ï¼›ç¬¬äºŒç§æ–¹æ³•å¼•ç”¨äº†objectçš„æ–¹æ³•ï¼Œthiså¯¹è±¡èƒ½å¤Ÿç»´æŒï¼›ä½†æ˜¯ç¬¬ä¸‰ç§æ˜¯ä¸€ä¸ªèµ‹å€¼è¯­å¥ï¼Œèµ‹å€¼è¯­å¥æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œä¹Ÿå°±æ˜¯ç­‰å·å³è¾¹ï¼Œæ‰€ä»¥è¿™é‡Œå¼•ç”¨äº†æ–¹æ³•ï¼Œä½†ä¸æ˜¯objectå†…éƒ¨è€Œæ˜¯æŒ‡å‘window ä»è¿™å¼ å›¾å°±å¯ä»¥çœ‹å‡ºèµ‹å€¼è¯­å¥å…¶å®æ˜¯æœ‰è¿”å›å€¼çš„ è§£å†³æ–¹æ³• 1 ä¼ é€’thisæŒ‡å‘var arg = &#39;window&#39;; var object = { arg: &#39;object&#39;, getArg: function () { var _this = this; return function () { return _this.arg; }; } }; console.log(object.getArg()()); å°†objectçš„thisä¼ é€’åˆ°getArgä¹‹å†…ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªå¼•ç”¨å€¼è·å–arg 2 ç®­å¤´å‡½æ•°ä¹Ÿå°±æ˜¯lambdaè¡¨è¾¾å¼ var arg: string = &#39;window&#39;; var object = { arg: &#39;object&#39;, getArg: function () { return () =&gt; { return this.arg } } } console.log(object.getArg()()); ç®­å¤´å‡½æ•°çš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯ä¸æ”¹å˜thisçš„æŒ‡å‘ å†…å­˜æ³„æ¼é—­åŒ…çš„ç¼ºé™·åœ¨äºä¼šé€ æˆå†…å­˜æ³„éœ²ï¼Œå½“å‰æ´»åŠ¨å¯¹è±¡ä¸­æœ‰è¢«å†…éƒ¨å­é›†å¼•ç”¨çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®ä¸åˆ é™¤ï¼Œæ¯”å¦‚é€šè¿‡nodeç»“ç‚¹ç»™htmlå…ƒç´ æ·»åŠ ç‚¹å‡»äº‹ä»¶çš„æ—¶å€™ï¼Œå½“äº‹ä»¶æ·»åŠ å®Œä¹‹åï¼Œå­˜å‚¨nodeç»“ç‚¹çš„å˜é‡ä¼šä¸€ç›´å ç”¨å†…å­˜ï¼Œé€ æˆå†…å­˜æ³„æ¼ var divNode = document.getElementById(&#39;box&#39;); divNode.onclick = function () { alert(&#39;click&#39;); }; å­˜å‚¨divNodeçš„å†…å­˜å°†ä¼šæ— æ³•é‡Šæ”¾ä¹Ÿæ— æ³•ä½¿ç”¨ï¼Œæ€ä¹ˆè§£å†³å‘¢ åœ¨æ·»åŠ å®Œäº‹ä»¶ä¹‹åå°†divNodeæ‰‹åŠ¨èµ‹å€¼ä¸ºç©º var divNode = document.getElementById(&#39;box&#39;); divNode.onclick = function () { alert(&#39;click&#39;); }; divNode = null; ä½œç”¨åŸŸé“¾ä½œç”¨åŸŸ ä½œç”¨åŸŸæ˜¯åœ¨è¿è¡Œæ—¶ä»£ç ä¸­çš„æŸäº›ç‰¹å®šéƒ¨åˆ†ä¸­å˜é‡ï¼Œå‡½æ•°å’Œå¯¹è±¡çš„å¯è®¿é—®æ€§ã€‚æ¢å¥è¯è¯´ï¼Œä½œç”¨åŸŸå†³å®šäº†ä»£ç åŒºå—ä¸­å˜é‡å’Œå…¶ä»–èµ„æºçš„å¯è§æ€§ã€‚ å…¨å±€ä½œç”¨åŸŸä¸€èˆ¬å…¨å±€ä½œç”¨åŸŸæœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µ æœ€å¤–å±‚å‡½æ•°å’Œæœ€å¤–å±‚å‡½æ•°å¤–é¢å®šä¹‰çš„å˜é‡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ æ‰€æœ‰æœªç›´æ¥å®šä¹‰çš„å˜é‡ æ‰€æœ‰windowå¯¹è±¡ å‡½æ•°ä½œç”¨åŸŸå£°æ˜åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå‡½æ•°ä½œç”¨åŸŸä¸€èˆ¬åªæœ‰ä»£ç ç‰‡æ®µä¸­å¯ä»¥è®¿é—®ï¼Œæ¯”å¦‚å‡½æ•°å†…éƒ¨ ä¾‹å¦‚ function func1(a) { var b = a * 2; function func2(c) { console.log(a, b, c); } func2(b * 2); } func1(2) è¿™æ®µä»£ç ä¸­å­˜åœ¨3ä¸ªä½œç”¨åŸŸ å…¨å±€ä½œç”¨åŸŸï¼Œæ ‡è¯†ç¬¦func1 ä½œç”¨åŸŸfunc1ï¼Œæ ‡è¯†ç¬¦aï¼Œbï¼Œfunc2 ä½œç”¨åŸŸfunc2ï¼Œæ ‡è¯†ç¬¦c ä½œç”¨åŸŸé“¾ ç”±å¤šçº§ä½œç”¨åŸŸè¿ç»­å¼•ç”¨å½¢æˆçš„é“¾å¼ç»“æœï¼ŒæŒç®¡ä¸€åˆ‡å˜é‡çš„ä½¿ç”¨é¡ºåºï¼š å…ˆåœ¨å±€éƒ¨æ‰¾ï¼Œæ²¡æœ‰ï¼Œå°±å»¶ä½œç”¨åŸŸå‘çˆ¶çº§ä½œç”¨åŸŸæ‰¾ã€‚ å¯ä»¥å‘ä¸Šæœç´¢ï¼Œä½†ä¸å¯ä»¥å‘ä¸‹æœç´¢ è¿™ç§ä¸€å±‚ä¸€å±‚çš„å…³ç³»ï¼Œå°±æ˜¯ ä½œç”¨åŸŸé“¾ ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Express+MySQLå®ç°å¢åˆ æŸ¥æ”¹","slug":"æŠ€æœ¯/Express+MySQLå®ç°å¢åˆ æŸ¥æ”¹","date":"2020-07-28T13:56:38.115Z","updated":"2020-09-05T09:37:26.108Z","comments":true,"path":"2020/07/28/æŠ€æœ¯/Express+MySQLå®ç°å¢åˆ æŸ¥æ”¹/","link":"","permalink":"https://easyremember.cn/2020/07/28/æŠ€æœ¯/Express+MySQLå®ç°å¢åˆ æŸ¥æ”¹/","excerpt":"","text":"Express+MySQLå®ç°å¢åˆ æŸ¥æ”¹ç°åœ¨Nodeåå°å¼€å‘åœ¨ç½‘ä¸Šæ‰¾åˆ°çš„èµ„æ–™åŸºæœ¬éƒ½æ˜¯ç”¨çš„MongoDBæ•°æ®åº“ï¼Œä¸å¤ªå®¹æ˜“æ‰¾åˆ°ä½¿ç”¨MySQLæ•°æ®åº“çš„èµ„æ–™ï¼Œæ‰€ä»¥æˆ‘æ•´ç†äº†ä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œå°†ä¼šè®²è§£å¦‚ä½•ä½¿ç”¨Expresså’ŒMySQLæ¥å®ç°CRUD ç¯å¢ƒæ­å»ºç”Ÿæˆå™¨å¯ä»¥ç›´æ¥ä½¿ç”¨Expressç”Ÿæˆå™¨è‡ªåŠ¨ç”ŸæˆExpresså·¥ç¨‹ $ npm install -g express-generator $ express --view=ejs myapp æ‰‹åŠ¨æ­å»ºåˆ›å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•$ npm init æ–°å»ºapp.jså…¥å£æ–‡ä»¶ æ–°å»ºrouter.jsè·¯ç”±æ–‡ä»¶ åˆ›å»ºviewsæ–‡ä»¶å¤¹ï¼Œå­˜æ”¾EJSæ¨¡æ¿æ–‡ä»¶ï¼ˆstudent.ejs, editStu.ejsï¼‰ æ–°å»ºpublicå…¬å…±èµ„æº viewsæ–‡ä»¶å¤¹å‘½åä¸å¯ä»¥æ˜¯åˆ«çš„ï¼Œä¼šæŠ¥é”™ å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—$ npm install express --save $ npm install mysql --save $ npm install ejs --save ç¼–å†™ä»£ç ç¼–å†™å…¥å£æ–‡ä»¶å®ä¾‹åŒ–ã€æ¨¡æ¿å¼•æ“è®¾ç½®ã€é™æ€èµ„æºã€ç›‘å¬ const express = require(&#39;express&#39;); const app = express(); const stuRoute = require(&#39;/router&#39;) // è®¾ç½®æ¨¡æ¿å¼•æ“ app.set(&quot;view engine&quot;, &quot;ejs&quot;); // åŠ è½½é™æ€èµ„æº app.use(express.static(&#39;public&#39;)); // ä½¿ç”¨è·¯ç”± app.use(stuRoute); // ç›‘å¬ app.listen(3001, () =&gt; { console.log(&#39;å¯åŠ¨æˆåŠŸ&#39;); }) ç¼–å†™è·¯ç”±æ–‡ä»¶const express = require(&#39;express&#39;); const route = express.Router(); const mysql = require(&#39;mysql&#39;); // é…ç½®æ•°æ®åº“,è¿æ¥æ± æ¨¡å¼ var pool = mysql.createPool({ connectionLimit: 10, // è¿æ¥æ•°é‡ host: &#39;localhost&#39;, // åœ°å€ user: &#39;liuhao&#39;, // æ•°æ®åº“ç”¨æˆ·å password: &#39;123456&#39;, // æ•°æ®å¯å¯†ç  database: &#39;ssmbuild&#39; // æ•°æ®åº“å }); route.get(&#39;/student&#39;, (req, res) =&gt; { console.log(&quot;/student:&quot;, req.query); const sql = &#39;select * from books where bookName = ?&#39;; let params = [&#39;java&#39;]; // æ ¹æ®æ¡ä»¶æŸ¥è¯¢ä¿¡æ¯ pool.getConnection(function (err, connection) { if (err) throw err; // not connected! connection.query(sql, params, function (error, results, fields) { connection.release(); console.log(results); // å°†æ•°æ®ä¼ åˆ°ejsæ¸²æŸ“ res.render(&#39;student&#39;, { res: [] }) if (error) throw error; }); }); }) module.exports = route; æ•ˆæœå±•ç¤ºæŸ¥è¯¢ç»“æœ æ•°æ®åº“æ•°æ® è¿™é‡Œå¯ä»¥çœ‹åˆ°æ•°æ®å·²ç»æŸ¥è¯¢æˆåŠŸ æœ¬ç¯‡ä¸»è¦è®²è§£mysqlæ¨¡å—ä½¿ç”¨ï¼Œå¯¹æ•°æ®æ¸²æŸ“ä¸å†èµ˜è¿°å¦å¤–ä¿®æ”¹åˆ é™¤ä¿®æ”¹ä¸€ä¸‹sqlè¯­å¥å’Œparamså‚æ•°å³å¯ï¼Œå¼€å‘æ—¶æ•°æ®åº“éƒ¨åˆ†ä¸€èˆ¬ä¼šå•ç‹¬ä½œä¸ºä¸€ä¸ªæ¨¡å—è¿›è¡Œå°è£… ç°åœ¨å¤§éƒ¨åˆ†å¼€å‘ä¸€èˆ¬æ˜¯è¿”å›jsonæ•°æ®ï¼ŒåæœŸä¼šå†è¿›è¡Œè®°å½•","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"express","slug":"express","permalink":"https://easyremember.cn/tags/express/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"æ€é€”å®è®­day5","slug":"ç”Ÿæ´»/STDay 5","date":"2020-07-26T13:40:01.320Z","updated":"2020-09-05T09:36:44.780Z","comments":true,"path":"2020/07/26/ç”Ÿæ´»/STDay 5/","link":"","permalink":"https://easyremember.cn/2020/07/26/ç”Ÿæ´»/STDay 5/","excerpt":"","text":"Day 5å¼•å…¥jså°½é‡æ”¾åœ¨bodyæ ‡ç­¾çš„æœ€åï¼Œå…ˆåŠ è½½é™æ€æ ‡ç­¾ï¼Œå†åŠ è½½jsè„šæœ¬ jQueryè¡¨è¾¾å¼å¿…é¡»æœ‰åˆ†å· jQueryæ”¹å˜å…ƒç´ æ ·å¼(() =&gt; { $(&#39;div&#39;).css({&#39;color&#39;: &#39;red&#39;}); })() clickäº‹ä»¶$(function () { $(&#39;button&#39;).click(() =&gt; { $(&#39;div&#39;).css({&#39;color&#39;: &#39;red&#39;}); }); }); å¯¼èˆªæ é¢œè‰²ä¿®æ”¹ &lt;ul id=&quot;nav-ul&quot; onclick=&quot;navHandle()&quot;&gt; &lt;li id=&quot;li1&quot;&gt;é¦–é¡µ&lt;/li&gt; &lt;li id=&quot;li2&quot;&gt;æ‰€æœ‰å®è´&lt;/li&gt; &lt;li id=&quot;li3&quot;&gt;æ¯å‘¨ä¸€ä¸Šæ–°&lt;/li&gt; &lt;li id=&quot;li4&quot;&gt;ç”Ÿæ´»é¦†&lt;/li&gt; &lt;li id=&quot;li5&quot;&gt;ç‰¹æƒ &lt;/li&gt; &lt;li id=&quot;li6&quot;&gt;ç¤¼å“åŒº&lt;/li&gt; &lt;/ul&gt; function navHandle() { var nodeId = window.event.target.id; // console.log(node); $(&#39;#&#39; + nodeId).css({ &#39;color&#39;: &#39;#d62cc0&#39; }).siblings().css({ &#39;color&#39;: &#39;#ffffff&#39; }); } siblings()æ–¹æ³•è¿”å›è¢«é€‰ä¸­å…ƒç´ çš„åŒçº§å…ƒç´  é¼ æ ‡ç»è¿‡å’Œç§»å‡º$(function() { $(&#39;#mouse&#39;).mouseenter(() =&gt; { $(&#39;#mouse&#39;).css({ &#39;background&#39;: &#39;red&#39; }); }); }); $(function() { $(&#39;#mouse&#39;).mouseleave(() =&gt; { $(&#39;#mouse&#39;).css({ &#39;background&#39;: &#39;#409eff&#39; }); }); }); æ·¡å…¥æ·¡å‡ºæ•ˆæœ$(function() { $(&#39;.b-f-1&#39;).mouseenter(() =&gt; { $(&#39;#black1&#39;).fadeOut(500); }); }); $(function() { $(&#39;.b-f-1&#39;).mouseleave(() =&gt; { $(&#39;#black1&#39;).fadeIn(300); }); }); æ»‘åŠ¨æ•ˆæœslideDownã€slideUp $(function() { $(&#39;div&#39;).mouseenter(() =&gt; { $(&#39;div&#39;).slideDown(1000); }); }); $(function() { $(&#39;div&#39;).mouseleave(() =&gt; { $(&#39;div&#39;).slideUp(1000); }); }); æ€»ç»“ä»Šå¤©å¤§æ¦‚å¤ä¹ äº†ä¸€ä¸‹jQueryï¼Œå¾ˆå¤šä¸œè¥¿éƒ½å¿˜äº†ï¼Œéœ€è¦å†çœ‹ä¸€ä¸‹","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}],"tags":[{"name":"æ€é€”å®è®­","slug":"æ€é€”å®è®­","permalink":"https://easyremember.cn/tags/æ€é€”å®è®­/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}]},{"title":"æ€é€”å®è®­day4","slug":"ç”Ÿæ´»/STDay 4","date":"2020-07-24T11:29:57.687Z","updated":"2020-09-05T09:36:44.729Z","comments":true,"path":"2020/07/24/ç”Ÿæ´»/STDay 4/","link":"","permalink":"https://easyremember.cn/2020/07/24/ç”Ÿæ´»/STDay 4/","excerpt":"","text":"Day4æ—‹è½¬+é€æ˜åº¦div { width: 150px; height: 150px; border-radius: 50%; overflow: hidden; border: solid 3px #409eff; transition: 0.5s; opacity: 0.5; } div:hover { transform: rotate(200deg); opacity: 1; } ä»Šæ—¥æ”¶è·ã€‚ã€‚ã€‚å°±æ˜¯ä¸ªé€æ˜opacity æˆæœ","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}],"tags":[{"name":"æ€é€”å®è®­","slug":"æ€é€”å®è®­","permalink":"https://easyremember.cn/tags/æ€é€”å®è®­/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}]},{"title":"æ€é€”å®è®­day3","slug":"ç”Ÿæ´»/STDay 3","date":"2020-07-24T01:17:51.174Z","updated":"2020-09-05T09:36:44.676Z","comments":true,"path":"2020/07/24/ç”Ÿæ´»/STDay 3/","link":"","permalink":"https://easyremember.cn/2020/07/24/ç”Ÿæ´»/STDay 3/","excerpt":"","text":"Day 3HTMLæ ‡ç­¾ã€‚ã€‚ã€‚ä»0å¼€å§‹çš„é‚£ç§ã€‚ã€‚ã€‚ cssæ ·å¼é€šé…ç¬¦é€‰æ‹©å™¨* { margin: 0; list-style: none; /* å»æ‰liståœ†ç‚¹ */ text-decoration: none; /* å»æ‰ä¸‹åˆ’çº¿ */ } åˆ—è¡¨å³æµ®åŠ¨åªç»™çˆ¶çº§ä¸ç»™å­çº§èƒŒæ™¯å›¾ç‰‡å¼•å…¥èƒŒæ™¯å›¾ç‰‡å¿…é¡»è®¾ç½®é«˜åº¦ï¼Œå¦åˆ™ä¸æ˜¾ç¤º .binner { /* no-repeatä¸å¹³é“º */ background: url(../img/TB183NQapLM8KJjSZFBSutJHVXa.jpg) no-repeat; height: 568px; background-size: 100% auto; /* å›¾ç‰‡è‡ªé€‚åº” */ } è¡Œé«˜ç­‰äºdivé«˜åº¦æ—¶è‡ªåŠ¨å±…ä¸­.nav-f { width: 660px; height: 120px; position: absolute; left: 168px; line-height: 120px; } ç²¾çµå›¾ä½¿ç”¨Photoshopä¿¡æ¯é¢æ¿é…åˆç²¾çµå›¾è®¾ç½®å›¾ç‰‡ æ¯”å¦‚è¿™å¼ ç²¾çµå›¾ .shopping { width: 30px; height: 30px; background: url(../img/icon.png); background-position: -16px -133px; } å¼•å…¥å›¾ç‰‡ä¹‹åå°†é¼ æ ‡ç§»è‡³å›¾æ ‡å·¦ä¸Šè§’ï¼Œçœ‹åˆ°ä½ç½®æ˜¯Xï¼š16ï¼ŒYï¼š133ï¼Œå°†å›¾ç‰‡ä½ç½®è®¾ç½®ä¸º-16px,-133pxï¼Œå°†å›¾ç‰‡æ²¿ç€Xè½´Yè½´ç§»åŠ¨ä¹‹åï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ ¹æ®è®¾ç½®çš„å®½é«˜ä»èµ·ç‚¹ä½ç½®è£åˆ‡","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}],"tags":[{"name":"æ€é€”å®è®­","slug":"æ€é€”å®è®­","permalink":"https://easyremember.cn/tags/æ€é€”å®è®­/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}]},{"title":"JSå¼‚æ­¥è½®è¯¢","slug":"æŠ€æœ¯/å¼‚æ­¥è½®è¯¢","date":"2020-07-23T05:50:43.924Z","updated":"2020-12-06T10:35:39.054Z","comments":true,"path":"2020/07/23/æŠ€æœ¯/å¼‚æ­¥è½®è¯¢/","link":"","permalink":"https://easyremember.cn/2020/07/23/æŠ€æœ¯/å¼‚æ­¥è½®è¯¢/","excerpt":"","text":"å¼‚æ­¥è½®è¯¢å¼‚æ­¥å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ console.log(&#39;start&#39;) setTimeout(() =&gt; { console.log(&#39;setTimeout&#39;) }, 4000) console.log(&#39;end&#39;) è¿™æ®µä»£ç çš„æ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆï¼Œä½ å¯èƒ½æƒ³åˆ°çš„ç»“æœæ˜¯ start setTimeout end ä½†æ˜¯ï¼Œjsæ˜¯å•çº¿ç¨‹çš„ï¼Œä¸ä¼šå› ä¸ºä¸€ä¸ªä»»åŠ¡è€Œè¢«é˜»å¡ï¼Œå¼‚æ­¥æ“ä½œå°†ä¼šè¢«æ”¾åˆ°é˜Ÿåˆ—ä¸­ï¼Œç­‰ä¸»çº¿ç¨‹æ‰§è¡Œå®Œç¬¬ä¸€è½®ä»»åŠ¡ï¼Œç„¶åå†æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ è¿™é‡Œç¨å¾®æ‰¯ä¸€ä¸‹æ ˆå’Œé˜Ÿåˆ— æ ˆï¼ˆstackï¼‰ æ ˆæ˜¯ä¸€ç§å…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ¡¶ï¼Œå…ˆæ”¾è¿›çš„ä¸œè¥¿åœ¨æœ€ä½ä¸‹ï¼Œåæ”¾çš„ä¸œè¥¿åœ¨æœ€å¤–é¢ï¼Œå¤–é¢çš„å–å®Œäº†ä¹‹åæ‰èƒ½æ‹¿å‡ºæœ€å…ˆæ”¾è¿›å»çš„ä¸œè¥¿ï¼› é˜Ÿåˆ—ï¼ˆqueueï¼‰ é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥çœ‹åšä¸€ä¸ªç®¡é“ï¼Œå…ˆè¿›çš„å…ˆå‡ºï¼Œåè¿›çš„åå‡º å›åˆ°æ­£é¢˜ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­setTimeoutæ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œè¢«æ”¾åˆ°äº†é˜Ÿåˆ—ä¸­ï¼Œå½“ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæˆä¹‹åå†æ¥æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œæ‰€ä»¥ç­”æ¡ˆåº”è¯¥æ˜¯ åœ¨jsçš„é˜Ÿåˆ—ä¸­æœ‰ä¸¤ç§åˆ’åˆ†ï¼Œä¸€ç§æ˜¯å®ä»»åŠ¡ï¼ˆmacrotask queueï¼‰ï¼Œä¸€ç§æ˜¯å¾®ä»»åŠ¡ï¼ˆmicrotask queueï¼‰ï¼Œæ¯ä¸€ä¸ªäº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰éƒ½æœ‰ä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œä¼šæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå®ä»»åŠ¡ï¼Œæ¯ä¸€æ¬¡äº‹ä»¶å¾ªç¯éƒ½ä¼šé¦–å…ˆæ‰§è¡Œå¾®ä»»åŠ¡æ‰§è¡Œå®Œåä»å®ä»»åŠ¡å–å‡ºä¸€ä¸ªåŠ å…¥åˆ°å¾®ä»»åŠ¡ç„¶åæ‰§è¡Œï¼Œç›´è‡³é˜Ÿåˆ—ä¸­æ‰€æœ‰çš„ä»»åŠ¡æ‰§è¡Œç»“æŸ å®ä»»åŠ¡ script(æ•´ä½“ä»£ç ) setTimeout setInterval I/O UIäº¤äº’äº‹ä»¶ postMessage MessageChannel setImmediate(Node.js ç¯å¢ƒ) å¾®ä»»åŠ¡ Promise.then Object.observe MutaionObserver process.nextTick(Node.js ç¯å¢ƒ) Promiseå¼‚æ­¥åŸç†çœ‹å®Œäº†ï¼Œä¸‹é¢å¼€å§‹Promise let promise = new Promise((resolve, reject) =&gt; { // resolve(&quot;æˆåŠŸ&quot;) // reject(&quot;å¤±è´¥&quot;) }) console.log(promise) å…ˆæ¥çœ‹ä¸€ä¸‹Promiseå¯¹è±¡çš„ç»“æ„ å½“æ²¡æœ‰ä»»ä½•æ“ä½œçš„æ—¶å€™ï¼ŒPromiseå¯¹è±¡çš„çŠ¶æ€æ—¶pendingï¼Œå€¼æ˜¯undefinded å½“åœ¨Promiseä¸­è°ƒç”¨resolveä¹‹åï¼ŒçŠ¶æ€å˜ä¸ºfulfilledï¼Œæ„æ€æ˜¯æˆåŠŸ å½“è°ƒç”¨rejectçš„æ—¶å€™ï¼ŒçŠ¶æ€å˜ä¸ºrejectedï¼Œæ„æ€æ˜¯å¤±è´¥ Promiseçš„çŠ¶æ€æ˜¯ä¸å¯é€†çš„ï¼Œresolveå’ŒrejectåŒæ—¶å‡ºç°ï¼Œå…ˆæ‰§è¡Œçš„å†³å®šçŠ¶æ€ï¼Œåæ‰§è¡Œçš„ä¸ç”Ÿæ•ˆ ä¸‹é¢è¿™ä¸‰ç§æ–¹æ³•å¯ä»¥è§¦å‘Promise.thençš„é”™è¯¯æ–¹æ³• throw new Error(â€˜failâ€™) reject(â€˜failâ€™) é”™è¯¯æ“ä½œï¼ˆé»˜è®¤ï¼Œç±»ä¼¼try/catchï¼‰ é“¾å¼è°ƒç”¨console.log(&#39;start&#39;) let promise = new Promise((resolve, reject) =&gt; { console.log(&#39;promise&#39;) resolve(&quot;success&quot;) // reject(&quot;faild&quot;) }).then(value =&gt; { console.log(value+1) return value }, reason =&gt; { console.log(reason) }).then(value =&gt; { console.log(value+2) }, reason =&gt; { console.log(reason) }) console.log(&#39;end&#39;) æ‰“å°ç»“æœä¸º Promiseä¼šå°†è¿”å›å€¼ä½œä¸º.then()çš„å‚æ•°ä¼ é€’ä¸‹å»ï¼Œè€Œä¸”ä¸¤ä¸ª.thenæ˜¯åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæˆä¹‹åæ‰æ‰§è¡Œçš„ï¼Œè¿™é‡Œè¢«æ”¾åˆ°äº†å¾®ä»»åŠ¡ï¼ˆä¸æ˜¯å¹¶åˆ—çš„ï¼Œå½“æ‰§è¡Œç¬¬ä¸€ä¸ª.thençš„æ—¶å€™ç¬¬äºŒä¸ª.thenæ‰ä¼šè¢«æ”¾åˆ°å¾®ä»»åŠ¡ï¼‰ï¼Œå¦‚æœä¸è°ƒç”¨resolveæˆ–è€…rejectï¼Œå¾®ä»»åŠ¡æ˜¯ä¸åˆ›å»ºçš„ æ¯ä¸€ä¸ªPromise.thenä¹Ÿæ˜¯ä¸€ä¸ªPromise çŠ¶æ€ä¸­è½¬let promiseErr = new Promise((resolve, reject) =&gt; { reject(&#39;faild&#39;) }) let promise = new Promise((resolve, reject) =&gt; { resolve(promiseErr) }).then(value =&gt; { console.log(&#39;value:&#39;+value) }, reason =&gt; { console.log(&#39;err:&#39;+reason); }) è¿™é‡Œpromiseè™½ç„¶è°ƒç”¨äº†resolveï¼Œä½†æ˜¯è¿”å›çš„çŠ¶æ€å´æ˜¯promiseErrçš„ï¼Œæ‰€ä»¥ä»–çš„ç»“æœæ˜¯ .thenæ˜¯å¯¹å®ƒå‰ä¸€ä¸ªPromiseå¯¹è±¡çš„æ“ä½œ é”™è¯¯æ•è·è¿™æ ·æ¯ä¸€ä¸ªthenéƒ½æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œè¿‡äºç¹çï¼Œå¯ä»¥åœ¨thenä¸­åªå†™æˆåŠŸæ–¹æ³•ï¼Œåœ¨æœ€åä½¿ç”¨catchæ–¹æ³•æ•è·é”™è¯¯ let promise = new Promise((resolve, reject) =&gt; { resolve() }).then(v =&gt; { console.log(&#39;p1&#39;) throw new Error(&#39;fail&#39;) }).then(v =&gt; { console.log(&#39;p2&#39;) }).catch(err =&gt; { console.log(err) }).then(v =&gt; { console.log(&#39;p3&#39;) }).then(v =&gt; { console.log(&#39;p4&#39;) }) ç»“æœä¸º æœ‰ç»“æœå¯ä»¥çœ‹å‡ºï¼Œå‘ç”Ÿé”™è¯¯çš„åœ°æ–¹åˆ°catchä¹‹é—´çš„ä»£ç ä¸ä¼šæ‰§è¡Œï¼Œcatchè¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ async/awaitäº†è§£äº†Promiseä¹‹åï¼Œasync/awaitå°±å¾ˆå®¹æ˜“äº†ï¼Œå®ƒå…¶å®å°±æ˜¯Promiseçš„è¯­æ³•ç³– async function asyncFunc() { return &quot;asunc&quot; } let result = asyncFunc() console.log(result); ä»ç»“æœçœ‹å‡ºï¼Œasyncæ–¹æ³•è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ æ¥çœ‹çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ function p() { console.log(&#39;p&#39;) } async function func() { await p(); console.log(&#39;OK&#39;) } console.log(&#39;start&#39;) func() console.log(&#39;end&#39;) // start // p // end // OK ç”¨çŸ¥ä¹ä¸Šçœ‹åˆ°è¿‡ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šï¼Œå¯ä»¥å°† async function func() { await p(); console.log(&#39;OK&#39;) } ç†è§£ä¸º function func() { return Promise.resolve(p()).then(() =&gt; { console.log(&#39;OK&#39;) }) } console.log(â€˜OKâ€™)è¢«åˆ†é…åˆ°å¾®ä»»åŠ¡ä¸­ç­‰å¾…ä¸‹ä¸€è½®è½®è¯¢ æ¥çœ‹ä¸€ä¸ªç»¼åˆæ¡ˆä¾‹ async function async1() { console.log(&#39;async1 start&#39;) await async2() console.log(&#39;async1 end&#39;) } async function async2() { console.log(&#39;async2&#39;) } console.log(&#39;script start&#39;) setTimeout(function () { console.log(&#39;settimeout&#39;) }) async1() new Promise(function (resolve) { console.log(&#39;promise1&#39;) resolve() }).then(function () { console.log(&#39;promise2&#39;) }) console.log(&#39;script end&#39;) è¾“å‡ºç»“æœæ˜¯ script start async1 start async2 promise1 script end async1 end promise2 settimeout ä½ åšå¯¹äº†ä¹ˆ(à¹‘Â´ã…‚`à¹‘)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"JSä¸­çš„é—­åŒ…","slug":"æŠ€æœ¯/é—­åŒ…","date":"2020-07-23T05:28:46.515Z","updated":"2020-09-05T09:34:48.925Z","comments":true,"path":"2020/07/23/æŠ€æœ¯/é—­åŒ…/","link":"","permalink":"https://easyremember.cn/2020/07/23/æŠ€æœ¯/é—­åŒ…/","excerpt":"","text":"â€‹ é—­åŒ…å°±æ˜¯å¯ä»¥åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ç¯å¢ƒï¼Œæ¯ä¸ªé—­åŒ…é‡Œé¢çš„ç¯å¢ƒéƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œäº’ä¸å¹²æ‰°ã€‚é—­åŒ…ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ï¼Œæ¯æ¬¡å¤–éƒ¨å‡½æ•°æ‰§è¡Œçš„æ—¶ å€™ï¼Œå¤–éƒ¨å‡½æ•°çš„å¼•ç”¨åœ°å€ä¸åŒï¼Œéƒ½ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„åœ°å€ã€‚ä½†å‡¡æ˜¯å½“å‰æ´»åŠ¨å¯¹è±¡ä¸­æœ‰è¢«å†…éƒ¨å­é›†å¼•ç”¨çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®ä¸åˆ é™¤ï¼Œä¿ç•™ä¸€æ ¹æŒ‡é’ˆç»™å†…éƒ¨æ´»åŠ¨å¯¹è±¡ã€‚ ç›¸ä¿¡ä½ çœ‹äº†è¿™æ®µé¬¼è¯ï¼Œ80%ä¼šæ„Ÿåˆ°æ‡µé€¼ï¼Œçœ‹å®Œä¸‹é¢çš„å†…å®¹å†å›æ¥çœ‹è¿™å¥è¯ï¼Œç›¸ä¿¡ä½ å°±å¯ä»¥ç†è§£äº†ã€‚ å‡½æ•°çš„ä½œç”¨åŸŸ åœ¨å…¨å±€ç¯å¢ƒä¸­å®šä¹‰äº†titleå˜é‡å’Œshowæ–¹æ³•ï¼Œå½“æ‰§è¡Œshowæ–¹æ³•æ—¶ï¼Œå¼€è¾Ÿå‡ºä¸€å—å†…å­˜ï¼Œå¦‚æœåœ¨showæ–¹æ³•å†…éƒ¨è°ƒç”¨contextæ˜¯å¯ä»¥æ­£å¸¸æ‰§è¡Œçš„ï¼Œå½“showæ‰§è¡Œå®Œçš„æ—¶å€™ï¼Œshowä¸­å®šä¹‰çš„contextå˜é‡ä¸è¢«ä¿ç•™ï¼Œè¿™æ—¶å¤–éƒ¨è°ƒç”¨contextå°±ä¼š not definedã€‚ æ•°æ®çš„ä½œç”¨é»˜è®¤å°±æ˜¯åœ¨å‡½æ•°ä½“å†… æ•°æ®å‘ä¸‹æµåŠ¨ï¼Œåªä¼šå‘å­çº§ä¼ é€’ï¼Œä¸ä¼šå‘çˆ¶çº§ä¼ é€’ å½“showæ–¹æ³•æ‰§è¡Œå®Œä¹‹åï¼Œå†…å­˜è¢«é‡Šæ”¾ï¼Œæ‰§è¡Œå¤šä¸ªshowæ–¹æ³•ç›¸å½“äºå¤šæ¬¡å¼€è¾Ÿäº†å†…å­˜ å¦‚æœåœ¨showæ–¹æ³•ä¸­å†å®šä¹‰ä¸€ä¸ªheadæ–¹æ³•ï¼Œå†æ‰§è¡Œï¼Œæ­¤æ—¶çš„å†…å­˜ç»“æ„å¦‚å›¾æ‰€ç¤ºï¼Œheadæ–¹æ³•æ—¶showæ–¹æ³•å†…éƒ¨çš„ï¼Œshowæ‰§è¡Œæ—¶ä¸ºheadå¼€è¾Ÿä¸€å—å†…å­˜ï¼›é‚£å¤šæ¬¡è°ƒç”¨showæ–¹æ³•ä¼šä¸€ç›´è°ƒç”¨é‚£ä¸€ä¸ªheadæ–¹æ³•ä¹ˆï¼Ÿä¸æ˜¯çš„ï¼ï¼ï¼å¤šæ¬¡è°ƒç”¨showæ–¹æ³•ä¼šå¼€è¾Ÿå¤šå—å†…å­˜ï¼Œä»–ä»¬ä¹‹é—´æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚ è¿™ä¸ªä¾‹å­æ›´èƒ½æ¸…æ¥šçš„è¯´æ˜ï¼ŒæŒ‰ç…§å¸¸ç†ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨++nä¹‹åå˜æˆäº†2ï¼Œä½†æ˜¯è¿™é‡Œç¬¬äºŒæ¬¡è°ƒç”¨ç»“æœè¿˜æ˜¯2ï¼Œè¿™å°±è¯´æ˜äº†ä¸¤æ¬¡è°ƒç”¨åˆ›å»ºäº†ä¸¤æ¬¡ é‚£ä¹ˆæ€ä¹ˆè®©nä¸€ç›´è¢«ä½¿ç”¨å‘¢ï¼Œè¿™æ—¶ä½ åº”è¯¥æƒ³èµ·æ¥å¼€å¤´æœ‰ä¸€å¥è¯ ä½†å‡¡æ˜¯å½“å‰æ´»åŠ¨å¯¹è±¡ä¸­æœ‰è¢«å†…éƒ¨å­é›†å¼•ç”¨çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®ä¸åˆ é™¤ï¼Œä¿ç•™ä¸€æ ¹æŒ‡é’ˆç»™å†…éƒ¨æ´»åŠ¨å¯¹è±¡ã€‚ å½“æ•°æ®ä¸€ç›´è¢«ä½¿ç”¨æ—¶å°±ä¼šä¿ç•™ä¸‹æ¥ï¼Œé‚£ä¹ˆæ€ä¹ˆè®©ä»–ä¸€ç›´è¢«ä½¿ç”¨å‘¢ï¼Ÿ å°†sumæ–¹æ³•ä½œä¸ºè¿”å›å€¼èµ‹å€¼ç»™aï¼Œè¿™æ—¶å€™ï¼Œfengä¸­çš„æ•°æ®å°±ä¼šä¸€ç›´è¢«ä½¿ç”¨ï¼Œç›´åˆ°aé”€æ¯ï¼Œè¿™æ—¶å€™å¤šæ¬¡è°ƒç”¨aæ–¹æ³•ï¼Œnå°±ä¼šç´¯åŠ  å¦‚æœå†èµ‹å€¼ç»™bï¼Œè¿™å°±åˆå¼€è¾Ÿäº†ä¸€å—å†…å­˜ï¼Œä¸aæ— å…³nåˆé‡æ–°å¼€å§‹è®¡ç®—ï¼Œç»“æœå¦‚ä¸‹ï¼š è¿™æ—¶å€™ä½ åˆæƒ³èµ·äº†å¼€å¤´è¿˜æœ‰ä¸€å¥è¯ï¼š æ¯æ¬¡å¤–éƒ¨å‡½æ•°æ‰§è¡Œçš„æ—¶ å€™ï¼Œå¤–éƒ¨å‡½æ•°çš„å¼•ç”¨åœ°å€ä¸åŒï¼Œéƒ½ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„åœ°å€ å¦‚æœåœ¨sumä¸­åœ¨æ·»åŠ ä¸€ä¸ªfunctionï¼Œè¿™æ ·å†æ‰§è¡Œä¸¤æ¬¡aç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ ä½ æ²¡æœ‰çœ‹é”™ï¼Œå…¶å®å¾ˆç®€å•ï¼Œè¿™è·Ÿä¹‹å‰ä¸€æ ·ï¼Œç›¸å½“äºåœ¨aä¸­å¼€è¾Ÿäº†ä¸¤å—ä¸ç›¸å…³çš„å†…å­˜ï¼Œé‚£ä¹ˆæ€ä¹ˆè®©mç´¯åŠ å‘¢ï¼Ÿä¹Ÿå¾ˆç®€å•ï¼Œå†æŠŠshowè¿”å›å‡ºå» è¿™æ—¶å†åˆ›å»ºbï¼Œæ‰“å°ç»“æœä¾æ—§æ˜¯2 3 2 3 åˆ©ç”¨é—­åŒ…é€‰æ‹©æ•°ç»„åŒºé—´ ç”±äºè¿‡æ»¤å‡½æ•°ä¸€ç›´åœ¨è°ƒç”¨betweençš„å­å‡½æ•°ï¼Œæ‰€ä»¥aï¼Œbä¹Ÿè¢«ä¿ç•™äº†ä¸‹æ¥ é—­åŒ…ä¼šé€ æˆå†…å­˜æ³„æ¼ è¿™æ®µä»£ç çš„æ„æ€æ˜¯ç‚¹å‡»divä¼šè§¦å‘æ‰“å°descriptå±æ€§ï¼Œå› ä¸ºäº‹ä»¶å¤„ç†å‡½æ•°æ˜¯ä¸€ç›´å­˜åœ¨çš„ï¼Œæ‰€ä»¥æ¯ä¸ªitemåœ¨ä½¿ç”¨å®Œæˆä¹‹åéƒ½ä¼šä¿å­˜ï¼Œè€Œä¸”éƒ½æ˜¯ä¸åŒçš„å†…å­˜åŒºåŸŸï¼Œå¯¹äºå¤æ‚å¯¹è±¡æ¥è¯´æ˜¯éå¸¸æµªè´¹å†…å­˜çš„ é‚£ä¹ˆæ€ä¹ˆè§£å†³é—­åŒ…å¸¦æ¥çš„å†…å­˜æ³„æ¼å‘¢ åœ¨ä½¿ç”¨å®Œä¹‹åç»™itemé¡¹èµ‹ç©ºå€¼ è¿™æ ·å°±å¯ä»¥è§£å†³ä¸å¿…è¦çš„å†…å­˜æµªè´¹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"æ€é€”å®è®­day2","slug":"ç”Ÿæ´»/STDay 2","date":"2020-07-22T08:57:04.870Z","updated":"2020-09-05T09:36:44.564Z","comments":true,"path":"2020/07/22/ç”Ÿæ´»/STDay 2/","link":"","permalink":"https://easyremember.cn/2020/07/22/ç”Ÿæ´»/STDay 2/","excerpt":"","text":"Day 2å­—ä½“é€‰æ‹©ï¼š ä¸­æ–‡ï¼šå¾®è½¯é›…é»‘ï¼Œ å®‹ä½“ï¼Œé»‘ä½“ è‹±æ–‡ï¼šarial å­—ä½“å¤§å°ï¼š ç½‘é¡µæœ€å°å­—å·ï¼š12pxï¼Œ ä¸é‡è¦ä¿¡æ¯ ä¸€èˆ¬ç”¨çš„æœ€å°å­—å·ï¼š14px ç²¾ç¡®æŠ å›¾è§£é”åŸèƒŒæ™¯ï¼Œæ–°å»ºå›¾å±‚å¡«å……é²œè‰³çš„é¢œè‰²ï¼Œä¾‹å¦‚ç»¿è‰² ç”¨é­”æ£’å·¥å…·é€‰æ‹©èƒŒæ™¯è‰²ï¼Œè°ƒæ•´å®¹å·®å€¼ï¼Œå³é”®é€‰æ‹©ã€è°ƒæ•´è¾¹ç¼˜ã€‘ è°ƒæ•´å‚æ•° è±å½¢æ–¹æ ¼ åˆ¶ä½œä¸€ä¸ªè¿™æ ·çš„è±å½¢æ–¹æ ¼ ç”¨çŸ©å½¢å·¥å…·é€‰æ‹©ä¸€ä¸ªçŸ©å½¢æ¡†å¡«å……ä¸€ä¸ªé¢œè‰²ï¼Œã€ctrlã€‘+ã€Tã€‘è‡ªç”±å˜æ¢ï¼ŒæŒ‰ä½shiftæ—‹90åº¦ åœ¨å›¾å±‚è°ƒèŠ‚æè¾¹ï¼Œå†…é˜´å½±å’ŒæŠ•å½± å°±å¯ä»¥çœ‹åˆ°æ•ˆæœå›¾ä¸­çš„æ ·å¼ å›¾å±‚è’™ç‰ˆå°†è¦è´´å…¥çš„å›¾ç‰‡æ‹–æ‹½è‡³ç›®æ ‡å›¾å±‚ä¸Šæ–¹ æ³¨æ„åœ¨å›¾å±‚åŒºåŸŸè¦å°†ä¸¤å›¾å±‚æ”¾åœ¨ä¸€èµ· å·¦ä¸Šè§’æœ‰è‡ªåŠ¨é€‰æ‹©ï¼Œç‚¹ä¸€ä¸‹å°±å¯ä»¥å®šä½å›¾å±‚ åœ¨ä¸¤å›¾å±‚ä¹‹é—´æŒ‰ä½ã€altã€‘+é¼ æ ‡å·¦é”® å›¾å±‚åŒºä¼šå˜æˆ æ˜¾ç¤ºçš„æ ·å¼å°±ä¼šå˜æˆ å›¾æ ‡ç»˜åˆ¶ é”šç‚¹å·¥å…·ä½¿ç”¨ é¦–å…ˆåˆ©ç”¨æ¤­åœ†å·¥å…·ç»˜åˆ¶é»„è‰²åœ†å½¢ï¼Œç„¶åå¤åˆ¶ä¸¤ä»½ åˆ©ç”¨åœ†è§’çŸ©å½¢å·¥å…·ç»˜åˆ¶è“è‰²çŸ©å½¢ï¼Œç»˜åˆ¶å®Œæˆä¹‹åæŒ‰ã€Aã€‘é”®é€‰ä¸­å…ƒç´ å‡ºç°é”šç‚¹ï¼ŒæŒ‰ä½ã€ctrlã€‘ç”¨é¼ æ ‡æ‹–æ‹½é”šç‚¹æˆä¸ºä¸€ä¸ªæ¢¯å½¢ åœ¨æ¢¯å½¢å†…ç»˜åˆ¶ä¸‰ä¸ªåœ†è§’çŸ©å½¢ï¼Œå¡«å……èƒŒæ™¯è‰²æ„é€ æˆé•‚ç©ºçš„æ„Ÿè§‰ ç»˜åˆ¶åº•åº§ï¼Œä½¿ç”¨åœ†è§’çŸ©å½¢ï¼Œä½¿ç”¨é”šç‚¹å·¥å…·é€‰æ‹©å³ä¸Šè§’ä¸¤ä¸ªç‚¹ï¼Œã€deleteã€‘ï¼Œç„¶åå°†æè¾¹æ”¹ä¸ºç™½è‰² ä½¿ç”¨é’¢ç¬”å·¥å…·ç»˜åˆ¶ä¸Šé¢çš„æŠŠæ‰‹ï¼Œé’¢ç¬”å·¥å…·ç‚¹å‡»ä¸€ä¸ªç‚¹ï¼Œå†ç‚¹ç¬¬äºŒä¸ªç‚¹ä¸è¦æ¾æ‰‹ï¼Œè°ƒæ•´å¼§åº¦è‡³åˆç†ï¼Œä½¿ç”¨ä¸Šé¢åº•åº§ç›¸åŒçš„é…ç½®å³å¯ é’¢ç¬”å·¥å…·åœ¨ä½¿ç”¨çš„æ—¶å€™å¦‚æœå‡ºç°è§’åº¦å¾ˆåˆ«æ‰­çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨ä¸Šä¸€ä¸ªç‚¹è°ƒå¥½ä¹‹åä¸æ¾æ‰‹ï¼ŒæŒ‰ä½ã€altã€‘é¼ æ ‡ç§»åŠ¨è°ƒèŠ‚æ‰‹æŸ„ åˆ‡å›¾å°†æ‰€æœ‰çš„èƒŒæ™¯è‰²å…¨éƒ¨éšè—ï¼Œç”¨åˆ‡ç‰‡å·¥å…·ç”»å‡ºåˆ‡ç‰‡åŒºåŸŸï¼Œå­˜å‚¨ä¸ºwebæ ¼å¼","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}],"tags":[{"name":"æ€é€”å®è®­","slug":"æ€é€”å®è®­","permalink":"https://easyremember.cn/tags/æ€é€”å®è®­/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}]},{"title":"æ€é€”å®è®­day1","slug":"ç”Ÿæ´»/STDay 1","date":"2020-07-22T07:27:01.446Z","updated":"2020-09-05T09:36:44.408Z","comments":true,"path":"2020/07/22/ç”Ÿæ´»/STDay 1/","link":"","permalink":"https://easyremember.cn/2020/07/22/ç”Ÿæ´»/STDay 1/","excerpt":"","text":"Day 1PhotoShopæ“ä½œå¿«æ·é”® å›¾å±‚å¤åˆ¶ï¼šã€Ctrlã€‘+ã€Jã€‘ è‡ªç”±å˜æ¢ï¼šã€Ctrlã€‘+ã€Tã€‘ ç”»ç¬”å·¥å…·ï¼šã€Bã€‘ï¼Œç”»ç¬”è°ƒèŠ‚ï¼šç²—â€”â€”å³ä¸­æ‹¬å·ï¼Œç»†â€”â€”å·¦ä¸­æ‹¬å· æ”¾å¤§ï¼šã€ctrlã€‘+ã€spaceã€‘ï¼Œç¼©å°ï¼šã€ctrlã€‘+ã€altã€‘+ã€spaceã€‘ï¼ŒæŠ“æ‰‹ï¼šã€spaceã€‘ ç›–å°ï¼šã€ctrlã€‘+ã€altã€‘+ã€shiftã€‘+ã€eã€‘ é¦–é€‰é¡¹ï¼šã€ctrlã€‘+ã€kã€‘ å¡«å……å‰æ™¯è‰²ï¼šã€altã€‘+ã€deleteã€‘ï¼Œå¡«å……èƒŒæ™¯è‰²ï¼šã€ctrlã€‘+ã€deleteã€‘ ç§»åŠ¨å·¥å…·ï¼šã€vã€‘ ç¼–ç»„ï¼šã€ctrlã€‘+ã€gã€‘ åˆ¶ä½œå¤§å¤´åƒè°ƒèŠ‚å›¾å±‚ç´ æå›¾ç‰‡ 1 å¤åˆ¶ä¸€ä¸ªå›¾å±‚ï¼ˆå¯ä½¿ç”¨ctrl+jï¼Œä¹Ÿå¯ä»¥æ‹–æ‹½å›¾å±‚åˆ°ä¸‹æ–¹çš„æ–°å»ºå›¾å±‚å›¾æ ‡ï¼‰ 2 ctrl+tè‡ªç”±å˜æ¢å›¾å±‚ï¼Œç¼©æ”¾åˆ°åˆé€‚çš„æ¯”ä¾‹ï¼ˆæŒ‰ä½shiftç­‰æ¯”ç¼©æ”¾ï¼‰ 3 è°ƒèŠ‚æ–°å›¾å±‚é€æ˜åº¦ï¼Œ50%-60%åˆé€‚ 4 å°†ä¸¤å›¾å±‚ä¸‹å·´å¯¹é½ 5 åœ¨å°å›¾å±‚ä¸Šæ–°å»ºè’™ç‰ˆ 6 ç”¨é»‘è‰²ç”»ç¬”å°†å¤§å›¾å±‚å¤´éƒ¨æ¶‚é»‘ï¼Œæ¶‚å®Œä¹‹åå°†ä¸é€æ˜åº¦è°ƒè‡³100%ï¼Œå¦‚æœæœ‰å¤šä½™éƒ¨åˆ†ä½¿ç”¨ç™½è‰²ç”»ç¬”æ¶‚å›å»ï¼ˆç¡¬åº¦è°ƒä¸º0ï¼‰ 7 ä½¿ç”¨è£åˆ‡å·¥å…·åªä¿ç•™éœ€è¦çš„éƒ¨åˆ†ï¼Œç›–å°ç”Ÿæˆå›¾å±‚ æˆæœå›¾å¦‚ä¸‹ å›¾å±‚ä¿®é¥° æ»¤é•œä¸­ç‚¹å¼€æ¶²åŒ– ä½¿ç”¨è†¨èƒ€å·¥å…·åœ¨ä¸¤çœ¼ä½ç½®åˆ†åˆ«ç‚¹å‡»ä¸¤ä¸‹å°†çœ¼éƒ¨æ”¾å¤§ ä½¿ç”¨è¤¶çš±å·¥å…·å°†é¼»å­å’Œå˜´ç¼©å° ä½¿ç”¨å·¦æ¨å·¥å…·å°†è„¸æ”¶ä¸€ä¸‹ å¦‚æœæ‹–åäº†å¯ä»¥ä½¿ç”¨é‡å»ºå·¥å…·å°†è¦æ¢å¤çš„åœ°æ–¹æ¶‚ä¸€ä¸‹ GIFåˆ¶ä½œçª—å£æ‰“å¼€æ—¶é—´è½´ï¼Œæ–°å»ºå¸§åŠ¨ç”» åœ¨å›¾å±‚ä¸­æ§åˆ¶è¦æ˜¾ç¤ºçš„å¸§ç„¶åæ·»åŠ å…³é”®å¸§ è°ƒèŠ‚æ¯ä¸€å¸§çš„æ—¶é—´ å¯¼å‡ºï¼šå­˜å‚¨ä¸ºwebæ ¼å¼ï¼Œè°ƒèŠ‚ä¸ºGIFæ ¼å¼ ç½‘é¡µè®¾è®¡é¡¹ç›®ç«‹é¡¹â€”â€”åˆ†æå¸‚åœºç¯å¢ƒâ€”â€”è§£å†³ç”¨æˆ·ç—›ç‚¹ ä»¿ç…§å›¾ è‡ªå·±åšçš„è®¾è®¡å›¾ï¼š æ¸å˜è‰²ï¼šåœ¨é€‰åŒºå†…æ·»åŠ æ¸å˜å›¾å±‚ï¼Œå¦åˆ™ä¼šä½¿æ•´ä¸ªèƒŒæ™¯å…¨éƒ¨æ¸å˜ é€‰æ‹©å¤šä¸ªå›¾å±‚ï¼šé€‰ä¸­ç¬¬ä¸€ä¸ªå›¾å±‚ï¼ŒæŒ‰ä½shifté€‰ä¸­æœ€åä¸€ä¸ªå›¾å±‚ è¦é€‰ä¸­æŸä¸€å›¾å±‚çš„æŸä¸€éƒ¨åˆ†ï¼šå…ˆç”¨å¤šè¾¹å½¢æ¡†é€‰å·¥å…·é€‰å‡ºå¤§è‡´éƒ¨åˆ†ï¼Œç„¶åctrl+alt+shift+ç‚¹å‡»è¦é€‰ä¸­éƒ¨åˆ†çš„å›¾å±‚","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}],"tags":[{"name":"æ€é€”å®è®­","slug":"æ€é€”å®è®­","permalink":"https://easyremember.cn/tags/æ€é€”å®è®­/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}]},{"title":"Typoraå›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠ","slug":"èµ„æº/Typoraå›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠ","date":"2020-07-15T11:50:22.787Z","updated":"2020-09-05T09:40:22.479Z","comments":true,"path":"2020/07/15/èµ„æº/Typoraå›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠ/","link":"","permalink":"https://easyremember.cn/2020/07/15/èµ„æº/Typoraå›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠ/","excerpt":"","text":"Typoraå›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠä½ æ˜¯å¦è¿˜åœ¨ä¸ºæ‰¾ä¸åˆ°å¯é çš„å›¾åºŠè€Œçƒ¦æ¼ æ˜¯å¦å®³æ€•å›¾åºŠç½‘ç«™å…³é—­èµ„æºä¸¢å¤± æ˜¯å¦æ‹…å¿ƒèµ„æºä¸èƒ½ç®¡ç†è€Œå‘æ„ ä»Šå¤©ä»–æ¥äº† 1 ä¸‹è½½å®‰è£…picGoåœ°å€åœ¨è¿™é‡Œï¼Œæ ¹æ®éœ€è¦çš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ ä¸‹è½½å®Œæˆåè¿›è¡Œå®‰è£… å®‰è£…å®Œä¹‹ååœ¨æ¡Œé¢å³ä¸‹è§’å›¾æ ‡æ‰“å¼€picGoè¯¦ç»†ç•Œé¢ 2 é…ç½®picGoå›¾åºŠ+giteepicGoæ”¯æŒå¤šä¸ªå›¾åºŠ è¿™é‡Œä¸»è¦è¯´ä¸€ä¸‹giteeæ–°å»ºä¸€ä¸ªå…¬å¼€çš„ä»“åº“ï¼Œç§æœ‰çš„åœ¨ç›¸å†Œå’ŒTyporaæ— æ³•æ˜¾ç¤º æœç´¢æ’ä»¶giteeï¼ˆéœ€è¦å®‰è£…Nodeç¯å¢ƒï¼‰ æ®è¯´æ˜¯ä¸¤ä¸ªéƒ½å¯ä»¥ï¼Œæˆ‘åªè¯•è¿‡äº†giteeï¼Œå®‰è£…å¥½ä¹‹ååœ¨ä¸Šé¢çš„å›¾åºŠåˆ—è¡¨é‡Œå°±ä¼šå‡ºç°giteeå›¾åºŠ è¿™é‡Œæ˜¯é…ç½®ä¿¡æ¯ ownerï¼šgiteeç”¨æˆ·å repoï¼šgiteeä»“åº“å pathï¼šè·¯å¾„ï¼Œå­˜æ”¾åˆ°æ ¹ç›®å½•å¯ä»¥ä¸ç”¨å†™ tokenï¼šgiteeä¸ªäººä»¤ç‰Œ messageï¼šå¯ä»¥ä¸å†™ å…³äºgiteeä¸ªäººä»¤ç‰Œçš„è·å– ç‚¹å¼€giteeçš„è®¾ç½®ï¼Œåœ¨å·¦ä¾§æ æ‰¾åˆ°ç§äººä»¤ç‰Œï¼Œç„¶åç‚¹å‡»ç”Ÿæˆæ–°ä»¤ç‰Œ æè¿°å¯ä»¥éšä¾¿å†™ä¸€ä¸‹ï¼Œç„¶åç‚¹å‡»ç¡®è®¤ä¼šç”Ÿæˆä¸€ä¸ªtoken å°†tokenå¤åˆ¶åˆ°picGoä¸­å°±å¯ä»¥äº† 3 é…ç½®Typora+picGoåœ¨Typoraçš„åå¥½è®¾ç½®ä¸­å°†æ’å…¥å›¾ç‰‡æ”¹ä¸ºä¸Šä¼ å›¾ç‰‡ï¼Œä¸Šä¼ æœåŠ¡ä¿®æ”¹ä¸ºpicGo Appï¼Œå¹¶é€‰æ‹©åˆ°å®‰è£…ç›®å½• ç‚¹å‡»éªŒè¯ å¦‚æœå‡ºç°falseæƒ…å†µï¼Œçœ‹ä¸€ä¸‹è¿æ¥ä¸­çš„ç«¯å£å·ï¼Œç„¶ååˆ°picGoçš„è®¾ç½®ä¸­æ‰¾åˆ°ServeræœåŠ¡ å°†ç«¯å£å·ä¿®æ”¹ä¸€è‡´ ç„¶åä¿å­˜ï¼Œå†è¯•ä¸€ä¸‹éªŒè¯","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/tags/å·¥å…·/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"ES6ç¬”è®°","slug":"ç¬”è®°/ES6ç¬”è®°","date":"2020-07-15T07:24:55.780Z","updated":"2020-09-05T09:36:10.203Z","comments":true,"path":"2020/07/15/ç¬”è®°/ES6ç¬”è®°/","link":"","permalink":"https://easyremember.cn/2020/07/15/ç¬”è®°/ES6ç¬”è®°/","excerpt":"","text":"ES6ç¬”è®°å˜é‡letå’Œconstvarå­˜åœ¨çš„é—®é¢˜ å¯ä»¥é‡å¤å£°æ˜ æ— æ³•é™åˆ¶ä¿®æ”¹ æ²¡æœ‰å—çº§ä½œç”¨åŸŸ ES6æ–°çš„å®šä¹‰å˜é‡ let ä¸èƒ½é‡å¤å£°æ˜ å˜é‡ï¼Œå¯ä»¥ä¿®æ”¹ å—çº§ä½œç”¨åŸŸ const ä¸èƒ½é‡å¤å£°æ˜ å¸¸é‡ï¼Œä¸èƒ½ä¿®æ”¹ å—çº§ä½œç”¨åŸŸ æœ€å¤§çš„åŒºåˆ«ï¼šconstä¸€ç»å®šä¹‰å€¼ä¸èƒ½å†å˜ å‡½æ•°ç®­å¤´å‡½æ•°let show = function(n1,n2) { return n1-n2; } ----------ç­‰ä»·-------------- let show = (n1, n2) =&gt; { return n1-n2; } å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œ()å¯ä»¥çœç•¥ let show = (n) =&gt; { return n; } --------çœç•¥-------- let show = n =&gt; { return n; } å¦‚æœåªæœ‰ä¸€ä¸ªreturnï¼Œ{}å¯ä»¥çœç•¥ let show = n =&gt; { return 2*n; } -------çœç•¥-------- let show = n =&gt; 2*n; ç®­å¤´å‡½æ•°çš„thisä¸ä¼šå˜ï¼šthisæŒ‡å‘çš„æ˜¯å½“å‰å¯¹è±¡ï¼Œä¼ ç»Ÿçš„functionéœ€è¦å®šä¹‰ä¸€ä¸ªconst that= thisæ‰èƒ½åœ¨é‡Œé¢çš„å‡½æ•°è®¿é—®åˆ°æœ€å¤–å±‚çš„thisï¼Œç®­å¤´å‡½æ•°ä¸ä¼šæ”¹å˜thisæŒ‡å‘ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ— éœ€å®šä¹‰thatå°±å¯ä»¥ç”¨thisè®¿é—®åŸæ¥çš„å¯¹è±¡ ç®­å¤´å‡½æ•°çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿ å‚æ•°...argsæ¥æ”¶å‚æ•° å‘½åéšæ„ï¼Œä½†å¿…é¡»æ”¾åˆ°å‚æ•°æœ€åï¼Œç”¨äºæ”¶é›†å‰©ä½™å‚æ•° let show = function (a, b, ...args) { alert(a); alert(b); alert(args); } show(14,2,3,4,5); å¤šä½™çš„å‚æ•°å°†ä¼šç”±argsæ¥æ”¶ å±•å¼€æ•°ç»„ å±•å¼€åæ•ˆæœè·Ÿç›´æ¥æŠŠæ•°ç»„æ”¾åœ¨é‚£ä¸€æ · let arr = [1,2,3,4]; show(...arr);// == show(1,2,3,4) ------------------- let arr1=[1,2,3]; let arr2=[4,5,6]; let arr=[...arr1,...arr2]; // == let arr=[1,2,3,4,5,6]; é»˜è®¤å‚æ•°let show = function (a, b=5, c=10) { XXX } show(12); å½“ä¼ çš„å‚æ•°åªæœ‰ä¸€ä¸ªçš„æ—¶å€™ï¼Œbé»˜è®¤æ˜¯5ï¼Œcé»˜è®¤æ˜¯10ï¼› å½“ä¼ å‚æ•°å¤§äºä¸€ä½æ—¶ï¼Œä¼šä¾æ¬¡é¡¶æ›¿é»˜è®¤å‚æ•° è§£æ„èµ‹å€¼å·¦å³ä¸¤è¾¹ç»“æ„å¿…é¡»ä¸€æ · let [a, b, c] = [1,2,3] let {a,b,c} = {a:1,b:2,c:3} å³è¾¹å¿…é¡»åˆæ³• å£°æ˜å’Œèµ‹å€¼ä¸èƒ½åˆ†å¼€ let [a, b] = [5, 12];// åˆæ³• ------------------------ let [a, b]; [a, b] = [5, 12];// æŠ¥é”™ï¼Œè§£æ„èµ‹å€¼å£°æ˜å’Œèµ‹å€¼ä¸èƒ½åˆ†å¼€ æ•°ç»„mapæ˜ å°„â€”â€”â€”â€”ä¸€ä¸ªå¯¹ä¸€ä¸ª let arr = [1, 2, 3, 4]; let result = arr.map(item =&gt; item * 2); // result 2,4,6,8 reduceæ±‡æ€»â€”â€”â€”â€”ä¸€å †å‡ºæ¥ä¸€ä¸ª let arr= [12, 8, 9, 16]; let result = arr.reduce( function (tmp, item, index) { return tmp + item; }) functionä¸­çš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯å­˜å‚¨çš„å’Œçš„ä¸­é—´æ•°ã€è¦è®¡ç®—çš„æ•°ã€ç´¢å¼• filterè¿‡æ»¤å™¨â€”â€”â€”â€”ä¿ç•™ä¸€éƒ¨åˆ† let arr = [10,3,16,15,21,20]; let result = arr.filter(item =&gt; { if(item % 3 == 0) { return true; } return false; }); alert(result); -------------------------------- // jsonç±»å‹ let arr = [ {name: &#39;tom&#39;, price: 75}, {name: &#39;jerry&#39;, price: 60} ]; let result = arr.filter(item =&gt; { return item.price&gt;65; }); console.log(result); å½“filterä¸­çš„æ–¹æ³•è¿”å›trueçš„æ—¶å€™æ•°æ®ä¿ç•™ï¼Œè¿”å›falseæ•°æ®åˆ é™¤ forEachå¾ªç¯ï¼ˆè¿­ä»£ï¼‰â€”â€”â€”â€”æ¯ä¸€é¡¹è¿›è¡Œæ“ä½œ å§æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹éƒ½æ”¾åˆ°æ–¹æ³•ä¸­æ‰§è¡Œ å­—ç¬¦ä¸²ä¸¤ä¸ªæ–°æ–¹æ³•startsWith åŒ¹é…å‰é¢çš„å­—ç¬¦ä¸²ï¼Œç›¸åŒè¿”å›trueï¼Œä¸ç›¸åŒè¿”å›false endWith åŒ¹é…æœ«å°¾çš„å­—ç¬¦ä¸²ï¼Œç›¸åŒè¿”å›trueï¼Œä¸ç›¸åŒè¿”å›false åº”ç”¨ï¼šæ£€æµ‹æ–‡ä»¶åç¼€ å­—ç¬¦ä¸²æ¨¡æ¿å­—ç¬¦ä¸²æ‹¼æ¥ let a = &#39;AScri&#39;; let str = `ECM${a}pt6`; alert(str); // str=ECMAScript6 æ³¨æ„ï¼šæ’å…¥å­—ç¬¦ä¸²çš„å­—ç¬¦ä¸²è¦ç”¨åå•å¼•å·ï¼ˆæ•°å­—é”®ç›˜1å·¦è¾¹çš„é‚£ä¸ªï¼‰ åº”ç”¨ï¼Œæ‹¼æ¥å­—ç¬¦ä¸² let html = `&lt;div&gt; &lt;h1&gt;${title}&lt;/h1&gt; &lt;p&gt;${content}&lt;/p&gt; &lt;/div&gt;`; ä¼˜åŠ¿ï¼šç›´æ¥æŠŠå­—ç¬¦ä¸²æ’åˆ°å­—ç¬¦ä¸²ä¸­ï¼›å¯ä»¥æŠ˜è¡Œ é¢å‘å¯¹è±¡è¯­æ³•class User { constructor(name, age) { this.name = name; this.age = age; } showName() { alert(this.name); } showAge() { alert(this.age); } } var user = new User(&#39;Tom&#39;, 18); user.showName(); user.showAge(); å¯¹è±¡åˆ›å»ºå…³é”®å­—classï¼Œç›¸å½“äºjavaçš„ç±» æ„é€ å™¨å…³é”®å­—constructorï¼Œç›¸å½“javaçš„æ„é€ å‡½æ•° æ–¹æ³•ç›´æ¥å†™åœ¨classé‡Œé¢ï¼Œä¸éœ€è¦åŠ function ç»§æ‰¿class VipUser extends User { constructor(name, age, level) { super(name, age); this.level = level; } showLevel() { alert(this.level); } } var vip = new VipUser(&#39;Tom&#39;, 18, 3); vip.showName(); vip.showAge(); vip.showLevel(); ç»§æ‰¿å…³é”®å­—extensï¼Œç›¸å½“äºjavaçš„ç»§æ‰¿ æ„é€ å‡½æ•°ä¸­ä½¿ç”¨superå…³é”®å­—ï¼Œè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•° æ·»åŠ æ–°çš„å±æ€§å’Œæ–°çš„æ–¹æ³• JSONæ ‡å‡†å†™æ³• åªèƒ½ç”¨åŒå¼•å· æ‰€æœ‰åå­—éƒ½å¿…é¡»ç”¨å¼•å·æ‹¬èµ·æ¥ { &quot;a&quot;: &quot;abx&quot;, &quot;b&quot;: 12, &quot;c&quot;: true } æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²let json = {a: 11, b: 12}; alert(JSON.stringify(json)); JSON.stringify()å¾—åˆ°çš„ç»“æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸² æ ¼å¼åŒ–ä¸ºJSONlet str = &#39;{&quot;a&quot;: 11, &quot;b&quot;: 12}&#39;; console.log(JSON.parse(str)); JSON.parse()å¾—åˆ°çš„ç»“æœæ˜¯ä¸€ä¸ªjsonå¯¹è±¡ï¼Œä½†æ˜¯ï¼Œå­—ç¬¦ä¸²çš„å†…å®¹å¿…é¡»ç¬¦åˆjsonæ ¼å¼æ ‡å‡†ï¼Œå¦å¤–ï¼ŒåŒå¼•å·çš„å¤–é¢æ˜¯å•å¼•å· ç®€å†™å±æ€§åç®€å†™ let a = 12; let b = 5; let json = {a, b, c: 15}; console.log(json); å½“å·²ç»å­˜åœ¨çš„å€¼å’Œjsonå±æ€§åä¸€æ ·çš„æ—¶å€™ï¼Œå¯ä»¥åªå†™å€¼ï¼Œä¸ä¸€æ ·çš„å¯ä»¥æŒ‰ç…§jsonæ ¼å¼æ·»åŠ  è¿™é‡Œçš„jsonæŒ‡çš„æ˜¯jsonå­—é¢é‡ æ–¹æ³•ç®€å†™ let json = { a: 12, show() { console.log(this.a); } } json.show(); æ–¹æ³•å¯ä»¥åªå†™æ–¹æ³•åï¼Œçœç•¥ function Promiseä½œç”¨ï¼šæ¶ˆé™¤å¼‚æ­¥æ“ä½œï¼Œç”¨åŒæ­¥çš„æ–¹å¼æ¥å†™å¼‚æ­¥ä»£ç  å¼‚æ­¥ï¼šæ“ä½œä¹‹é—´æ²¡å•¥å…³ç³»ï¼ŒåŒæ—¶è¿›è¡Œå¤šä¸ªæ“ä½œï¼›ä»£ç å¤æ‚ åŒæ­¥ï¼šåŒæ—¶åªèƒ½åšä¸€ä»¶äº‹ï¼Œå‰é¢çš„äº‹æ²¡å¹²å®Œåé¢çš„äº‹ä¸èƒ½å¼€å§‹ï¼›ä»£ç ç®€å• å°è£…ajaxï¼ˆåŸºäºjqueryï¼‰ let ajax = new Promise(function (resolve, reject) { $.ajax({ url: &#39;js/arr.txt&#39;, dataType: &#39;json&#39;, success(json) { resolve(json); }, error(err) { reject(err); } }) }); ajax.then(result =&gt; { alert(result); }, err =&gt; { console.log(err); }) Promise.all()å½“æœ‰ä¸¤ä¸ªPromiseå¯¹è±¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨Promisr.all()å¤„ç†ä¸¤ä¸ªPromiseå¯¹è±¡ Promise.all([ ajax1, ajax2 ]).then(result =&gt; { let [arr1, arr2] = result; alert(arr1); alert(arr2); }, err =&gt; { console.log(err); }) è¿™é‡Œæ³¨æ„ï¼Œå½“ä½¿ç”¨.allå¤„ç†å¤šä¸ªPromiseå¯¹è±¡æ—¶ï¼Œæœ‰ä¸€ä¸ªå‡ºé”™å°±ä¼šæŠ¥é”™ï¼Œå…¨éƒ¨æˆåŠŸæ‰ä¼šæ‰§è¡ŒæˆåŠŸçš„å›è°ƒå‡½æ•° æœ‰å¤šä¸ªajaxè¯·æ±‚ä¸åŒåœ°å€çš„æ—¶å€™å¯ä»¥ï¼Œå†æ¬¡å°è£… function createPromise(url) { return new Promise(function(resolve, reject) { $.ajax({ url, dataType: &#39;json&#39;, success(json) { resolve(json); }, error(err) { reject(err); } }) }); } Promise.all([ createPromise(&#39;js/arr.txt&#39;), createPromise(&#39;js/arr2.txt&#39;) ]).then(result =&gt; { let [arr1, arr2] = result; alert(arr1); alert(arr2); }, err =&gt; { console.log(err); }) ä»¥ä¸Šåªæ˜¯ç¤ºä¾‹ï¼Œjqueryçš„ä½œè€…å½“ç„¶æƒ³åˆ°äº†è¿™ä¸€ç‚¹ï¼Œ$.ajax()æ˜¯æœ‰è¿”å›å€¼çš„ï¼ˆé«˜ç‰ˆæœ¬ï¼Œä½ç‰ˆæœ¬å¯èƒ½æ²¡æœ‰ï¼‰ let p = $.ajax({url: &#39;js/arr.txt&#39;, dataType: &#39;json&#39;}); å¯ä»¥å°† $.ajax({url: &#39;js/arr.txt&#39;, dataType: &#39;json&#39;}) æ”¾åˆ°Promise.all()é‡Œé¢ï¼Œä»£æ›¿ä¸Šé¢çš„createPromiseæ–¹æ³• Promise.race()åŒæ—¶å¤„ç†å¤šä¸ªPromiseå¯¹è±¡ï¼Œæœ‰ä¸€ä¸ªå…ˆå®Œæˆçš„å°±åœæ­¢ åº”ç”¨åœºæ™¯ï¼ŒåŒæ—¶å‘å¤šä¸ªè´Ÿè½½å‘é€è¯·æ±‚ Promiseé“¾å¼è°ƒç”¨let test = new Promise((resolve, reject) =&gt; { let random = Math.random() if (random &gt; 0.5) { resolve(&#39;å¤§äº0.5&#39;) } else { reject(&#39;å°äºç­‰äº0.5&#39;) } }) let p = test.then((result) =&gt; { console.log(result) return result }).catch((result) =&gt; { console.log(result) return result }).then((result) =&gt; { console.log(result) return result }).then((result) =&gt; { console.log(&#39;last&#39;, result) }) console.log(p) ------------------------- Promise { &lt;pending&gt; } // p å¤§äº0.5 // æˆ–è€…å°äºï¼Œä¸‹åŒ å¤§äº0.5 last å¤§äº0.5 promise çš„ then æ–¹æ³•é‡Œé¢å¯ä»¥ç»§ç»­è¿”å›ä¸€ä¸ªæ–°çš„ promise å¯¹è±¡ ä¸‹ä¸€ä¸ª then æ–¹æ³•çš„å‚æ•°æ˜¯ä¸Šä¸€ä¸ª promise å¯¹è±¡çš„ resolve å‚æ•° catch æ–¹æ³•çš„å‚æ•°æ˜¯å…¶ä¹‹å‰æŸä¸ª promise å¯¹è±¡çš„ rejecte å‚æ•° ä¸€æ—¦æŸä¸ª then æ–¹æ³•é‡Œé¢çš„ promise çŠ¶æ€æ”¹å˜ä¸ºäº† rejectedï¼Œåˆ™promise æ–¹æ³•è¿ä¼šè·³è¿‡åé¢çš„ then ç›´æ¥æ‰§è¡Œ catchï¼›å¦‚æœçŠ¶æ€ä¸€ç›´ä¸ºfulfilledï¼Œcatché‡Œé¢çš„çš„ä»£ç ä¸æ‰§è¡Œ catch æ–¹æ³•é‡Œé¢ä¾æ—§å¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„ promise å¯¹è±¡ promiesçš„ä¸‰ç§çŠ¶æ€æ˜¯æœªå†³çš„pendingï¼ˆè¿›è¡Œä¸­ï¼‰ï¼Œå’Œå·²å†³çš„fulfilledï¼ˆæˆåŠŸï¼‰/rejectedï¼ˆå¤±è´¥ï¼‰ï¼Œresloveå’Œrejectæ˜¯æˆåŠŸå’Œå¤±è´¥çš„å‚æ•°ï¼Œåœ¨promiesé‡Œè°ƒç”¨å‚æ•°ä¹‹åthenæ–¹æ³•æ‰ä¼šæ‰§è¡Œ å‚è€ƒèµ„æ–™ï¼š æ·±å…¥ç†è§£Promiseä¸‰ç§çŠ¶æ€ä¸é“¾å¼è°ƒç”¨ Promiseå¯¹è±¡thenæ–¹æ³•é“¾å¼è°ƒç”¨ ç”Ÿæˆå™¨å‡½æ•°generator æ™®é€šå‡½æ•°ï¼šä¸€ç›´æ‰§è¡Œåˆ°æœ€å generatorå‡½æ•°ï¼šä¸­é—´å¯ä»¥æš‚åœ function *show() { alert(&#39;1&#39;); yield; alert(&#39;2&#39;); } let obj = show(); obj.next(); obj.next(); ç›´æ¥è¿è¡Œshow()å¹¶ä¸ä¼šæœ‰ä»»ä½•ååº”ï¼Œç”¨showæ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç”¨nextæ–¹æ³•å¯ä»¥æ‰§è¡Œï¼Œé‡åˆ°yieldåœä¸‹ï¼Œå†æ‰§è¡Œnextå¯ä»¥ç»§ç»­è¿è¡Œä¹‹åçš„éƒ¨åˆ† åŸç†æ˜¯æŠŠä¸€ä¸ªå¤§å‡½æ•°çš„ä»£ç åˆ‡åˆ†æˆå¤šä¸ªå°å‡½æ•°ï¼Œæ¯nextä¸€æ¬¡æ‰§è¡Œä¸€æ¬¡ ä¸€ä¸ªç”Ÿæˆå™¨ä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªyieldï¼›æ³¨æ„å‡½æ•°å‘½åæ–¹å¼ function *show(){}ï¼Œå¸¦æœ‰æ˜Ÿå· yieldå¯ä»¥ä¼ å‚ ç¬¬ä¸€ä¸ªnextæ— æ³•ä¼ å‚ï¼Œå¯ä»¥ç†è§£ä¸ºgeneratorçš„å¯åŠ¨å™¨ï¼Œç¬¬äºŒä¸ªnextå¼€å§‹å‘ç¬¬ä¸€ä¸ªyieldä¼ å‚ function *show() { alert(&#39;1&#39;); let a = yield; alert(a); } let obj = show(); obj.next(); obj.next(10); -------------------------- // æ‰“å°ç»“æœ a=10 æœ‰è¿”å›å€¼ function *show() { alert(&#39;1&#39;); let a = yield &#39;axc&#39; + &#39;ac&#39;; alert(a); // 10 // å¦‚æœè¿™é‡Œreturn 55ï¼Œé‚£ä¹ˆä¸‹è¾¹b1çš„valueå°±æ˜¯55 } let obj = show(); let a1 = obj.next(); console.log(a1); // {value: &quot;axcac&quot;, done: false} let b1 = obj.next(10); console.log(b1); // {value: undifind, done: true} ä¸€ä¸ªyieldç›¸å½“äºä¸€ä¸ªè¢«åˆ†è§£æˆå°å‡½æ•°çš„return æ€»ç»“ï¼šç¬¬ä¸€ä¸ªyieldè¿”å›çš„å€¼ç»™äº†ç¬¬ä¸€ä¸ªnextï¼Œç¬¬äºŒä¸ªnextçš„å‚æ•°ç»™äº†ç¬¬ä¸€ä¸ªyield é™„ï¼šES7 async awaitasync function doSome() { try { let data1 = await function(data); let data2 = await function(data1); let data3 = await function(data2); } catch(err) { console.log(&quot;Error:&quot; + err); } } ç”¨åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥ awaitçš„è¿”å›å€¼æ˜¯promiseï¼›awaitåé¢å¯ä»¥ç”¨Promise.all()æ‰§è¡Œå¤šä¸ªPromiseæ“ä½œ awat å¤–é¢å¿…é¡»åŒ…è£¹ç€asyncï¼Œ æŠŠawaitå’ŒæˆåŠŸåçš„æ“ä½œæ”¾åˆ°tryé‡Œï¼Œå¤±è´¥çš„æ”¾åœ¨catch å‚è€ƒèµ„æ–™ï¼š asyncå’Œawait","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}],"tags":[{"name":"js","slug":"js","permalink":"https://easyremember.cn/tags/js/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://easyremember.cn/categories/ç¬”è®°/"}]},{"title":"VS Code å¿«æ·é”®","slug":"èµ„æº/VS Code å¿«æ·é”®","date":"2020-07-14T07:29:20.384Z","updated":"2020-09-05T09:40:22.620Z","comments":true,"path":"2020/07/14/èµ„æº/VS Code å¿«æ·é”®/","link":"","permalink":"https://easyremember.cn/2020/07/14/èµ„æº/VS Code å¿«æ·é”®/","excerpt":"","text":"VS Code å¿«æ·é”®æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ Ctrl+Shift+N å…³é—­çª—å£ Ctrl+Shift+W æ–°å»ºæ–‡ä»¶ Ctrl+N æ–‡ä»¶ä¹‹é—´åˆ‡æ¢ Ctrl+Tab å¤åˆ¶æˆ–å‰ªåˆ‡å½“å‰è¡Œ/å½“å‰é€‰ä¸­å†…å®¹ Ctrl+C ã€ Ctrl+V ä»£ç æ ¼å¼åŒ–ï¼š Shift+Alt+F ä¸Šä¸‹ç§»åŠ¨ä¸€è¡Œ Alt+Up æˆ– Alt+Down å‘ä¸Šå‘ä¸‹å¤åˆ¶ä¸€è¡Œ Shift+Alt+Up æˆ– Shift+Alt+Down åœ¨å½“å‰è¡Œä¸‹æ–¹æ’å…¥ä¸€è¡Œ Ctrl+Enter åœ¨å½“å‰è¡Œä¸Šæ–¹æ’å…¥ä¸€è¡Œ Ctrl+Shift+Enter ç§»åŠ¨åˆ°è¡Œé¦– Home ç§»åŠ¨åˆ°è¡Œå°¾ End ç§»åŠ¨åˆ°æ–‡ä»¶ç»“å°¾ Ctrl+End ç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´ Ctrl+Home ç§»åŠ¨åˆ°å®šä¹‰å¤„ F12 å®šä¹‰å¤„ç¼©ç•¥å›¾ åªçœ‹ä¸€çœ¼è€Œä¸è·³è½¬è¿‡å» Alt+F12 æ‰¾åˆ°æ‰€æœ‰çš„å¼•ç”¨ Shift+F12 åŒæ—¶ä¿®æ”¹æœ¬æ–‡ä»¶ä¸­æ‰€æœ‰åŒ¹é…çš„ Ctrl+F12 é‡å‘½å æ¯”å¦‚è¦ä¿®æ”¹ä¸€ä¸ªæ–¹æ³•åï¼Œå¯ä»¥é€‰ä¸­åæŒ‰ F2ï¼Œè¾“å…¥æ–°åå­—ï¼Œå›è½¦ï¼Œåˆ™æ‰€æœ‰è¯¥æ–¹æ³•çš„å¼•ç”¨ä¹Ÿéƒ½åŒæ­¥æ›´æ–°äº† è·³è½¬åˆ°ä¸‹ä¸€ä¸ª Error æˆ– Warning å½“æœ‰å¤šä¸ªé”™è¯¯æ—¶å¯ä»¥æŒ‰ F8 é€ä¸ªè·³è½¬ æŸ¥æ‰¾ Ctrl+F æŸ¥æ‰¾æ›¿æ¢ Ctrl+H æ•´ä¸ªæ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾ Ctrl+Shift+F","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://easyremember.cn/tags/å·¥å…·/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://easyremember.cn/categories/æŠ€æœ¯/"}]},{"title":"Hello World","slug":"ç”Ÿæ´»/hello-world","date":"2020-07-14T07:29:20.383Z","updated":"2020-09-05T09:36:29.977Z","comments":true,"path":"2020/07/14/ç”Ÿæ´»/hello-world/","link":"","permalink":"https://easyremember.cn/2020/07/14/ç”Ÿæ´»/hello-world/","excerpt":"","text":"2020-07-13 åšå®¢è¯ç”Ÿ","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}],"tags":[{"name":"hello","slug":"hello","permalink":"https://easyremember.cn/tags/hello/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://easyremember.cn/categories/ç”Ÿæ´»/"}]}]}